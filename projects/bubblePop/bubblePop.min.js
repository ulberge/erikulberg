var Module;Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof require,ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=require("fs"),nodePath=require("path");Module.read=function(e,t){e=nodePath.normalize(e);var r=nodeFS.readFileSync(e);return r||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),r=nodeFS.readFileSync(e)),r&&!t&&(r=r.toString()),r},Module.readBinary=function(e){return Module.read(e,!0)},Module.load=function(e){globalEval(read(e))},Module.arguments=process.argv.slice(2),module.exports=Module}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){return read(e,"binary")},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments),this.Module=Module;else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"undefined"!=typeof arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WEB?window.Module=Module:Module.load=importScripts}function globalEval(e){eval.call(null,e)}for(var key in"undefined"==!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},forceAlign:function(e,t){return 1==(t=t||4)?e:isNumber(e)&&isNumber(t)?Math.ceil(e/t)*t:isNumber(t)&&isPowerOfTwo(t)?"((("+e+")+"+(t-1)+")&"+-t+")":"Math.ceil(("+e+")/"+t+")*"+t},isNumberType:function(e){return e in Runtime.INT_TYPES||e in Runtime.FLOAT_TYPES},isPointerType:function(e){return"*"==e[e.length-1]},isStructType:function(e){return!isPointerType(e)&&(!!isArrayType(e)||(!!/<?\{ ?[^}]* ?\}>?/.test(e)||"%"==e[0]))},INT_TYPES:{i1:0,i8:0,i16:0,i32:0,i64:0},FLOAT_TYPES:{float:0,double:0},or64:function(e,t){return(0|e|t)+4294967296*(Math.round(e/4294967296)|Math.round(t/4294967296))},and64:function(e,t){return((0|e)&(0|t))+4294967296*(Math.round(e/4294967296)&Math.round(t/4294967296))},xor64:function(e,t){return((0|e)^(0|t))+4294967296*(Math.round(e/4294967296)^Math.round(t/4294967296))},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},dedup:function(e,t){var r={};return t?e.filter(function(e){return!r[e[t]]&&(r[e[t]]=!0,!0)}):e.filter(function(e){return!r[e]&&(r[e]=!0,!0)})},set:function(){for(var e="object"==typeof arguments[0]?arguments[0]:arguments,t={},r=0;r<e.length;r++)t[e[r]]=0;return t},STACK_ALIGN:8,getAlignSize:function(e,t,r){return r||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},calculateStructAlignment:function(e){e.flatSize=0,e.alignSize=0;var t=[],r=-1;return e.flatIndexes=e.fields.map(function(i){var n,o;0,Runtime.isNumberType(i)||Runtime.isPointerType(i)?(n=Runtime.getNativeTypeSize(i),o=Runtime.getAlignSize(i,n)):Runtime.isStructType(i)?"0"===i[1]?(n=0,o=Types.types[i]?Runtime.getAlignSize(null,Types.types[i].alignSize):e.alignSize||QUANTUM_SIZE):(n=Types.types[i].flatSize,o=Runtime.getAlignSize(null,Types.types[i].alignSize)):"b"==i[0]?(n=0|i.substr(1),o=1):"<"===i[0]?n=o=Types.types[i].flatSize:"i"===i[0]?assert((n=o=parseInt(i.substr(1))/8)%1==0,"cannot handle non-byte-size field "+i):assert(!1,"invalid type for calculateStructAlignment"),e.packed&&(o=1),e.alignSize=Math.max(e.alignSize,o);var a=Runtime.alignMemory(e.flatSize,o);return e.flatSize=a+n,r>=0&&t.push(a-r),r=a,a}),e.name_&&"["===e.name_[0]&&(e.flatSize=parseInt(e.name_.substr(1))*e.flatSize/2),e.flatSize=Runtime.alignMemory(e.flatSize,e.alignSize),0==t.length?e.flatFactor=e.flatSize:1==Runtime.dedup(t).length&&(e.flatFactor=t[0]),e.needsFlattening=1!=e.flatFactor,e.flatIndexes},generateStructInfo:function(e,t,r){var i;if(t){if(r=r||0,!(n=("undefined"==typeof Types?Runtime.typeInfo:Types.types)[t]))return null;if(n.fields.length!=e.length)return printErr("Number of named fields must match the type for "+t+": possibly duplicate struct names. Cannot return structInfo"),null;i=n.flatIndexes}else{var n={fields:e.map(function(e){return e[0]})};i=Runtime.calculateStructAlignment(n)}var o={__size__:n.flatSize};return t?e.forEach(function(e,t){if("string"==typeof e)o[e]=i[t]+r;else{var a;for(var s in e)a=s;o[a]=Runtime.generateStructInfo(e[a],n.fields[t],i[t])}}):e.forEach(function(e,t){o[e[1]]=i[t]}),o},dynCall:function(e,t,r){return r&&r.length?(r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,t),Module["dynCall_"+e].apply(null,r)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},getAsmConst:function(code,numArgs){Runtime.asmConstCache||(Runtime.asmConstCache={});var func=Runtime.asmConstCache[code];if(func)return func;for(var args=[],i=0;i<numArgs;i++)args.push(String.fromCharCode(36)+i);var source=Pointer_stringify(code);'"'===source[0]&&(source.indexOf('"',1)===source.length-1?source=source.substr(1,source.length-2):abort("invalid EM_ASM input |"+source+"|. Please use EM_ASM(..code..) (no quotes) or EM_ASM({ ..code($0).. }, input) (to input values)"));try{var evalled=eval("(function("+args.join(",")+"){ "+source+" })")}catch(e){throw Module.printErr("error in executing inline EM_ASM code: "+e+" on: \n\n"+source+"\n\nwith args |"+args+"| (make sure to use the right one out of EM_ASM, EM_ASM_ARGS, etc.)"),e}return Runtime.asmConstCache[code]=evalled},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){return assert(t),Runtime.funcWrappers[e]||(Runtime.funcWrappers[e]=function(){return Runtime.dynCall(t,e,arguments)}),Runtime.funcWrappers[e]},UTF8Processor:function(){var e=[],t=0;this.processCChar=function(r){if(r&=255,0==e.length)return 0==(128&r)?String.fromCharCode(r):(e.push(r),t=192==(224&r)?1:224==(240&r)?2:3,"");if(t&&(e.push(r),--t>0))return"";var i,n=e[0],o=e[1],a=e[2],s=e[3];if(2==e.length)i=String.fromCharCode((31&n)<<6|63&o);else if(3==e.length)i=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a);else{var l=(7&n)<<18|(63&o)<<12|(63&a)<<6|63&s;i=String.fromCharCode(Math.floor((l-65536)/1024)+55296,(l-65536)%1024+56320)}return e.length=0,i},this.processJSString=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return t}},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=(STACKTOP=STACKTOP+e|0)+7&-8,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=(STATICTOP=STATICTOP+e|0)+7&-8,t},dynamicAlloc:function(e){var t=DYNAMICTOP;return(DYNAMICTOP=(DYNAMICTOP=DYNAMICTOP+e|0)+7&-8)>=TOTAL_MEMORY&&enlargeMemory(),t},alignMemory:function(e,t){return e=Math.ceil(e/(t||8))*(t||8)},makeBigInt:function(e,t,r){return r?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,t){e||abort("Assertion failed: "+t)}var globalScope=this,cwrap,ccall;function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,r,i){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+r)}}function getValue(e,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}!function(){var stack=0,JSfuncs={stackSave:function(){stack=Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore(stack)},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!==e&&void 0!==e&&0!==e&&writeStringToMemory(e,t=Runtime.stackAlloc(e.length+1)),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,r,i){var n=getCFunc(e),o=[];if(i)for(var a=0;a<i.length;a++){var s=toC[r[a]];s?(0===stack&&(stack=Runtime.stackSave()),o[a]=s(i[a])):o[a]=i[a]}var l=n.apply(null,o);return"string"===t&&(l=Pointer_stringify(l)),0!==stack&&JSfuncs.stackRestore(),l};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+=JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.cwrap=cwrap,Module.ccall=ccall,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,t,r,i){var n,o;"number"==typeof e?(n=!0,o=e):(n=!1,o=e.length);var a,s="string"==typeof t?t:null;if(a=r==ALLOC_NONE?i:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===r?ALLOC_STATIC:r](Math.max(o,s?1:t.length)),n){var l;i=a;for(assert(0==(3&a)),l=a+(-4&o);i<l;i+=4)HEAP32[i>>2]=0;for(l=a+o;i<l;)HEAP8[i++>>0]=0;return a}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,a):HEAPU8.set(new Uint8Array(e),a),a;for(var u,c,h,f=0;f<o;){var d=e[f];"function"==typeof d&&(d=Runtime.getFunctionIndex(d)),0!==(u=s||t[f])?("i64"==u&&(u="i32"),setValue(a+f,d,u),h!==u&&(c=Runtime.getNativeTypeSize(u),h=u),f+=c):f++}return a}function Pointer_stringify(e,t){for(var r,i=!1,n=0;;){if((r=HEAPU8[e+n>>0])>=128)i=!0;else if(0==r&&!t)break;if(n++,t&&n==t)break}t||(t=n);var o="";if(!i){for(var a;t>0;)a=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,1024))),o=o?o+a:a,e+=1024,t-=1024;return o}var s=new Runtime.UTF8Processor;for(n=0;n<t;n++)r=HEAPU8[e+n>>0],o+=s.processCChar(r);return o}function UTF16ToString(e){for(var t=0,r="";;){var i=HEAP16[e+2*t>>1];if(0==i)return r;++t,r+=String.fromCharCode(i)}}function stringToUTF16(e,t){for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);HEAP16[t+2*r>>1]=i}HEAP16[t+2*e.length>>1]=0}function UTF32ToString(e){for(var t=0,r="";;){var i=HEAP32[e+4*t>>2];if(0==i)return r;if(++t,i>=65536){var n=i-65536;r+=String.fromCharCode(55296|n>>10,56320|1023&n)}else r+=String.fromCharCode(i)}}function stringToUTF32(e,t){for(var r=0,i=0;i<e.length;++i){var n=e.charCodeAt(i);if(n>=55296&&n<=57343)n=65536+((1023&n)<<10)|1023&e.charCodeAt(++i);HEAP32[t+4*r>>2]=n,++r}HEAP32[t+4*r>>2]=0}function demangle(e){var t=3,r={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},i=[],n=!0;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}return function o(a,s,l){s=s||1/0;var u,c="",h=[];if("N"===e[t]){if(u=function(){"K"===e[++t]&&t++;for(var r=[];"E"!==e[t];)if("S"!==e[t])if("C"!==e[t]){var n=parseInt(e.substr(t)),o=n.toString().length;if(!n||!o){t--;break}var a=e.substr(t+o,n);r.push(a),i.push(a),t+=o+n}else r.push(r[r.length-1]),t+=2;else{t++;var s=e.indexOf("_",t),l=e.substring(t,s)||0;r.push(i[l]||"?"),t=s+1}return t++,r}().join("::"),0==--s)return a?[u]:u}else if(("K"===e[t]||n&&"L"===e[t])&&t++,m=parseInt(e.substr(t))){var f=m.toString().length;u=e.substr(t+f,m),t+=f+m}if(n=!1,"I"===e[t]){t++;var d=o(!0);c+=o(!0,1,!0)[0]+" "+u+"<"+d.join(", ")+">"}else c=u;e:for(;t<e.length&&s-- >0;){var p=e[t++];if(p in r)h.push(r[p]);else switch(p){case"P":h.push(o(!0,1,!0)[0]+"*");break;case"R":h.push(o(!0,1,!0)[0]+"&");break;case"L":t++;var m=e.indexOf("E",t)-t;h.push(e.substr(t,m)),t+=m+2;break;case"A":if(m=parseInt(e.substr(t)),t+=m.toString().length,"_"!==e[t])throw"?";t++,h.push(o(!0,1,!0)[0]+" ["+m+"]");break;case"E":break e;default:c+="?"+p;break e}}return l||1!==h.length||"void"!==h[0]||(h=[]),a?(c&&h.push(c+"?"),h):c+"("+h.join(", ")+")"}()}catch(t){return e}}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function stackTrace(){var e=(new Error).stack;return e?demangleAll(e):"(no stack trace available)"}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.Pointer_stringify=Pointer_stringify,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32;var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignMemoryPage(e){return e+4095&-4096}var STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0;function enlargeMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+TOTAL_MEMORY+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs.")}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||33554432,FAST_MEMORY=Module.FAST_MEMORY||2097152,totalMemory=4096;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;totalMemory!==TOTAL_MEMORY&&(Module.printErr("increasing TOTAL_MEMORY to "+totalMemory+" to be more reasonable"),TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var buffer=new ArrayBuffer(TOTAL_MEMORY);function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?Runtime.dynCall("v",r):Runtime.dynCall("vi",r,[t.arg]):r(void 0===t.arg?null:t.arg)}else t()}}HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__)}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,r){var i=(new Runtime.UTF8Processor).processJSString(e);return r&&(i.length=r),t||i.push(0),i}function intArrayToString(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i>255&&(i&=255),t.push(String.fromCharCode(i))}return t.join("")}function writeStringToMemory(e,t,r){for(var i=intArrayFromString(e,r),n=0;n<i.length;){var o=i[n];HEAP8[t+n>>0]=o,n+=1}}function writeArrayToMemory(e,t){for(var r=0;r<e.length;r++)HEAP8[t+r>>0]=e[r]}function writeAsciiToMemory(e,t,r){for(var i=0;i<e.length;i++)HEAP8[t+i>>0]=e.charCodeAt(i);r||(HEAP8[t+e.length>>0]=0)}function unSign(e,t,r){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,r){if(e<=0)return e;var i=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=i&&(t<=32||e>i)&&(e=-2*i+e),e}Module.addOnPreRun=Module.addOnPreRun=addOnPreRun,Module.addOnInit=Module.addOnInit=addOnInit,Module.addOnPreMain=Module.addOnPreMain=addOnPreMain,Module.addOnExit=Module.addOnExit=addOnExit,Module.addOnPostRun=Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var r=65535&e,i=65535&t;return r*i+((e>>>16)*i+r*(t>>>16)<<16)|0}),Math.imul=Math.imul;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,__ZTVN10__cxxabiv117__class_type_infoE=9e3,__ZTVN10__cxxabiv120__si_class_type_infoE=9040;STATIC_BASE=8,STATICTOP=STATIC_BASE+Runtime.alignMemory(9715),__ATINIT__.push({func:function(){__GLOBAL__I_a()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,152,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,49,53,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,49,55,98,50,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,48,35,0,0,120,0,0,0,88,35,0,0,96,0,0,0,144,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,4,0,0,0,2,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,49,55,81,117,101,114,121,65,65,66,66,67,97,108,108,98,97,99,107,0,0,0,0,0,49,53,98,50,81,117,101,114,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,48,35,0,0,224,0,0,0,88,35,0,0,200,0,0,0,248,0,0,0,0,0,0,0,0,0,0,0,128,1,0,0,5,0,0,0,6,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,50,50,98,50,87,111,114,108,100,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,0,0,0,0,0,0,0,49,55,98,50,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,0,0,0,0,48,35,0,0,96,1,0,0,88,35,0,0,64,1,0,0,120,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,2,0,0,7,0,0,0,8,0,0,0,4,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,0,0,0,0,49,49,98,50,69,100,103,101,83,104,97,112,101,0,0,0,55,98,50,83,104,97,112,101,0,0,0,0,0,0,0,0,48,35,0,0,32,2,0,0,88,35,0,0,16,2,0,0,48,2,0,0,0,0,0,0,0,0,0,0,144,2,0,0,9,0,0,0,10,0,0,0,5,0,0,0,2,0,0,0,3,0,0,0,2,0,0,0,2,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,49,52,98,50,80,111,108,121,103,111,110,83,104,97,112,101,0,0,0,0,0,0,0,0,88,35,0,0,120,2,0,0,48,2,0,0,0,0,0,0,0,0,0,0,224,2,0,0,11,0,0,0,12,0,0,0,6,0,0,0,3,0,0,0,4,0,0,0,3,0,0,0,3,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,49,51,98,50,67,105,114,99,108,101,83,104,97,112,101,0,88,35,0,0,208,2,0,0,48,2,0,0,0,0,0,0,0,0,0,0,48,3,0,0,13,0,0,0,14,0,0,0,7,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,0,0,0,0,49,50,98,50,67,104,97,105,110,83,104,97,112,101,0,0,88,35,0,0,32,3,0,0,48,2,0,0,0,0,0,0,0,0,0,0,120,3,0,0,15,0,0,0,16,0,0,0,6,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,49,53,98,50,67,111,110,116,97,99,116,70,105,108,116,101,114,0,0,0,0,0,0,0,48,35,0,0,96,3,0,0,0,0,0,0,224,3,0,0,3,0,0,0,4,0,0,0,5,0,0,0,1,0,0,0,17,0,0,0,5,0,0,0,18,0,0,0,19,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,0,0,0,0,49,50,98,50,77,111,117,115,101,74,111,105,110,116,0,0,55,98,50,74,111,105,110,116,0,0,0,0,0,0,0,0,48,35,0,0,200,3,0,0,88,35,0,0,184,3,0,0,216,3,0,0,0,0,0,0,77,111,117,115,101,32,106,111,105,110,116,32,100,117,109,112,105,110,103,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,46,10,0,0,0,0,0,0,200,5,0,0,8,0,0,0,9,0,0,0,6,0,0,0,2,0,0,0,20,0,0,0,10,0,0,0,21,0,0,0,22,0,0,0,11,0,0,0,12,0,0,0,9,0,0,0,0,0,0,0,32,32,98,50,77,111,116,111,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,105,110,101,97,114,79,102,102,115,101,116,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,97,110,103,117,108,97,114,79,102,102,115,101,116,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,100,46,109,97,120,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,32,32,106,100,46,99,111,114,114,101,99,116,105,111,110,70,97,99,116,111,114,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,50,98,50,77,111,116,111,114,74,111,105,110,116,0,0,88,35,0,0,184,5,0,0,216,3,0,0,0,0,0,0,0,0,0,0,152,7,0,0,13,0,0,0,14,0,0,0,7,0,0,0,3,0,0,0,23,0,0,0,10,0,0,0,24,0,0,0,25,0,0,0,15,0,0,0,16,0,0,0,10,0,0,0,0,0,0,0,32,32,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,53,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,0,0,0,0,0,0,0,88,35,0,0,128,7,0,0,216,3,0,0,0,0,0,0,0,0,0,0,80,9,0,0,17,0,0,0,18,0,0,0,8,0,0,0,4,0,0,0,26,0,0,0,10,0,0,0,27,0,0,0,28,0,0,0,19,0,0,0,20,0,0,0,11,0,0,0,0,0,0,0,32,32,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,53,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,0,0,0,0,0,0,0,88,35,0,0,56,9,0,0,216,3,0,0,0,0,0,0,0,0,0,0,24,11,0,0,21,0,0,0,22,0,0,0,9,0,0,0,5,0,0,0,29,0,0,0,10,0,0,0,30,0,0,0,31,0,0,0,23,0,0,0,24,0,0,0,12,0,0,0,0,0,0,0,32,32,98,50,87,101,108,100,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,49,98,50,87,101,108,100,74,111,105,110,116,0,0,0,88,35,0,0,8,11,0,0,216,3,0,0,0,0,0,0,0,0,0,0,120,12,0,0,25,0,0,0,26,0,0,0,10,0,0,0,6,0,0,0,32,0,0,0,10,0,0,0,33,0,0,0,34,0,0,0,27,0,0,0,28,0,0,0,13,0,0,0,0,0,0,0,32,32,98,50,71,101,97,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,106,111,105,110,116,49,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,0,0,0,0,0,32,32,106,100,46,106,111,105,110,116,50,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,0,0,0,0,0,32,32,106,100,46,114,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,49,98,50,71,101,97,114,74,111,105,110,116,0,0,0,88,35,0,0,104,12,0,0,216,3,0,0,0,0,0,0,0,0,0,0,8,15,0,0,29,0,0,0,30,0,0,0,11,0,0,0,7,0,0,0,35,0,0,0,10,0,0,0,36,0,0,0,37,0,0,0,31,0,0,0,32,0,0,0,14,0,0,0,0,0,0,0,32,32,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,120,105,115,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,101,110,97,98,108,101,76,105,109,105,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,108,111,119,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,117,112,112,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,54,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,0,0,0,0,0,0,88,35,0,0,240,14,0,0,216,3,0,0,0,0,0,0,0,0,0,0,144,16,0,0,33,0,0,0,34,0,0,0,12,0,0,0,8,0,0,0,38,0,0,0,10,0,0,0,39,0,0,0,40,0,0,0,35,0,0,0,36,0,0,0,15,0,0,0,0,0,0,0,32,32,98,50,82,111,112,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,76,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,49,98,50,82,111,112,101,74,111,105,110,116,0,0,0,88,35,0,0,128,16,0,0,216,3,0,0,0,0,0,0,0,0,0,0,216,3,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,41,0,0,0,10,0,0,0,42,0,0,0,43,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,47,47,32,68,117,109,112,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,102,111,114,32,116,104,105,115,32,106,111,105,110,116,32,116,121,112,101,46,10,0,0,0,0,0,0,80,19,0,0,37,0,0,0,38,0,0,0,13,0,0,0,9,0,0,0,44,0,0,0,10,0,0,0,45,0,0,0,46,0,0,0,39,0,0,0,40,0,0,0,16,0,0,0,0,0,0,0,32,32,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,101,110,97,98,108,101,76,105,109,105,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,108,111,119,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,117,112,112,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,53,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,0,0,0,0,0,0,0,88,35,0,0,56,19,0,0,216,3,0,0,0,0,0,0,0,0,0,0,128,21,0,0,41,0,0,0,42,0,0,0,14,0,0,0,10,0,0,0,47,0,0,0,10,0,0,0,48,0,0,0,49,0,0,0,43,0,0,0,44,0,0,0,17,0,0,0,0,0,0,0,32,32,98,50,87,104,101,101,108,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,120,105,115,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,50,98,50,87,104,101,101,108,74,111,105,110,116,0,0,88,35,0,0,112,21,0,0,216,3,0,0,0,0,0,0,0,0,0,0,160,23,0,0,45,0,0,0,46,0,0,0,15,0,0,0,11,0,0,0,50,0,0,0,47,0,0,0,51,0,0,0,52,0,0,0,48,0,0,0,49,0,0,0,18,0,0,0,0,0,0,0,32,32,98,50,80,117,108,108,101,121,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,65,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,66,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,106,100,46,114,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,51,98,50,80,117,108,108,101,121,74,111,105,110,116,0,88,35,0,0,144,23,0,0,216,3,0,0,0,0,0,0,0,0,0,0,0,24,0,0,7,0,0,0,53,0,0,0,54,0,0,0,0,0,0,0,50,52,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,57,98,50,67,111,110,116,97,99,116,0,0,0,0,0,0,48,35,0,0,232,23,0,0,88,35,0,0,200,23,0,0,248,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,248,23,0,0,1,0,0,0,55,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,40,25,0,0,8,0,0,0,57,0,0,0,58,0,0,0,0,0,0,0,50,53,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,88,35,0,0,8,25,0,0,248,23,0,0,0,0,0,0,0,0,0,0,104,25,0,0,9,0,0,0,59,0,0,0,60,0,0,0,0,0,0,0,49,53,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,88,35,0,0,80,25,0,0,248,23,0,0,0,0,0,0,0,0,0,0,176,25,0,0,10,0,0,0,61,0,0,0,62,0,0,0,0,0,0,0,50,50,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,0,88,35,0,0,144,25,0,0,248,23,0,0,0,0,0,0,0,0,0,0,248,25,0,0,11,0,0,0,63,0,0,0,64,0,0,0,0,0,0,0,50,51,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,88,35,0,0,216,25,0,0,248,23,0,0,0,0,0,0,0,0,0,0,64,26,0,0,12,0,0,0,65,0,0,0,66,0,0,0,0,0,0,0,50,51,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,0,88,35,0,0,32,26,0,0,248,23,0,0,0,0,0,0,0,0,0,0,128,26,0,0,13,0,0,0,67,0,0,0,68,0,0,0,0,0,0,0,49,54,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,88,35,0,0,104,26,0,0,248,23,0,0,0,0,0,0,72,3,0,0,0,0,0,0,168,26,0,0,0,0,0,0,0,0,0,0,120,1,0,0,69,0,0,0,70,0,0,0,50,0,0,0,51,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,5,0,0,0,6,0,0,0,0,0,0,0,120,27,0,0,71,0,0,0,72,0,0,0,19,0,0,0,1,0,0,0,20,0,0,0,14,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,49,52,83,111,108,118,101,67,111,108,108,105,115,105,111,110,69,82,75,49,48,98,50,84,105,109,101,83,116,101,112,69,50,50,83,111,108,118,101,67,111,108,108,105,115,105,111,110,67,97,108,108,98,97,99,107,0,0,0,0,51,48,98,50,70,105,120,116,117,114,101,80,97,114,116,105,99,108,101,81,117,101,114,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,88,35,0,0,64,27,0,0,248,0,0,0,0,0,0,0,88,35,0,0,240,26,0,0,104,27,0,0,0,0,0,0,0,0,0,0,240,27,0,0,73,0,0,0,74,0,0,0,19,0,0,0,1,0,0,0,20,0,0,0,15,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,49,56,85,112,100,97,116,101,66,111,100,121,67,111,110,116,97,99,116,115,69,118,69,50,54,85,112,100,97,116,101,66,111,100,121,67,111,110,116,97,99,116,115,67,97,108,108,98,97,99,107,0,88,35,0,0,168,27,0,0,104,27,0,0,0,0,0,0,0,0,0,0,168,28,0,0,75,0,0,0,76,0,0,0,16,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,50,48,85,112,100,97,116,101,80,97,105,114,115,65,110,100,84,114,105,97,100,115,69,105,105,82,75,78,83,95,49,54,67,111,110,110,101,99,116,105,111,110,70,105,108,116,101,114,69,69,50,48,85,112,100,97,116,101,84,114,105,97,100,115,67,97,108,108,98,97,99,107,0,0,0,0,78,49,54,98,50,86,111,114,111,110,111,105,68,105,97,103,114,97,109,49,50,78,111,100,101,67,97,108,108,98,97,99,107,69,0,0,0,0,0,0,48,35,0,0,120,28,0,0,88,35,0,0,24,28,0,0,160,28,0,0,0,0,0,0,0,0,0,0,96,29,0,0,77,0,0,0,78,0,0,0,21,0,0,0,7,0,0,0,3,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,52,49,85,112,100,97,116,101,80,97,105,114,115,65,110,100,84,114,105,97,100,115,87,105,116,104,82,101,97,99,116,105,118,101,80,97,114,116,105,99,108,101,115,69,118,69,49,52,82,101,97,99,116,105,118,101,70,105,108,116,101,114,0,0,0,0,0,0,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,49,54,67,111,110,110,101,99,116,105,111,110,70,105,108,116,101,114,69,0,0,48,35,0,0,48,29,0,0,88,35,0,0,216,28,0,0,88,29,0,0,0,0,0,0,0,0,0,0,88,29,0,0,79,0,0,0,80,0,0,0,22,0,0,0,7,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,16,30,0,0,81,0,0,0,82,0,0,0,22,0,0,0,8,0,0,0,4,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,49,56,74,111,105,110,80,97,114,116,105,99,108,101,71,114,111,117,112,115,69,80,49,53,98,50,80,97,114,116,105,99,108,101,71,114,111,117,112,83,49,95,69,50,52,74,111,105,110,80,97,114,116,105,99,108,101,71,114,111,117,112,115,70,105,108,116,101,114,0,0,0,0,0,0,0,88,35,0,0,176,29,0,0,88,29,0,0,0,0,0,0,0,0,0,0,208,30,0,0,83,0,0,0,84,0,0,0,23,0,0,0,5,0,0,0,9,0,0,0,5,0,0,0,5,0,0,0,17,0,0,0,16,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,51,51,67,114,101,97,116,101,80,97,114,116,105,99,108,101,115,87,105,116,104,83,104,97,112,101,115,70,111,114,71,114,111,117,112,69,80,75,80,75,55,98,50,83,104,97,112,101,105,82,75,49,56,98,50,80,97,114,116,105,99,108,101,71,114,111,117,112,68,101,102,82,75,49,49,98,50,84,114,97,110,115,102,111,114,109,69,49,52,67,111,109,112,111,115,105,116,101,83,104,97,112,101,0,0,0,0,0,88,35,0,0,80,30,0,0,48,2,0,0,0,0,0,0,0,0,0,0,112,31,0,0,85,0,0,0,86,0,0,0,24,0,0,0,10,0,0,0,3,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,50,51,68,101,115,116,114,111,121,80,97,114,116,105,99,108,101,115,73,110,83,104,97,112,101,69,82,75,55,98,50,83,104,97,112,101,82,75,49,49,98,50,84,114,97,110,115,102,111,114,109,98,69,51,49,68,101,115,116,114,111,121,80,97,114,116,105,99,108,101,115,73,110,83,104,97,112,101,67,97,108,108,98,97,99,107,0,0,0,0,0,0,88,35,0,0,0,31,0,0,248,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,96,0,0,0,128,0,0,0,160,0,0,0,192,0,0,0,224,0,0,0,0,1,0,0,64,1,0,0,128,1,0,0,192,1,0,0,0,2,0,0,128,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,76,105,113,117,105,100,70,117,110,32,49,46,49,46,48,0,104,34,0,0,0,0,0,0,25,0,0,0,0,0,0,0,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,116,57,116,121,112,101,95,105,110,102,111,0,0,0,0,48,35,0,0,160,34,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,88,35,0,0,184,34,0,0,176,34,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,88,35,0,0,240,34,0,0,224,34,0,0,0,0,0,0,0,0,0,0,24,35,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,11,0,0,0,6,0,0,0,1,0,0,0,18,0,0,0,0,0,0,0,160,35,0,0,87,0,0,0,91,0,0,0,89,0,0,0,90,0,0,0,11,0,0,0,7,0,0,0,2,0,0,0,19,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,88,35,0,0,120,35,0,0,24,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,37,0,0,92,0,0,0,93,0,0,0,6,0,0,0,0,0,0,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,0,83,116,57,98,97,100,95,97,108,108,111,99,0,0,0,0,88,35,0,0,216,37,0,0,0,0,0,0,0,0,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _cosf(){return Math_cos.apply(null,arguments)}function ___cxa_pure_virtual(){throw ABORT=!0,"Pure virtual function called!"}function _b2WorldEndContactBody(e){b2World.EndContactBody(e)}function _floorf(){return Math_floor.apply(null,arguments)}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___cxa_is_number_type(e){var t=!1;try{e==__ZTIi&&(t=!0)}catch(e){}try{e==__ZTIj&&(t=!0)}catch(e){}try{e==__ZTIl&&(t=!0)}catch(e){}try{e==__ZTIm&&(t=!0)}catch(e){}try{e==__ZTIx&&(t=!0)}catch(e){}try{e==__ZTIy&&(t=!0)}catch(e){}try{e==__ZTIf&&(t=!0)}catch(e){}try{e==__ZTId&&(t=!0)}catch(e){}try{e==__ZTIe&&(t=!0)}catch(e){}try{e==__ZTIc&&(t=!0)}catch(e){}try{e==__ZTIa&&(t=!0)}catch(e){}try{e==__ZTIh&&(t=!0)}catch(e){}try{e==__ZTIs&&(t=!0)}catch(e){}try{e==__ZTIt&&(t=!0)}catch(e){}return t}function ___cxa_does_inherit(e,t,r){if(0==r)return!1;if(0==t||t==e)return!0;var i;if(___cxa_is_number_type(t))i=t;else{var n=HEAP32[t>>2]-8;i=HEAP32[n>>2]}switch(i){case 0:var o=HEAP32[e>>2]-8;return 0==HEAP32[o>>2]&&___cxa_does_inherit(HEAP32[e+8>>2],HEAP32[t+8>>2],r);case 1:return!1;case 2:return ___cxa_does_inherit(e,HEAP32[t+8>>2],r);default:return!1}}assert(tempDoublePtr%8==0);var ___cxa_last_thrown_exception=0;function ___resumeException(e){throw ___cxa_last_thrown_exception||(___cxa_last_thrown_exception=e),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}var ___cxa_exception_header_size=8;function ___cxa_find_matching_catch(e,t){-1==e&&(e=___cxa_last_thrown_exception),header=e-___cxa_exception_header_size,-1==t&&(t=HEAP32[header>>2]);var r=Array.prototype.slice.call(arguments,2);if(0!=t&&!___cxa_is_number_type(t)){var i=HEAP32[t>>2]-8;0==HEAP32[i>>2]&&(e=HEAP32[e>>2])}for(var n=0;n<r.length;n++)if(___cxa_does_inherit(r[n],t,e))return 0|(asm.setTempRet0(r[n]),e);return 0|(asm.setTempRet0(t),e)}function ___cxa_throw(e,t,r){if(!___cxa_throw.initialized){try{HEAP32[__ZTVN10__cxxabiv119__pointer_type_infoE>>2]=0}catch(e){}try{HEAP32[__ZTVN10__cxxabiv117__class_type_infoE>>2]=1}catch(e){}try{HEAP32[__ZTVN10__cxxabiv120__si_class_type_infoE>>2]=2}catch(e){}___cxa_throw.initialized=!0}var i=e-___cxa_exception_header_size;throw HEAP32[i>>2]=t,HEAP32[i+4>>2]=r,___cxa_last_thrown_exception=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function _b2WorldRayCastCallback(e,t,r,i,n,o){return b2World.RayCast(e,t,r,i,n,o)}Module._memset=_memset;var _FtoIHigh=!0;function __exit(e){Module.exit(e)}function _exit(e){__exit(e)}function __ZSt9terminatev(){_exit(-1234)}function _abort(){Module.abort()}function _b2WorldBeginContactBody(e){b2World.BeginContactBody(e)}var ___cxa_caught_exceptions=[];function ___cxa_begin_catch(e){return __ZSt18uncaught_exceptionv.uncaught_exception--,___cxa_caught_exceptions.push(___cxa_last_thrown_exception),e}function _sinf(){return Math_sin.apply(null,arguments)}function _b2WorldPostSolve(e,t){b2World.PostSolve(e,t)}function _sqrtf(){return Math_sqrt.apply(null,arguments)}function _b2WorldQueryAABB(e){return b2World.QueryAABB(e)}function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var r=DYNAMICTOP;return 0!=e&&t.alloc(e),r}function _emscripten_memcpy_big(e,t,r){return HEAPU8.set(HEAPU8.subarray(t,t+r),e),e}Module._strlen=_strlen,Module._i64Add=_i64Add,Module._memcpy=_memcpy,Module._memmove=_memmove;var ___errno_state=0;function ___setErrNo(e){return HEAP32[___errno_state>>2]=e,e}function ___errno_location(){return ___errno_state}var _FtoILow=!0;function __ZNSt9exceptionD2Ev(){}function _b2WorldPreSolve(e,t){b2World.PreSolve(e,t)}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.output.length&&e.tty.ops.put_char(e.tty,10)},read:function(e,t,r,i,n){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0,a=0;a<i;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===s||void 0===s)break;o++,t[r+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,i,n){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0;o<i;o++)try{e.tty.ops.put_char(e.tty,t[r+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){if(!(t=process.stdin.read()))return process.stdin._readableState&&process.stdin._readableState.ended?null:void 0}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Module.print(e.output.join("")),e.output=[]):e.output.push(TTY.utf8.processCChar(t))}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Module.printErr(e.output.join("")),e.output=[]):e.output.push(TTY.utf8.processCChar(t))}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,r,i){if(FS.isBlkdev(r)||FS.isFIFO(r))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var n=FS.createNode(e,t,r,i);return FS.isDir(n.mode)?(n.node_ops=MEMFS.ops_table.dir.node,n.stream_ops=MEMFS.ops_table.dir.stream,n.contents={}):FS.isFile(n.mode)?(n.node_ops=MEMFS.ops_table.file.node,n.stream_ops=MEMFS.ops_table.file.stream,n.usedBytes=0,n.contents=null):FS.isLink(n.mode)?(n.node_ops=MEMFS.ops_table.link.node,n.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(n.mode)&&(n.node_ops=MEMFS.ops_table.chrdev.node,n.stream_ops=MEMFS.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents&&e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents)},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var r=e.contents?e.contents.buffer.byteLength:0;if(r>=t)return;t=Math.max(t,r*(r<1048576?2:1.125)|0),0!=r&&(t=Math.max(t,256));var i=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,r,i){return MEMFS.createNode(e,t,r,i)},rename:function(e,t,r){if(FS.isDir(e.mode)){var i;try{i=FS.lookupNode(t,r)}catch(e){}if(i)for(var n in i.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=r,t.contents[r]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=FS.lookupNode(e,t);for(var i in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var i=MEMFS.createNode(e,t,41471,0);return i.link=r,i},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,t,r,i,n){var o=e.node.contents;if(n>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-n,i);if(assert(a>=0),a>8&&o.subarray)t.set(o.subarray(n,n+a),r);else for(var s=0;s<a;s++)t[r+s]=o[n+s];return a},write:function(e,t,r,i,n,o){if(!i)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=t.subarray(r,r+i),a.usedBytes=i,i;if(0===a.usedBytes&&0===n)return a.contents=new Uint8Array(t.subarray(r,r+i)),a.usedBytes=i,i;if(n+i<=a.usedBytes)return a.contents.set(t.subarray(r,r+i),n),i}if(MEMFS.expandFileStorage(a,n+i),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+i),n);else for(var s=0;s<i;s++)a.contents[n+s]=t[r+s];return a.usedBytes=Math.max(a.usedBytes,n+i),i},llseek:function(e,t,r){var i=t;if(1===r?i+=e.position:2===r&&FS.isFile(e.node.mode)&&(i+=e.node.usedBytes),i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.ungotten=[],e.position=i,i},allocate:function(e,t,r){MEMFS.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,i,n,o,a){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var s,l,u=e.node.contents;if(2&a||u.buffer!==t&&u.buffer!==t.buffer){if((n>0||n+i<e.node.usedBytes)&&(u=u.subarray?u.subarray(n,n+i):Array.prototype.slice.call(u,n,n+i)),l=!0,!(s=_malloc(i)))throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);t.set(u,s)}else l=!1,s=u.byteOffset;return{ptr:s,allocated:l}}}},IDBFS={dbs:{},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,r){IDBFS.getLocalSet(e,function(i,n){if(i)return r(i);IDBFS.getRemoteSet(e,function(e,i){if(e)return r(e);var o=t?i:n,a=t?n:i;IDBFS.reconcile(o,a,r)})})},getDB:function(e,t){var r,i=IDBFS.dbs[e];if(i)return t(null,i);try{r=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return t(e)}r.onupgradeneeded=function(e){var t=e.target.result,r=e.target.transaction;(t.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?r.objectStore(IDBFS.DB_STORE_NAME):t.createObjectStore(IDBFS.DB_STORE_NAME)).createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){i=r.result,IDBFS.dbs[e]=i,t(null,i)},r.onerror=function(){t(this.error)}},getLocalSet:function(e,t){var r={};function i(e){return"."!==e&&".."!==e}function n(e){return function(t){return PATH.join2(e,t)}}for(var o=FS.readdir(e.mountpoint).filter(i).map(n(e.mountpoint));o.length;){var a,s=o.pop();try{a=FS.stat(s)}catch(e){return t(e)}FS.isDir(a.mode)&&o.push.apply(o,FS.readdir(s).filter(i).map(n(s))),r[s]={timestamp:a.mtime}}return t(null,{type:"local",entries:r})},getRemoteSet:function(e,t){var r={};IDBFS.getDB(e.mountpoint,function(e,i){if(e)return t(e);var n=i.transaction([IDBFS.DB_STORE_NAME],"readonly");n.onerror=function(){t(this.error)},n.objectStore(IDBFS.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t(null,{type:"remote",db:i,entries:r});r[n.primaryKey]={timestamp:n.key},n.continue()}})},loadLocalEntry:function(e,t){var r,i;try{i=FS.lookupPath(e).node,r=FS.stat(e)}catch(e){return t(e)}return FS.isDir(r.mode)?t(null,{timestamp:r.mtime,mode:r.mode}):FS.isFile(r.mode)?(i.contents=MEMFS.getFileDataAsTypedArray(i),t(null,{timestamp:r.mtime,mode:r.mode,contents:i.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,r){try{if(FS.isDir(t.mode))FS.mkdir(e,t.mode);else{if(!FS.isFile(t.mode))return r(new Error("node type not supported"));FS.writeFile(e,t.contents,{encoding:"binary",canOwn:!0})}FS.utime(e,t.timestamp,t.timestamp)}catch(e){return r(e)}r(null)},removeLocalEntry:function(e,t){try{FS.lookupPath(e);var r=FS.stat(e);FS.isDir(r.mode)?FS.rmdir(e):FS.isFile(r.mode)&&FS.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,r){var i=e.get(t);i.onsuccess=function(e){r(null,e.target.result)},i.onerror=function(){r(this.error)}},storeRemoteEntry:function(e,t,r,i){var n=e.put(r,t);n.onsuccess=function(){i(null)},n.onerror=function(){i(this.error)}},removeRemoteEntry:function(e,t,r){var i=e.delete(t);i.onsuccess=function(){r(null)},i.onerror=function(){r(this.error)}},reconcile:function(e,t,r){var i=0,n=[];Object.keys(e.entries).forEach(function(r){var o=e.entries[r],a=t.entries[r];(!a||o.timestamp>a.timestamp)&&(n.push(r),i++)});var o=[];if(Object.keys(t.entries).forEach(function(r){t.entries[r];e.entries[r]||(o.push(r),i++)}),!i)return r(null);var a=0,s=("remote"===e.type?e.db:t.db).transaction([IDBFS.DB_STORE_NAME],"readwrite"),l=s.objectStore(IDBFS.DB_STORE_NAME);function u(e){return e?u.errored?void 0:(u.errored=!0,r(e)):++a>=i?r(null):void 0}s.onerror=function(){u(this.error)},n.sort().forEach(function(e){"local"===t.type?IDBFS.loadRemoteEntry(l,e,function(t,r){if(t)return u(t);IDBFS.storeLocalEntry(e,r,u)}):IDBFS.loadLocalEntry(e,function(t,r){if(t)return u(t);IDBFS.storeRemoteEntry(l,e,r,u)})}),o.sort().reverse().forEach(function(e){"local"===t.type?IDBFS.removeLocalEntry(e,u):IDBFS.removeRemoteEntry(l,e,u)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,r,i){if(!FS.isDir(r)&&!FS.isFile(r)&&!FS.isLink(r))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=FS.createNode(e,t,r);return n.node_ops=NODEFS.node_ops,n.stream_ops=NODEFS.stream_ops,n},getMode:function(e){var t;try{t=fs.lstatSync(e),NODEFS.isWindows&&(t.mode=t.mode|(146&t.mode)>>1)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),PATH.join.apply(null,t)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){return e in NODEFS.flagsToPermissionStringMap?NODEFS.flagsToPermissionStringMap[e]:e},node_ops:{getattr:function(e){var t,r=NODEFS.realPath(e);try{t=fs.lstatSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!t.blksize&&(t.blksize=4096),NODEFS.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var r=NODEFS.realPath(e);try{if(void 0!==t.mode&&(fs.chmodSync(r,t.mode),e.mode=t.mode),void 0!==t.timestamp){var i=new Date(t.timestamp);fs.utimesSync(r,i,i)}void 0!==t.size&&fs.truncateSync(r,t.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t),i=NODEFS.getMode(r);return NODEFS.createNode(e,t,i)},mknod:function(e,t,r,i){var n=NODEFS.createNode(e,t,r,i),o=NODEFS.realPath(n);try{FS.isDir(n.mode)?fs.mkdirSync(o,n.mode):fs.writeFileSync(o,"",{mode:n.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return n},rename:function(e,t,r){var i=NODEFS.realPath(e),n=PATH.join2(NODEFS.realPath(t),r);try{fs.renameSync(i,n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,t,r){var i=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(r,i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{return fs.readlinkSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(t,NODEFS.flagsToPermissionString(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,t,r,i,n){var o,a=new Buffer(i);try{o=fs.readSync(e.nfd,a,0,i,n)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(o>0)for(var s=0;s<o;s++)t[r+s]=a[s];return o},write:function(e,t,r,i,n){var o,a=new Buffer(t.subarray(r,r+i));try{o=fs.writeSync(e.nfd,a,0,i,n)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return o},llseek:function(e,t,r){var i=t;if(1===r)i+=e.position;else if(2===r&&FS.isFile(e.node.mode))try{i+=fs.fstatSync(e.nfd).size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.position=i,i}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC);function _fflush(e){}var FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){e=PATH.resolve(FS.cwd(),e),t=t||{};var r={follow_mount:!0,recurse_count:0};for(var i in r)void 0===t[i]&&(t[i]=r[i]);if(t.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var n=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=FS.root,a="/",s=0;s<n.length;s++){var l=s===n.length-1;if(l&&t.parent)break;if(o=FS.lookupNode(o,n[s]),a=PATH.join2(a,n[s]),FS.isMountpoint(o)&&(!l||l&&t.follow_mount)&&(o=o.mounted.root),!l||t.follow)for(var u=0;FS.isLink(o.mode);){var c=FS.readlink(a);if(a=PATH.resolve(PATH.dirname(a),c),o=FS.lookupPath(a,{recurse_count:t.recurse_count}).node,u++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(FS.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i)|0;return(e+r>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else for(var r=FS.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=FS.mayLookup(e);if(r)throw new FS.ErrnoError(r);for(var i=FS.hashName(e.id,t),n=FS.nameTable[i];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===t)return n}return FS.lookup(e,t)},createNode:function(e,t,r,i){if(!FS.FSNode){FS.FSNode=function(e,t,r,i){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=i},FS.FSNode.prototype={};Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var n=new FS.FSNode(e,t,r,i);return FS.hashAddNode(n),n},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][2097155&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return FS.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){return FS.nodePermissions(e,"x")},mayCreate:function(e,t){try{FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var i;try{i=FS.lookupNode(e,t)}catch(e){return e.errno}var n=FS.nodePermissions(e,"wx");if(n)return n;if(r){if(!FS.isDir(i.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(i)||FS.getPath(i)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(i.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,t){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!=(2097155&t)||512&t)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(t)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||FS.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!FS.streams[r])return r;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,r){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var i=new FS.FSStream;for(var n in e)i[n]=e[n];e=i;var o=FS.nextfd(t,r);return e.fd=o,FS.streams[o]=e,e},closeStream:function(e){FS.streams[e]=null},getStreamFromPtr:function(e){return FS.streams[e-1]},getPtrForStream:function(e){return e?e.fd+1:0},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var i=r.pop();t.push(i),r.push.apply(r,i.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1);var r=FS.getMounts(FS.root.mount),i=0;function n(e){if(e)return n.errored?void 0:(n.errored=!0,t(e));++i>=r.length&&t(null)}r.forEach(function(t){if(!t.type.syncfs)return n(null);t.type.syncfs(t,e,n)})},mount:function(e,t,r){var i,n="/"===r,o=!r;if(n&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!n&&!o){var a=FS.lookupPath(r,{follow_mount:!1});if(r=a.path,i=a.node,FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(i.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var s={type:e,opts:t,mountpoint:r,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,n?FS.root=l:i&&(i.mounted=s,i.mount&&i.mount.mounts.push(s)),l},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=t.node,i=r.mounted,n=FS.getMounts(i);Object.keys(FS.nameTable).forEach(function(e){for(var t=FS.nameTable[e];t;){var r=t.name_next;-1!==n.indexOf(t.mount)&&FS.destroyNode(t),t=r}}),r.mounted=null;var o=r.mount.mounts.indexOf(i);assert(-1!==o),r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var i=FS.lookupPath(e,{parent:!0}).node,n=PATH.basename(e),o=FS.mayCreate(i,n);if(o)throw new FS.ErrnoError(o);if(!i.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.mknod(i,n,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,FS.mknod(e,t,r)},symlink:function(e,t){var r=FS.lookupPath(t,{parent:!0}).node,i=PATH.basename(t),n=FS.mayCreate(r,i);if(n)throw new FS.ErrnoError(n);if(!r.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var r,i,n=PATH.dirname(e),o=PATH.dirname(t),a=PATH.basename(e),s=PATH.basename(t);try{r=FS.lookupPath(e,{parent:!0}).node,i=FS.lookupPath(t,{parent:!0}).node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(r.mount!==i.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var l,u=FS.lookupNode(r,a),c=PATH.relative(e,o);if("."!==c.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if("."!==(c=PATH.relative(t,n)).charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);try{l=FS.lookupNode(i,s)}catch(e){}if(u!==l){var h=FS.isDir(u.mode),f=FS.mayDelete(r,a,h);if(f)throw new FS.ErrnoError(f);if(f=l?FS.mayDelete(i,s,h):FS.mayCreate(i,s))throw new FS.ErrnoError(f);if(!r.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(u)||l&&FS.isMountpoint(l))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(i!==r&&(f=FS.nodePermissions(r,"w")))throw new FS.ErrnoError(f);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,t)}catch(r){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}FS.hashRemoveNode(u);try{r.node_ops.rename(u,i,s)}catch(e){throw e}finally{FS.hashAddNode(u)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,t)}catch(r){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}}},rmdir:function(e){var t=FS.lookupPath(e,{parent:!0}).node,r=PATH.basename(e),i=FS.lookupNode(t,r),n=FS.mayDelete(t,r,!0);if(n)throw new FS.ErrnoError(n);if(!t.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=FS.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return t.node_ops.readdir(t)},unlink:function(e){var t=FS.lookupPath(e,{parent:!0}).node,r=PATH.basename(e),i=FS.lookupNode(t,r),n=FS.mayDelete(t,r,!1);if(n)throw n===ERRNO_CODES.EISDIR&&(n=ERRNO_CODES.EPERM),new FS.ErrnoError(n);if(!t.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=FS.lookupPath(e).node;if(!t.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return t.node_ops.readlink(t)},stat:function(e,t){var r=FS.lookupPath(e,{follow:!t}).node;if(!r.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,t,r){var i;"string"==typeof e?i=FS.lookupPath(e,{follow:!r}).node:i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);i.node_ops.setattr(i,{mode:4095&t|-4096&i.mode,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,!0)},fchmod:function(e,t){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(r.node,t)},chown:function(e,t,r,i){var n;"string"==typeof e?n=FS.lookupPath(e,{follow:!i}).node:n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);n.node_ops.setattr(n,{timestamp:Date.now()})},lchown:function(e,t,r){FS.chown(e,t,r,!0)},fchown:function(e,t,r){var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(i.node,t,r)},truncate:function(e,t){if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r;"string"==typeof e?r=FS.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=FS.nodePermissions(r,"w");if(i)throw new FS.ErrnoError(i);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0==(2097155&r.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(r.node,t)},utime:function(e,t,r){var i=FS.lookupPath(e,{follow:!0}).node;i.node_ops.setattr(i,{timestamp:Math.max(t,r)})},open:function(e,t,r,i,n){var o;if(t="string"==typeof t?FS.modeStringToFlags(t):t,r=void 0===r?438:r,r=64&t?4095&r|32768:0,"object"==typeof e)o=e;else{e=PATH.normalize(e);try{o=FS.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}if(64&t)if(o){if(128&t)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else o=FS.mknod(e,r,0);if(!o)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);FS.isChrdev(o.mode)&&(t&=-513);var a=FS.mayOpen(o,t);if(a)throw new FS.ErrnoError(a);512&t&&FS.truncate(o,0),t&=-641;var s=FS.createStream({node:o,path:FS.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},i,n);s.stream_ops.open&&s.stream_ops.open(s),!Module.logReadFiles||1&t||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var l=0;1!=(2097155&t)&&(l|=FS.tracking.openFlags.READ),0!=(2097155&t)&&(l|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,l)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return s},close:function(e){try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,t,r){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.stream_ops.llseek(e,t,r)},read:function(e,t,r,i,n){if(i<0||n<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=!0;if(void 0===n)n=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var a=e.stream_ops.read(e,t,r,i,n);return o||(e.position+=a),a},write:function(e,t,r,i,n,o){if(i<0||n<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var a=!0;if(void 0===n)n=e.position,a=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.write(e,t,r,i,n,o);a||(e.position+=s);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,t,r){if(t<0||r<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,i,n,o,a){if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,t,r,i,n,o,a)},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,i=FS.open(e,t.flags),n=FS.stat(e).size,o=new Uint8Array(n);if(FS.read(i,o,0,n,0),"utf8"===t.encoding){r="";for(var a=new Runtime.UTF8Processor,s=0;s<n;s++)r+=a.processCChar(o[s])}else"binary"===t.encoding&&(r=o);return FS.close(i),r},writeFile:function(e,t,r){if((r=r||{}).flags=r.flags||"w",r.encoding=r.encoding||"utf8","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var i=FS.open(e,r.flags,r.mode);if("utf8"===r.encoding){var n=new Runtime.UTF8Processor,o=new Uint8Array(n.processJSString(t));FS.write(i,o,0,o.length,0,r.canOwn)}else"binary"===r.encoding&&FS.write(i,t,0,t.length,0,r.canOwn);FS.close(i)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:!0});if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var r=FS.nodePermissions(t.node,"x");if(r)throw new FS.ErrnoError(r);FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(){return 0}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0)),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");HEAP32[_stdin>>2]=FS.getPtrForStream(e),assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");HEAP32[_stdout>>2]=FS.getPtrForStream(t),assert(1===t.fd,"invalid handle for stdout ("+t.fd+")");var r=FS.open("/dev/stderr","w");HEAP32[_stderr>>2]=FS.getPtrForStream(r),assert(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e){for(var t in this.errno=e,ERRNO_CODES)if(ERRNO_CODES[t]===e){this.code=t;break}this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices()},init:function(e,t,r){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=r||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;for(var e=0;e<FS.streams.length;e++){var t=FS.streams[e];t&&FS.close(t)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},joinPath:function(e,t){var r=PATH.join.apply(null,e);return t&&"/"==r[0]&&(r=r.substr(1)),r},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var r=FS.analyzePath(e,t);return r.exists?r.object:(___setErrNo(r.error),null)},analyzePath:function(e,t){try{e=(i=FS.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=FS.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=i.path,r.parentObject=i.node,r.name=PATH.basename(e),i=FS.lookupPath(e,{follow:!t}),r.exists=!0,r.path=i.path,r.object=i.node,r.name=i.node.name,r.isRoot="/"===i.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,r,i){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(r,i);return FS.mkdir(n,o)},createPath:function(e,t,r,i){e="string"==typeof e?e:FS.getPath(e);for(var n=t.split("/").reverse();n.length;){var o=n.pop();if(o){var a=PATH.join2(e,o);try{FS.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,r,i,n){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(i,n);return FS.create(o,a)},createDataFile:function(e,t,r,i,n,o){var a=t?PATH.join2("string"==typeof e?e:FS.getPath(e),t):e,s=FS.getMode(i,n),l=FS.create(a,s);if(r){if("string"==typeof r){for(var u=new Array(r.length),c=0,h=r.length;c<h;++c)u[c]=r.charCodeAt(c);r=u}FS.chmod(l,146|s);var f=FS.open(l,"w");FS.write(f,r,0,r.length,0,o),FS.close(f),FS.chmod(l,s)}return l},createDevice:function(e,t,r,i){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(!!r,!!i);FS.createDevice.major||(FS.createDevice.major=64);var a=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){i&&i.buffer&&i.buffer.length&&i(10)},read:function(e,t,i,n,o){for(var a=0,s=0;s<n;s++){var l;try{l=r()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===l&&0===a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===l||void 0===l)break;a++,t[i+s]=l}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,n,o){for(var a=0;a<n;a++)try{i(t[r+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return n&&(e.node.timestamp=Date.now()),a}}),FS.mkdev(n,o,a)},createLink:function(e,t,r,i,n){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),t);return FS.symlink(r,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||___setErrNo(ERRNO_CODES.EIO),t},createLazyFile:function(e,t,r,i,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=Math.floor(e/this.chunkSize);return this.getter(r)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,i=Number(e.getResponseHeader("Content-length")),n=1048576;(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t||(n=i);var o=this;o.setDataGetter(function(e){var t=e*n,a=(e+1)*n-1;if(a=Math.min(a,i-1),void 0===o.chunks[e]&&(o.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>i-1)throw new Error("only "+i+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),i!==n&&o.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):intArrayFromString(o.responseText||"",!0)}(t,a)),void 0===o.chunks[e])throw new Error("doXHR failed!");return o.chunks[e]}),this._length=i,this._chunkSize=n,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperty(a,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(a,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:r};var l=FS.createFile(e,t,s,i,n);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperty(l,"usedBytes",{get:function(){return this.contents.length}});var u={};return Object.keys(l.stream_ops).forEach(function(e){var t=l.stream_ops[e];u[e]=function(){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);return t.apply(null,arguments)}}),u.read=function(e,t,r,i,n){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);var o=e.node.contents;if(n>=o.length)return 0;var a=Math.min(o.length-n,i);if(assert(a>=0),o.slice)for(var s=0;s<a;s++)t[r+s]=o[n+s];else for(s=0;s<a;s++)t[r+s]=o.get(n+s);return a},l.stream_ops=u,l},createPreloadedFile:function(e,t,r,i,n,o,a,s,l){Browser.init();var u=t?PATH.resolve(PATH.join2(e,t)):e;function c(r){function c(r){s||FS.createDataFile(e,t,r,i,n,l),o&&o(),removeRunDependency("cp "+u)}var h=!1;Module.preloadPlugins.forEach(function(e){h||e.canHandle(u)&&(e.handle(r,u,c,function(){a&&a(),removeRunDependency("cp "+u)}),h=!0)}),h||c(r)}addRunDependency("cp "+u),"string"==typeof r?Browser.asyncLoad(r,function(e){c(e)},a):c(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var i=FS.indexedDB();try{var n=i.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}n.onupgradeneeded=function(){console.log("creating db"),n.result.createObjectStore(FS.DB_STORE_NAME)},n.onsuccess=function(){var i=n.result.transaction([FS.DB_STORE_NAME],"readwrite"),o=i.objectStore(FS.DB_STORE_NAME),a=0,s=0,l=e.length;function u(){0==s?t():r()}e.forEach(function(e){var t=o.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==l&&u()},t.onerror=function(){a+ ++s==l&&u()}}),i.onerror=r},n.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var i=FS.indexedDB();try{var n=i.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}n.onupgradeneeded=r,n.onsuccess=function(){var i=n.result;try{var o=i.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var a=o.objectStore(FS.DB_STORE_NAME),s=0,l=0,u=e.length;function c(){0==l?t():r()}e.forEach(function(e){var t=a.get(e);t.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,!0,!0,!0),++s+l==u&&c()},t.onerror=function(){s+ ++l==u&&c()}}),o.onerror=r},n.onerror=r}},PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r--;r)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),r=t[0],i=t[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var i=r>=0?arguments[r]:FS.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,t="/"===i.charAt(0))}return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=PATH.resolve(e).substr(1),t=PATH.resolve(t).substr(1);for(var i=r(e.split("/")),n=r(t.split("/")),o=Math.min(i.length,n.length),a=o,s=0;s<o;s++)if(i[s]!==n[s]){a=s;break}var l=[];for(s=a;s<i.length;s++)l.push("..");return(l=l.concat(n.slice(a))).join("/")}},Browser={mainLoop:{scheduler:null,method:"",shouldPause:!1,paused:!1,queue:[],pause:function(){Browser.mainLoop.shouldPause=!0},resume:function(){Browser.mainLoop.paused&&(Browser.mainLoop.paused=!1,Browser.mainLoop.scheduler()),Browser.mainLoop.shouldPause=!1},updateStatus:function(){if(Module.setStatus){var e=Module.statusMessage||"Please wait...",t=Browser.mainLoop.remainingBlockers,r=Browser.mainLoop.expectedBlockers;t?t<r?Module.setStatus(e+" ("+(r-t)+"/"+r+")"):Module.setStatus(e):Module.setStatus("")}}},isFullScreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),!Browser.initted&&!ENVIRONMENT_IS_WORKER){Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch(e){Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,Module.noImageDecoding||void 0!==Browser.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var e={canHandle:function(e){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,r,i){var n=null;if(Browser.hasBlobConstructor)try{(n=new Blob([e],{type:Browser.getMimetype(t)})).size!==e.length&&(n=new Blob([new Uint8Array(e).buffer],{type:Browser.getMimetype(t)}))}catch(e){Runtime.warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!n){var o=new Browser.BlobBuilder;o.append(new Uint8Array(e).buffer),n=o.getBlob()}var a=Browser.URLObject.createObjectURL(n),s=new Image;s.onload=function(){assert(s.complete,"Image "+t+" could not be decoded");var i=document.createElement("canvas");i.width=s.width,i.height=s.height,i.getContext("2d").drawImage(s,0,0),Module.preloadedImages[t]=i,Browser.URLObject.revokeObjectURL(a),r&&r(e)},s.onerror=function(e){console.log("Image "+a+" could not be decoded"),i&&i()},s.src=a}};Module.preloadPlugins.push(e);var t={canHandle:function(e){return!Module.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,r,i){var n=!1;function o(i){n||(n=!0,Module.preloadedAudios[t]=i,r&&r(e))}function a(){n||(n=!0,Module.preloadedAudios[t]=new Audio,i&&i())}if(!Browser.hasBlobConstructor)return a();try{var s=new Blob([e],{type:Browser.getMimetype(t)})}catch(e){return a()}var l=Browser.URLObject.createObjectURL(s),u=new Audio;u.addEventListener("canplaythrough",function(){o(u)},!1),u.onerror=function(r){n||(console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach"),u.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",i=0,n=0,o=0;o<e.length;o++)for(i=i<<8|e[o],n+=8;n>=6;){var a=i>>n-6&63;n-=6,r+=t[a]}return 2==n?(r+=t[(3&i)<<4],r+="=="):4==n&&(r+=t[(15&i)<<2],r+="="),r}(e),o(u))},u.src=l,Browser.safeSetTimeout(function(){o(u)},1e4)}};Module.preloadPlugins.push(t);var r=Module.canvas;if(r){function i(){Browser.pointerLock=document.pointerLockElement===r||document.mozPointerLockElement===r||document.webkitPointerLockElement===r||document.msPointerLockElement===r}r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),Module.elementPointerLock&&r.addEventListener("click",function(e){!Browser.pointerLock&&r.requestPointerLock&&(r.requestPointerLock(),e.preventDefault())},!1)}}},createContext:function(e,t,r,i){var n,o="?";function a(e){o=e.statusMessage||o}try{if(t){var s={antialias:!1,alpha:!1};if(i)for(var l in i)s[l]=i[l];e.addEventListener("webglcontextcreationerror",a,!1);try{["experimental-webgl","webgl"].some(function(t){return n=e.getContext(t,s)})}finally{e.removeEventListener("webglcontextcreationerror",a,!1)}}else n=e.getContext("2d");if(!n)throw":("}catch(e){return Module.print("Could not create canvas: "+[o,e]),null}return t&&(e.style.backgroundColor="black"),r&&(GLctx=Module.ctx=n,Module.useWebGL=t,Browser.moduleContextCreatedCallbacks.forEach(function(e){e()}),Browser.init()),n},destroyContext:function(e,t,r){},fullScreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullScreen:function(e,t){Browser.lockPointer=e,Browser.resizeCanvas=t,void 0===Browser.lockPointer&&(Browser.lockPointer=!0),void 0===Browser.resizeCanvas&&(Browser.resizeCanvas=!1);var r=Module.canvas;function i(){Browser.isFullScreen=!1;var e=r.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e?(r.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},r.cancelFullScreen=r.cancelFullScreen.bind(document),Browser.lockPointer&&r.requestPointerLock(),Browser.isFullScreen=!0,Browser.resizeCanvas&&Browser.setFullScreenCanvasSize()):(e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullScreen),Browser.updateCanvasDimensions(r)}Browser.fullScreenHandlersInstalled||(Browser.fullScreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var n=document.createElement("div");r.parentNode.insertBefore(n,r),n.appendChild(r),n.requestFullScreen=n.requestFullScreen||n.mozRequestFullScreen||n.msRequestFullscreen||(n.webkitRequestFullScreen?function(){n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n.requestFullScreen()},requestAnimationFrame:function(e){"undefined"==typeof window?setTimeout(e,1e3/60):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||window.setTimeout),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){if(!ABORT)return e.apply(null,arguments)}},safeRequestAnimationFrame:function(e){return Browser.requestAnimationFrame(function(){ABORT||e()})},safeSetTimeout:function(e,t){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||e()},t)},safeSetInterval:function(e,t){return Module.noExitRuntime=!0,setInterval(function(){ABORT||e()},t)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail;break;case"mousewheel":t=-e.wheelDelta;break;case"wheel":t=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return Math.max(-1,Math.min(1,t))},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Browser.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(e),Browser.mouseMovementY=Browser.getMovementY(e)),"undefined"!=typeof SDL?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var t=Module.canvas.getBoundingClientRect(),r=Module.canvas.width,i=Module.canvas.height,n=void 0!==window.scrollX?window.scrollX:window.pageXOffset,o=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var a=e.touch;if(void 0===a)return;var s=a.pageX-(n+t.left),l=a.pageY-(o+t.top),u={x:s*=r/t.width,y:l*=i/t.height};return void("touchstart"===e.type?(Browser.lastTouches[a.identifier]=u,Browser.touches[a.identifier]=u):"touchend"!==e.type&&"touchmove"!==e.type||(Browser.lastTouches[a.identifier]=Browser.touches[a.identifier],Browser.touches[a.identifier]={x:s,y:l}))}var c=e.pageX-(n+t.left),h=e.pageY-(o+t.top);c*=r/t.width,h*=i/t.height,Browser.mouseMovementX=c-Browser.mouseX,Browser.mouseMovementY=h-Browser.mouseY,Browser.mouseX=c,Browser.mouseY=h}},xhrLoad:function(e,t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status||0==i.status&&i.response?t(i.response):r()},i.onerror=r,i.send(null)},asyncLoad:function(e,t,r,i){Browser.xhrLoad(e,function(r){assert(r,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(r)),i||removeRunDependency("al "+e)},function(t){if(!r)throw'Loading data file "'+e+'" failed.';r()}),i||addRunDependency("al "+e)},resizeListeners:[],updateResizeListeners:function(){var e=Module.canvas;Browser.resizeListeners.forEach(function(t){t(e.width,e.height)})},setCanvasSize:function(e,t,r){var i=Module.canvas;Browser.updateCanvasDimensions(i,e,t),r||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullScreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e|=8388608,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e&=-8388609,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},updateCanvasDimensions:function(e,t,r){t&&r?(e.widthNative=t,e.heightNative=r):(t=e.widthNative,r=e.heightNative);var i=t,n=r;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(i/n<Module.forcedAspectRatio?i=Math.round(n*Module.forcedAspectRatio):n=Math.round(i/Module.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/i,screen.height/n);i=Math.round(i*o),n=Math.round(n*o)}Browser.resizeCanvas?(e.width!=i&&(e.width=i),e.height!=n&&(e.height=n),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=r&&(e.height=r),void 0!==e.style&&(i!=t||n!=r?(e.style.setProperty("width",i+"px","important"),e.style.setProperty("height",n+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}};function _time(e){var t=Math.floor(Date.now()/1e3);return e&&(HEAP32[e>>2]=t),t}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return 1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function _malloc(e){return Runtime.dynamicAlloc(e+8)+8&4294967288}function ___cxa_allocate_exception(e){return _malloc(e+___cxa_exception_header_size)+___cxa_exception_header_size}Module._malloc=_malloc;var __ZTISt9exception=allocate([allocate([1,0,0,0,0,0,0],"i8",ALLOC_STATIC)+8,0],"i32",ALLOC_STATIC);if(___errno_state=Runtime.staticAlloc(4),HEAP32[___errno_state>>2]=0,Module.requestFullScreen=function(e,t){Browser.requestFullScreen(e,t)},Module.requestAnimationFrame=function(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function(e,t,r){Browser.setCanvasSize(e,t,r)},Module.pauseMainLoop=function(){Browser.mainLoop.pause()},Module.resumeMainLoop=function(){Browser.mainLoop.resume()},Module.getUserMedia=function(){Browser.getUserMedia()},FS.staticInit(),__ATINIT__.unshift({func:function(){Module.noFSInit||FS.init.initialized||FS.init()}}),__ATMAIN__.push({func:function(){FS.ignorePermissions=!1}}),__ATEXIT__.push({func:function(){FS.quit()}}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,__ATINIT__.unshift({func:function(){TTY.init()}}),__ATEXIT__.push({func:function(){TTY.shutdown()}}),TTY.utf8=new Runtime.UTF8Processor,ENVIRONMENT_IS_NODE){var fs=require("fs");NODEFS.staticInit()}STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+5242880,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var ctlz_i8=allocate([8,7,6,6,5,5,5,5,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",ALLOC_DYNAMIC),cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC),Math_min=Math.min;function invoke_diiiiid(e,t,r,i,n,o,a){try{return Module.dynCall_diiiiid(e,t,r,i,n,o,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(e,t,r,i,n,o){try{Module.dynCall_viiiii(e,t,r,i,n,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_did(e,t,r){try{return Module.dynCall_did(e,t,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_diiiid(e,t,r,i,n,o){try{return Module.dynCall_diiiid(e,t,r,i,n,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vii(e,t,r){try{Module.dynCall_vii(e,t,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiii(e,t,r,i){try{return Module.dynCall_iiii(e,t,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viii(e,t,r,i){try{Module.dynCall_viii(e,t,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viid(e,t,r,i){try{Module.dynCall_viid(e,t,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiii(e,t,r,i,n){try{return Module.dynCall_iiiii(e,t,r,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiii(e,t,r,i,n,o,a){try{Module.dynCall_viiiiii(e,t,r,i,n,o,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iii(e,t,r){try{return Module.dynCall_iii(e,t,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiii(e,t,r,i,n,o){try{return Module.dynCall_iiiiii(e,t,r,i,n,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiii(e,t,r,i,n){try{Module.dynCall_viiii(e,t,r,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function asmPrintInt(e,t){Module.print("int "+e+","+t)}function asmPrintFloat(e,t){Module.print("float "+e+","+t)}var asm=function(e,t,r){"use asm";var i=new e.Int8Array(r);var n=new e.Int16Array(r);var o=new e.Int32Array(r);var a=new e.Uint8Array(r);var s=new e.Uint16Array(r);var l=new e.Uint32Array(r);var u=new e.Float32Array(r);var c=new e.Float64Array(r);var h=t.STACKTOP|0;var f=t.STACK_MAX|0;var d=t.tempDoublePtr|0;var p=t.ABORT|0;var m=t.cttz_i8|0;var E=t.ctlz_i8|0;var v=t.__ZTISt9exception|0;var b=0;var y=0;var g=0;var _=0;var T=+t.NaN,w=+t.Infinity;var R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0;var D=0;var k=0;var L=0;var B=0;var O=0;var N=0;var I=0;var V=0;var U=0;var z=0;var G=e.Math.floor;var W=e.Math.abs;var j=e.Math.sqrt;var J=e.Math.pow;var X=e.Math.cos;var q=e.Math.sin;var Y=e.Math.tan;var K=e.Math.acos;var Z=e.Math.asin;var Q=e.Math.atan;var $=e.Math.atan2;var ee=e.Math.exp;var te=e.Math.log;var re=e.Math.ceil;var ie=e.Math.imul;var ne=t.abort;var oe=t.assert;var ae=t.asmPrintInt;var se=t.asmPrintFloat;var le=t.min;var ue=t.invoke_diiiiid;var ce=t.invoke_ii;var he=t.invoke_viiiii;var fe=t.invoke_did;var de=t.invoke_vi;var pe=t.invoke_diiiid;var me=t.invoke_vii;var Ee=t.invoke_iiii;var ve=t.invoke_viii;var be=t.invoke_v;var ye=t.invoke_viid;var ge=t.invoke_iiiii;var _e=t.invoke_viiiiii;var Te=t.invoke_iii;var we=t.invoke_iiiiii;var Re=t.invoke_viiii;var xe=t._cosf;var Se=t.__ZSt9terminatev;var Me=t._b2WorldPreSolve;var He=t.___cxa_is_number_type;var Ae=t.___cxa_allocate_exception;var Ce=t.___cxa_find_matching_catch;var Pe=t._fflush;var Fe=t._time;var De=t.__exit;var ke=t.___setErrNo;var Le=t._sbrk;var Be=t.___cxa_begin_catch;var Oe=t._sinf;var Ne=t.___resumeException;var Ie=t.__ZSt18uncaught_exceptionv;var Ve=t._b2WorldRayCastCallback;var Ue=t._emscripten_memcpy_big;var ze=t._floorf;var Ge=t._sqrtf;var We=t._b2WorldBeginContactBody;var je=t.___errno_location;var Je=t.__ZNSt9exceptionD2Ev;var Xe=t.___cxa_throw;var qe=t._sysconf;var Ye=t._abort;var Ke=t.___cxa_does_inherit;var Ze=t._b2WorldEndContactBody;var Qe=t._b2WorldQueryAABB;var $e=t._b2WorldPostSolve;var et=t._exit;var tt=t.___cxa_pure_virtual;var rt=0;function it(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0;r=h;h=h+64|0;i=r;n=r+16|0;u[i>>2]=3.4028234663852886E38;u[i+4>>2]=3.4028234663852886E38;a=i+8|0;u[a>>2]=-3.4028234663852886E38;u[i+12>>2]=-3.4028234663852886E38;s=o[e+44>>2]|0;if((s|0)>0){l=o[e+104>>2]|0;c=o[e+96>>2]|0;f=+u[t>>2];d=3.4028234663852886E38;p=3.4028234663852886E38;m=-3.4028234663852886E38;E=-3.4028234663852886E38;v=0;do{b=l+(v<<3)|0;y=+u[b>>2];g=+u[b+4>>2];b=c+(v<<3)|0;_=+u[b>>2];T=+u[b+4>>2];w=_+y*f;y=g*f+T;g=_<w?_:w;R=T<y?T:y;d=d<g?d:g;p=p<R?p:R;R=+d;g=+p;b=i;u[b>>2]=R;u[b+4>>2]=g;g=_>w?_:w;w=T>y?T:y;m=m>g?m:g;E=E>w?E:w;w=+m;g=+E;b=a;u[b>>2]=w;u[b+4>>2]=g;v=v+1|0}while((v|0)<(s|0))}o[n+4>>2]=e;o[n>>2]=6872;s=n+8|0;o[s+0>>2]=o[t+0>>2];o[s+4>>2]=o[t+4>>2];o[s+8>>2]=o[t+8>>2];o[s+12>>2]=o[t+12>>2];o[s+16>>2]=o[t+16>>2];o[s+20>>2]=o[t+20>>2];o[s+24>>2]=o[t+24>>2];vr(o[e+400>>2]|0,n,i);h=r;return}function nt(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0;r=h;h=h+48|0;n=r;a=r+16|0;s=e+44|0;l=o[s>>2]|0;if((l|0)>0){c=o[e+88>>2]|0;f=e+104|0;d=0;do{if((o[c+(d<<2)>>2]&1028|0)==1028){p=o[f>>2]|0;u[p+(d<<3)>>2]=0;u[p+(d<<3)+4>>2]=0}d=d+1|0}while((d|0)<(l|0))}m=+u[t>>2]*2.5;l=e+252|0;if((o[l>>2]|0)<=0){h=r;return}d=e+248|0;f=e+96|0;c=n+8|0;p=e+144|0;E=e+104|0;v=a+16|0;b=a+20|0;y=a+4|0;g=e+32|0;_=e+320|0;T=t+4|0;t=e+88|0;w=e+21|0;R=e+112|0;x=0;do{S=o[d>>2]|0;e:do{if((o[S+(x*20|0)+8>>2]&1024|0)!=0){M=o[S+(x*20|0)>>2]|0;H=o[S+(x*20|0)+4>>2]|0;A=o[f>>2]|0;C=A+(M<<3)|0;P=+u[C>>2];F=+u[C+4>>2];C=A+(H<<3)|0;D=+u[C>>2];k=+u[C+4>>2];L=+(P<D?P:D);B=+(F<k?F:k);C=n;u[C>>2]=L;u[C+4>>2]=B;B=+(P>D?P:D);L=+(F>k?F:k);C=c;u[C>>2]=B;u[C+4>>2]=L;C=o[p>>2]|0;A=o[C+(M<<2)>>2]|0;O=o[C+(H<<2)>>2]|0;if((A|0)!=0?(o[A+12>>2]&2|0)!=0:0){ti(A);L=+u[A+56>>2];N=+u[A+48>>2]-L*(F-+u[A+44>>2]);I=L*(P-+u[A+40>>2])+ +u[A+52>>2]}else{C=(o[E>>2]|0)+(M<<3)|0;L=+u[C>>2];N=L;I=+u[C+4>>2]}if((O|0)!=0?(o[O+12>>2]&2|0)!=0:0){ti(O);L=+u[O+56>>2];V=+u[O+48>>2]-L*(k-+u[O+44>>2]);U=L*(D-+u[O+40>>2])+ +u[O+52>>2]}else{C=(o[E>>2]|0)+(H<<3)|0;L=+u[C>>2];V=L;U=+u[C+4>>2]}L=D-P;D=k-F;k=V-N;B=U-I;Mi(a,e,n);C=o[v>>2]|0;H=o[b>>2]|0;if(C>>>0<H>>>0){M=o[a>>2]|0;z=o[y>>2]|0;G=C;while(1){C=o[G+4>>2]&1048575;W=G;G=G+8|0;o[v>>2]=G;if(C>>>0<M>>>0|C>>>0>z>>>0)if(G>>>0<H>>>0){G=G;continue}else break;C=o[W>>2]|0;if(!((C|0)>-1))break e;W=(o[f>>2]|0)+(C<<3)|0;J=+u[W>>2];X=+u[W+4>>2];W=o[(o[p>>2]|0)+(C<<2)>>2]|0;t:do{if(!((A|0)==(W|0)|(O|0)==(W|0))){q=(W|0)==0;if(!q?(o[W+12>>2]&2|0)!=0:0){ti(W);Y=+u[W+56>>2];K=+u[W+48>>2]-Y*(X-+u[W+44>>2]);Z=Y*(J-+u[W+40>>2])+ +u[W+52>>2]}else{Q=(o[E>>2]|0)+(C<<3)|0;Y=+u[Q>>2];K=Y;Z=+u[Q+4>>2]}Y=J-P;$=X-F;ee=K-N;te=Z-I;re=k*te-B*ee;ie=L*te-D*ee-(B*Y-k*$);ne=L*$-D*Y;do{if(re==0){if(ie==0)break t;oe=-ne/ie;if(!(oe>=0&oe<m))break t;ae=L+k*oe;se=D+B*oe;le=(ae*(Y+ee*oe)+se*($+te*oe))/(ae*ae+se*se);if(le>=0&le<=1)ue=le;else break t}else{le=ie*ie-ne*4*re;if(le<0)break t;se=+j(+le);le=re*2;ae=(-ie-se)/le;oe=(se-ie)/le;Q=ae>oe;le=Q?oe:ae;se=Q?ae:oe;oe=L+k*le;ae=D+B*le;ce=(oe*(Y+ee*le)+ae*($+te*le))/(oe*oe+ae*ae);if(le>=0&le<m?ce>=0&ce<=1:0){ue=ce;break}if(!(se>=0&se<m))break t;ce=L+k*se;le=D+B*se;ae=(ce*(Y+ee*se)+le*($+te*se))/(ce*ce+le*le);if(ae>=0&ae<=1)ue=ae;else break t}}while(0);te=N+k*ue-K;$=I+B*ue-Z;ee=+u[g>>2]*.75;Y=ee*+u[_>>2]*ee;ee=te*Y;ie=$*Y;if(!q?(o[W+12>>2]&2|0)!=0:0){ti(W);Y=+u[W+32>>2];ti(W);re=+u[W+36>>2];if(Y>0){ne=1/Y;Q=W+48|0;u[Q>>2]=ee*ne+ +u[Q>>2];Q=W+52|0;u[Q>>2]=ie*ne+ +u[Q>>2]}if(re>0){ti(W);Q=W+40|0;ne=+u[Q>>2];he=W+56|0;u[he>>2]=(ie*(J-ne)-ee*(X-+u[Q+4>>2]))/re+ +u[he>>2]}}else{he=o[E>>2]|0;Q=he+(C<<3)|0;u[Q>>2]=te+ +u[Q>>2];Q=he+(C<<3)+4|0;u[Q>>2]=$+ +u[Q>>2]}$=-+u[T>>2];te=ee*$;ee=ie*$;if(te!=0|ee!=0?(o[(o[t>>2]|0)+(C<<2)>>2]&4|0)==0:0){if((i[w>>0]|0)==0){hd(o[R>>2]|0,0,o[s>>2]<<3|0)|0;i[w>>0]=1}Q=o[R>>2]|0;he=Q+(C<<3)|0;u[he>>2]=te+ +u[he>>2];he=Q+(C<<3)+4|0;u[he>>2]=ee+ +u[he>>2]}}}while(0);if(!(G>>>0<H>>>0))break}}}}while(0);x=x+1|0}while((x|0)<(o[l>>2]|0));h=r;return}function ot(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,ie=0,ne=0,oe=0;r=h;h=h+48|0;n=r+32|0;a=r+28|0;s=r;l=e+44|0;c=o[l>>2]|0;if((c|0)==0){h=r;return}f=o[e+280>>2]|0;e:do{if((f|0)!=0){d=e+296|0;p=d;m=+u[t>>2]/+u[e+396>>2]*4294967296;E=dd(~~m>>>0|0,(+W(m)>=1?m>0?(le(+G(m/4294967296),4294967295)|0)>>>0:~~+re((m-+(~~m>>>0))/4294967296)>>>0:0)|0,o[p>>2]|0,o[p+4>>2]|0)|0;p=D;v=d;o[v>>2]=E;o[v+4>>2]=p;v=o[e+288>>2]|0;E=e+304|0;if((i[E>>0]|0)!=0){o[a>>2]=f;Tt(v,v+(c<<2)|0,a);i[E>>0]=0}if((c|0)>0){E=e+88|0;d=c;do{d=d+-1|0;b=o[v+(d<<2)>>2]|0;y=o[f+(b<<2)>>2]|0;if((p|0)<(y|0)|(y|0)<1)break e;pi(e,b,o[(o[E>>2]|0)+(b<<2)>>2]|2)}while((d|0)>0)}}}while(0);f=e+8|0;if((o[f>>2]&2|0)!=0)hi(e);c=e+12|0;if((i[c>>0]|0)!=0){o[f>>2]=0;a=o[l>>2]|0;if((a|0)>0){d=o[e+88>>2]|0;E=0;p=0;do{E=o[d+(p<<2)>>2]|E;o[f>>2]=E;p=p+1|0}while((p|0)!=(a|0))}i[c>>0]=0}c=e+20|0;if((i[c>>0]|0)!=0){a=e+16|0;o[a>>2]=0;p=o[e+312>>2]|0;if((p|0)!=0){E=0;d=p;do{E=o[d+12>>2]|E;o[a>>2]=E;d=o[d+24>>2]|0}while((d|0)!=0)}i[c>>0]=0}if((i[e>>0]|0)!=0){h=r;return}c=e+24|0;o[c>>2]=0;d=t+20|0;if((o[d>>2]|0)<=0){h=r;return}E=e+4|0;a=s+4|0;p=e+116|0;v=e+236|0;b=e+232|0;y=e+220|0;g=e+216|0;_=e+16|0;T=e+21|0;w=e+324|0;R=e+400|0;x=e+104|0;S=e+32|0;M=e+88|0;H=e+96|0;A=e+372|0;C=e+144|0;P=e+132|0;F=e+368|0;k=e+364|0;L=e+36|0;B=e+28|0;O=e+112|0;N=n+4|0;do{o[E>>2]=(o[E>>2]|0)+1;o[s+0>>2]=o[t+0>>2];o[s+4>>2]=o[t+4>>2];o[s+8>>2]=o[t+8>>2];o[s+12>>2]=o[t+12>>2];o[s+16>>2]=o[t+16>>2];o[s+20>>2]=o[t+20>>2];o[s+24>>2]=o[t+24>>2];m=+(o[d>>2]|0);I=+u[s>>2]/m;u[s>>2]=I;V=+u[a>>2]*m;u[a>>2]=V;gi(e,0);Ni(e);hd(o[p>>2]|0,0,o[l>>2]<<2|0)|0;U=o[v>>2]|0;if((U|0)>0){z=o[b>>2]|0;J=o[p>>2]|0;X=0;do{q=J+(o[z+(X*28|0)>>2]<<2)|0;u[q>>2]=+u[z+(X*28|0)+12>>2]+ +u[q>>2];X=X+1|0}while((X|0)!=(U|0))}U=o[y>>2]|0;if((U|0)>0){X=o[g>>2]|0;z=o[p>>2]|0;J=0;do{q=o[X+(J*24|0)+4>>2]|0;m=+u[X+(J*24|0)+8>>2];Y=z+(o[X+(J*24|0)>>2]<<2)|0;u[Y>>2]=m+ +u[Y>>2];Y=z+(q<<2)|0;u[Y>>2]=m+ +u[Y>>2];J=J+1|0}while((J|0)!=(U|0))}if((o[_>>2]&16|0)!=0)Si(e);U=o[f>>2]|0;if((U&4096|0)==0)K=U;else{U=o[M>>2]|0;o[n>>2]=7360;o[N>>2]=U;_i(e,0,o[l>>2]|0,n);if((o[l>>2]|0)>0){U=o[M>>2]|0;J=0;do{z=U+(J<<2)|0;o[z>>2]=o[z>>2]&-4097;J=J+1|0}while((J|0)<(o[l>>2]|0))}J=o[f>>2]&-4097;o[f>>2]=J;K=J}if((i[T>>0]|0)!=0){m=+u[L>>2]*1.3333333730697632;Z=I*m*+u[B>>2]*m;J=o[l>>2]|0;if((J|0)>0){U=o[x>>2]|0;z=o[O>>2]|0;X=0;do{m=Z*+u[z+(X<<3)+4>>2];Y=U+(X<<3)|0;u[Y>>2]=Z*+u[z+(X<<3)>>2]+ +u[Y>>2];Y=U+(X<<3)+4|0;u[Y>>2]=m+ +u[Y>>2];X=X+1|0}while((X|0)!=(J|0))}i[T>>0]=0}if((K&32|0)==0)Q=K;else{at(e);Q=o[f>>2]|0}if((Q&8192|0)!=0?(Z=+u[k>>2]*+u[S>>2]*V,J=o[y>>2]|0,(J|0)>0):0){X=o[g>>2]|0;U=0;do{do{if((o[X+(U*24|0)+20>>2]&8192|0)!=0){z=o[X+(U*24|0)>>2]|0;Y=o[X+(U*24|0)+4>>2]|0;q=o[C>>2]|0;if((o[q+(z<<2)>>2]|0)==(o[q+(Y<<2)>>2]|0))break;q=X+(U*24|0)+12|0;I=+u[q>>2];m=Z*+u[X+(U*24|0)+8>>2];$=m*I;I=m*+u[q+4>>2];q=o[x>>2]|0;ee=q+(z<<3)|0;u[ee>>2]=+u[ee>>2]-$;ee=q+(z<<3)+4|0;u[ee>>2]=+u[ee>>2]-I;ee=q+(Y<<3)|0;u[ee>>2]=$+ +u[ee>>2];ee=q+(Y<<3)+4|0;u[ee>>2]=I+ +u[ee>>2]}}while(0);U=U+1|0}while((U|0)!=(J|0))}if((Q&64|0)!=0?(Z=+u[F>>2]*+u[S>>2]*V,J=o[y>>2]|0,(J|0)>0):0){U=o[g>>2]|0;X=0;do{do{if((o[U+(X*24|0)+20>>2]&64|0)!=0){I=+u[U+(X*24|0)+8>>2];if(!(I>.25))break;ee=o[U+(X*24|0)>>2]|0;Y=o[U+(X*24|0)+4>>2]|0;q=U+(X*24|0)+12|0;$=+u[q>>2];m=Z*(I+-.25);I=m*$;$=m*+u[q+4>>2];q=o[x>>2]|0;z=q+(ee<<3)|0;u[z>>2]=+u[z>>2]-I;z=q+(ee<<3)+4|0;u[z>>2]=+u[z>>2]-$;z=q+(Y<<3)|0;u[z>>2]=I+ +u[z>>2];z=q+(Y<<3)+4|0;u[z>>2]=$+ +u[z>>2]}}while(0);X=X+1|0}while((X|0)!=(J|0))}if((Q&128|0)!=0)st(e,s);if((o[_>>2]&1|0)!=0?(Z=+u[a>>2]*+u[A>>2],J=o[y>>2]|0,(J|0)>0):0){X=o[g>>2]|0;U=o[C>>2]|0;z=0;do{Y=o[X+(z*24|0)>>2]|0;q=o[X+(z*24|0)+4>>2]|0;if((o[U+(Y<<2)>>2]|0)!=(o[U+(q<<2)>>2]|0)){ee=X+(z*24|0)+12|0;V=+u[ee>>2];te=o[P>>2]|0;$=+u[X+(z*24|0)+8>>2]*Z*(+u[te+(Y<<2)>>2]+ +u[te+(q<<2)>>2]);I=V*$;V=+u[ee+4>>2]*$;ee=o[x>>2]|0;te=ee+(Y<<3)|0;u[te>>2]=+u[te>>2]-I;te=ee+(Y<<3)+4|0;u[te>>2]=+u[te>>2]-V;te=ee+(q<<3)|0;u[te>>2]=I+ +u[te>>2];te=ee+(q<<3)+4|0;u[te>>2]=V+ +u[te>>2]}z=z+1|0}while((z|0)!=(J|0))}if((o[f>>2]&256|0)!=0)lt(e);Z=+u[s>>2]*+u[w>>2];J=(o[R>>2]|0)+102980|0;V=+u[J>>2];I=Z*V;V=Z*+u[J+4>>2];J=o[l>>2]|0;if((J|0)>0){z=o[x>>2]|0;X=0;do{U=z+(X<<3)|0;u[U>>2]=I+ +u[U>>2];U=z+(X<<3)+4|0;u[U>>2]=V+ +u[U>>2];X=X+1|0}while((X|0)!=(J|0))}if((o[f>>2]&2048|0)!=0)ut(e,s);ct(e,s);ht(e,s);J=o[f>>2]|0;if((J&2048|0)==0)ie=J;else{ft(e);ie=o[f>>2]|0}if((ie&16|0)==0)ne=ie;else{dt(e,s);ne=o[f>>2]|0}if((ne&8|0)!=0)pt(e,s);V=+u[S>>2]*+u[a>>2];I=V*V;J=o[l>>2]|0;if((J|0)>0){X=o[x>>2]|0;z=0;do{U=X+(z<<3)|0;V=+u[U>>2];te=X+(z<<3)+4|0;Z=+u[te>>2];$=V*V+Z*Z;if($>I){m=+j(+(I/$));u[U>>2]=V*m;u[te>>2]=Z*m}z=z+1|0}while((z|0)!=(J|0))}if((o[_>>2]&2|0)!=0)mt(e);if((o[f>>2]&1024|0)!=0)nt(e,s);it(e,s);if((o[_>>2]&2|0)!=0)Et(e,s);J=o[l>>2]|0;do{if((o[f>>2]&4|0)==0)oe=95;else{if((J|0)<=0)break;z=o[M>>2]|0;X=0;do{if((o[z+(X<<2)>>2]&4|0)!=0){te=o[x>>2]|0;u[te+(X<<3)>>2]=0;u[te+(X<<3)+4>>2]=0}X=X+1|0}while((X|0)!=(J|0));oe=95}}while(0);do{if((oe|0)==95){oe=0;if((J|0)<=0)break;X=o[H>>2]|0;I=+u[s>>2];z=o[x>>2]|0;te=0;do{m=I*+u[z+(te<<3)+4>>2];U=X+(te<<3)|0;u[U>>2]=I*+u[z+(te<<3)>>2]+ +u[U>>2];U=X+(te<<3)+4|0;u[U>>2]=m+ +u[U>>2];te=te+1|0}while((te|0)<(J|0))}}while(0);J=(o[c>>2]|0)+1|0;o[c>>2]=J}while((J|0)<(o[d>>2]|0));h=r;return}function at(e){e=e|0;var t=0,r=0,i=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0;t=h;r=+u[e+352>>2];i=o[e+236>>2]|0;if((i|0)>0){a=e+96|0;s=e+104|0;l=e+36|0;c=e+28|0;f=o[e+232>>2]|0;d=o[e+88>>2]|0;p=0;do{m=o[f+(p*28|0)>>2]|0;if((o[d+(m<<2)>>2]&32|0)!=0?(E=o[f+(p*28|0)+4>>2]|0,v=(o[a>>2]|0)+(m<<3)|0,b=+u[v>>2],y=+u[v+4>>2],v=E+88|0,g=+u[v>>2],_=E+60|0,T=E+64|0,w=E+80|0,R=E+84|0,x=o[s>>2]|0,S=x+(m<<3)|0,M=+u[S>>2],H=x+(m<<3)+4|0,A=+u[H>>2],C=+u[f+(p*28|0)+12>>2]*r*+u[f+(p*28|0)+24>>2],P=C*(+u[w>>2]-g*(y-+u[T>>2])-M),F=C*(g*(b-+u[_>>2])+ +u[R>>2]-A),g=+u[l>>2]*1.3333333730697632,C=g*+u[c>>2]*g,u[S>>2]=M+P*C,u[H>>2]=A+F*C,C=-P,P=-F,(o[E>>2]|0)==2):0){H=E+4|0;S=n[H>>1]|0;if((S&2)==0?(m=S&65535,(m&2|0)==0):0){x=(m|2)&65535;n[H>>1]=x;u[E+160>>2]=0;D=x}else D=S;if(!((D&2)==0)){F=+u[E+136>>2];u[w>>2]=F*C+ +u[w>>2];u[R>>2]=F*P+ +u[R>>2];u[v>>2]=+u[v>>2]+ +u[E+144>>2]*((b-+u[_>>2])*P-(y-+u[T>>2])*C)}}p=p+1|0}while((p|0)<(i|0))}i=o[e+220>>2]|0;if((i|0)<=0){h=t;return}p=o[e+216>>2]|0;D=e+104|0;e=0;do{if((o[p+(e*24|0)+20>>2]&32|0)!=0){c=o[p+(e*24|0)>>2]|0;l=o[p+(e*24|0)+4>>2]|0;f=o[D>>2]|0;s=f+(l<<3)|0;a=f+(c<<3)|0;C=+u[a>>2];d=f+(l<<3)+4|0;l=f+(c<<3)+4|0;y=+u[l>>2];P=r*+u[p+(e*24|0)+8>>2];b=P*(+u[s>>2]-C);F=P*(+u[d>>2]-y);u[a>>2]=C+b;u[l>>2]=y+F;u[s>>2]=+u[s>>2]-b;u[d>>2]=+u[d>>2]-F}e=e+1|0}while((e|0)<(i|0));h=t;return}function st(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0;r=h;i=e+44|0;if((o[i>>2]|0)>0){n=e+128|0;a=0;do{s=8784;l=o[s+4>>2]|0;c=(o[n>>2]|0)+(a<<3)|0;o[c>>2]=o[s>>2];o[c+4>>2]=l;a=a+1|0}while((a|0)<(o[i>>2]|0))}i=e+216|0;a=o[e+220>>2]|0;n=(a|0)>0;if(n){l=e+128|0;c=o[i>>2]|0;s=0;do{if((o[c+(s*24|0)+20>>2]&128|0)!=0){f=o[c+(s*24|0)>>2]|0;d=o[c+(s*24|0)+4>>2]|0;p=+u[c+(s*24|0)+8>>2];m=c+(s*24|0)+12|0;E=+u[m>>2];v=p*(1-p);p=v*E;E=v*+u[m+4>>2];m=o[l>>2]|0;b=m+(f<<3)|0;u[b>>2]=+u[b>>2]-p;b=m+(f<<3)+4|0;u[b>>2]=+u[b>>2]-E;b=m+(d<<3)|0;u[b>>2]=p+ +u[b>>2];b=m+(d<<3)+4|0;u[b>>2]=E+ +u[b>>2]}s=s+1|0}while((s|0)<(a|0))}E=+u[e+32>>2]*+u[t+4>>2];p=+u[e+356>>2]*E;v=E*+u[e+360>>2];y=E*.5;if(!n){h=r;return}n=e+116|0;t=e+128|0;s=e+104|0;e=o[i>>2]|0;i=0;do{if((o[e+(i*24|0)+20>>2]&128|0)!=0){l=o[e+(i*24|0)>>2]|0;c=o[e+(i*24|0)+4>>2]|0;b=e+(i*24|0)+12|0;E=+u[b>>2];g=+u[b+4>>2];b=o[n>>2]|0;d=o[t>>2]|0;_=p*(+u[b+(l<<2)>>2]+ +u[b+(c<<2)>>2]+-2)+v*(E*(+u[d+(c<<3)>>2]-+u[d+(l<<3)>>2])+g*(+u[d+(c<<3)+4>>2]-+u[d+(l<<3)+4>>2]));T=+u[e+(i*24|0)+8>>2]*(_<y?_:y);_=E*T;E=g*T;d=o[s>>2]|0;b=d+(l<<3)|0;u[b>>2]=+u[b>>2]-_;b=d+(l<<3)+4|0;u[b>>2]=+u[b>>2]-E;b=d+(c<<3)|0;u[b>>2]=+u[b>>2]+_;b=d+(c<<3)+4|0;u[b>>2]=+u[b>>2]+E}i=i+1|0}while((i|0)<(a|0));h=r;return}function lt(e){e=e|0;var t=0,r=0,n=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0;t=h;r=~~(+u[e+388>>2]*128);if((r|0)==0){h=t;return}n=e+220|0;s=o[n>>2]|0;if((s|0)<=0){h=t;return}l=e+216|0;c=e+88|0;f=e+136|0;e=a[8064]|0;d=s;s=0;while(1){p=o[l>>2]|0;m=o[p+(s*24|0)>>2]|0;E=o[p+(s*24|0)+4>>2]|0;p=o[c>>2]|0;if((o[p+(m<<2)>>2]&256&o[p+(E<<2)>>2]|0)==0)v=d;else{p=o[f>>2]|0;b=p+(E<<2)|0;y=p+(m<<2)|0;g=a[y>>0]|0;_=(ie((a[b>>0]|0)-g|0,r)|0)>>e;T=p+(E<<2)+1|0;w=p+(m<<2)+1|0;R=a[w>>0]|0;x=(ie((a[T>>0]|0)-R|0,r)|0)>>e;S=p+(E<<2)+2|0;M=p+(m<<2)+2|0;H=a[M>>0]|0;A=(ie((a[S>>0]|0)-H|0,r)|0)>>e;C=p+(E<<2)+3|0;E=p+(m<<2)+3|0;m=a[E>>0]|0;p=(ie((a[C>>0]|0)-m|0,r)|0)>>e;i[y>>0]=_+g;i[w>>0]=x+R;i[M>>0]=A+H;i[E>>0]=p+m;i[b>>0]=(a[b>>0]|0)-_;i[T>>0]=(a[T>>0]|0)-x;i[S>>0]=(a[S>>0]|0)-A;i[C>>0]=(a[C>>0]|0)-p;v=o[n>>2]|0}s=s+1|0;if((s|0)>=(v|0))break;else d=v}h=t;return}function ut(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0;r=h;i=e+120|0;n=o[i>>2]|0;if((n|0)==0){a=e+48|0;s=o[a>>2]|0;if((s|0)==0){ui(e,256);l=o[a>>2]|0}else l=s;s=yf(o[e+400>>2]|0,l<<2)|0;hd(s|0,0,o[a>>2]<<2|0)|0;c=s}else c=n;o[i>>2]=c;f=+u[e+32>>2]*+u[t+4>>2];d=+u[e+320>>2]*f*f;f=+u[e+376>>2]*d;p=d*.25;d=+u[e+380>>2];t=e+384|0;if((o[t>>2]|0)<=0){h=r;return}c=e+124|0;n=e+44|0;s=e+220|0;a=e+116|0;l=e+88|0;m=e+216|0;e=o[n>>2]|0;E=1;while(1){hd(o[c>>2]|0,0,e<<2|0)|0;v=o[s>>2]|0;if((v|0)>0){b=o[m>>2]|0;y=0;do{if((o[b+(y*24|0)+20>>2]&2048|0)!=0){g=o[b+(y*24|0)>>2]|0;_=o[b+(y*24|0)+4>>2]|0;T=+u[b+(y*24|0)+8>>2];w=o[i>>2]|0;R=o[c>>2]|0;x=R+(g<<2)|0;u[x>>2]=T*+u[w+(_<<2)>>2]+ +u[x>>2];x=R+(_<<2)|0;u[x>>2]=T*+u[w+(g<<2)>>2]+ +u[x>>2]}y=y+1|0}while((y|0)<(v|0))}v=o[n>>2]|0;if((v|0)>0){y=o[a>>2]|0;b=o[l>>2]|0;x=0;do{T=+u[y+(x<<2)>>2];if((o[b+(x<<2)>>2]&2048|0)==0)u[(o[i>>2]|0)+(x<<2)>>2]=0;else{S=(f*(T+-1)+ +u[(o[c>>2]|0)+(x<<2)>>2])/(d+T);T=S<p?S:p;u[(o[i>>2]|0)+(x<<2)>>2]=T<0?0:T}x=x+1|0}while((x|0)<(v|0))}if((E|0)>=(o[t>>2]|0))break;e=v;E=E+1|0}h=r;return}function ct(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0;r=h;i=e+320|0;a=e+32|0;s=+u[a>>2]*+u[t+4>>2];l=+u[i>>2]*s*s;s=+u[e+336>>2]*l;c=l*.25;f=o[e+44>>2]|0;d=(f|0)>0;if(d){p=o[e+116>>2]|0;m=o[e+124>>2]|0;E=0;do{l=+u[p+(E<<2)>>2]+-1;v=s*(l<0?0:l);u[m+(E<<2)>>2]=v<c?v:c;E=E+1|0}while((E|0)<(f|0))}E=o[e+8>>2]|0;if(!((E&192|0)==0|d^1)){m=o[e+88>>2]|0;p=e+124|0;b=0;do{if((o[m+(b<<2)>>2]&192|0)!=0)u[(o[p>>2]|0)+(b<<2)>>2]=0;b=b+1|0}while((b|0)<(f|0))}if(!((E&2048|0)==0|d^1)){d=o[e+88>>2]|0;E=e+120|0;b=e+124|0;p=0;do{if((o[d+(p<<2)>>2]&2048|0)!=0){m=(o[b>>2]|0)+(p<<2)|0;u[m>>2]=+u[(o[E>>2]|0)+(p<<2)>>2]+ +u[m>>2]}p=p+1|0}while((p|0)<(f|0))}c=+u[t>>2]/(+u[i>>2]*+u[a>>2]);a=o[e+236>>2]|0;if((a|0)>0){i=e+36|0;t=e+28|0;f=o[e+232>>2]|0;p=o[e+96>>2]|0;E=o[e+124>>2]|0;b=o[e+104>>2]|0;d=0;do{m=o[f+(d*28|0)>>2]|0;y=o[f+(d*28|0)+4>>2]|0;v=+u[f+(d*28|0)+12>>2];g=f+(d*28|0)+16|0;l=+u[g>>2];_=+u[g+4>>2];g=p+(m<<3)|0;T=+u[g>>2];w=+u[g+4>>2];R=c*v*+u[f+(d*28|0)+24>>2]*(s*v+ +u[E+(m<<2)>>2]);v=l*R;l=_*R;R=+u[i>>2]*1.3333333730697632;_=R*+u[t>>2]*R;g=b+(m<<3)|0;u[g>>2]=+u[g>>2]-v*_;g=b+(m<<3)+4|0;u[g>>2]=+u[g>>2]-l*_;if((o[y>>2]|0)==2){g=y+4|0;m=n[g>>1]|0;if((m&2)==0?(x=m&65535,(x&2|0)==0):0){S=(x|2)&65535;n[g>>1]=S;u[y+160>>2]=0;M=S}else M=m;if(!((M&2)==0)){_=+u[y+136>>2];m=y+80|0;u[m>>2]=v*_+ +u[m>>2];m=y+84|0;u[m>>2]=l*_+ +u[m>>2];m=y+88|0;u[m>>2]=+u[m>>2]+ +u[y+144>>2]*(l*(T-+u[y+60>>2])-v*(w-+u[y+64>>2]))}}d=d+1|0}while((d|0)<(a|0))}a=o[e+220>>2]|0;if((a|0)<=0){h=r;return}d=o[e+216>>2]|0;M=o[e+124>>2]|0;b=o[e+104>>2]|0;e=0;do{t=o[d+(e*24|0)>>2]|0;i=o[d+(e*24|0)+4>>2]|0;E=d+(e*24|0)+12|0;s=+u[E>>2];w=c*+u[d+(e*24|0)+8>>2]*(+u[M+(t<<2)>>2]+ +u[M+(i<<2)>>2]);v=s*w;s=+u[E+4>>2]*w;E=b+(t<<3)|0;u[E>>2]=+u[E>>2]-v;E=b+(t<<3)+4|0;u[E>>2]=+u[E>>2]-s;E=b+(i<<3)|0;u[E>>2]=v+ +u[E>>2];E=b+(i<<3)+4|0;u[E>>2]=s+ +u[E>>2];e=e+1|0}while((e|0)<(a|0));h=r;return}function ht(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0;r=h;i=+u[e+340>>2];a=1/(+u[e+32>>2]*+u[t+4>>2]);t=o[e+236>>2]|0;if((t|0)>0){s=e+36|0;l=e+28|0;c=o[e+232>>2]|0;f=o[e+96>>2]|0;d=o[e+104>>2]|0;p=0;do{m=o[c+(p*28|0)>>2]|0;E=o[c+(p*28|0)+4>>2]|0;v=c+(p*28|0)+16|0;b=+u[v>>2];y=+u[v+4>>2];v=f+(m<<3)|0;g=+u[v>>2];_=+u[v+4>>2];v=E+88|0;T=+u[v>>2];w=E+60|0;R=E+64|0;x=E+80|0;S=E+84|0;M=d+(m<<3)|0;H=+u[M>>2];A=d+(m<<3)+4|0;C=+u[A>>2];P=b*(+u[x>>2]-T*(_-+u[R>>2])-H)+y*(T*(g-+u[w>>2])+ +u[S>>2]-C);if(P<0?(T=i*+u[c+(p*28|0)+12>>2],F=a*P,D=F>-.5?-F:.5,F=P*+u[c+(p*28|0)+24>>2]*(T>D?T:D),D=b*F,b=y*F,F=+u[s>>2]*1.3333333730697632,y=F*+u[l>>2]*F,u[M>>2]=H+y*D,u[A>>2]=C+y*b,y=-D,D=-b,(o[E>>2]|0)==2):0){A=E+4|0;M=n[A>>1]|0;if((M&2)==0?(m=M&65535,(m&2|0)==0):0){k=(m|2)&65535;n[A>>1]=k;u[E+160>>2]=0;L=k}else L=M;if(!((L&2)==0)){b=+u[E+136>>2];u[x>>2]=b*y+ +u[x>>2];u[S>>2]=b*D+ +u[S>>2];u[v>>2]=+u[v>>2]+ +u[E+144>>2]*((g-+u[w>>2])*D-(_-+u[R>>2])*y)}}p=p+1|0}while((p|0)<(t|0))}t=o[e+220>>2]|0;if((t|0)<=0){h=r;return}p=o[e+216>>2]|0;L=o[e+104>>2]|0;e=0;do{l=o[p+(e*24|0)>>2]|0;s=o[p+(e*24|0)+4>>2]|0;c=p+(e*24|0)+12|0;y=+u[c>>2];_=+u[c+4>>2];c=L+(s<<3)|0;d=L+(l<<3)|0;D=+u[d>>2];f=L+(s<<3)+4|0;s=L+(l<<3)+4|0;g=+u[s>>2];b=y*(+u[c>>2]-D)+_*(+u[f>>2]-g);if(b<0){C=i*+u[p+(e*24|0)+8>>2];H=a*b;F=H>-.5?-H:.5;H=b*(C>F?C:F);F=y*H;y=_*H;u[d>>2]=D+F;u[s>>2]=g+y;u[c>>2]=+u[c>>2]-F;u[f>>2]=+u[f>>2]-y}e=e+1|0}while((e|0)<(t|0));h=r;return}function ft(e){e=e|0;var t=0,r=0,i=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0;t=h;r=o[e+236>>2]|0;if((r|0)<=0){h=t;return}i=e+96|0;a=e+104|0;s=e+36|0;l=e+28|0;c=o[e+232>>2]|0;f=o[e+88>>2]|0;e=0;do{d=o[c+(e*28|0)>>2]|0;if(((o[f+(d<<2)>>2]&2048|0)!=0?(p=o[c+(e*28|0)+4>>2]|0,m=c+(e*28|0)+16|0,E=+u[m>>2],v=+u[m+4>>2],m=(o[i>>2]|0)+(d<<3)|0,b=+u[m>>2],y=+u[m+4>>2],m=p+88|0,g=+u[m>>2],_=p+60|0,T=p+64|0,w=p+80|0,R=p+84|0,x=o[a>>2]|0,S=x+(d<<3)|0,M=+u[S>>2],H=x+(d<<3)+4|0,A=+u[H>>2],C=E*(+u[w>>2]-g*(y-+u[T>>2])-M)+v*(g*(b-+u[_>>2])+ +u[R>>2]-A),C<0):0)?(g=C*+u[c+(e*28|0)+24>>2]*.5,C=E*g,E=v*g,g=+u[s>>2]*1.3333333730697632,v=g*+u[l>>2]*g,u[S>>2]=M+C*v,u[H>>2]=A+E*v,v=-C,C=-E,(o[p>>2]|0)==2):0){H=p+4|0;S=n[H>>1]|0;if((S&2)==0?(d=S&65535,(d&2|0)==0):0){x=(d|2)&65535;n[H>>1]=x;u[p+160>>2]=0;P=x}else P=S;if(!((P&2)==0)){E=+u[p+136>>2];u[w>>2]=E*v+ +u[w>>2];u[R>>2]=E*C+ +u[R>>2];u[m>>2]=+u[m>>2]+ +u[p+144>>2]*((b-+u[_>>2])*C-(y-+u[T>>2])*v)}}e=e+1|0}while((e|0)<(r|0));h=t;return}function dt(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0;r=h;i=+u[t+4>>2]*+u[e+344>>2];n=e+268|0;a=o[n>>2]|0;if((a|0)<=0){h=r;return}s=e+264|0;l=e+96|0;c=e+104|0;e=a;a=0;while(1){f=o[s>>2]|0;if((o[f+(a*60|0)+12>>2]&16|0)==0)p=e;else{m=o[f+(a*60|0)>>2]|0;E=o[f+(a*60|0)+4>>2]|0;v=o[f+(a*60|0)+8>>2]|0;b=o[l>>2]|0;y=b+(m<<3)|0;g=+u[y>>2];_=+u[y+4>>2];y=b+(E<<3)|0;T=+u[y>>2];w=+u[y+4>>2];y=b+(v<<3)|0;R=+u[y>>2];b=o[c>>2]|0;x=+u[t>>2];S=b+(m<<3)|0;M=+u[S>>2];H=b+(m<<3)+4|0;A=+u[H>>2];C=g+x*M;g=_+x*A;m=b+(E<<3)|0;P=b+(E<<3)+4|0;_=T+x*+u[m>>2];T=w+x*+u[P>>2];E=b+(v<<3)|0;F=b+(v<<3)+4|0;w=R+x*+u[E>>2];R=+u[y+4>>2]+x*+u[F>>2];x=(C+_+w)*.3333333432674408;D=(g+T+R)*.3333333432674408;k=C-x;C=g-D;g=_-x;_=T-D;T=w-x;x=R-D;D=+u[f+(a*60|0)+20>>2];R=+u[f+(a*60|0)+24>>2];y=f+(a*60|0)+28|0;w=+u[y>>2];v=f+(a*60|0)+32|0;L=+u[v>>2];b=f+(a*60|0)+36|0;B=+u[b>>2];O=f+(a*60|0)+40|0;N=+u[O>>2];I=D*C-R*k+(w*_-L*g)+(B*x-T*N);V=D*k+R*C+(w*g+L*_)+(T*B+x*N);N=I*I+V*V;B=(o[d>>2]=1597463007-((u[d>>2]=N,o[d>>2]|0)>>1),+u[d>>2]);L=B*(1.5-B*N*.5*B);B=I*L;I=V*L;L=i*+u[f+(a*60|0)+16>>2];u[S>>2]=M+L*(D*I-R*B-k);u[H>>2]=A+L*(D*B+R*I-C);C=+u[y>>2];R=+u[v>>2];u[m>>2]=+u[m>>2]+L*(C*I-R*B-g);u[P>>2]=+u[P>>2]+L*(C*B+R*I-_);_=+u[b>>2];R=+u[O>>2];u[E>>2]=+u[E>>2]+L*(_*I-R*B-T);u[F>>2]=+u[F>>2]+L*(_*B+R*I-x);p=o[n>>2]|0}a=a+1|0;if((a|0)>=(p|0))break;else e=p}h=r;return}function pt(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0;r=h;i=+u[t+4>>2]*+u[e+348>>2];n=o[e+252>>2]|0;if((n|0)<=0){h=r;return}a=e+96|0;s=e+104|0;l=o[e+248>>2]|0;e=0;do{if((o[l+(e*20|0)+8>>2]&8|0)!=0){c=o[l+(e*20|0)>>2]|0;f=o[l+(e*20|0)+4>>2]|0;d=o[a>>2]|0;p=d+(c<<3)|0;m=+u[p>>2];E=+u[p+4>>2];p=d+(f<<3)|0;v=+u[p>>2];d=o[s>>2]|0;b=+u[t>>2];y=d+(c<<3)|0;g=+u[y>>2];_=d+(c<<3)+4|0;T=+u[_>>2];c=d+(f<<3)|0;w=d+(f<<3)+4|0;R=v+b*+u[c>>2]-(m+b*g);m=+u[p+4>>2]+b*+u[w>>2]-(E+b*T);b=+j(+(R*R+m*m));E=(+u[l+(e*20|0)+16>>2]-b)*i*+u[l+(e*20|0)+12>>2]/b;b=R*E;R=m*E;u[y>>2]=g-b;u[_>>2]=T-R;u[c>>2]=b+ +u[c>>2];u[w>>2]=R+ +u[w>>2]}e=e+1|0}while((e|0)<(n|0));h=r;return}function mt(e){e=e|0;var t=0,r=0,i=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0;t=h;r=+u[e+340>>2];i=e+236|0;if((o[i>>2]|0)>0){a=e+232|0;s=e+144|0;l=e+96|0;c=0;do{f=o[a>>2]|0;d=o[f+(c*28|0)>>2]|0;p=o[(o[s>>2]|0)+(d<<2)>>2]|0;if(((p|0)!=0?(o[p+12>>2]&2|0)!=0:0)?(m=o[f+(c*28|0)+4>>2]|0,E=f+(c*28|0)+16|0,v=+u[E>>2],b=+u[E+4>>2],y=+u[f+(c*28|0)+12>>2],f=(o[l>>2]|0)+(d<<3)|0,g=+u[f>>2],_=+u[f+4>>2],f=m+88|0,T=+u[f>>2],d=m+60|0,E=m+64|0,w=m+80|0,R=+u[w>>2]-T*(_-+u[E>>2]),x=m+84|0,S=T*(g-+u[d>>2])+ +u[x>>2],ti(p),M=p+56|0,T=+u[M>>2],H=p+48|0,A=p+52|0,C=v*(R-(+u[H>>2]-T*(_-+u[p+44>>2])))+b*(S-(T*(g-+u[p+40>>2])+ +u[A>>2])),C<0):0){ti(p);T=+u[p+32>>2];ti(p);S=+u[p+36>>2];ti(p);P=p+40|0;R=+u[P>>2];if(T>0)F=1/T;else F=0;if(S>0)D=1/S;else D=0;S=b*(g-R)-v*(_-+u[P+4>>2]);R=+u[m+132>>2];T=+u[m+44>>2];k=+u[m+48>>2];L=R*(T*T+k*k);k=+u[m+140>>2]+L-L;if(R>0)B=1/R;else B=0;if(k>0)O=1/k;else O=0;k=b*(g-+u[d>>2])-v*(_-+u[E>>2]);R=F+S*S*D+B+k*O*k;if(R>0)N=C/R;else N=0;R=r*(y<1?y:1)*N;y=F*R;u[H>>2]=+u[H>>2]+v*y;u[A>>2]=+u[A>>2]+b*y;u[M>>2]=D*S*R+ +u[M>>2];S=-R;R=v*S;v=b*S;if((o[m>>2]|0)==2){M=m+4|0;A=n[M>>1]|0;if((A&2)==0?(H=A&65535,(H&2|0)==0):0){P=(H|2)&65535;n[M>>1]=P;u[m+160>>2]=0;I=P}else I=A;if(!((I&2)==0)){S=+u[m+136>>2];u[w>>2]=R*S+ +u[w>>2];u[x>>2]=v*S+ +u[x>>2];u[f>>2]=+u[f>>2]+ +u[m+144>>2]*(v*(g-+u[d>>2])-R*(_-+u[E>>2]))}}}c=c+1|0}while((c|0)<(o[i>>2]|0))}i=e+220|0;if((o[i>>2]|0)<=0){h=t;return}c=e+216|0;I=e+144|0;l=e+96|0;s=e+104|0;a=e+88|0;E=e+32|0;d=e+320|0;e=0;do{m=o[c>>2]|0;f=o[m+(e*24|0)>>2]|0;x=o[m+(e*24|0)+4>>2]|0;w=m+(e*24|0)+12|0;D=+u[w>>2];F=+u[w+4>>2];N=+u[m+(e*24|0)+8>>2];m=o[I>>2]|0;w=o[m+(f<<2)>>2]|0;A=o[m+(x<<2)>>2]|0;m=(w|0)==0;if(m)V=0;else V=(o[w+12>>2]&2|0)!=0;P=(A|0)==0;if(P)U=0;else U=(o[A+12>>2]&2|0)!=0;do{if((w|0)!=(A|0)&(V|U)){M=o[l>>2]|0;O=(+u[M+(f<<3)>>2]+ +u[M+(x<<3)>>2])*.5;B=(+u[M+(f<<3)+4>>2]+ +u[M+(x<<3)+4>>2])*.5;if(!P?(o[A+12>>2]&2|0)!=0:0){ti(A);_=+u[A+56>>2];z=+u[A+48>>2]-_*(B-+u[A+44>>2]);G=_*(O-+u[A+40>>2])+ +u[A+52>>2]}else{M=(o[s>>2]|0)+(x<<3)|0;_=+u[M>>2];z=_;G=+u[M+4>>2]}if(!m?(o[w+12>>2]&2|0)!=0:0){ti(w);_=+u[w+56>>2];W=+u[w+48>>2]-_*(B-+u[w+44>>2]);j=_*(O-+u[w+40>>2])+ +u[w+52>>2]}else{M=(o[s>>2]|0)+(f<<3)|0;_=+u[M>>2];W=_;j=+u[M+4>>2]}_=F*(G-j)+D*(z-W);if(_<0){if(V){ti(w);R=+u[w+32>>2];ti(w);g=+u[w+36>>2];ti(w);M=w+40|0;v=+u[M>>2];if(R>0)J=1/R;else J=0;if(g>0)X=1/g;else X=0;q=X;Y=J;K=F*(O-v)-D*(B-+u[M+4>>2])}else{if((o[(o[a>>2]|0)+(f<<2)>>2]&4|0)==0?(v=+u[E>>2]*.75,g=v*+u[d>>2]*v,g>0):0)Z=1/g;else Z=0;q=0;Y=Z;K=F*(O-O)-D*(B-B)}if(U){ti(A);g=+u[A+32>>2];ti(A);v=+u[A+36>>2];ti(A);M=A+40|0;R=+u[M>>2];if(g>0)Q=1/g;else Q=0;if(v>0)$=1/v;else $=0;ee=Q;te=$;re=F*(O-R)-D*(B-+u[M+4>>2])}else{if((o[(o[a>>2]|0)+(x<<2)>>2]&4|0)==0?(R=+u[E>>2]*.75,v=R*+u[d>>2]*R,v>0):0)ie=1/v;else ie=0;ee=ie;te=0;re=F*(O-O)-D*(B-B)}B=Y+K*q*K+ee+re*te*re;if(B>0)ne=_/B;else ne=0;B=r*N*ne;if(V){_=Y*B;M=w+48|0;u[M>>2]=D*_+ +u[M>>2];M=w+52|0;u[M>>2]=F*_+ +u[M>>2];M=w+56|0;u[M>>2]=q*K*B+ +u[M>>2]}else{M=o[s>>2]|0;_=Y*B;H=M+(f<<3)|0;u[H>>2]=D*_+ +u[H>>2];H=M+(f<<3)+4|0;u[H>>2]=F*_+ +u[H>>2]}_=-B;if(U){B=ee*_;H=A+48|0;u[H>>2]=D*B+ +u[H>>2];H=A+52|0;u[H>>2]=F*B+ +u[H>>2];H=A+56|0;u[H>>2]=te*re*_+ +u[H>>2];break}else{H=o[s>>2]|0;B=ee*_;M=H+(x<<3)|0;u[M>>2]=D*B+ +u[M>>2];M=H+(x<<3)+4|0;u[M>>2]=F*B+ +u[M>>2];break}}}}while(0);e=e+1|0}while((e|0)<(o[i>>2]|0));h=t;return}function Et(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;r=h;i=o[e+312>>2]|0;if((i|0)==0){h=r;return}n=t+4|0;a=e+104|0;s=e+96|0;e=i;do{if((o[e+12>>2]&2|0)!=0?(ti(e),l=+u[t>>2],c=l*+u[e+56>>2],f=+q(+c),d=+X(+c),c=+u[e+40>>2],p=+u[e+44>>2],m=l*+u[e+48>>2]+c-(d*c-f*p),E=l*+u[e+52>>2]+p-(f*c+d*p),i=e+60|0,p=+u[e+72>>2],c=+u[e+68>>2],l=+(f*p+d*c),v=+(d*p-f*c),c=+u[i>>2],p=+u[e+64>>2],b=+(m+(d*c-f*p)),y=+(E+(f*c+d*p)),g=i,u[g>>2]=b,u[g+4>>2]=y,g=e+68|0,u[g>>2]=l,u[g+4>>2]=v,v=+u[n>>2],l=m*v,m=E*v,E=f*v,f=(d+-1)*v,g=o[e+4>>2]|0,i=e+8|0,(g|0)<(o[i>>2]|0)):0){_=g;do{g=o[s>>2]|0;v=+u[g+(_<<3)>>2];d=+u[g+(_<<3)+4>>2];y=+(l+(f*v-E*d));b=+(m+(E*v+f*d));g=(o[a>>2]|0)+(_<<3)|0;u[g>>2]=y;u[g+4>>2]=b;_=_+1|0}while((_|0)<(o[i>>2]|0))}e=o[e+24>>2]|0}while((e|0)!=0);h=r;return}function vt(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,s=0,l=0,c=0;a=h;s=+(r-t|0);l=+u[n>>2]/s;c=+u[n+4>>2]/s;if(!(l!=0|c!=0)){h=a;return}n=e+21|0;if((i[n>>0]|0)==0){hd(o[e+112>>2]|0,0,o[e+44>>2]<<3|0)|0;i[n>>0]=1}if((t|0)>=(r|0)){h=a;return}n=o[e+112>>2]|0;e=t;do{t=n+(e<<3)|0;u[t>>2]=l+ +u[t>>2];t=n+(e<<3)+4|0;u[t>>2]=c+ +u[t>>2];e=e+1|0}while((e|0)!=(r|0));h=a;return}function bt(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0;n=h;a=+u[e+32>>2]*.75;s=+(r-t|0)*a*+u[e+320>>2]*a;a=+u[i>>2]/s;l=+u[i+4>>2]/s;if((t|0)>=(r|0)){h=n;return}i=o[e+104>>2]|0;e=t;do{t=i+(e<<3)|0;u[t>>2]=a+ +u[t>>2];t=i+(e<<3)+4|0;u[t>>2]=l+ +u[t>>2];e=e+1|0}while((e|0)!=(r|0));h=n;return}function yt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0;i=h;n=o[e+204>>2]|0;if((n|0)==0){h=i;return}a=o[e+200>>2]|0;s=+u[e+36>>2];l=+u[r>>2];c=r+4|0;f=(~~(s*+u[c>>2]+2048)>>>0<<20)+(~~(s*l*256+524288)>>>0)|0;d=a;p=n<<3>>3;e:while(1){m=p;while(1){if((m|0)==0)break e;E=(m|0)/2|0;if((o[d+(E<<3)+4>>2]|0)>>>0<f>>>0)break;else m=E}d=d+(E+1<<3)|0;p=m+-1-E|0}E=r+8|0;p=r+12|0;f=(~~(s*+u[p>>2]+2048)>>>0<<20)+(~~(s*+u[E>>2]*256+524288)>>>0)|0;v=d;b=a+(n<<3)-d>>3;e:while(1){n=b;while(1){if((n|0)==0)break e;y=(n|0)/2|0;if((o[v+(y<<3)+4>>2]|0)>>>0>f>>>0)n=y;else break}v=v+(y+1<<3)|0;b=n+-1-y|0}if(!(d>>>0<v>>>0)){h=i;return}y=e+96|0;s=l;b=d;while(1){d=o[b>>2]|0;f=o[y>>2]|0;l=+u[f+(d<<3)>>2];if((((s<l?l<+u[E>>2]:0)?(l=+u[f+(d<<3)+4>>2],+u[c>>2]<l):0)?l<+u[p>>2]:0)?!(mp[o[(o[t>>2]|0)+12>>2]&15](t,e,d)|0):0){g=21;break}d=b+8|0;if(!(d>>>0<v>>>0)){g=21;break}s=+u[r>>2];b=d}if((g|0)==21){h=i;return}}function gt(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0;n=h;h=h+64|0;a=n;s=n+32|0;l=n+24|0;c=n+16|0;if((o[e+204>>2]|0)==0){h=n;return}f=+u[r>>2];d=+u[i>>2];p=r+4|0;m=+u[p>>2];E=+u[i+4>>2];v=+(f<d?f:d);b=+(m<E?m:E);i=a;u[i>>2]=v;u[i+4>>2]=b;b=+(f>d?f:d);v=+(m>E?m:E);i=a+8|0;u[i>>2]=b;u[i+4>>2]=v;v=d-f;f=E-m;m=v*v+f*f;Mi(s,e,a);a=s+16|0;i=o[s+20>>2]|0;y=s+4|0;g=e+96|0;_=e+40|0;T=l+4|0;w=c+4|0;R=o[a>>2]|0;E=1;e:while(1){if(!(R>>>0<i>>>0)){x=16;break}S=o[s>>2]|0;M=o[y>>2]|0;H=R;while(1){A=o[H+4>>2]&1048575;C=H;H=H+8|0;o[a>>2]=H;if(A>>>0<S>>>0|A>>>0>M>>>0)if(H>>>0<i>>>0){H=H;continue}else{x=16;break e}P=o[C>>2]|0;if(!((P|0)>-1)){x=16;break e}C=o[g>>2]|0;F=+u[r>>2];D=F-+u[C+(P<<3)>>2];k=+u[p>>2];L=k-+u[C+(P<<3)+4>>2];d=v*D+f*L;b=d*d-m*(D*D+L*L-+u[_>>2]);if(b>=0?(B=+j(+b),b=(-d-B)/m,!(b>E)):0){if(!(b<0)){O=b;break}b=(B-d)/m;if(!(b<0|b>E)){O=b;break}}if(!(H>>>0<i>>>0)){x=16;break e}}b=v*O;d=f*O;B=D+b;N=L+d;u[l>>2]=B;u[T>>2]=N;I=+j(+(B*B+N*N));if(!(I<1.1920928955078125E-7)){V=1/I;u[l>>2]=B*V;u[T>>2]=N*V}M=o[(o[t>>2]|0)+12>>2]|0;u[c>>2]=b+F;u[w>>2]=d+k;d=+lp[M&1](t,e,P,c,l,O);E=E<d?E:d;if(E<=0){x=16;break}else R=H}if((x|0)==16){h=n;return}}function _t(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0;n=h;o=((r+-4+(0-t)|0)>>>2)+1|0;s=e;l=t;u=t;while(1){t=a[s>>0]|a[s+1>>0]<<8|a[s+2>>0]<<16|a[s+3>>0]<<24;c=u+1|0;f=i[c>>0]|0;d=u+2|0;p=i[d>>0]|0;m=u+3|0;E=i[m>>0]|0;i[s>>0]=i[u>>0]|0;i[s+1>>0]=f;i[s+2>>0]=p;i[s+3>>0]=E;i[u>>0]=t;i[c>>0]=t>>>8;i[d>>0]=t>>>16;i[m>>0]=t>>>24;t=s+4|0;m=u+4|0;v=(t|0)==(l|0);if((m|0)==(r|0))break;s=t;l=v?m:l;u=m}u=e+(o<<2)|0;if(v){h=n;return u|0}else{b=u;y=l;g=l}e:while(1){l=b;v=g;while(1){o=a[l>>0]|a[l+1>>0]<<8|a[l+2>>0]<<16|a[l+3>>0]<<24;e=v+1|0;s=i[e>>0]|0;m=v+2|0;t=i[m>>0]|0;d=v+3|0;c=i[d>>0]|0;i[l>>0]=i[v>>0]|0;i[l+1>>0]=s;i[l+2>>0]=t;i[l+3>>0]=c;i[v>>0]=o;i[e>>0]=o>>>8;i[m>>0]=o>>>16;i[d>>0]=o>>>24;l=l+4|0;_=v+4|0;T=(l|0)==(y|0);if((_|0)!=(r|0))break;if(T)break e;else v=y}b=l;y=T?_:y;g=_}h=n;return u|0}function Tt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0;i=h;n=e;e=t;e:while(1){t=e;a=e+-4|0;s=n;t:while(1){l=s;u=t-l|0;c=u>>2;switch(c|0){case 2:f=4;break e;break;case 3:f=6;break e;break;case 5:f=8;break e;break;case 4:f=7;break e;break;case 1:case 0:f=51;break e;break;default:}if((u|0)<124){f=10;break e}d=(c|0)/2|0;p=s+(d<<2)|0;if((u|0)>3996){u=(c|0)/4|0;m=xt(s,s+(u<<2)|0,p,s+(u+d<<2)|0,a,r)|0}else m=wt(s,p,a,o[r>>2]|0)|0;d=o[s>>2]|0;u=o[r>>2]|0;c=o[u+(d<<2)>>2]|0;E=o[u+(o[p>>2]<<2)>>2]|0;v=+(c|0)<=0;b=+(E|0)<=0;do{if(v^b?v:(c|0)>(E|0)){y=a;g=m}else{_=a;while(1){_=_+-4|0;if((s|0)==(_|0))break;T=o[_>>2]|0;w=o[u+(T<<2)>>2]|0;R=+(w|0)<=0;if(R^b?R:(w|0)>(E|0)){f=34;break}}if((f|0)==34){f=0;o[s>>2]=T;o[_>>2]=d;y=_;g=m+1|0;break}w=s+4|0;R=o[a>>2]|0;x=o[u+(R<<2)>>2]|0;if(v^+(x|0)<=0?v:(c|0)>(x|0))S=w;else{if((w|0)==(a|0)){f=51;break e}else M=w;while(1){H=o[M>>2]|0;w=o[u+(H<<2)>>2]|0;A=M+4|0;if(v^+(w|0)<=0?v:(c|0)>(w|0))break;if((A|0)==(a|0)){f=51;break e}else M=A}o[M>>2]=R;o[a>>2]=H;S=A}if((S|0)==(a|0)){f=51;break e}else{C=S;P=a}while(1){_=o[u+(o[s>>2]<<2)>>2]|0;w=+(_|0)<=0;x=C;while(1){F=o[x>>2]|0;D=o[u+(F<<2)>>2]|0;k=x+4|0;if(w^+(D|0)<=0?w:(_|0)>(D|0)){L=P;break}else x=k}do{L=L+-4|0;B=o[L>>2]|0;D=o[u+(B<<2)>>2]|0}while(w^+(D|0)<=0?w:(_|0)>(D|0));if(!(x>>>0<L>>>0)){s=x;continue t}o[x>>2]=B;o[L>>2]=F;C=k;P=L}}}while(0);c=s+4|0;r:do{if(c>>>0<y>>>0){v=c;d=y;E=p;b=g;while(1){R=o[u+(o[E>>2]<<2)>>2]|0;_=+(R|0)<=0;w=v;while(1){O=o[w>>2]|0;D=o[u+(O<<2)>>2]|0;N=+(D|0)<=0;I=w+4|0;if(N^_?N:(D|0)>(R|0))w=I;else{V=d;break}}do{V=V+-4|0;U=o[V>>2]|0;x=o[u+(U<<2)>>2]|0;D=+(x|0)<=0}while(!(D^_?D:(x|0)>(R|0)));if(w>>>0>V>>>0){z=w;G=E;W=b;break r}o[w>>2]=U;o[V>>2]=O;v=I;d=V;E=(E|0)==(w|0)?V:E;b=b+1|0}}else{z=c;G=p;W=g}}while(0);if((z|0)!=(G|0)?(p=o[G>>2]|0,c=o[z>>2]|0,b=o[u+(p<<2)>>2]|0,E=o[u+(c<<2)>>2]|0,d=+(b|0)<=0,d^+(E|0)<=0?d:(b|0)>(E|0)):0){o[z>>2]=p;o[G>>2]=c;j=W+1|0}else j=W;if((j|0)==0){J=St(s,z,r)|0;c=z+4|0;if(St(c,e,r)|0){f=46;break}if(J){s=c;continue}}c=z;if((c-l|0)>=(t-c|0)){f=50;break}Tt(s,z,r);s=z+4|0}if((f|0)==46){f=0;if(J){f=51;break}else{n=s;e=z;continue}}else if((f|0)==50){f=0;Tt(z+4|0,e,r);n=s;e=z;continue}}if((f|0)==4){z=o[a>>2]|0;n=o[s>>2]|0;J=o[r>>2]|0;j=o[J+(z<<2)>>2]|0;W=o[J+(n<<2)>>2]|0;J=+(j|0)<=0;if(!(J^+(W|0)<=0?J:(j|0)>(W|0))){h=i;return}o[s>>2]=z;o[a>>2]=n;h=i;return}else if((f|0)==6){wt(s,s+4|0,a,o[r>>2]|0)|0;h=i;return}else if((f|0)==7){Rt(s,s+4|0,s+8|0,a,r)|0;h=i;return}else if((f|0)==8){xt(s,s+4|0,s+8|0,s+12|0,a,r)|0;h=i;return}else if((f|0)==10){a=s+8|0;wt(s,s+4|0,a,o[r>>2]|0)|0;n=s+12|0;if((n|0)==(e|0)){h=i;return}z=o[r>>2]|0;r=n;n=a;while(1){a=o[r>>2]|0;W=o[n>>2]|0;j=z+(a<<2)|0;J=o[j>>2]|0;G=o[z+(W<<2)>>2]|0;g=+(J|0)<=0;if(g^+(G|0)<=0?g:(J|0)>(G|0)){G=W;W=r;J=n;while(1){o[W>>2]=G;if((J|0)==(s|0)){X=s;break}g=J+-4|0;G=o[g>>2]|0;V=o[j>>2]|0;I=o[z+(G<<2)>>2]|0;O=+(V|0)<=0;if(!(O^+(I|0)<=0?O:(V|0)>(I|0))){X=J;break}else{I=J;J=g;W=I}}o[X>>2]=a}W=r+4|0;if((W|0)==(e|0))break;else{J=r;r=W;n=J}}h=i;return}else if((f|0)==51){h=i;return}}function wt(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0;n=h;a=o[t>>2]|0;s=o[e>>2]|0;l=o[i+(a<<2)>>2]|0;u=i+(s<<2)|0;c=o[u>>2]|0;f=+(l|0)<=0;d=o[r>>2]|0;p=o[i+(d<<2)>>2]|0;m=+(p|0)<=0;E=m^f?m:(p|0)>(l|0);if(!(f^+(c|0)<=0?f:(l|0)>(c|0))){if(!E){v=0;h=n;return v|0}o[t>>2]=d;o[r>>2]=a;c=o[t>>2]|0;l=o[e>>2]|0;f=o[i+(c<<2)>>2]|0;p=o[i+(l<<2)>>2]|0;m=+(f|0)<=0;if(!(m^+(p|0)<=0?m:(f|0)>(p|0))){v=1;h=n;return v|0}o[e>>2]=c;o[t>>2]=l;v=2;h=n;return v|0}if(E){o[e>>2]=d;o[r>>2]=s;v=1;h=n;return v|0}o[e>>2]=a;o[t>>2]=s;a=o[r>>2]|0;e=o[i+(a<<2)>>2]|0;i=o[u>>2]|0;u=+(e|0)<=0;if(!(u^+(i|0)<=0?u:(e|0)>(i|0))){v=1;h=n;return v|0}o[t>>2]=a;o[r>>2]=s;v=2;h=n;return v|0}function Rt(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0;a=h;s=wt(e,t,r,o[n>>2]|0)|0;l=o[i>>2]|0;u=o[r>>2]|0;c=o[n>>2]|0;n=o[c+(l<<2)>>2]|0;f=o[c+(u<<2)>>2]|0;d=+(n|0)<=0;if(!(d^+(f|0)<=0?d:(n|0)>(f|0))){p=s;h=a;return p|0}o[r>>2]=l;o[i>>2]=u;u=o[r>>2]|0;i=o[t>>2]|0;l=o[c+(u<<2)>>2]|0;f=o[c+(i<<2)>>2]|0;n=+(l|0)<=0;if(!(n^+(f|0)<=0?n:(l|0)>(f|0))){p=s+1|0;h=a;return p|0}o[t>>2]=u;o[r>>2]=i;i=o[t>>2]|0;r=o[e>>2]|0;u=o[c+(i<<2)>>2]|0;f=o[c+(r<<2)>>2]|0;c=+(u|0)<=0;if(!(c^+(f|0)<=0?c:(u|0)>(f|0))){p=s+2|0;h=a;return p|0}o[e>>2]=i;o[t>>2]=r;p=s+3|0;h=a;return p|0}function xt(e,t,r,i,n,a){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0;s=h;l=Rt(e,t,r,i,a)|0;u=o[n>>2]|0;c=o[i>>2]|0;f=o[a>>2]|0;a=o[f+(u<<2)>>2]|0;d=o[f+(c<<2)>>2]|0;p=+(a|0)<=0;if(!(p^+(d|0)<=0?p:(a|0)>(d|0))){m=l;h=s;return m|0}o[i>>2]=u;o[n>>2]=c;c=o[i>>2]|0;n=o[r>>2]|0;u=o[f+(c<<2)>>2]|0;d=o[f+(n<<2)>>2]|0;a=+(u|0)<=0;if(!(a^+(d|0)<=0?a:(u|0)>(d|0))){m=l+1|0;h=s;return m|0}o[r>>2]=c;o[i>>2]=n;n=o[r>>2]|0;i=o[t>>2]|0;c=o[f+(n<<2)>>2]|0;d=o[f+(i<<2)>>2]|0;u=+(c|0)<=0;if(!(u^+(d|0)<=0?u:(c|0)>(d|0))){m=l+2|0;h=s;return m|0}o[t>>2]=n;o[r>>2]=i;i=o[t>>2]|0;r=o[e>>2]|0;n=o[f+(i<<2)>>2]|0;d=o[f+(r<<2)>>2]|0;f=+(n|0)<=0;if(!(f^+(d|0)<=0?f:(n|0)>(d|0))){m=l+3|0;h=s;return m|0}o[e>>2]=i;o[t>>2]=r;m=l+4|0;h=s;return m|0}function St(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;i=h;switch(t-e>>2|0){case 3:wt(e,e+4|0,t+-4|0,o[r>>2]|0)|0;n=1;h=i;return n|0;case 2:a=t+-4|0;s=o[a>>2]|0;l=o[e>>2]|0;u=o[r>>2]|0;c=o[u+(s<<2)>>2]|0;f=o[u+(l<<2)>>2]|0;u=+(c|0)<=0;if(!(u^+(f|0)<=0?u:(c|0)>(f|0))){n=1;h=i;return n|0}o[e>>2]=s;o[a>>2]=l;n=1;h=i;return n|0;case 4:Rt(e,e+4|0,e+8|0,t+-4|0,r)|0;n=1;h=i;return n|0;case 1:case 0:n=1;h=i;return n|0;case 5:xt(e,e+4|0,e+8|0,e+12|0,t+-4|0,r)|0;n=1;h=i;return n|0;default:l=e+8|0;wt(e,e+4|0,l,o[r>>2]|0)|0;a=e+12|0;if((a|0)==(t|0)){n=1;h=i;return n|0}s=o[r>>2]|0;r=0;f=a;a=l;while(1){l=o[f>>2]|0;c=o[a>>2]|0;u=s+(l<<2)|0;d=o[u>>2]|0;p=o[s+(c<<2)>>2]|0;m=+(d|0)<=0;if(m^+(p|0)<=0?m:(d|0)>(p|0)){p=c;c=f;d=a;while(1){o[c>>2]=p;if((d|0)==(e|0)){E=e;break}m=d+-4|0;p=o[m>>2]|0;v=o[u>>2]|0;b=o[s+(p<<2)>>2]|0;y=+(v|0)<=0;if(!(y^+(b|0)<=0?y:(v|0)>(b|0))){E=d;break}else{b=d;d=m;c=b}}o[E>>2]=l;c=r+1|0;if((c|0)==8)break;else g=c}else g=r;c=f+4|0;if((c|0)==(t|0)){n=1;_=15;break}else{d=f;r=g;f=c;a=d}}if((_|0)==15){h=i;return n|0}n=(f+4|0)==(t|0);h=i;return n|0}return 0}function Mt(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0;r=h;h=h+32|0;i=r+16|0;n=r+8|0;a=r;s=e+4|0;l=e+8|0;if((o[t>>2]|0)==(o[s>>2]|0)){c=o[l>>2]|0;o[e+8>>2]=c+1;if((c|0)>3){c=o[e+12>>2]|0;o[c>>2]=(o[c>>2]|0)+1;f=1;h=r;return f|0}}else{o[l>>2]=0;o[s>>2]=o[t>>2];o[e+8>>2]=1}s=t+16|0;d=+u[s>>2];l=o[e>>2]|0;p=+u[l+32>>2]*(1-+u[t+12>>2]);c=o[t>>2]|0;m=o[l+96>>2]|0;E=+u[s+4>>2]*p+ +u[m+(c<<3)+4>>2];u[i>>2]=+u[m+(c<<3)>>2]+d*p;u[i+4>>2]=E;c=t+8|0;t=o[c>>2]|0;m=o[t+12>>2]|0;if(mp[o[(o[m>>2]|0)+16>>2]&15](m,(o[t+8>>2]|0)+12|0,i)|0){f=0;h=r;return f|0}t=o[(o[c>>2]|0)+12>>2]|0;m=up[o[(o[t>>2]|0)+12>>2]&7](t)|0;e:do{if((m|0)>0){t=0;while(1){s=o[c>>2]|0;l=o[s+12>>2]|0;gp[o[(o[l>>2]|0)+20>>2]&7](l,(o[s+8>>2]|0)+12|0,i,n,a,t);t=t+1|0;if(+u[n>>2]<.004999999888241291){f=0;break}if((t|0)>=(m|0))break e}h=r;return f|0}}while(0);m=o[e+12>>2]|0;o[m>>2]=(o[m>>2]|0)+1;f=1;h=r;return f|0}function Ht(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0;i=h;h=h+32|0;n=i;a=e;e=t;e:while(1){t=e;s=e+-28|0;l=a;t:while(1){u=l;c=t-u|0;switch((c|0)/28|0|0){case 4:f=14;break e;break;case 3:f=6;break e;break;case 5:f=15;break e;break;case 1:case 0:f=67;break e;break;case 2:f=4;break e;break;default:}if((c|0)<868){f=21;break e}d=(c|0)/56|0;p=l+(d*28|0)|0;do{if((c|0)>27972){m=(c|0)/112|0;E=l+(m*28|0)|0;v=l+((m+d|0)*28|0)|0;m=At(l,E,p,v,r)|0;if(_p[o[r>>2]&31](s,v)|0){o[n+0>>2]=o[v+0>>2];o[n+4>>2]=o[v+4>>2];o[n+8>>2]=o[v+8>>2];o[n+12>>2]=o[v+12>>2];o[n+16>>2]=o[v+16>>2];o[n+20>>2]=o[v+20>>2];o[n+24>>2]=o[v+24>>2];o[v+0>>2]=o[s+0>>2];o[v+4>>2]=o[s+4>>2];o[v+8>>2]=o[s+8>>2];o[v+12>>2]=o[s+12>>2];o[v+16>>2]=o[s+16>>2];o[v+20>>2]=o[s+20>>2];o[v+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];b=m+1|0;if(_p[o[r>>2]&31](v,p)|0){o[n+0>>2]=o[p+0>>2];o[n+4>>2]=o[p+4>>2];o[n+8>>2]=o[p+8>>2];o[n+12>>2]=o[p+12>>2];o[n+16>>2]=o[p+16>>2];o[n+20>>2]=o[p+20>>2];o[n+24>>2]=o[p+24>>2];o[p+0>>2]=o[v+0>>2];o[p+4>>2]=o[v+4>>2];o[p+8>>2]=o[v+8>>2];o[p+12>>2]=o[v+12>>2];o[p+16>>2]=o[v+16>>2];o[p+20>>2]=o[v+20>>2];o[p+24>>2]=o[v+24>>2];o[v+0>>2]=o[n+0>>2];o[v+4>>2]=o[n+4>>2];o[v+8>>2]=o[n+8>>2];o[v+12>>2]=o[n+12>>2];o[v+16>>2]=o[n+16>>2];o[v+20>>2]=o[n+20>>2];o[v+24>>2]=o[n+24>>2];v=m+2|0;if(_p[o[r>>2]&31](p,E)|0){o[n+0>>2]=o[E+0>>2];o[n+4>>2]=o[E+4>>2];o[n+8>>2]=o[E+8>>2];o[n+12>>2]=o[E+12>>2];o[n+16>>2]=o[E+16>>2];o[n+20>>2]=o[E+20>>2];o[n+24>>2]=o[E+24>>2];o[E+0>>2]=o[p+0>>2];o[E+4>>2]=o[p+4>>2];o[E+8>>2]=o[p+8>>2];o[E+12>>2]=o[p+12>>2];o[E+16>>2]=o[p+16>>2];o[E+20>>2]=o[p+20>>2];o[E+24>>2]=o[p+24>>2];o[p+0>>2]=o[n+0>>2];o[p+4>>2]=o[n+4>>2];o[p+8>>2]=o[n+8>>2];o[p+12>>2]=o[n+12>>2];o[p+16>>2]=o[n+16>>2];o[p+20>>2]=o[n+20>>2];o[p+24>>2]=o[n+24>>2];if(_p[o[r>>2]&31](E,l)|0){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[E+0>>2];o[l+4>>2]=o[E+4>>2];o[l+8>>2]=o[E+8>>2];o[l+12>>2]=o[E+12>>2];o[l+16>>2]=o[E+16>>2];o[l+20>>2]=o[E+20>>2];o[l+24>>2]=o[E+24>>2];o[E+0>>2]=o[n+0>>2];o[E+4>>2]=o[n+4>>2];o[E+8>>2]=o[n+8>>2];o[E+12>>2]=o[n+12>>2];o[E+16>>2]=o[n+16>>2];o[E+20>>2]=o[n+20>>2];o[E+24>>2]=o[n+24>>2];y=m+4|0}else y=m+3|0}else y=v}else y=b}else y=m}else{m=_p[o[r>>2]&31](p,l)|0;b=_p[o[r>>2]&31](s,p)|0;if(!m){if(!b){y=0;break}o[n+0>>2]=o[p+0>>2];o[n+4>>2]=o[p+4>>2];o[n+8>>2]=o[p+8>>2];o[n+12>>2]=o[p+12>>2];o[n+16>>2]=o[p+16>>2];o[n+20>>2]=o[p+20>>2];o[n+24>>2]=o[p+24>>2];o[p+0>>2]=o[s+0>>2];o[p+4>>2]=o[s+4>>2];o[p+8>>2]=o[s+8>>2];o[p+12>>2]=o[s+12>>2];o[p+16>>2]=o[s+16>>2];o[p+20>>2]=o[s+20>>2];o[p+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](p,l)|0)){y=1;break}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[p+0>>2];o[l+4>>2]=o[p+4>>2];o[l+8>>2]=o[p+8>>2];o[l+12>>2]=o[p+12>>2];o[l+16>>2]=o[p+16>>2];o[l+20>>2]=o[p+20>>2];o[l+24>>2]=o[p+24>>2];o[p+0>>2]=o[n+0>>2];o[p+4>>2]=o[n+4>>2];o[p+8>>2]=o[n+8>>2];o[p+12>>2]=o[n+12>>2];o[p+16>>2]=o[n+16>>2];o[p+20>>2]=o[n+20>>2];o[p+24>>2]=o[n+24>>2];y=2;break}if(b){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[s+0>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];o[l+16>>2]=o[s+16>>2];o[l+20>>2]=o[s+20>>2];o[l+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];y=1;break}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[p+0>>2];o[l+4>>2]=o[p+4>>2];o[l+8>>2]=o[p+8>>2];o[l+12>>2]=o[p+12>>2];o[l+16>>2]=o[p+16>>2];o[l+20>>2]=o[p+20>>2];o[l+24>>2]=o[p+24>>2];o[p+0>>2]=o[n+0>>2];o[p+4>>2]=o[n+4>>2];o[p+8>>2]=o[n+8>>2];o[p+12>>2]=o[n+12>>2];o[p+16>>2]=o[n+16>>2];o[p+20>>2]=o[n+20>>2];o[p+24>>2]=o[n+24>>2];if(_p[o[r>>2]&31](s,p)|0){o[n+0>>2]=o[p+0>>2];o[n+4>>2]=o[p+4>>2];o[n+8>>2]=o[p+8>>2];o[n+12>>2]=o[p+12>>2];o[n+16>>2]=o[p+16>>2];o[n+20>>2]=o[p+20>>2];o[n+24>>2]=o[p+24>>2];o[p+0>>2]=o[s+0>>2];o[p+4>>2]=o[s+4>>2];o[p+8>>2]=o[s+8>>2];o[p+12>>2]=o[s+12>>2];o[p+16>>2]=o[s+16>>2];o[p+20>>2]=o[s+20>>2];o[p+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];y=2}else y=1}}while(0);do{if(_p[o[r>>2]&31](l,p)|0){g=s;_=y}else{d=s;while(1){d=d+-28|0;if((l|0)==(d|0))break;if(_p[o[r>>2]&31](d,p)|0){f=50;break}}if((f|0)==50){f=0;o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[d+0>>2];o[l+4>>2]=o[d+4>>2];o[l+8>>2]=o[d+8>>2];o[l+12>>2]=o[d+12>>2];o[l+16>>2]=o[d+16>>2];o[l+20>>2]=o[d+20>>2];o[l+24>>2]=o[d+24>>2];o[d+0>>2]=o[n+0>>2];o[d+4>>2]=o[n+4>>2];o[d+8>>2]=o[n+8>>2];o[d+12>>2]=o[n+12>>2];o[d+16>>2]=o[n+16>>2];o[d+20>>2]=o[n+20>>2];o[d+24>>2]=o[n+24>>2];g=d;_=y+1|0;break}c=l+28|0;if(_p[o[r>>2]&31](l,s)|0)T=c;else{if((c|0)==(s|0)){f=67;break e}else w=c;while(1){R=w+28|0;if(_p[o[r>>2]&31](l,w)|0)break;if((R|0)==(s|0)){f=67;break e}else w=R}o[n+0>>2]=o[w+0>>2];o[n+4>>2]=o[w+4>>2];o[n+8>>2]=o[w+8>>2];o[n+12>>2]=o[w+12>>2];o[n+16>>2]=o[w+16>>2];o[n+20>>2]=o[w+20>>2];o[n+24>>2]=o[w+24>>2];o[w+0>>2]=o[s+0>>2];o[w+4>>2]=o[s+4>>2];o[w+8>>2]=o[s+8>>2];o[w+12>>2]=o[s+12>>2];o[w+16>>2]=o[s+16>>2];o[w+20>>2]=o[s+20>>2];o[w+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];T=R}if((T|0)==(s|0)){f=67;break e}else{x=T;S=s}while(1){d=x;while(1){M=d+28|0;if(_p[o[r>>2]&31](l,d)|0){H=S;break}else d=M}do{H=H+-28|0}while(_p[o[r>>2]&31](l,H)|0);if(!(d>>>0<H>>>0)){l=d;continue t}o[n+0>>2]=o[d+0>>2];o[n+4>>2]=o[d+4>>2];o[n+8>>2]=o[d+8>>2];o[n+12>>2]=o[d+12>>2];o[n+16>>2]=o[d+16>>2];o[n+20>>2]=o[d+20>>2];o[n+24>>2]=o[d+24>>2];o[d+0>>2]=o[H+0>>2];o[d+4>>2]=o[H+4>>2];o[d+8>>2]=o[H+8>>2];o[d+12>>2]=o[H+12>>2];o[d+16>>2]=o[H+16>>2];o[d+20>>2]=o[H+20>>2];o[d+24>>2]=o[H+24>>2];o[H+0>>2]=o[n+0>>2];o[H+4>>2]=o[n+4>>2];o[H+8>>2]=o[n+8>>2];o[H+12>>2]=o[n+12>>2];o[H+16>>2]=o[n+16>>2];o[H+20>>2]=o[n+20>>2];o[H+24>>2]=o[n+24>>2];x=M;S=H}}}while(0);c=l+28|0;r:do{if(c>>>0<g>>>0){b=c;m=g;v=p;E=_;while(1){A=b;while(1){C=A+28|0;if(_p[o[r>>2]&31](A,v)|0)A=C;else{P=m;break}}do{P=P+-28|0}while(!(_p[o[r>>2]&31](P,v)|0));if(A>>>0>P>>>0){F=A;D=v;k=E;break r}o[n+0>>2]=o[A+0>>2];o[n+4>>2]=o[A+4>>2];o[n+8>>2]=o[A+8>>2];o[n+12>>2]=o[A+12>>2];o[n+16>>2]=o[A+16>>2];o[n+20>>2]=o[A+20>>2];o[n+24>>2]=o[A+24>>2];o[A+0>>2]=o[P+0>>2];o[A+4>>2]=o[P+4>>2];o[A+8>>2]=o[P+8>>2];o[A+12>>2]=o[P+12>>2];o[A+16>>2]=o[P+16>>2];o[A+20>>2]=o[P+20>>2];o[A+24>>2]=o[P+24>>2];o[P+0>>2]=o[n+0>>2];o[P+4>>2]=o[n+4>>2];o[P+8>>2]=o[n+8>>2];o[P+12>>2]=o[n+12>>2];o[P+16>>2]=o[n+16>>2];o[P+20>>2]=o[n+20>>2];o[P+24>>2]=o[n+24>>2];b=C;m=P;v=(v|0)==(A|0)?P:v;E=E+1|0}}else{F=c;D=p;k=_}}while(0);if((F|0)!=(D|0)?_p[o[r>>2]&31](D,F)|0:0){o[n+0>>2]=o[F+0>>2];o[n+4>>2]=o[F+4>>2];o[n+8>>2]=o[F+8>>2];o[n+12>>2]=o[F+12>>2];o[n+16>>2]=o[F+16>>2];o[n+20>>2]=o[F+20>>2];o[n+24>>2]=o[F+24>>2];o[F+0>>2]=o[D+0>>2];o[F+4>>2]=o[D+4>>2];o[F+8>>2]=o[D+8>>2];o[F+12>>2]=o[D+12>>2];o[F+16>>2]=o[D+16>>2];o[F+20>>2]=o[D+20>>2];o[F+24>>2]=o[D+24>>2];o[D+0>>2]=o[n+0>>2];o[D+4>>2]=o[n+4>>2];o[D+8>>2]=o[n+8>>2];o[D+12>>2]=o[n+12>>2];o[D+16>>2]=o[n+16>>2];o[D+20>>2]=o[n+20>>2];o[D+24>>2]=o[n+24>>2];L=k+1|0}else L=k;if((L|0)==0){B=Pt(l,F,r)|0;p=F+28|0;if(Pt(p,e,r)|0){f=62;break}if(B){l=p;continue}}p=F;if((p-u|0)>=(t-p|0)){f=66;break}Ht(l,F,r);l=F+28|0}if((f|0)==62){f=0;if(B){f=67;break}else{a=l;e=F;continue}}else if((f|0)==66){f=0;Ht(F+28|0,e,r);a=l;e=F;continue}}if((f|0)==4){if(!(_p[o[r>>2]&31](s,l)|0)){h=i;return}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[s+0>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];o[l+16>>2]=o[s+16>>2];o[l+20>>2]=o[s+20>>2];o[l+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];h=i;return}else if((f|0)==6){F=l+28|0;a=_p[o[r>>2]&31](F,l)|0;B=_p[o[r>>2]&31](s,F)|0;if(!a){if(!B){h=i;return}o[n+0>>2]=o[F+0>>2];o[n+4>>2]=o[F+4>>2];o[n+8>>2]=o[F+8>>2];o[n+12>>2]=o[F+12>>2];o[n+16>>2]=o[F+16>>2];o[n+20>>2]=o[F+20>>2];o[n+24>>2]=o[F+24>>2];o[F+0>>2]=o[s+0>>2];o[F+4>>2]=o[s+4>>2];o[F+8>>2]=o[s+8>>2];o[F+12>>2]=o[s+12>>2];o[F+16>>2]=o[s+16>>2];o[F+20>>2]=o[s+20>>2];o[F+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](F,l)|0)){h=i;return}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[F+0>>2];o[l+4>>2]=o[F+4>>2];o[l+8>>2]=o[F+8>>2];o[l+12>>2]=o[F+12>>2];o[l+16>>2]=o[F+16>>2];o[l+20>>2]=o[F+20>>2];o[l+24>>2]=o[F+24>>2];o[F+0>>2]=o[n+0>>2];o[F+4>>2]=o[n+4>>2];o[F+8>>2]=o[n+8>>2];o[F+12>>2]=o[n+12>>2];o[F+16>>2]=o[n+16>>2];o[F+20>>2]=o[n+20>>2];o[F+24>>2]=o[n+24>>2];h=i;return}if(B){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[s+0>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];o[l+16>>2]=o[s+16>>2];o[l+20>>2]=o[s+20>>2];o[l+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];h=i;return}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[F+0>>2];o[l+4>>2]=o[F+4>>2];o[l+8>>2]=o[F+8>>2];o[l+12>>2]=o[F+12>>2];o[l+16>>2]=o[F+16>>2];o[l+20>>2]=o[F+20>>2];o[l+24>>2]=o[F+24>>2];o[F+0>>2]=o[n+0>>2];o[F+4>>2]=o[n+4>>2];o[F+8>>2]=o[n+8>>2];o[F+12>>2]=o[n+12>>2];o[F+16>>2]=o[n+16>>2];o[F+20>>2]=o[n+20>>2];o[F+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](s,F)|0)){h=i;return}o[n+0>>2]=o[F+0>>2];o[n+4>>2]=o[F+4>>2];o[n+8>>2]=o[F+8>>2];o[n+12>>2]=o[F+12>>2];o[n+16>>2]=o[F+16>>2];o[n+20>>2]=o[F+20>>2];o[n+24>>2]=o[F+24>>2];o[F+0>>2]=o[s+0>>2];o[F+4>>2]=o[s+4>>2];o[F+8>>2]=o[s+8>>2];o[F+12>>2]=o[s+12>>2];o[F+16>>2]=o[s+16>>2];o[F+20>>2]=o[s+20>>2];o[F+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];h=i;return}else if((f|0)==14){At(l,l+28|0,l+56|0,s,r)|0;h=i;return}else if((f|0)==15){F=l+28|0;B=l+56|0;a=l+84|0;At(l,F,B,a,r)|0;if(!(_p[o[r>>2]&31](s,a)|0)){h=i;return}o[n+0>>2]=o[a+0>>2];o[n+4>>2]=o[a+4>>2];o[n+8>>2]=o[a+8>>2];o[n+12>>2]=o[a+12>>2];o[n+16>>2]=o[a+16>>2];o[n+20>>2]=o[a+20>>2];o[n+24>>2]=o[a+24>>2];o[a+0>>2]=o[s+0>>2];o[a+4>>2]=o[s+4>>2];o[a+8>>2]=o[s+8>>2];o[a+12>>2]=o[s+12>>2];o[a+16>>2]=o[s+16>>2];o[a+20>>2]=o[s+20>>2];o[a+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](a,B)|0)){h=i;return}o[n+0>>2]=o[B+0>>2];o[n+4>>2]=o[B+4>>2];o[n+8>>2]=o[B+8>>2];o[n+12>>2]=o[B+12>>2];o[n+16>>2]=o[B+16>>2];o[n+20>>2]=o[B+20>>2];o[n+24>>2]=o[B+24>>2];o[B+0>>2]=o[a+0>>2];o[B+4>>2]=o[a+4>>2];o[B+8>>2]=o[a+8>>2];o[B+12>>2]=o[a+12>>2];o[B+16>>2]=o[a+16>>2];o[B+20>>2]=o[a+20>>2];o[B+24>>2]=o[a+24>>2];o[a+0>>2]=o[n+0>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](B,F)|0)){h=i;return}o[n+0>>2]=o[F+0>>2];o[n+4>>2]=o[F+4>>2];o[n+8>>2]=o[F+8>>2];o[n+12>>2]=o[F+12>>2];o[n+16>>2]=o[F+16>>2];o[n+20>>2]=o[F+20>>2];o[n+24>>2]=o[F+24>>2];o[F+0>>2]=o[B+0>>2];o[F+4>>2]=o[B+4>>2];o[F+8>>2]=o[B+8>>2];o[F+12>>2]=o[B+12>>2];o[F+16>>2]=o[B+16>>2];o[F+20>>2]=o[B+20>>2];o[F+24>>2]=o[B+24>>2];o[B+0>>2]=o[n+0>>2];o[B+4>>2]=o[n+4>>2];o[B+8>>2]=o[n+8>>2];o[B+12>>2]=o[n+12>>2];o[B+16>>2]=o[n+16>>2];o[B+20>>2]=o[n+20>>2];o[B+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](F,l)|0)){h=i;return}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[F+0>>2];o[l+4>>2]=o[F+4>>2];o[l+8>>2]=o[F+8>>2];o[l+12>>2]=o[F+12>>2];o[l+16>>2]=o[F+16>>2];o[l+20>>2]=o[F+20>>2];o[l+24>>2]=o[F+24>>2];o[F+0>>2]=o[n+0>>2];o[F+4>>2]=o[n+4>>2];o[F+8>>2]=o[n+8>>2];o[F+12>>2]=o[n+12>>2];o[F+16>>2]=o[n+16>>2];o[F+20>>2]=o[n+20>>2];o[F+24>>2]=o[n+24>>2];h=i;return}else if((f|0)==21){Ct(l,e,r);h=i;return}else if((f|0)==67){h=i;return}}function At(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,u=0,c=0,f=0;a=h;h=h+32|0;s=a;l=_p[o[n>>2]&31](t,e)|0;u=_p[o[n>>2]&31](r,t)|0;do{if(l){if(u){o[s+0>>2]=o[e+0>>2];o[s+4>>2]=o[e+4>>2];o[s+8>>2]=o[e+8>>2];o[s+12>>2]=o[e+12>>2];o[s+16>>2]=o[e+16>>2];o[s+20>>2]=o[e+20>>2];o[s+24>>2]=o[e+24>>2];o[e+0>>2]=o[r+0>>2];o[e+4>>2]=o[r+4>>2];o[e+8>>2]=o[r+8>>2];o[e+12>>2]=o[r+12>>2];o[e+16>>2]=o[r+16>>2];o[e+20>>2]=o[r+20>>2];o[e+24>>2]=o[r+24>>2];o[r+0>>2]=o[s+0>>2];o[r+4>>2]=o[s+4>>2];o[r+8>>2]=o[s+8>>2];o[r+12>>2]=o[s+12>>2];o[r+16>>2]=o[s+16>>2];o[r+20>>2]=o[s+20>>2];o[r+24>>2]=o[s+24>>2];c=1;break}o[s+0>>2]=o[e+0>>2];o[s+4>>2]=o[e+4>>2];o[s+8>>2]=o[e+8>>2];o[s+12>>2]=o[e+12>>2];o[s+16>>2]=o[e+16>>2];o[s+20>>2]=o[e+20>>2];o[s+24>>2]=o[e+24>>2];o[e+0>>2]=o[t+0>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[t+0>>2]=o[s+0>>2];o[t+4>>2]=o[s+4>>2];o[t+8>>2]=o[s+8>>2];o[t+12>>2]=o[s+12>>2];o[t+16>>2]=o[s+16>>2];o[t+20>>2]=o[s+20>>2];o[t+24>>2]=o[s+24>>2];if(_p[o[n>>2]&31](r,t)|0){o[s+0>>2]=o[t+0>>2];o[s+4>>2]=o[t+4>>2];o[s+8>>2]=o[t+8>>2];o[s+12>>2]=o[t+12>>2];o[s+16>>2]=o[t+16>>2];o[s+20>>2]=o[t+20>>2];o[s+24>>2]=o[t+24>>2];o[t+0>>2]=o[r+0>>2];o[t+4>>2]=o[r+4>>2];o[t+8>>2]=o[r+8>>2];o[t+12>>2]=o[r+12>>2];o[t+16>>2]=o[r+16>>2];o[t+20>>2]=o[r+20>>2];o[t+24>>2]=o[r+24>>2];o[r+0>>2]=o[s+0>>2];o[r+4>>2]=o[s+4>>2];o[r+8>>2]=o[s+8>>2];o[r+12>>2]=o[s+12>>2];o[r+16>>2]=o[s+16>>2];o[r+20>>2]=o[s+20>>2];o[r+24>>2]=o[s+24>>2];c=2}else c=1}else if(u){o[s+0>>2]=o[t+0>>2];o[s+4>>2]=o[t+4>>2];o[s+8>>2]=o[t+8>>2];o[s+12>>2]=o[t+12>>2];o[s+16>>2]=o[t+16>>2];o[s+20>>2]=o[t+20>>2];o[s+24>>2]=o[t+24>>2];o[t+0>>2]=o[r+0>>2];o[t+4>>2]=o[r+4>>2];o[t+8>>2]=o[r+8>>2];o[t+12>>2]=o[r+12>>2];o[t+16>>2]=o[r+16>>2];o[t+20>>2]=o[r+20>>2];o[t+24>>2]=o[r+24>>2];o[r+0>>2]=o[s+0>>2];o[r+4>>2]=o[s+4>>2];o[r+8>>2]=o[s+8>>2];o[r+12>>2]=o[s+12>>2];o[r+16>>2]=o[s+16>>2];o[r+20>>2]=o[s+20>>2];o[r+24>>2]=o[s+24>>2];if(_p[o[n>>2]&31](t,e)|0){o[s+0>>2]=o[e+0>>2];o[s+4>>2]=o[e+4>>2];o[s+8>>2]=o[e+8>>2];o[s+12>>2]=o[e+12>>2];o[s+16>>2]=o[e+16>>2];o[s+20>>2]=o[e+20>>2];o[s+24>>2]=o[e+24>>2];o[e+0>>2]=o[t+0>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[t+0>>2]=o[s+0>>2];o[t+4>>2]=o[s+4>>2];o[t+8>>2]=o[s+8>>2];o[t+12>>2]=o[s+12>>2];o[t+16>>2]=o[s+16>>2];o[t+20>>2]=o[s+20>>2];o[t+24>>2]=o[s+24>>2];c=2}else c=1}else c=0}while(0);if(!(_p[o[n>>2]&31](i,r)|0)){f=c;h=a;return f|0}o[s+0>>2]=o[r+0>>2];o[s+4>>2]=o[r+4>>2];o[s+8>>2]=o[r+8>>2];o[s+12>>2]=o[r+12>>2];o[s+16>>2]=o[r+16>>2];o[s+20>>2]=o[r+20>>2];o[s+24>>2]=o[r+24>>2];o[r+0>>2]=o[i+0>>2];o[r+4>>2]=o[i+4>>2];o[r+8>>2]=o[i+8>>2];o[r+12>>2]=o[i+12>>2];o[r+16>>2]=o[i+16>>2];o[r+20>>2]=o[i+20>>2];o[r+24>>2]=o[i+24>>2];o[i+0>>2]=o[s+0>>2];o[i+4>>2]=o[s+4>>2];o[i+8>>2]=o[s+8>>2];o[i+12>>2]=o[s+12>>2];o[i+16>>2]=o[s+16>>2];o[i+20>>2]=o[s+20>>2];o[i+24>>2]=o[s+24>>2];if(!(_p[o[n>>2]&31](r,t)|0)){f=c+1|0;h=a;return f|0}o[s+0>>2]=o[t+0>>2];o[s+4>>2]=o[t+4>>2];o[s+8>>2]=o[t+8>>2];o[s+12>>2]=o[t+12>>2];o[s+16>>2]=o[t+16>>2];o[s+20>>2]=o[t+20>>2];o[s+24>>2]=o[t+24>>2];o[t+0>>2]=o[r+0>>2];o[t+4>>2]=o[r+4>>2];o[t+8>>2]=o[r+8>>2];o[t+12>>2]=o[r+12>>2];o[t+16>>2]=o[r+16>>2];o[t+20>>2]=o[r+20>>2];o[t+24>>2]=o[r+24>>2];o[r+0>>2]=o[s+0>>2];o[r+4>>2]=o[s+4>>2];o[r+8>>2]=o[s+8>>2];o[r+12>>2]=o[s+12>>2];o[r+16>>2]=o[s+16>>2];o[r+20>>2]=o[s+20>>2];o[r+24>>2]=o[s+24>>2];if(!(_p[o[n>>2]&31](t,e)|0)){f=c+2|0;h=a;return f|0}o[s+0>>2]=o[e+0>>2];o[s+4>>2]=o[e+4>>2];o[s+8>>2]=o[e+8>>2];o[s+12>>2]=o[e+12>>2];o[s+16>>2]=o[e+16>>2];o[s+20>>2]=o[e+20>>2];o[s+24>>2]=o[e+24>>2];o[e+0>>2]=o[t+0>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[t+0>>2]=o[s+0>>2];o[t+4>>2]=o[s+4>>2];o[t+8>>2]=o[s+8>>2];o[t+12>>2]=o[s+12>>2];o[t+16>>2]=o[s+16>>2];o[t+20>>2]=o[s+20>>2];o[t+24>>2]=o[s+24>>2];f=c+3|0;h=a;return f|0}function Ct(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0;i=h;h=h+64|0;n=i+28|0;a=i;s=e+56|0;l=e+28|0;u=_p[o[r>>2]&31](l,e)|0;c=_p[o[r>>2]&31](s,l)|0;do{if(u){if(c){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[s+0>>2];o[e+4>>2]=o[s+4>>2];o[e+8>>2]=o[s+8>>2];o[e+12>>2]=o[s+12>>2];o[e+16>>2]=o[s+16>>2];o[e+20>>2]=o[s+20>>2];o[e+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];break}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];if(_p[o[r>>2]&31](s,l)|0){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[s+0>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];o[l+16>>2]=o[s+16>>2];o[l+20>>2]=o[s+20>>2];o[l+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2]}}else if(c){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[s+0>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];o[l+16>>2]=o[s+16>>2];o[l+20>>2]=o[s+20>>2];o[l+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];if(_p[o[r>>2]&31](l,e)|0){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2]}}}while(0);n=e+84|0;if((n|0)==(t|0)){h=i;return}l=n;n=s;while(1){if(_p[o[r>>2]&31](l,n)|0){o[a+0>>2]=o[l+0>>2];o[a+4>>2]=o[l+4>>2];o[a+8>>2]=o[l+8>>2];o[a+12>>2]=o[l+12>>2];o[a+16>>2]=o[l+16>>2];o[a+20>>2]=o[l+20>>2];o[a+24>>2]=o[l+24>>2];s=l;c=n;while(1){o[s+0>>2]=o[c+0>>2];o[s+4>>2]=o[c+4>>2];o[s+8>>2]=o[c+8>>2];o[s+12>>2]=o[c+12>>2];o[s+16>>2]=o[c+16>>2];o[s+20>>2]=o[c+20>>2];o[s+24>>2]=o[c+24>>2];if((c|0)==(e|0))break;u=c+-28|0;if(_p[o[r>>2]&31](a,u)|0){f=c;c=u;s=f}else break}o[c+0>>2]=o[a+0>>2];o[c+4>>2]=o[a+4>>2];o[c+8>>2]=o[a+8>>2];o[c+12>>2]=o[a+12>>2];o[c+16>>2]=o[a+16>>2];o[c+20>>2]=o[a+20>>2];o[c+24>>2]=o[a+24>>2]}s=l+28|0;if((s|0)==(t|0))break;else{f=l;l=s;n=f}}h=i;return}function Pt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0;i=h;h=h+64|0;n=i+28|0;a=i;switch((t-e|0)/28|0|0){case 5:s=e+28|0;l=e+56|0;u=e+84|0;c=t+-28|0;At(e,s,l,u,r)|0;if(!(_p[o[r>>2]&31](c,u)|0)){f=1;h=i;return f|0}o[n+0>>2]=o[u+0>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u+0>>2]=o[c+0>>2];o[u+4>>2]=o[c+4>>2];o[u+8>>2]=o[c+8>>2];o[u+12>>2]=o[c+12>>2];o[u+16>>2]=o[c+16>>2];o[u+20>>2]=o[c+20>>2];o[u+24>>2]=o[c+24>>2];o[c+0>>2]=o[n+0>>2];o[c+4>>2]=o[n+4>>2];o[c+8>>2]=o[n+8>>2];o[c+12>>2]=o[n+12>>2];o[c+16>>2]=o[n+16>>2];o[c+20>>2]=o[n+20>>2];o[c+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](u,l)|0)){f=1;h=i;return f|0}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[u+0>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2];o[l+20>>2]=o[u+20>>2];o[l+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](l,s)|0)){f=1;h=i;return f|0}o[n+0>>2]=o[s+0>>2];o[n+4>>2]=o[s+4>>2];o[n+8>>2]=o[s+8>>2];o[n+12>>2]=o[s+12>>2];o[n+16>>2]=o[s+16>>2];o[n+20>>2]=o[s+20>>2];o[n+24>>2]=o[s+24>>2];o[s+0>>2]=o[l+0>>2];o[s+4>>2]=o[l+4>>2];o[s+8>>2]=o[l+8>>2];o[s+12>>2]=o[l+12>>2];o[s+16>>2]=o[l+16>>2];o[s+20>>2]=o[l+20>>2];o[s+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](s,e)|0)){f=1;h=i;return f|0}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[s+0>>2];o[e+4>>2]=o[s+4>>2];o[e+8>>2]=o[s+8>>2];o[e+12>>2]=o[s+12>>2];o[e+16>>2]=o[s+16>>2];o[e+20>>2]=o[s+20>>2];o[e+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];f=1;h=i;return f|0;case 3:s=e+28|0;l=t+-28|0;u=_p[o[r>>2]&31](s,e)|0;c=_p[o[r>>2]&31](l,s)|0;if(!u){if(!c){f=1;h=i;return f|0}o[n+0>>2]=o[s+0>>2];o[n+4>>2]=o[s+4>>2];o[n+8>>2]=o[s+8>>2];o[n+12>>2]=o[s+12>>2];o[n+16>>2]=o[s+16>>2];o[n+20>>2]=o[s+20>>2];o[n+24>>2]=o[s+24>>2];o[s+0>>2]=o[l+0>>2];o[s+4>>2]=o[l+4>>2];o[s+8>>2]=o[l+8>>2];o[s+12>>2]=o[l+12>>2];o[s+16>>2]=o[l+16>>2];o[s+20>>2]=o[l+20>>2];o[s+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](s,e)|0)){f=1;h=i;return f|0}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[s+0>>2];o[e+4>>2]=o[s+4>>2];o[e+8>>2]=o[s+8>>2];o[e+12>>2]=o[s+12>>2];o[e+16>>2]=o[s+16>>2];o[e+20>>2]=o[s+20>>2];o[e+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];f=1;h=i;return f|0}if(c){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];f=1;h=i;return f|0}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[s+0>>2];o[e+4>>2]=o[s+4>>2];o[e+8>>2]=o[s+8>>2];o[e+12>>2]=o[s+12>>2];o[e+16>>2]=o[s+16>>2];o[e+20>>2]=o[s+20>>2];o[e+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];if(!(_p[o[r>>2]&31](l,s)|0)){f=1;h=i;return f|0}o[n+0>>2]=o[s+0>>2];o[n+4>>2]=o[s+4>>2];o[n+8>>2]=o[s+8>>2];o[n+12>>2]=o[s+12>>2];o[n+16>>2]=o[s+16>>2];o[n+20>>2]=o[s+20>>2];o[n+24>>2]=o[s+24>>2];o[s+0>>2]=o[l+0>>2];o[s+4>>2]=o[l+4>>2];o[s+8>>2]=o[l+8>>2];o[s+12>>2]=o[l+12>>2];o[s+16>>2]=o[l+16>>2];o[s+20>>2]=o[l+20>>2];o[s+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];f=1;h=i;return f|0;case 1:case 0:f=1;h=i;return f|0;case 4:At(e,e+28|0,e+56|0,t+-28|0,r)|0;f=1;h=i;return f|0;case 2:l=t+-28|0;if(!(_p[o[r>>2]&31](l,e)|0)){f=1;h=i;return f|0}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];f=1;h=i;return f|0;default:l=e+56|0;s=e+28|0;c=_p[o[r>>2]&31](s,e)|0;u=_p[o[r>>2]&31](l,s)|0;do{if(c){if(u){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];break}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[s+0>>2];o[e+4>>2]=o[s+4>>2];o[e+8>>2]=o[s+8>>2];o[e+12>>2]=o[s+12>>2];o[e+16>>2]=o[s+16>>2];o[e+20>>2]=o[s+20>>2];o[e+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];if(_p[o[r>>2]&31](l,s)|0){o[n+0>>2]=o[s+0>>2];o[n+4>>2]=o[s+4>>2];o[n+8>>2]=o[s+8>>2];o[n+12>>2]=o[s+12>>2];o[n+16>>2]=o[s+16>>2];o[n+20>>2]=o[s+20>>2];o[n+24>>2]=o[s+24>>2];o[s+0>>2]=o[l+0>>2];o[s+4>>2]=o[l+4>>2];o[s+8>>2]=o[l+8>>2];o[s+12>>2]=o[l+12>>2];o[s+16>>2]=o[l+16>>2];o[s+20>>2]=o[l+20>>2];o[s+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2]}}else if(u){o[n+0>>2]=o[s+0>>2];o[n+4>>2]=o[s+4>>2];o[n+8>>2]=o[s+8>>2];o[n+12>>2]=o[s+12>>2];o[n+16>>2]=o[s+16>>2];o[n+20>>2]=o[s+20>>2];o[n+24>>2]=o[s+24>>2];o[s+0>>2]=o[l+0>>2];o[s+4>>2]=o[l+4>>2];o[s+8>>2]=o[l+8>>2];o[s+12>>2]=o[l+12>>2];o[s+16>>2]=o[l+16>>2];o[s+20>>2]=o[l+20>>2];o[s+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];if(_p[o[r>>2]&31](s,e)|0){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[s+0>>2];o[e+4>>2]=o[s+4>>2];o[e+8>>2]=o[s+8>>2];o[e+12>>2]=o[s+12>>2];o[e+16>>2]=o[s+16>>2];o[e+20>>2]=o[s+20>>2];o[e+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2]}}}while(0);n=e+84|0;if((n|0)==(t|0)){f=1;h=i;return f|0}s=0;u=n;n=l;while(1){if(_p[o[r>>2]&31](u,n)|0){o[a+0>>2]=o[u+0>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];o[a+16>>2]=o[u+16>>2];o[a+20>>2]=o[u+20>>2];o[a+24>>2]=o[u+24>>2];l=u;c=n;while(1){o[l+0>>2]=o[c+0>>2];o[l+4>>2]=o[c+4>>2];o[l+8>>2]=o[c+8>>2];o[l+12>>2]=o[c+12>>2];o[l+16>>2]=o[c+16>>2];o[l+20>>2]=o[c+20>>2];o[l+24>>2]=o[c+24>>2];if((c|0)==(e|0))break;d=c+-28|0;if(_p[o[r>>2]&31](a,d)|0){p=c;c=d;l=p}else break}o[c+0>>2]=o[a+0>>2];o[c+4>>2]=o[a+4>>2];o[c+8>>2]=o[a+8>>2];o[c+12>>2]=o[a+12>>2];o[c+16>>2]=o[a+16>>2];o[c+20>>2]=o[a+20>>2];o[c+24>>2]=o[a+24>>2];l=s+1|0;if((l|0)==8)break;else m=l}else m=s;l=u+28|0;if((l|0)==(t|0)){f=1;E=35;break}else{p=u;s=m;u=l;n=p}}if((E|0)==35){h=i;return f|0}f=(u+28|0)==(t|0);h=i;return f|0}return 0}function Ft(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0;i=h;h=h+16|0;n=i;a=e;e=t;e:while(1){t=e;s=e+-8|0;l=a;t:while(1){u=l;c=t-u|0;f=c>>3;switch(f|0){case 2:d=4;break e;break;case 3:d=6;break e;break;case 4:d=14;break e;break;case 5:d=26;break e;break;case 1:case 0:d=84;break e;break;default:}if((c|0)<248){d=28;break e}p=(f|0)/2|0;m=l+(p<<3)|0;do{if((c|0)<=7992){E=_p[o[r>>2]&31](m,l)|0;v=_p[o[r>>2]&31](s,m)|0;if(!E){if(!v){b=0;break}E=m;y=o[E>>2]|0;g=o[E+4>>2]|0;E=s;_=o[E+4>>2]|0;T=m;o[T>>2]=o[E>>2];o[T+4>>2]=_;_=s;o[_>>2]=y;o[_+4>>2]=g;if(!(_p[o[r>>2]&31](m,l)|0)){b=1;break}g=l;_=o[g>>2]|0;y=o[g+4>>2]|0;g=m;T=o[g+4>>2]|0;E=l;o[E>>2]=o[g>>2];o[E+4>>2]=T;T=m;o[T>>2]=_;o[T+4>>2]=y;b=2;break}y=l;T=o[y>>2]|0;_=o[y+4>>2]|0;if(v){v=s;y=o[v+4>>2]|0;E=l;o[E>>2]=o[v>>2];o[E+4>>2]=y;y=s;o[y>>2]=T;o[y+4>>2]=_;b=1;break}y=m;E=o[y+4>>2]|0;v=l;o[v>>2]=o[y>>2];o[v+4>>2]=E;E=m;o[E>>2]=T;o[E+4>>2]=_;if(_p[o[r>>2]&31](s,m)|0){_=m;E=o[_>>2]|0;T=o[_+4>>2]|0;_=s;v=o[_+4>>2]|0;y=m;o[y>>2]=o[_>>2];o[y+4>>2]=v;v=s;o[v>>2]=E;o[v+4>>2]=T;b=2}else b=1}else{T=(f|0)/4|0;b=Dt(l,l+(T<<3)|0,m,l+(T+p<<3)|0,s,r)|0}}while(0);do{if(_p[o[r>>2]&31](l,m)|0){w=s;R=b}else{p=s;while(1){p=p+-8|0;if((l|0)==(p|0))break;if(_p[o[r>>2]&31](p,m)|0){d=67;break}}if((d|0)==67){d=0;f=l;c=o[f>>2]|0;T=o[f+4>>2]|0;f=p;v=o[f+4>>2]|0;E=l;o[E>>2]=o[f>>2];o[E+4>>2]=v;v=p;o[v>>2]=c;o[v+4>>2]=T;w=p;R=b+1|0;break}T=l+8|0;if(_p[o[r>>2]&31](l,s)|0)x=T;else{if((T|0)==(s|0)){d=84;break e}else S=T;while(1){M=S+8|0;if(_p[o[r>>2]&31](l,S)|0)break;if((M|0)==(s|0)){d=84;break e}else S=M}p=S;T=o[p>>2]|0;v=o[p+4>>2]|0;p=s;c=o[p+4>>2]|0;E=S;o[E>>2]=o[p>>2];o[E+4>>2]=c;c=s;o[c>>2]=T;o[c+4>>2]=v;x=M}if((x|0)==(s|0)){d=84;break e}else{H=x;A=s}while(1){v=H;while(1){C=v+8|0;if(_p[o[r>>2]&31](l,v)|0){P=A;break}else v=C}do{P=P+-8|0}while(_p[o[r>>2]&31](l,P)|0);if(!(v>>>0<P>>>0)){l=v;continue t}c=v;T=o[c>>2]|0;E=o[c+4>>2]|0;c=P;p=o[c+4>>2]|0;f=v;o[f>>2]=o[c>>2];o[f+4>>2]=p;p=P;o[p>>2]=T;o[p+4>>2]=E;H=C;A=P}}}while(0);E=l+8|0;r:do{if(E>>>0<w>>>0){p=E;T=w;f=m;c=R;while(1){y=p;while(1){F=y+8|0;if(_p[o[r>>2]&31](y,f)|0)y=F;else{D=T;break}}do{D=D+-8|0}while(!(_p[o[r>>2]&31](D,f)|0));if(y>>>0>D>>>0){k=y;L=f;B=c;break r}v=y;_=o[v>>2]|0;g=o[v+4>>2]|0;v=D;O=o[v+4>>2]|0;N=y;o[N>>2]=o[v>>2];o[N+4>>2]=O;O=D;o[O>>2]=_;o[O+4>>2]=g;p=F;T=D;f=(f|0)==(y|0)?D:f;c=c+1|0}}else{k=E;L=m;B=R}}while(0);if((k|0)!=(L|0)?_p[o[r>>2]&31](L,k)|0:0){m=k;E=o[m>>2]|0;c=o[m+4>>2]|0;m=L;f=o[m+4>>2]|0;T=k;o[T>>2]=o[m>>2];o[T+4>>2]=f;f=L;o[f>>2]=E;o[f+4>>2]=c;I=B+1|0}else I=B;if((I|0)==0){V=kt(l,k,r)|0;c=k+8|0;if(kt(c,e,r)|0){d=79;break}if(V){l=c;continue}}c=k;if((c-u|0)>=(t-c|0)){d=83;break}Ft(l,k,r);l=k+8|0}if((d|0)==79){d=0;if(V){d=84;break}else{a=l;e=k;continue}}else if((d|0)==83){d=0;Ft(k+8|0,e,r);a=l;e=k;continue}}if((d|0)==4){if(!(_p[o[r>>2]&31](s,l)|0)){h=i;return}k=l;a=o[k>>2]|0;V=o[k+4>>2]|0;k=s;I=o[k+4>>2]|0;B=l;o[B>>2]=o[k>>2];o[B+4>>2]=I;I=s;o[I>>2]=a;o[I+4>>2]=V;h=i;return}else if((d|0)==6){V=l+8|0;I=_p[o[r>>2]&31](V,l)|0;a=_p[o[r>>2]&31](s,V)|0;if(!I){if(!a){h=i;return}I=V;B=o[I>>2]|0;k=o[I+4>>2]|0;I=s;L=o[I+4>>2]|0;R=V;o[R>>2]=o[I>>2];o[R+4>>2]=L;L=s;o[L>>2]=B;o[L+4>>2]=k;if(!(_p[o[r>>2]&31](V,l)|0)){h=i;return}k=l;L=o[k>>2]|0;B=o[k+4>>2]|0;k=V;R=o[k+4>>2]|0;I=l;o[I>>2]=o[k>>2];o[I+4>>2]=R;R=V;o[R>>2]=L;o[R+4>>2]=B;h=i;return}B=l;R=o[B>>2]|0;L=o[B+4>>2]|0;if(a){a=s;B=o[a+4>>2]|0;I=l;o[I>>2]=o[a>>2];o[I+4>>2]=B;B=s;o[B>>2]=R;o[B+4>>2]=L;h=i;return}B=V;I=o[B+4>>2]|0;a=l;o[a>>2]=o[B>>2];o[a+4>>2]=I;I=V;o[I>>2]=R;o[I+4>>2]=L;if(!(_p[o[r>>2]&31](s,V)|0)){h=i;return}L=V;I=o[L>>2]|0;R=o[L+4>>2]|0;L=s;a=o[L+4>>2]|0;B=V;o[B>>2]=o[L>>2];o[B+4>>2]=a;a=s;o[a>>2]=I;o[a+4>>2]=R;h=i;return}else if((d|0)==14){R=l+8|0;a=l+16|0;I=_p[o[r>>2]&31](R,l)|0;B=_p[o[r>>2]&31](a,R)|0;do{if(I){L=l;V=o[L>>2]|0;k=o[L+4>>2]|0;if(B){L=a;D=o[L+4>>2]|0;F=l;o[F>>2]=o[L>>2];o[F+4>>2]=D;D=a;o[D>>2]=V;o[D+4>>2]=k;break}D=R;F=o[D+4>>2]|0;L=l;o[L>>2]=o[D>>2];o[L+4>>2]=F;F=R;o[F>>2]=V;o[F+4>>2]=k;if(_p[o[r>>2]&31](a,R)|0){k=R;F=o[k>>2]|0;V=o[k+4>>2]|0;k=a;L=o[k+4>>2]|0;D=R;o[D>>2]=o[k>>2];o[D+4>>2]=L;L=a;o[L>>2]=F;o[L+4>>2]=V}}else if(B?(V=R,L=o[V>>2]|0,F=o[V+4>>2]|0,V=a,D=o[V+4>>2]|0,k=R,o[k>>2]=o[V>>2],o[k+4>>2]=D,D=a,o[D>>2]=L,o[D+4>>2]=F,_p[o[r>>2]&31](R,l)|0):0){F=l;D=o[F>>2]|0;L=o[F+4>>2]|0;F=R;k=o[F+4>>2]|0;V=l;o[V>>2]=o[F>>2];o[V+4>>2]=k;k=R;o[k>>2]=D;o[k+4>>2]=L}}while(0);if(!(_p[o[r>>2]&31](s,a)|0)){h=i;return}B=a;I=o[B>>2]|0;L=o[B+4>>2]|0;B=s;k=o[B+4>>2]|0;D=a;o[D>>2]=o[B>>2];o[D+4>>2]=k;k=s;o[k>>2]=I;o[k+4>>2]=L;if(!(_p[o[r>>2]&31](a,R)|0)){h=i;return}L=R;k=o[L>>2]|0;I=o[L+4>>2]|0;L=a;D=o[L+4>>2]|0;B=R;o[B>>2]=o[L>>2];o[B+4>>2]=D;D=a;o[D>>2]=k;o[D+4>>2]=I;if(!(_p[o[r>>2]&31](R,l)|0)){h=i;return}I=l;D=o[I>>2]|0;k=o[I+4>>2]|0;I=R;a=o[I+4>>2]|0;B=l;o[B>>2]=o[I>>2];o[B+4>>2]=a;a=R;o[a>>2]=D;o[a+4>>2]=k;h=i;return}else if((d|0)==26){Dt(l,l+8|0,l+16|0,l+24|0,s,r)|0;h=i;return}else if((d|0)==28){s=l+16|0;k=l+8|0;a=_p[o[r>>2]&31](k,l)|0;D=_p[o[r>>2]&31](s,k)|0;do{if(a){R=l;B=o[R>>2]|0;I=o[R+4>>2]|0;if(D){R=s;L=o[R+4>>2]|0;V=l;o[V>>2]=o[R>>2];o[V+4>>2]=L;L=s;o[L>>2]=B;o[L+4>>2]=I;break}L=k;V=o[L+4>>2]|0;R=l;o[R>>2]=o[L>>2];o[R+4>>2]=V;V=k;o[V>>2]=B;o[V+4>>2]=I;if(_p[o[r>>2]&31](s,k)|0){I=k;V=o[I>>2]|0;B=o[I+4>>2]|0;I=s;R=o[I+4>>2]|0;L=k;o[L>>2]=o[I>>2];o[L+4>>2]=R;R=s;o[R>>2]=V;o[R+4>>2]=B}}else if(D?(B=k,R=o[B>>2]|0,V=o[B+4>>2]|0,B=s,L=o[B+4>>2]|0,I=k,o[I>>2]=o[B>>2],o[I+4>>2]=L,L=s,o[L>>2]=R,o[L+4>>2]=V,_p[o[r>>2]&31](k,l)|0):0){V=l;L=o[V>>2]|0;R=o[V+4>>2]|0;V=k;I=o[V+4>>2]|0;B=l;o[B>>2]=o[V>>2];o[B+4>>2]=I;I=k;o[I>>2]=L;o[I+4>>2]=R}}while(0);k=l+24|0;if((k|0)==(e|0)){h=i;return}else{U=k;z=s}while(1){if(_p[o[r>>2]&31](U,z)|0){s=U;k=o[s+4>>2]|0;D=n;o[D>>2]=o[s>>2];o[D+4>>2]=k;k=U;D=z;while(1){s=D;a=o[s+4>>2]|0;R=k;o[R>>2]=o[s>>2];o[R+4>>2]=a;if((D|0)==(l|0))break;a=D+-8|0;if(_p[o[r>>2]&31](n,a)|0){R=D;D=a;k=R}else break}k=n;R=o[k+4>>2]|0;a=D;o[a>>2]=o[k>>2];o[a+4>>2]=R}R=U+8|0;if((R|0)==(e|0))break;else{a=U;U=R;z=a}}h=i;return}else if((d|0)==84){h=i;return}}function Dt(e,t,r,i,n,a){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0;s=h;l=_p[o[a>>2]&31](t,e)|0;u=_p[o[a>>2]&31](r,t)|0;do{if(l){c=e;f=o[c>>2]|0;d=o[c+4>>2]|0;if(u){c=r;p=o[c+4>>2]|0;m=e;o[m>>2]=o[c>>2];o[m+4>>2]=p;p=r;o[p>>2]=f;o[p+4>>2]=d;E=1;break}p=t;m=o[p+4>>2]|0;c=e;o[c>>2]=o[p>>2];o[c+4>>2]=m;m=t;o[m>>2]=f;o[m+4>>2]=d;if(_p[o[a>>2]&31](r,t)|0){d=t;m=o[d>>2]|0;f=o[d+4>>2]|0;d=r;c=o[d+4>>2]|0;p=t;o[p>>2]=o[d>>2];o[p+4>>2]=c;c=r;o[c>>2]=m;o[c+4>>2]=f;E=2}else E=1}else if(u){f=t;c=o[f>>2]|0;m=o[f+4>>2]|0;f=r;p=o[f+4>>2]|0;d=t;o[d>>2]=o[f>>2];o[d+4>>2]=p;p=r;o[p>>2]=c;o[p+4>>2]=m;if(_p[o[a>>2]&31](t,e)|0){m=e;p=o[m>>2]|0;c=o[m+4>>2]|0;m=t;d=o[m+4>>2]|0;f=e;o[f>>2]=o[m>>2];o[f+4>>2]=d;d=t;o[d>>2]=p;o[d+4>>2]=c;E=2}else E=1}else E=0}while(0);if(_p[o[a>>2]&31](i,r)|0){u=r;l=o[u>>2]|0;c=o[u+4>>2]|0;u=i;d=o[u+4>>2]|0;p=r;o[p>>2]=o[u>>2];o[p+4>>2]=d;d=i;o[d>>2]=l;o[d+4>>2]=c;c=E+1|0;if(_p[o[a>>2]&31](r,t)|0){d=t;l=o[d>>2]|0;p=o[d+4>>2]|0;d=r;u=o[d+4>>2]|0;f=t;o[f>>2]=o[d>>2];o[f+4>>2]=u;u=r;o[u>>2]=l;o[u+4>>2]=p;if(_p[o[a>>2]&31](t,e)|0){p=e;u=o[p>>2]|0;l=o[p+4>>2]|0;p=t;f=o[p+4>>2]|0;d=e;o[d>>2]=o[p>>2];o[d+4>>2]=f;f=t;o[f>>2]=u;o[f+4>>2]=l;v=E+3|0}else v=E+2|0}else v=c}else v=E;if(!(_p[o[a>>2]&31](n,i)|0)){b=v;h=s;return b|0}E=i;c=o[E>>2]|0;l=o[E+4>>2]|0;E=n;f=o[E+4>>2]|0;u=i;o[u>>2]=o[E>>2];o[u+4>>2]=f;f=n;o[f>>2]=c;o[f+4>>2]=l;if(!(_p[o[a>>2]&31](i,r)|0)){b=v+1|0;h=s;return b|0}l=r;f=o[l>>2]|0;c=o[l+4>>2]|0;l=i;n=o[l+4>>2]|0;u=r;o[u>>2]=o[l>>2];o[u+4>>2]=n;n=i;o[n>>2]=f;o[n+4>>2]=c;if(!(_p[o[a>>2]&31](r,t)|0)){b=v+2|0;h=s;return b|0}c=t;n=o[c>>2]|0;f=o[c+4>>2]|0;c=r;i=o[c+4>>2]|0;u=t;o[u>>2]=o[c>>2];o[u+4>>2]=i;i=r;o[i>>2]=n;o[i+4>>2]=f;if(!(_p[o[a>>2]&31](t,e)|0)){b=v+3|0;h=s;return b|0}a=e;f=o[a>>2]|0;i=o[a+4>>2]|0;a=t;n=o[a+4>>2]|0;r=e;o[r>>2]=o[a>>2];o[r+4>>2]=n;n=t;o[n>>2]=f;o[n+4>>2]=i;b=v+4|0;h=s;return b|0}function kt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0;i=h;h=h+16|0;n=i;switch(t-e>>3|0){case 2:a=t+-8|0;if(!(_p[o[r>>2]&31](a,e)|0)){s=1;h=i;return s|0}l=e;u=o[l>>2]|0;c=o[l+4>>2]|0;l=a;f=o[l+4>>2]|0;d=e;o[d>>2]=o[l>>2];o[d+4>>2]=f;f=a;o[f>>2]=u;o[f+4>>2]=c;s=1;h=i;return s|0;case 5:Dt(e,e+8|0,e+16|0,e+24|0,t+-8|0,r)|0;s=1;h=i;return s|0;case 1:case 0:s=1;h=i;return s|0;case 4:c=e+8|0;f=e+16|0;u=t+-8|0;a=_p[o[r>>2]&31](c,e)|0;d=_p[o[r>>2]&31](f,c)|0;do{if(a){l=e;p=o[l>>2]|0;m=o[l+4>>2]|0;if(d){l=f;E=o[l+4>>2]|0;v=e;o[v>>2]=o[l>>2];o[v+4>>2]=E;E=f;o[E>>2]=p;o[E+4>>2]=m;break}E=c;v=o[E+4>>2]|0;l=e;o[l>>2]=o[E>>2];o[l+4>>2]=v;v=c;o[v>>2]=p;o[v+4>>2]=m;if(_p[o[r>>2]&31](f,c)|0){m=c;v=o[m>>2]|0;p=o[m+4>>2]|0;m=f;l=o[m+4>>2]|0;E=c;o[E>>2]=o[m>>2];o[E+4>>2]=l;l=f;o[l>>2]=v;o[l+4>>2]=p}}else if(d?(p=c,l=o[p>>2]|0,v=o[p+4>>2]|0,p=f,E=o[p+4>>2]|0,m=c,o[m>>2]=o[p>>2],o[m+4>>2]=E,E=f,o[E>>2]=l,o[E+4>>2]=v,_p[o[r>>2]&31](c,e)|0):0){v=e;E=o[v>>2]|0;l=o[v+4>>2]|0;v=c;m=o[v+4>>2]|0;p=e;o[p>>2]=o[v>>2];o[p+4>>2]=m;m=c;o[m>>2]=E;o[m+4>>2]=l}}while(0);if(!(_p[o[r>>2]&31](u,f)|0)){s=1;h=i;return s|0}d=f;a=o[d>>2]|0;l=o[d+4>>2]|0;d=u;m=o[d+4>>2]|0;E=f;o[E>>2]=o[d>>2];o[E+4>>2]=m;m=u;o[m>>2]=a;o[m+4>>2]=l;if(!(_p[o[r>>2]&31](f,c)|0)){s=1;h=i;return s|0}l=c;m=o[l>>2]|0;a=o[l+4>>2]|0;l=f;u=o[l+4>>2]|0;E=c;o[E>>2]=o[l>>2];o[E+4>>2]=u;u=f;o[u>>2]=m;o[u+4>>2]=a;if(!(_p[o[r>>2]&31](c,e)|0)){s=1;h=i;return s|0}a=e;u=o[a>>2]|0;m=o[a+4>>2]|0;a=c;f=o[a+4>>2]|0;E=e;o[E>>2]=o[a>>2];o[E+4>>2]=f;f=c;o[f>>2]=u;o[f+4>>2]=m;s=1;h=i;return s|0;case 3:m=e+8|0;f=t+-8|0;u=_p[o[r>>2]&31](m,e)|0;c=_p[o[r>>2]&31](f,m)|0;if(!u){if(!c){s=1;h=i;return s|0}u=m;E=o[u>>2]|0;a=o[u+4>>2]|0;u=f;l=o[u+4>>2]|0;d=m;o[d>>2]=o[u>>2];o[d+4>>2]=l;l=f;o[l>>2]=E;o[l+4>>2]=a;if(!(_p[o[r>>2]&31](m,e)|0)){s=1;h=i;return s|0}a=e;l=o[a>>2]|0;E=o[a+4>>2]|0;a=m;d=o[a+4>>2]|0;u=e;o[u>>2]=o[a>>2];o[u+4>>2]=d;d=m;o[d>>2]=l;o[d+4>>2]=E;s=1;h=i;return s|0}E=e;d=o[E>>2]|0;l=o[E+4>>2]|0;if(c){c=f;E=o[c+4>>2]|0;u=e;o[u>>2]=o[c>>2];o[u+4>>2]=E;E=f;o[E>>2]=d;o[E+4>>2]=l;s=1;h=i;return s|0}E=m;u=o[E+4>>2]|0;c=e;o[c>>2]=o[E>>2];o[c+4>>2]=u;u=m;o[u>>2]=d;o[u+4>>2]=l;if(!(_p[o[r>>2]&31](f,m)|0)){s=1;h=i;return s|0}l=m;u=o[l>>2]|0;d=o[l+4>>2]|0;l=f;c=o[l+4>>2]|0;E=m;o[E>>2]=o[l>>2];o[E+4>>2]=c;c=f;o[c>>2]=u;o[c+4>>2]=d;s=1;h=i;return s|0;default:d=e+16|0;c=e+8|0;u=_p[o[r>>2]&31](c,e)|0;f=_p[o[r>>2]&31](d,c)|0;do{if(u){E=e;l=o[E>>2]|0;m=o[E+4>>2]|0;if(f){E=d;a=o[E+4>>2]|0;p=e;o[p>>2]=o[E>>2];o[p+4>>2]=a;a=d;o[a>>2]=l;o[a+4>>2]=m;break}a=c;p=o[a+4>>2]|0;E=e;o[E>>2]=o[a>>2];o[E+4>>2]=p;p=c;o[p>>2]=l;o[p+4>>2]=m;if(_p[o[r>>2]&31](d,c)|0){m=c;p=o[m>>2]|0;l=o[m+4>>2]|0;m=d;E=o[m+4>>2]|0;a=c;o[a>>2]=o[m>>2];o[a+4>>2]=E;E=d;o[E>>2]=p;o[E+4>>2]=l}}else if(f?(l=c,E=o[l>>2]|0,p=o[l+4>>2]|0,l=d,a=o[l+4>>2]|0,m=c,o[m>>2]=o[l>>2],o[m+4>>2]=a,a=d,o[a>>2]=E,o[a+4>>2]=p,_p[o[r>>2]&31](c,e)|0):0){p=e;a=o[p>>2]|0;E=o[p+4>>2]|0;p=c;m=o[p+4>>2]|0;l=e;o[l>>2]=o[p>>2];o[l+4>>2]=m;m=c;o[m>>2]=a;o[m+4>>2]=E}}while(0);c=e+24|0;if((c|0)==(t|0)){s=1;h=i;return s|0}else{b=0;y=c;g=d}while(1){if(_p[o[r>>2]&31](y,g)|0){d=y;c=o[d+4>>2]|0;f=n;o[f>>2]=o[d>>2];o[f+4>>2]=c;c=y;f=g;while(1){d=f;u=o[d+4>>2]|0;E=c;o[E>>2]=o[d>>2];o[E+4>>2]=u;if((f|0)==(e|0))break;u=f+-8|0;if(_p[o[r>>2]&31](n,u)|0){E=f;f=u;c=E}else break}c=n;E=o[c+4>>2]|0;u=f;o[u>>2]=o[c>>2];o[u+4>>2]=E;E=b+1|0;if((E|0)==8)break;else _=E}else _=b;E=y+8|0;if((E|0)==(t|0)){s=1;T=41;break}else{u=y;b=_;y=E;g=u}}if((T|0)==41){h=i;return s|0}s=(y+8|0)==(t|0);h=i;return s|0}return 0}function Lt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0;i=h;h=h+16|0;n=i;a=e;e=t;e:while(1){t=e;s=e+-8|0;l=a;t:while(1){u=l;c=t-u|0;f=c>>3;switch(f|0){case 2:d=4;break e;break;case 4:d=14;break e;break;case 5:d=26;break e;break;case 3:d=6;break e;break;case 1:case 0:d=84;break e;break;default:}if((c|0)<248){d=28;break e}p=(f|0)/2|0;m=l+(p<<3)|0;do{if((c|0)<=7992){E=_p[o[r>>2]&31](m,l)|0;v=_p[o[r>>2]&31](s,m)|0;if(!E){if(!v){b=0;break}E=m;y=o[E>>2]|0;g=o[E+4>>2]|0;E=s;_=o[E+4>>2]|0;T=m;o[T>>2]=o[E>>2];o[T+4>>2]=_;_=s;o[_>>2]=y;o[_+4>>2]=g;if(!(_p[o[r>>2]&31](m,l)|0)){b=1;break}g=l;_=o[g>>2]|0;y=o[g+4>>2]|0;g=m;T=o[g+4>>2]|0;E=l;o[E>>2]=o[g>>2];o[E+4>>2]=T;T=m;o[T>>2]=_;o[T+4>>2]=y;b=2;break}y=l;T=o[y>>2]|0;_=o[y+4>>2]|0;if(v){v=s;y=o[v+4>>2]|0;E=l;o[E>>2]=o[v>>2];o[E+4>>2]=y;y=s;o[y>>2]=T;o[y+4>>2]=_;b=1;break}y=m;E=o[y+4>>2]|0;v=l;o[v>>2]=o[y>>2];o[v+4>>2]=E;E=m;o[E>>2]=T;o[E+4>>2]=_;if(_p[o[r>>2]&31](s,m)|0){_=m;E=o[_>>2]|0;T=o[_+4>>2]|0;_=s;v=o[_+4>>2]|0;y=m;o[y>>2]=o[_>>2];o[y+4>>2]=v;v=s;o[v>>2]=E;o[v+4>>2]=T;b=2}else b=1}else{T=(f|0)/4|0;b=Bt(l,l+(T<<3)|0,m,l+(T+p<<3)|0,s,r)|0}}while(0);do{if(_p[o[r>>2]&31](l,m)|0){w=s;R=b}else{p=s;while(1){p=p+-8|0;if((l|0)==(p|0))break;if(_p[o[r>>2]&31](p,m)|0){d=67;break}}if((d|0)==67){d=0;f=l;c=o[f>>2]|0;T=o[f+4>>2]|0;f=p;v=o[f+4>>2]|0;E=l;o[E>>2]=o[f>>2];o[E+4>>2]=v;v=p;o[v>>2]=c;o[v+4>>2]=T;w=p;R=b+1|0;break}T=l+8|0;if(_p[o[r>>2]&31](l,s)|0)x=T;else{if((T|0)==(s|0)){d=84;break e}else S=T;while(1){M=S+8|0;if(_p[o[r>>2]&31](l,S)|0)break;if((M|0)==(s|0)){d=84;break e}else S=M}p=S;T=o[p>>2]|0;v=o[p+4>>2]|0;p=s;c=o[p+4>>2]|0;E=S;o[E>>2]=o[p>>2];o[E+4>>2]=c;c=s;o[c>>2]=T;o[c+4>>2]=v;x=M}if((x|0)==(s|0)){d=84;break e}else{H=x;A=s}while(1){v=H;while(1){C=v+8|0;if(_p[o[r>>2]&31](l,v)|0){P=A;break}else v=C}do{P=P+-8|0}while(_p[o[r>>2]&31](l,P)|0);if(!(v>>>0<P>>>0)){l=v;continue t}c=v;T=o[c>>2]|0;E=o[c+4>>2]|0;c=P;p=o[c+4>>2]|0;f=v;o[f>>2]=o[c>>2];o[f+4>>2]=p;p=P;o[p>>2]=T;o[p+4>>2]=E;H=C;A=P}}}while(0);E=l+8|0;r:do{if(E>>>0<w>>>0){p=E;T=w;f=m;c=R;while(1){y=p;while(1){F=y+8|0;if(_p[o[r>>2]&31](y,f)|0)y=F;else{D=T;break}}do{D=D+-8|0}while(!(_p[o[r>>2]&31](D,f)|0));if(y>>>0>D>>>0){k=y;L=f;B=c;break r}v=y;_=o[v>>2]|0;g=o[v+4>>2]|0;v=D;O=o[v+4>>2]|0;N=y;o[N>>2]=o[v>>2];o[N+4>>2]=O;O=D;o[O>>2]=_;o[O+4>>2]=g;p=F;T=D;f=(f|0)==(y|0)?D:f;c=c+1|0}}else{k=E;L=m;B=R}}while(0);if((k|0)!=(L|0)?_p[o[r>>2]&31](L,k)|0:0){m=k;E=o[m>>2]|0;c=o[m+4>>2]|0;m=L;f=o[m+4>>2]|0;T=k;o[T>>2]=o[m>>2];o[T+4>>2]=f;f=L;o[f>>2]=E;o[f+4>>2]=c;I=B+1|0}else I=B;if((I|0)==0){V=Ot(l,k,r)|0;c=k+8|0;if(Ot(c,e,r)|0){d=79;break}if(V){l=c;continue}}c=k;if((c-u|0)>=(t-c|0)){d=83;break}Lt(l,k,r);l=k+8|0}if((d|0)==79){d=0;if(V){d=84;break}else{a=l;e=k;continue}}else if((d|0)==83){d=0;Lt(k+8|0,e,r);a=l;e=k;continue}}if((d|0)==4){if(!(_p[o[r>>2]&31](s,l)|0)){h=i;return}k=l;a=o[k>>2]|0;V=o[k+4>>2]|0;k=s;I=o[k+4>>2]|0;B=l;o[B>>2]=o[k>>2];o[B+4>>2]=I;I=s;o[I>>2]=a;o[I+4>>2]=V;h=i;return}else if((d|0)==6){V=l+8|0;I=_p[o[r>>2]&31](V,l)|0;a=_p[o[r>>2]&31](s,V)|0;if(!I){if(!a){h=i;return}I=V;B=o[I>>2]|0;k=o[I+4>>2]|0;I=s;L=o[I+4>>2]|0;R=V;o[R>>2]=o[I>>2];o[R+4>>2]=L;L=s;o[L>>2]=B;o[L+4>>2]=k;if(!(_p[o[r>>2]&31](V,l)|0)){h=i;return}k=l;L=o[k>>2]|0;B=o[k+4>>2]|0;k=V;R=o[k+4>>2]|0;I=l;o[I>>2]=o[k>>2];o[I+4>>2]=R;R=V;o[R>>2]=L;o[R+4>>2]=B;h=i;return}B=l;R=o[B>>2]|0;L=o[B+4>>2]|0;if(a){a=s;B=o[a+4>>2]|0;I=l;o[I>>2]=o[a>>2];o[I+4>>2]=B;B=s;o[B>>2]=R;o[B+4>>2]=L;h=i;return}B=V;I=o[B+4>>2]|0;a=l;o[a>>2]=o[B>>2];o[a+4>>2]=I;I=V;o[I>>2]=R;o[I+4>>2]=L;if(!(_p[o[r>>2]&31](s,V)|0)){h=i;return}L=V;I=o[L>>2]|0;R=o[L+4>>2]|0;L=s;a=o[L+4>>2]|0;B=V;o[B>>2]=o[L>>2];o[B+4>>2]=a;a=s;o[a>>2]=I;o[a+4>>2]=R;h=i;return}else if((d|0)==14){R=l+8|0;a=l+16|0;I=_p[o[r>>2]&31](R,l)|0;B=_p[o[r>>2]&31](a,R)|0;do{if(I){L=l;V=o[L>>2]|0;k=o[L+4>>2]|0;if(B){L=a;D=o[L+4>>2]|0;F=l;o[F>>2]=o[L>>2];o[F+4>>2]=D;D=a;o[D>>2]=V;o[D+4>>2]=k;break}D=R;F=o[D+4>>2]|0;L=l;o[L>>2]=o[D>>2];o[L+4>>2]=F;F=R;o[F>>2]=V;o[F+4>>2]=k;if(_p[o[r>>2]&31](a,R)|0){k=R;F=o[k>>2]|0;V=o[k+4>>2]|0;k=a;L=o[k+4>>2]|0;D=R;o[D>>2]=o[k>>2];o[D+4>>2]=L;L=a;o[L>>2]=F;o[L+4>>2]=V}}else if(B?(V=R,L=o[V>>2]|0,F=o[V+4>>2]|0,V=a,D=o[V+4>>2]|0,k=R,o[k>>2]=o[V>>2],o[k+4>>2]=D,D=a,o[D>>2]=L,o[D+4>>2]=F,_p[o[r>>2]&31](R,l)|0):0){F=l;D=o[F>>2]|0;L=o[F+4>>2]|0;F=R;k=o[F+4>>2]|0;V=l;o[V>>2]=o[F>>2];o[V+4>>2]=k;k=R;o[k>>2]=D;o[k+4>>2]=L}}while(0);if(!(_p[o[r>>2]&31](s,a)|0)){h=i;return}B=a;I=o[B>>2]|0;L=o[B+4>>2]|0;B=s;k=o[B+4>>2]|0;D=a;o[D>>2]=o[B>>2];o[D+4>>2]=k;k=s;o[k>>2]=I;o[k+4>>2]=L;if(!(_p[o[r>>2]&31](a,R)|0)){h=i;return}L=R;k=o[L>>2]|0;I=o[L+4>>2]|0;L=a;D=o[L+4>>2]|0;B=R;o[B>>2]=o[L>>2];o[B+4>>2]=D;D=a;o[D>>2]=k;o[D+4>>2]=I;if(!(_p[o[r>>2]&31](R,l)|0)){h=i;return}I=l;D=o[I>>2]|0;k=o[I+4>>2]|0;I=R;a=o[I+4>>2]|0;B=l;o[B>>2]=o[I>>2];o[B+4>>2]=a;a=R;o[a>>2]=D;o[a+4>>2]=k;h=i;return}else if((d|0)==26){Bt(l,l+8|0,l+16|0,l+24|0,s,r)|0;h=i;return}else if((d|0)==28){s=l+16|0;k=l+8|0;a=_p[o[r>>2]&31](k,l)|0;D=_p[o[r>>2]&31](s,k)|0;do{if(a){R=l;B=o[R>>2]|0;I=o[R+4>>2]|0;if(D){R=s;L=o[R+4>>2]|0;V=l;o[V>>2]=o[R>>2];o[V+4>>2]=L;L=s;o[L>>2]=B;o[L+4>>2]=I;break}L=k;V=o[L+4>>2]|0;R=l;o[R>>2]=o[L>>2];o[R+4>>2]=V;V=k;o[V>>2]=B;o[V+4>>2]=I;if(_p[o[r>>2]&31](s,k)|0){I=k;V=o[I>>2]|0;B=o[I+4>>2]|0;I=s;R=o[I+4>>2]|0;L=k;o[L>>2]=o[I>>2];o[L+4>>2]=R;R=s;o[R>>2]=V;o[R+4>>2]=B}}else if(D?(B=k,R=o[B>>2]|0,V=o[B+4>>2]|0,B=s,L=o[B+4>>2]|0,I=k,o[I>>2]=o[B>>2],o[I+4>>2]=L,L=s,o[L>>2]=R,o[L+4>>2]=V,_p[o[r>>2]&31](k,l)|0):0){V=l;L=o[V>>2]|0;R=o[V+4>>2]|0;V=k;I=o[V+4>>2]|0;B=l;o[B>>2]=o[V>>2];o[B+4>>2]=I;I=k;o[I>>2]=L;o[I+4>>2]=R}}while(0);k=l+24|0;if((k|0)==(e|0)){h=i;return}else{U=k;z=s}while(1){if(_p[o[r>>2]&31](U,z)|0){s=U;k=o[s+4>>2]|0;D=n;o[D>>2]=o[s>>2];o[D+4>>2]=k;k=U;D=z;while(1){s=D;a=o[s+4>>2]|0;R=k;o[R>>2]=o[s>>2];o[R+4>>2]=a;if((D|0)==(l|0))break;a=D+-8|0;if(_p[o[r>>2]&31](n,a)|0){R=D;D=a;k=R}else break}k=n;R=o[k+4>>2]|0;a=D;o[a>>2]=o[k>>2];o[a+4>>2]=R}R=U+8|0;if((R|0)==(e|0))break;else{a=U;U=R;z=a}}h=i;return}else if((d|0)==84){h=i;return}}function Bt(e,t,r,i,n,a){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0;s=h;l=_p[o[a>>2]&31](t,e)|0;u=_p[o[a>>2]&31](r,t)|0;do{if(l){c=e;f=o[c>>2]|0;d=o[c+4>>2]|0;if(u){c=r;p=o[c+4>>2]|0;m=e;o[m>>2]=o[c>>2];o[m+4>>2]=p;p=r;o[p>>2]=f;o[p+4>>2]=d;E=1;break}p=t;m=o[p+4>>2]|0;c=e;o[c>>2]=o[p>>2];o[c+4>>2]=m;m=t;o[m>>2]=f;o[m+4>>2]=d;if(_p[o[a>>2]&31](r,t)|0){d=t;m=o[d>>2]|0;f=o[d+4>>2]|0;d=r;c=o[d+4>>2]|0;p=t;o[p>>2]=o[d>>2];o[p+4>>2]=c;c=r;o[c>>2]=m;o[c+4>>2]=f;E=2}else E=1}else if(u){f=t;c=o[f>>2]|0;m=o[f+4>>2]|0;f=r;p=o[f+4>>2]|0;d=t;o[d>>2]=o[f>>2];o[d+4>>2]=p;p=r;o[p>>2]=c;o[p+4>>2]=m;if(_p[o[a>>2]&31](t,e)|0){m=e;p=o[m>>2]|0;c=o[m+4>>2]|0;m=t;d=o[m+4>>2]|0;f=e;o[f>>2]=o[m>>2];o[f+4>>2]=d;d=t;o[d>>2]=p;o[d+4>>2]=c;E=2}else E=1}else E=0}while(0);if(_p[o[a>>2]&31](i,r)|0){u=r;l=o[u>>2]|0;c=o[u+4>>2]|0;u=i;d=o[u+4>>2]|0;p=r;o[p>>2]=o[u>>2];o[p+4>>2]=d;d=i;o[d>>2]=l;o[d+4>>2]=c;c=E+1|0;if(_p[o[a>>2]&31](r,t)|0){d=t;l=o[d>>2]|0;p=o[d+4>>2]|0;d=r;u=o[d+4>>2]|0;f=t;o[f>>2]=o[d>>2];o[f+4>>2]=u;u=r;o[u>>2]=l;o[u+4>>2]=p;if(_p[o[a>>2]&31](t,e)|0){p=e;u=o[p>>2]|0;l=o[p+4>>2]|0;p=t;f=o[p+4>>2]|0;d=e;o[d>>2]=o[p>>2];o[d+4>>2]=f;f=t;o[f>>2]=u;o[f+4>>2]=l;v=E+3|0}else v=E+2|0}else v=c}else v=E;if(!(_p[o[a>>2]&31](n,i)|0)){b=v;h=s;return b|0}E=i;c=o[E>>2]|0;l=o[E+4>>2]|0;E=n;f=o[E+4>>2]|0;u=i;o[u>>2]=o[E>>2];o[u+4>>2]=f;f=n;o[f>>2]=c;o[f+4>>2]=l;if(!(_p[o[a>>2]&31](i,r)|0)){b=v+1|0;h=s;return b|0}l=r;f=o[l>>2]|0;c=o[l+4>>2]|0;l=i;n=o[l+4>>2]|0;u=r;o[u>>2]=o[l>>2];o[u+4>>2]=n;n=i;o[n>>2]=f;o[n+4>>2]=c;if(!(_p[o[a>>2]&31](r,t)|0)){b=v+2|0;h=s;return b|0}c=t;n=o[c>>2]|0;f=o[c+4>>2]|0;c=r;i=o[c+4>>2]|0;u=t;o[u>>2]=o[c>>2];o[u+4>>2]=i;i=r;o[i>>2]=n;o[i+4>>2]=f;if(!(_p[o[a>>2]&31](t,e)|0)){b=v+3|0;h=s;return b|0}a=e;f=o[a>>2]|0;i=o[a+4>>2]|0;a=t;n=o[a+4>>2]|0;r=e;o[r>>2]=o[a>>2];o[r+4>>2]=n;n=t;o[n>>2]=f;o[n+4>>2]=i;b=v+4|0;h=s;return b|0}function Ot(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0;i=h;h=h+16|0;n=i;switch(t-e>>3|0){case 3:a=e+8|0;s=t+-8|0;l=_p[o[r>>2]&31](a,e)|0;u=_p[o[r>>2]&31](s,a)|0;if(!l){if(!u){c=1;h=i;return c|0}l=a;f=o[l>>2]|0;d=o[l+4>>2]|0;l=s;p=o[l+4>>2]|0;m=a;o[m>>2]=o[l>>2];o[m+4>>2]=p;p=s;o[p>>2]=f;o[p+4>>2]=d;if(!(_p[o[r>>2]&31](a,e)|0)){c=1;h=i;return c|0}d=e;p=o[d>>2]|0;f=o[d+4>>2]|0;d=a;m=o[d+4>>2]|0;l=e;o[l>>2]=o[d>>2];o[l+4>>2]=m;m=a;o[m>>2]=p;o[m+4>>2]=f;c=1;h=i;return c|0}f=e;m=o[f>>2]|0;p=o[f+4>>2]|0;if(u){u=s;f=o[u+4>>2]|0;l=e;o[l>>2]=o[u>>2];o[l+4>>2]=f;f=s;o[f>>2]=m;o[f+4>>2]=p;c=1;h=i;return c|0}f=a;l=o[f+4>>2]|0;u=e;o[u>>2]=o[f>>2];o[u+4>>2]=l;l=a;o[l>>2]=m;o[l+4>>2]=p;if(!(_p[o[r>>2]&31](s,a)|0)){c=1;h=i;return c|0}p=a;l=o[p>>2]|0;m=o[p+4>>2]|0;p=s;u=o[p+4>>2]|0;f=a;o[f>>2]=o[p>>2];o[f+4>>2]=u;u=s;o[u>>2]=l;o[u+4>>2]=m;c=1;h=i;return c|0;case 4:m=e+8|0;u=e+16|0;l=t+-8|0;s=_p[o[r>>2]&31](m,e)|0;f=_p[o[r>>2]&31](u,m)|0;do{if(s){p=e;a=o[p>>2]|0;d=o[p+4>>2]|0;if(f){p=u;E=o[p+4>>2]|0;v=e;o[v>>2]=o[p>>2];o[v+4>>2]=E;E=u;o[E>>2]=a;o[E+4>>2]=d;break}E=m;v=o[E+4>>2]|0;p=e;o[p>>2]=o[E>>2];o[p+4>>2]=v;v=m;o[v>>2]=a;o[v+4>>2]=d;if(_p[o[r>>2]&31](u,m)|0){d=m;v=o[d>>2]|0;a=o[d+4>>2]|0;d=u;p=o[d+4>>2]|0;E=m;o[E>>2]=o[d>>2];o[E+4>>2]=p;p=u;o[p>>2]=v;o[p+4>>2]=a}}else if(f?(a=m,p=o[a>>2]|0,v=o[a+4>>2]|0,a=u,E=o[a+4>>2]|0,d=m,o[d>>2]=o[a>>2],o[d+4>>2]=E,E=u,o[E>>2]=p,o[E+4>>2]=v,_p[o[r>>2]&31](m,e)|0):0){v=e;E=o[v>>2]|0;p=o[v+4>>2]|0;v=m;d=o[v+4>>2]|0;a=e;o[a>>2]=o[v>>2];o[a+4>>2]=d;d=m;o[d>>2]=E;o[d+4>>2]=p}}while(0);if(!(_p[o[r>>2]&31](l,u)|0)){c=1;h=i;return c|0}f=u;s=o[f>>2]|0;p=o[f+4>>2]|0;f=l;d=o[f+4>>2]|0;E=u;o[E>>2]=o[f>>2];o[E+4>>2]=d;d=l;o[d>>2]=s;o[d+4>>2]=p;if(!(_p[o[r>>2]&31](u,m)|0)){c=1;h=i;return c|0}p=m;d=o[p>>2]|0;s=o[p+4>>2]|0;p=u;l=o[p+4>>2]|0;E=m;o[E>>2]=o[p>>2];o[E+4>>2]=l;l=u;o[l>>2]=d;o[l+4>>2]=s;if(!(_p[o[r>>2]&31](m,e)|0)){c=1;h=i;return c|0}s=e;l=o[s>>2]|0;d=o[s+4>>2]|0;s=m;u=o[s+4>>2]|0;E=e;o[E>>2]=o[s>>2];o[E+4>>2]=u;u=m;o[u>>2]=l;o[u+4>>2]=d;c=1;h=i;return c|0;case 1:case 0:c=1;h=i;return c|0;case 5:Bt(e,e+8|0,e+16|0,e+24|0,t+-8|0,r)|0;c=1;h=i;return c|0;case 2:d=t+-8|0;if(!(_p[o[r>>2]&31](d,e)|0)){c=1;h=i;return c|0}u=e;l=o[u>>2]|0;m=o[u+4>>2]|0;u=d;E=o[u+4>>2]|0;s=e;o[s>>2]=o[u>>2];o[s+4>>2]=E;E=d;o[E>>2]=l;o[E+4>>2]=m;c=1;h=i;return c|0;default:m=e+16|0;E=e+8|0;l=_p[o[r>>2]&31](E,e)|0;d=_p[o[r>>2]&31](m,E)|0;do{if(l){s=e;u=o[s>>2]|0;p=o[s+4>>2]|0;if(d){s=m;f=o[s+4>>2]|0;a=e;o[a>>2]=o[s>>2];o[a+4>>2]=f;f=m;o[f>>2]=u;o[f+4>>2]=p;break}f=E;a=o[f+4>>2]|0;s=e;o[s>>2]=o[f>>2];o[s+4>>2]=a;a=E;o[a>>2]=u;o[a+4>>2]=p;if(_p[o[r>>2]&31](m,E)|0){p=E;a=o[p>>2]|0;u=o[p+4>>2]|0;p=m;s=o[p+4>>2]|0;f=E;o[f>>2]=o[p>>2];o[f+4>>2]=s;s=m;o[s>>2]=a;o[s+4>>2]=u}}else if(d?(u=E,s=o[u>>2]|0,a=o[u+4>>2]|0,u=m,f=o[u+4>>2]|0,p=E,o[p>>2]=o[u>>2],o[p+4>>2]=f,f=m,o[f>>2]=s,o[f+4>>2]=a,_p[o[r>>2]&31](E,e)|0):0){a=e;f=o[a>>2]|0;s=o[a+4>>2]|0;a=E;p=o[a+4>>2]|0;u=e;o[u>>2]=o[a>>2];o[u+4>>2]=p;p=E;o[p>>2]=f;o[p+4>>2]=s}}while(0);E=e+24|0;if((E|0)==(t|0)){c=1;h=i;return c|0}else{b=0;y=E;g=m}while(1){if(_p[o[r>>2]&31](y,g)|0){m=y;E=o[m+4>>2]|0;d=n;o[d>>2]=o[m>>2];o[d+4>>2]=E;E=y;d=g;while(1){m=d;l=o[m+4>>2]|0;s=E;o[s>>2]=o[m>>2];o[s+4>>2]=l;if((d|0)==(e|0))break;l=d+-8|0;if(_p[o[r>>2]&31](n,l)|0){s=d;d=l;E=s}else break}E=n;s=o[E+4>>2]|0;l=d;o[l>>2]=o[E>>2];o[l+4>>2]=s;s=b+1|0;if((s|0)==8)break;else _=s}else _=b;s=y+8|0;if((s|0)==(t|0)){c=1;T=41;break}else{l=y;b=_;y=s;g=l}}if((T|0)==41){h=i;return c|0}c=(y+8|0)==(t|0);h=i;return c|0}return 0}function Nt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0;i=h;n=e;e=t;e:while(1){t=e;a=e+-8|0;s=e+-4|0;l=n;t:while(1){u=l;c=t-u|0;f=c>>3;switch(f|0){case 2:d=4;break e;break;case 4:d=14;break e;break;case 3:d=6;break e;break;case 5:d=15;break e;break;case 1:case 0:d=85;break e;break;default:}if((c|0)<248){d=21;break e}p=(f|0)/2|0;m=l+(p<<3)|0;do{if((c|0)>7992){E=(f|0)/4|0;v=l+(E<<3)|0;b=E+p|0;y=l+(b<<3)|0;g=It(l,v,m,y,0)|0;_=l+(b<<3)+4|0;if(!((o[s>>2]|0)>>>0<(o[_>>2]|0)>>>0)){T=l+(p<<3)+4|0;w=g;break}b=y;R=o[b>>2]|0;x=o[b+4>>2]|0;b=a;S=o[b+4>>2]|0;M=y;o[M>>2]=o[b>>2];o[M+4>>2]=S;S=a;o[S>>2]=R;o[S+4>>2]=x;x=l+(p<<3)+4|0;if(!((o[_>>2]|0)>>>0<(o[x>>2]|0)>>>0)){T=x;w=g+1|0;break}_=m;S=o[_>>2]|0;R=o[_+4>>2]|0;_=y;M=o[_+4>>2]|0;b=m;o[b>>2]=o[_>>2];o[b+4>>2]=M;M=y;o[M>>2]=S;o[M+4>>2]=R;R=l+(E<<3)+4|0;if(!((o[x>>2]|0)>>>0<(o[R>>2]|0)>>>0)){T=x;w=g+2|0;break}E=v;M=o[E>>2]|0;S=o[E+4>>2]|0;E=m;y=o[E+4>>2]|0;b=v;o[b>>2]=o[E>>2];o[b+4>>2]=y;y=m;o[y>>2]=M;o[y+4>>2]=S;if((o[R>>2]|0)>>>0<(o[l+4>>2]|0)>>>0){R=l;S=o[R>>2]|0;y=o[R+4>>2]|0;R=v;M=o[R+4>>2]|0;b=l;o[b>>2]=o[R>>2];o[b+4>>2]=M;M=v;o[M>>2]=S;o[M+4>>2]=y;T=x;w=g+4|0;break}else{T=x;w=g+3|0;break}}else{g=l+(p<<3)+4|0;x=o[g>>2]|0;y=l+4|0;M=(o[s>>2]|0)>>>0<x>>>0;if(!(x>>>0<(o[y>>2]|0)>>>0)){if(!M){T=g;w=0;break}x=m;S=o[x>>2]|0;v=o[x+4>>2]|0;x=a;b=o[x+4>>2]|0;R=m;o[R>>2]=o[x>>2];o[R+4>>2]=b;b=a;o[b>>2]=S;o[b+4>>2]=v;if(!((o[g>>2]|0)>>>0<(o[y>>2]|0)>>>0)){T=g;w=1;break}y=l;v=o[y>>2]|0;b=o[y+4>>2]|0;y=m;S=o[y+4>>2]|0;R=l;o[R>>2]=o[y>>2];o[R+4>>2]=S;S=m;o[S>>2]=v;o[S+4>>2]=b;T=g;w=2;break}b=l;S=o[b>>2]|0;v=o[b+4>>2]|0;if(M){M=a;b=o[M+4>>2]|0;R=l;o[R>>2]=o[M>>2];o[R+4>>2]=b;b=a;o[b>>2]=S;o[b+4>>2]=v;T=g;w=1;break}b=m;R=o[b+4>>2]|0;M=l;o[M>>2]=o[b>>2];o[M+4>>2]=R;R=m;o[R>>2]=S;o[R+4>>2]=v;if((o[s>>2]|0)>>>0<v>>>0){R=a;M=o[R+4>>2]|0;b=m;o[b>>2]=o[R>>2];o[b+4>>2]=M;M=a;o[M>>2]=S;o[M+4>>2]=v;T=g;w=2}else{T=g;w=1}}}while(0);p=l+4|0;f=o[p>>2]|0;c=o[T>>2]|0;do{if(f>>>0<c>>>0){H=a;A=w}else{g=a;while(1){v=g;g=g+-8|0;if((l|0)==(g|0))break;if((o[v+-4>>2]|0)>>>0<c>>>0){d=68;break}}if((d|0)==68){d=0;v=l;M=o[v>>2]|0;S=o[v+4>>2]|0;v=g;b=o[v+4>>2]|0;R=l;o[R>>2]=o[v>>2];o[R+4>>2]=b;b=g;o[b>>2]=M;o[b+4>>2]=S;H=g;A=w+1|0;break}S=l+8|0;if(f>>>0<(o[s>>2]|0)>>>0)C=S;else{if((S|0)==(a|0)){d=85;break e}else P=S;while(1){F=P+8|0;if(f>>>0<(o[P+4>>2]|0)>>>0)break;if((F|0)==(a|0)){d=85;break e}else P=F}g=P;S=o[g>>2]|0;b=o[g+4>>2]|0;g=a;M=o[g+4>>2]|0;R=P;o[R>>2]=o[g>>2];o[R+4>>2]=M;M=a;o[M>>2]=S;o[M+4>>2]=b;C=F}if((C|0)==(a|0)){d=85;break e}else{D=C;k=a}while(1){b=o[p>>2]|0;M=D;while(1){L=M+8|0;if(b>>>0<(o[M+4>>2]|0)>>>0){B=k;break}else M=L}do{S=B;B=B+-8|0}while(b>>>0<(o[S+-4>>2]|0)>>>0);if(!(M>>>0<B>>>0)){l=M;continue t}b=M;S=o[b>>2]|0;R=o[b+4>>2]|0;b=B;g=o[b+4>>2]|0;v=M;o[v>>2]=o[b>>2];o[v+4>>2]=g;g=B;o[g>>2]=S;o[g+4>>2]=R;D=L;k=B}}}while(0);p=l+8|0;r:do{if(p>>>0<H>>>0){f=p;c=H;R=m;g=A;while(1){S=o[R+4>>2]|0;v=f;while(1){O=v+8|0;if((o[v+4>>2]|0)>>>0<S>>>0)v=O;else{N=c;break}}do{M=N;N=N+-8|0}while(!((o[M+-4>>2]|0)>>>0<S>>>0));if(v>>>0>N>>>0){I=v;V=R;U=g;break r}S=v;M=o[S>>2]|0;b=o[S+4>>2]|0;S=N;y=o[S+4>>2]|0;x=v;o[x>>2]=o[S>>2];o[x+4>>2]=y;y=N;o[y>>2]=M;o[y+4>>2]=b;f=O;c=N;R=(R|0)==(v|0)?N:R;g=g+1|0}}else{I=p;V=m;U=A}}while(0);if((I|0)!=(V|0)?(o[V+4>>2]|0)>>>0<(o[I+4>>2]|0)>>>0:0){m=I;p=o[m>>2]|0;g=o[m+4>>2]|0;m=V;R=o[m+4>>2]|0;c=I;o[c>>2]=o[m>>2];o[c+4>>2]=R;R=V;o[R>>2]=p;o[R+4>>2]=g;z=U+1|0}else z=U;if((z|0)==0){G=Vt(l,I,0)|0;g=I+8|0;if(Vt(g,e,0)|0){d=80;break}if(G){l=g;continue}}g=I;if((g-u|0)>=(t-g|0)){d=84;break}Nt(l,I,r);l=I+8|0}if((d|0)==80){d=0;if(G){d=85;break}else{n=l;e=I;continue}}else if((d|0)==84){d=0;Nt(I+8|0,e,r);n=l;e=I;continue}}if((d|0)==4){if(!((o[s>>2]|0)>>>0<(o[l+4>>2]|0)>>>0)){h=i;return}I=l;n=o[I>>2]|0;r=o[I+4>>2]|0;I=a;G=o[I+4>>2]|0;z=l;o[z>>2]=o[I>>2];o[z+4>>2]=G;G=a;o[G>>2]=n;o[G+4>>2]=r;h=i;return}else if((d|0)==6){r=l+8|0;G=l+12|0;n=o[G>>2]|0;z=l+4|0;I=(o[s>>2]|0)>>>0<n>>>0;if(!(n>>>0<(o[z>>2]|0)>>>0)){if(!I){h=i;return}n=r;U=o[n>>2]|0;V=o[n+4>>2]|0;n=a;A=o[n+4>>2]|0;N=r;o[N>>2]=o[n>>2];o[N+4>>2]=A;A=a;o[A>>2]=U;o[A+4>>2]=V;if(!((o[G>>2]|0)>>>0<(o[z>>2]|0)>>>0)){h=i;return}z=l;G=o[z>>2]|0;V=o[z+4>>2]|0;z=r;A=o[z+4>>2]|0;U=l;o[U>>2]=o[z>>2];o[U+4>>2]=A;A=r;o[A>>2]=G;o[A+4>>2]=V;h=i;return}V=l;A=o[V>>2]|0;G=o[V+4>>2]|0;if(I){I=a;V=o[I+4>>2]|0;U=l;o[U>>2]=o[I>>2];o[U+4>>2]=V;V=a;o[V>>2]=A;o[V+4>>2]=G;h=i;return}V=r;U=o[V+4>>2]|0;I=l;o[I>>2]=o[V>>2];o[I+4>>2]=U;U=r;o[U>>2]=A;o[U+4>>2]=G;if(!((o[s>>2]|0)>>>0<G>>>0)){h=i;return}U=a;I=o[U+4>>2]|0;V=r;o[V>>2]=o[U>>2];o[V+4>>2]=I;I=a;o[I>>2]=A;o[I+4>>2]=G;h=i;return}else if((d|0)==14){It(l,l+8|0,l+16|0,a,0)|0;h=i;return}else if((d|0)==15){G=l+8|0;I=l+16|0;A=l+24|0;It(l,G,I,A,0)|0;V=l+28|0;if(!((o[s>>2]|0)>>>0<(o[V>>2]|0)>>>0)){h=i;return}s=A;U=o[s>>2]|0;r=o[s+4>>2]|0;s=a;z=o[s+4>>2]|0;N=A;o[N>>2]=o[s>>2];o[N+4>>2]=z;z=a;o[z>>2]=U;o[z+4>>2]=r;if(!((o[V>>2]|0)>>>0<(o[l+20>>2]|0)>>>0)){h=i;return}V=I;r=o[V>>2]|0;z=o[V+4>>2]|0;V=A;U=o[V>>2]|0;a=o[V+4>>2]|0;V=I;o[V>>2]=U;o[V+4>>2]=a;V=A;o[V>>2]=r;o[V+4>>2]=z;if(!(a>>>0<(o[l+12>>2]|0)>>>0)){h=i;return}z=G;V=o[z>>2]|0;r=o[z+4>>2]|0;z=G;o[z>>2]=U;o[z+4>>2]=a;z=I;o[z>>2]=V;o[z+4>>2]=r;if(!(a>>>0<(o[l+4>>2]|0)>>>0)){h=i;return}r=l;z=o[r>>2]|0;V=o[r+4>>2]|0;r=l;o[r>>2]=U;o[r+4>>2]=a;a=G;o[a>>2]=z;o[a+4>>2]=V;h=i;return}else if((d|0)==21){V=l+16|0;a=l+8|0;z=o[l+12>>2]|0;G=o[l+4>>2]|0;r=o[l+20>>2]|0;U=r>>>0<z>>>0;do{if(z>>>0<G>>>0){I=l;A=o[I>>2]|0;N=o[I+4>>2]|0;if(U){I=V;s=o[I+4>>2]|0;n=l;o[n>>2]=o[I>>2];o[n+4>>2]=s;s=V;o[s>>2]=A;o[s+4>>2]=N;break}s=a;n=o[s+4>>2]|0;I=l;o[I>>2]=o[s>>2];o[I+4>>2]=n;n=a;o[n>>2]=A;o[n+4>>2]=N;if(r>>>0<N>>>0){n=V;I=o[n+4>>2]|0;s=a;o[s>>2]=o[n>>2];o[s+4>>2]=I;I=V;o[I>>2]=A;o[I+4>>2]=N}}else if(U?(N=a,I=o[N>>2]|0,A=o[N+4>>2]|0,N=V,s=o[N>>2]|0,n=o[N+4>>2]|0,N=a,o[N>>2]=s,o[N+4>>2]=n,N=V,o[N>>2]=I,o[N+4>>2]=A,n>>>0<G>>>0):0){A=l;N=o[A>>2]|0;I=o[A+4>>2]|0;A=l;o[A>>2]=s;o[A+4>>2]=n;n=a;o[n>>2]=N;o[n+4>>2]=I}}while(0);a=l+24|0;if((a|0)==(e|0)){h=i;return}else{W=a;j=V}while(1){if((o[W+4>>2]|0)>>>0<(o[j+4>>2]|0)>>>0){V=W;a=o[V>>2]|0;G=o[V+4>>2]|0;V=W;U=j;while(1){r=U;z=o[r+4>>2]|0;I=V;o[I>>2]=o[r>>2];o[I+4>>2]=z;if((U|0)==(l|0))break;if(G>>>0<(o[U+-4>>2]|0)>>>0){z=U;U=U+-8|0;V=z}else break}V=U;o[V>>2]=a;o[V+4>>2]=G}V=W+8|0;if((V|0)==(e|0))break;else{z=W;W=V;j=z}}h=i;return}else if((d|0)==85){h=i;return}}function It(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;n=h;a=t+4|0;s=o[a>>2]|0;l=e+4|0;u=r+4|0;c=o[u>>2]|0;f=c>>>0<s>>>0;do{if(s>>>0<(o[l>>2]|0)>>>0){d=e;p=o[d>>2]|0;m=o[d+4>>2]|0;if(f){d=r;E=o[d+4>>2]|0;v=e;o[v>>2]=o[d>>2];o[v+4>>2]=E;E=r;o[E>>2]=p;o[E+4>>2]=m;b=1;y=m;break}E=t;v=o[E+4>>2]|0;d=e;o[d>>2]=o[E>>2];o[d+4>>2]=v;v=t;o[v>>2]=p;o[v+4>>2]=m;v=o[u>>2]|0;if(v>>>0<m>>>0){d=r;E=o[d+4>>2]|0;g=t;o[g>>2]=o[d>>2];o[g+4>>2]=E;E=r;o[E>>2]=p;o[E+4>>2]=m;b=2;y=m}else{b=1;y=v}}else if(f){v=t;m=o[v>>2]|0;E=o[v+4>>2]|0;v=r;p=o[v+4>>2]|0;g=t;o[g>>2]=o[v>>2];o[g+4>>2]=p;p=r;o[p>>2]=m;o[p+4>>2]=E;if((o[a>>2]|0)>>>0<(o[l>>2]|0)>>>0){p=e;m=o[p>>2]|0;g=o[p+4>>2]|0;p=t;v=o[p+4>>2]|0;d=e;o[d>>2]=o[p>>2];o[d+4>>2]=v;v=t;o[v>>2]=m;o[v+4>>2]=g;b=2;y=o[u>>2]|0}else{b=1;y=E}}else{b=0;y=c}}while(0);if(!((o[i+4>>2]|0)>>>0<y>>>0)){_=b;h=n;return _|0}y=r;c=o[y>>2]|0;f=o[y+4>>2]|0;y=i;s=o[y+4>>2]|0;E=r;o[E>>2]=o[y>>2];o[E+4>>2]=s;s=i;o[s>>2]=c;o[s+4>>2]=f;if(!((o[u>>2]|0)>>>0<(o[a>>2]|0)>>>0)){_=b+1|0;h=n;return _|0}u=t;f=o[u>>2]|0;s=o[u+4>>2]|0;u=r;c=o[u+4>>2]|0;i=t;o[i>>2]=o[u>>2];o[i+4>>2]=c;c=r;o[c>>2]=f;o[c+4>>2]=s;if(!((o[a>>2]|0)>>>0<(o[l>>2]|0)>>>0)){_=b+2|0;h=n;return _|0}l=e;a=o[l>>2]|0;s=o[l+4>>2]|0;l=t;c=o[l+4>>2]|0;f=e;o[f>>2]=o[l>>2];o[f+4>>2]=c;c=t;o[c>>2]=a;o[c+4>>2]=s;_=b+3|0;h=n;return _|0}function Vt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;r=h;switch(t-e>>3|0){case 5:i=e+8|0;n=e+16|0;a=e+24|0;It(e,i,n,a,0)|0;s=e+28|0;if(!((o[t+-4>>2]|0)>>>0<(o[s>>2]|0)>>>0)){l=1;h=r;return l|0}u=t+-8|0;c=a;f=o[c>>2]|0;d=o[c+4>>2]|0;c=u;p=o[c+4>>2]|0;m=a;o[m>>2]=o[c>>2];o[m+4>>2]=p;p=u;o[p>>2]=f;o[p+4>>2]=d;if(!((o[s>>2]|0)>>>0<(o[e+20>>2]|0)>>>0)){l=1;h=r;return l|0}s=n;d=o[s>>2]|0;p=o[s+4>>2]|0;s=a;f=o[s>>2]|0;u=o[s+4>>2]|0;s=n;o[s>>2]=f;o[s+4>>2]=u;s=a;o[s>>2]=d;o[s+4>>2]=p;if(!(u>>>0<(o[e+12>>2]|0)>>>0)){l=1;h=r;return l|0}p=i;s=o[p>>2]|0;d=o[p+4>>2]|0;p=i;o[p>>2]=f;o[p+4>>2]=u;p=n;o[p>>2]=s;o[p+4>>2]=d;if(!(u>>>0<(o[e+4>>2]|0)>>>0)){l=1;h=r;return l|0}d=e;p=o[d>>2]|0;s=o[d+4>>2]|0;d=e;o[d>>2]=f;o[d+4>>2]=u;u=i;o[u>>2]=p;o[u+4>>2]=s;l=1;h=r;return l|0;case 4:It(e,e+8|0,e+16|0,t+-8|0,0)|0;l=1;h=r;return l|0;case 1:case 0:l=1;h=r;return l|0;case 3:s=e+8|0;u=t+-8|0;p=e+12|0;i=o[p>>2]|0;d=e+4|0;f=t+-4|0;n=(o[f>>2]|0)>>>0<i>>>0;if(!(i>>>0<(o[d>>2]|0)>>>0)){if(!n){l=1;h=r;return l|0}i=s;a=o[i>>2]|0;m=o[i+4>>2]|0;i=u;c=o[i+4>>2]|0;E=s;o[E>>2]=o[i>>2];o[E+4>>2]=c;c=u;o[c>>2]=a;o[c+4>>2]=m;if(!((o[p>>2]|0)>>>0<(o[d>>2]|0)>>>0)){l=1;h=r;return l|0}d=e;p=o[d>>2]|0;m=o[d+4>>2]|0;d=s;c=o[d+4>>2]|0;a=e;o[a>>2]=o[d>>2];o[a+4>>2]=c;c=s;o[c>>2]=p;o[c+4>>2]=m;l=1;h=r;return l|0}m=e;c=o[m>>2]|0;p=o[m+4>>2]|0;if(n){n=u;m=o[n+4>>2]|0;a=e;o[a>>2]=o[n>>2];o[a+4>>2]=m;m=u;o[m>>2]=c;o[m+4>>2]=p;l=1;h=r;return l|0}m=s;a=o[m+4>>2]|0;n=e;o[n>>2]=o[m>>2];o[n+4>>2]=a;a=s;o[a>>2]=c;o[a+4>>2]=p;if(!((o[f>>2]|0)>>>0<p>>>0)){l=1;h=r;return l|0}f=u;a=o[f+4>>2]|0;n=s;o[n>>2]=o[f>>2];o[n+4>>2]=a;a=u;o[a>>2]=c;o[a+4>>2]=p;l=1;h=r;return l|0;case 2:if(!((o[t+-4>>2]|0)>>>0<(o[e+4>>2]|0)>>>0)){l=1;h=r;return l|0}p=t+-8|0;a=e;c=o[a>>2]|0;u=o[a+4>>2]|0;a=p;n=o[a+4>>2]|0;f=e;o[f>>2]=o[a>>2];o[f+4>>2]=n;n=p;o[n>>2]=c;o[n+4>>2]=u;l=1;h=r;return l|0;default:u=e+16|0;n=e+8|0;c=o[e+12>>2]|0;p=o[e+4>>2]|0;f=o[e+20>>2]|0;a=f>>>0<c>>>0;do{if(c>>>0<p>>>0){s=e;m=o[s>>2]|0;d=o[s+4>>2]|0;if(a){s=u;E=o[s+4>>2]|0;i=e;o[i>>2]=o[s>>2];o[i+4>>2]=E;E=u;o[E>>2]=m;o[E+4>>2]=d;break}E=n;i=o[E+4>>2]|0;s=e;o[s>>2]=o[E>>2];o[s+4>>2]=i;i=n;o[i>>2]=m;o[i+4>>2]=d;if(f>>>0<d>>>0){i=u;s=o[i+4>>2]|0;E=n;o[E>>2]=o[i>>2];o[E+4>>2]=s;s=u;o[s>>2]=m;o[s+4>>2]=d}}else if(a?(d=n,s=o[d>>2]|0,m=o[d+4>>2]|0,d=u,E=o[d>>2]|0,i=o[d+4>>2]|0,d=n,o[d>>2]=E,o[d+4>>2]=i,d=u,o[d>>2]=s,o[d+4>>2]=m,i>>>0<p>>>0):0){m=e;d=o[m>>2]|0;s=o[m+4>>2]|0;m=e;o[m>>2]=E;o[m+4>>2]=i;i=n;o[i>>2]=d;o[i+4>>2]=s}}while(0);n=e+24|0;if((n|0)==(t|0)){l=1;h=r;return l|0}else{v=0;b=n;y=u}while(1){if((o[b+4>>2]|0)>>>0<(o[y+4>>2]|0)>>>0){u=b;n=o[u>>2]|0;p=o[u+4>>2]|0;u=b;a=y;while(1){f=a;c=o[f+4>>2]|0;s=u;o[s>>2]=o[f>>2];o[s+4>>2]=c;if((a|0)==(e|0))break;if(p>>>0<(o[a+-4>>2]|0)>>>0){c=a;a=a+-8|0;u=c}else break}u=a;o[u>>2]=n;o[u+4>>2]=p;u=v+1|0;if((u|0)==8)break;else g=u}else g=v;u=b+8|0;if((u|0)==(t|0)){l=1;_=34;break}else{c=b;v=g;b=u;y=c}}if((_|0)==34){h=r;return l|0}l=(b+8|0)==(t|0);h=r;return l|0}return 0}function Ut(e,t,r,i,n,a){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0;s=h;h=h+64|0;l=s;if((i|0)==2){u=t+-60|0;if(!(_p[o[r>>2]&31](u,e)|0)){h=s;return}c=l+0|0;f=e+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));c=e+0|0;f=u+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));c=u+0|0;f=l+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));h=s;return}else if((i|0)==1|(i|0)==0){h=s;return}else{if((i|0)<129){if((e|0)==(t|0)){h=s;return}u=e+60|0;if((u|0)==(t|0)){h=s;return}p=u;do{c=l+0|0;f=p+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));e:do{if((p|0)==(e|0))m=e;else{u=p;while(1){E=u;u=u+-60|0;if(!(_p[o[r>>2]&31](l,u)|0)){m=E;break e}c=E+0|0;f=u+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));if((u|0)==(e|0)){m=e;break}}}}while(0);c=m+0|0;f=l+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));p=p+60|0}while((p|0)!=(t|0));h=s;return}p=(i|0)/2|0;l=e+(p*60|0)|0;if((i|0)>(a|0)){Ut(e,l,r,p,n,a);m=i-p|0;Ut(l,t,r,m,n,a);Gt(e,l,t,r,p,m,n,a);h=s;return}zt(e,l,r,p,n);a=n+(p*60|0)|0;zt(l,t,r,i-p|0,a);p=n+(i*60|0)|0;e:do{if((i+1|0)>>>0<3){v=e;b=a}else{t=e;l=n;m=a;while(1){if((m|0)==(p|0))break;if(_p[o[r>>2]&31](m,l)|0){c=t+0|0;f=m+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));y=m+60|0;g=l}else{c=t+0|0;f=l+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));y=m;g=l+60|0}u=t+60|0;if((g|0)==(a|0)){v=u;b=y;break e}else{t=u;l=g;m=y}}if((l|0)==(a|0)){h=s;return}else{_=l;T=t}while(1){c=T+0|0;f=_+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));_=_+60|0;if((_|0)==(a|0))break;else T=T+60|0}h=s;return}}while(0);if((b|0)==(p|0)){h=s;return}else{w=v;R=b}while(1){c=w+0|0;f=R+0|0;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));R=R+60|0;if((R|0)==(p|0))break;else w=w+60|0}h=s;return}}function zt(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0;a=h;if((i|0)==1){if((n|0)==0){h=a;return}s=n+0|0;l=e+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0));h=a;return}else if((i|0)==2){c=t+-60|0;f=(n|0)==0;if(_p[o[r>>2]&31](c,e)|0){if(!f){s=n+0|0;l=c+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0))}s=n+60|0;l=e+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0));h=a;return}else{if(!f){s=n+0|0;l=e+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0))}s=n+60|0;l=c+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0));h=a;return}}else if((i|0)==0){h=a;return}else{if((i|0)<9){if((e|0)==(t|0)){h=a;return}if((n|0)==0)d=0;else{s=n+0|0;l=e+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0));d=n}c=e+60|0;if((c|0)==(t|0)){h=a;return}else{p=c;m=d}do{d=m;m=m+60|0;if(_p[o[r>>2]&31](p,d)|0){s=m+0|0;l=d+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0));e:do{if((d|0)==(n|0))E=n;else{c=d;while(1){f=c;c=c+-60|0;if(!(_p[o[r>>2]&31](p,c)|0)){E=f;break e}s=f+0|0;l=c+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0));if((c|0)==(n|0)){E=n;break}}}}while(0);s=E+0|0;l=p+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0))}else{s=m+0|0;l=p+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0))}p=p+60|0}while((p|0)!=(t|0));h=a;return}p=(i|0)/2|0;m=e+(p*60|0)|0;Ut(e,m,r,p,n,p);E=i-p|0;Ut(m,t,r,E,n+(p*60|0)|0,E);e:do{if((i+1|0)>>>0<3){v=m;b=n}else{E=m;p=e;d=n;while(1){if((E|0)==(t|0))break;c=(d|0)==0;if(_p[o[r>>2]&31](E,p)|0){if(!c){s=d+0|0;l=E+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0))}y=p;g=E+60|0}else{if(!c){s=d+0|0;l=p+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0))}y=p+60|0;g=E}c=d+60|0;if((y|0)==(m|0)){v=g;b=c;break e}else{E=g;p=y;d=c}}if((p|0)==(m|0)){h=a;return}else{_=p;T=d}while(1){if((T|0)!=0){s=T+0|0;l=_+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0))}_=_+60|0;if((_|0)==(m|0))break;else T=T+60|0}h=a;return}}while(0);if((v|0)==(t|0)){h=a;return}else{w=v;R=b}while(1){if((R|0)!=0){s=R+0|0;l=w+0|0;u=s+60|0;do{o[s>>2]=o[l>>2];s=s+4|0;l=l+4|0}while((s|0)<(u|0))}w=w+60|0;if((w|0)==(t|0))break;else R=R+60|0}h=a;return}}function Gt(e,t,r,i,n,a,s,l){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;s=s|0;l=l|0;var u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0;u=h;h=h+64|0;c=u;if((a|0)==0){h=u;return}f=e;e=t;t=r;r=n;n=a;e:while(1){a=t;d=e;p=r;m=f;E=n;while(1){if((p|0)==0){v=45;break e}else{b=m;y=p}while(1){if(_p[o[i>>2]&31](d,b)|0)break;g=y+-1|0;if((g|0)==0){v=45;break e}else{b=b+60|0;y=g}}if(!((y|0)>(l|0)&(E|0)>(l|0))){v=8;break e}if((y|0)<(E|0)){g=(E|0)/2|0;_=d+(g*60|0)|0;T=b;w=b;R=(d-T|0)/60|0;t:while(1){x=R;while(1){if((x|0)==0)break t;S=(x|0)/2|0;if(_p[o[i>>2]&31](_,w+(S*60|0)|0)|0)x=S;else break}w=w+((S+1|0)*60|0)|0;R=x+-1-S|0}M=w;H=_;A=(w-T|0)/60|0;C=g}else{if((y|0)==1){v=17;break e}R=(y|0)/2|0;P=b+(R*60|0)|0;F=d;D=d;k=(a-F|0)/60|0;t:while(1){L=k;while(1){if((L|0)==0)break t;B=(L|0)/2|0;if(_p[o[i>>2]&31](D+(B*60|0)|0,P)|0)break;else L=B}D=D+((B+1|0)*60|0)|0;k=L+-1-B|0}M=P;H=D;A=R;C=(D-F|0)/60|0}p=y-A|0;O=E-C|0;t:do{if((M|0)!=(d|0))if((d|0)==(H|0))N=M;else{if((M+60|0)==(d|0)){I=c+0|0;V=M+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));L=H-d|0;md(M|0,d|0,L|0)|0;k=M+(((L|0)/60|0)*60|0)|0;I=k+0|0;V=c+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));N=k;break}if((d+60|0)==(H|0)){L=H+-60|0;I=c+0|0;V=L+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));k=L-M|0;g=H+(((k|0)/-60|0)*60|0)|0;md(g|0,M|0,k|0)|0;I=M+0|0;V=c+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));N=g;break}L=d;k=(L-M|0)/60|0;T=H;w=(T-L|0)/60|0;if((k|0)==(w|0)){L=M;_=d;while(1){I=c+0|0;V=L+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));I=L+0|0;V=_+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));I=_+0|0;V=c+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));L=L+60|0;if((L|0)==(d|0)){N=d;break t}else _=_+60|0}}else{z=k;G=w}while(1){_=(z|0)%(G|0)|0;if((_|0)==0)break;else{L=G;G=_;z=L}}if((G|0)!=0){L=k+-1|0;_=M+(G*60|0)|0;do{g=_;_=_+-60|0;I=c+0|0;V=_+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));x=_;W=g+(L*60|0)|0;while(1){I=x+0|0;V=W+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));j=(T-W|0)/60|0;if((k|0)<(j|0))J=W+(k*60|0)|0;else J=M+((k-j|0)*60|0)|0;if((J|0)==(_|0))break;else{j=W;W=J;x=j}}I=W+0|0;V=c+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0))}while((_|0)!=(M|0))}N=M+(w*60|0)|0}else N=H}while(0);if((C+A|0)>=(O+p|0))break;Gt(b,M,N,i,A,C,s,l);if((E|0)==(C|0)){v=45;break e}else{d=H;m=N;E=O}}Gt(N,H,t,i,p,O,s,l);if((C|0)==0){v=45;break}else{f=b;e=M;t=N;r=A;n=C}}if((v|0)==8){Wt(b,d,t,i,y,E,s);h=u;return}else if((v|0)==17){I=c+0|0;V=b+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));I=b+0|0;V=d+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));I=d+0|0;V=c+0|0;U=I+60|0;do{o[I>>2]=o[V>>2];I=I+4|0;V=V+4|0}while((I|0)<(U|0));h=u;return}else if((v|0)==45){h=u;return}}function Wt(e,t,r,i,n,a,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;s=s|0;var l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0;l=h;u=e;c=t;if((n|0)<=(a|0)){e:do{if((e|0)!=(t|0)){a=(((t+-60+(0-u)|0)>>>0)/60|0)+1|0;n=e;f=s;while(1){if((f|0)!=0){d=f+0|0;p=n+0|0;m=d+60|0;do{o[d>>2]=o[p>>2];d=d+4|0;p=p+4|0}while((d|0)<(m|0))}n=n+60|0;if((n|0)==(t|0))break;else f=f+60|0}f=s+(a*60|0)|0;if((f|0)!=(s|0)){n=e;E=t;v=s;while(1){if((E|0)==(r|0))break;if(_p[o[i>>2]&31](E,v)|0){d=n+0|0;p=E+0|0;m=d+60|0;do{o[d>>2]=o[p>>2];d=d+4|0;p=p+4|0}while((d|0)<(m|0));b=v;y=E+60|0}else{d=n+0|0;p=v+0|0;m=d+60|0;do{o[d>>2]=o[p>>2];d=d+4|0;p=p+4|0}while((d|0)<(m|0));b=v+60|0;y=E}g=n+60|0;if((b|0)==(f|0)){_=g;T=y;break e}else{n=g;E=y;v=b}}md(n|0,v|0,f-v|0)|0;h=l;return}else{_=e;T=t}}else{_=e;T=t}}while(0);md(_|0,T|0,r-T|0)|0;h=l;return}if((t|0)==(r|0))w=s;else{T=(((r+-60+(0-c)|0)>>>0)/60|0)+1|0;c=t;_=s;while(1){if((_|0)!=0){d=_+0|0;p=c+0|0;m=d+60|0;do{o[d>>2]=o[p>>2];d=d+4|0;p=p+4|0}while((d|0)<(m|0))}c=c+60|0;if((c|0)==(r|0))break;else _=_+60|0}w=s+(T*60|0)|0}T=w;e:do{if((t|0)==(e|0)){R=T;x=r}else{_=T;c=t;v=w;f=r;while(1){if((_|0)==(s|0))break;n=v+-60|0;b=c+-60|0;y=f+-60|0;if(_p[o[i>>2]&31](n,b)|0){d=y+0|0;p=b+0|0;m=d+60|0;do{o[d>>2]=o[p>>2];d=d+4|0;p=p+4|0}while((d|0)<(m|0));S=b;M=v}else{d=y+0|0;p=n+0|0;m=d+60|0;do{o[d>>2]=o[p>>2];d=d+4|0;p=p+4|0}while((d|0)<(m|0));S=c;M=n}b=M;if((S|0)==(e|0)){R=b;x=y;break e}else{_=b;c=S;v=M;f=y}}if((c|0)==(e|0)){h=l;return}else{H=f;A=c}do{H=H+-60|0;A=A+-60|0;d=H+0|0;p=A+0|0;m=d+60|0;do{o[d>>2]=o[p>>2];d=d+4|0;p=p+4|0}while((d|0)<(m|0))}while((A|0)!=(e|0));h=l;return}}while(0);e=R;if((e|0)==(s|0)){h=l;return}else{C=x;P=e}do{C=C+-60|0;P=P+-60|0;d=C+0|0;p=P+0|0;m=d+60|0;do{o[d>>2]=o[p>>2];d=d+4|0;p=p+4|0}while((d|0)<(m|0))}while((P|0)!=(s|0));h=l;return}function jt(e,t,r,i,n,a){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;s=h;h=h+32|0;l=s;if((i|0)==2){u=t+-20|0;if(!(_p[o[r>>2]&31](u,e)|0)){h=s;return}o[l+0>>2]=o[e+0>>2];o[l+4>>2]=o[e+4>>2];o[l+8>>2]=o[e+8>>2];o[l+12>>2]=o[e+12>>2];o[l+16>>2]=o[e+16>>2];o[e+0>>2]=o[u+0>>2];o[e+4>>2]=o[u+4>>2];o[e+8>>2]=o[u+8>>2];o[e+12>>2]=o[u+12>>2];o[e+16>>2]=o[u+16>>2];o[u+0>>2]=o[l+0>>2];o[u+4>>2]=o[l+4>>2];o[u+8>>2]=o[l+8>>2];o[u+12>>2]=o[l+12>>2];o[u+16>>2]=o[l+16>>2];h=s;return}else if((i|0)==1|(i|0)==0){h=s;return}else{if((i|0)<129){if((e|0)==(t|0)){h=s;return}u=e+20|0;if((u|0)==(t|0)){h=s;return}else c=u;do{o[l+0>>2]=o[c+0>>2];o[l+4>>2]=o[c+4>>2];o[l+8>>2]=o[c+8>>2];o[l+12>>2]=o[c+12>>2];o[l+16>>2]=o[c+16>>2];e:do{if((c|0)==(e|0))f=e;else{u=c;while(1){d=u;u=u+-20|0;if(!(_p[o[r>>2]&31](l,u)|0)){f=d;break e}o[d+0>>2]=o[u+0>>2];o[d+4>>2]=o[u+4>>2];o[d+8>>2]=o[u+8>>2];o[d+12>>2]=o[u+12>>2];o[d+16>>2]=o[u+16>>2];if((u|0)==(e|0)){f=e;break}}}}while(0);o[f+0>>2]=o[l+0>>2];o[f+4>>2]=o[l+4>>2];o[f+8>>2]=o[l+8>>2];o[f+12>>2]=o[l+12>>2];o[f+16>>2]=o[l+16>>2];c=c+20|0}while((c|0)!=(t|0));h=s;return}c=(i|0)/2|0;l=e+(c*20|0)|0;if((i|0)>(a|0)){jt(e,l,r,c,n,a);f=i-c|0;jt(l,t,r,f,n,a);Xt(e,l,t,r,c,f,n,a);h=s;return}Jt(e,l,r,c,n);a=n+(c*20|0)|0;Jt(l,t,r,i-c|0,a);c=n+(i*20|0)|0;e:do{if((i+1|0)>>>0<3){p=e;m=a}else{t=e;l=n;f=a;while(1){if((f|0)==(c|0))break;if(_p[o[r>>2]&31](f,l)|0){o[t+0>>2]=o[f+0>>2];o[t+4>>2]=o[f+4>>2];o[t+8>>2]=o[f+8>>2];o[t+12>>2]=o[f+12>>2];o[t+16>>2]=o[f+16>>2];E=f+20|0;v=l}else{o[t+0>>2]=o[l+0>>2];o[t+4>>2]=o[l+4>>2];o[t+8>>2]=o[l+8>>2];o[t+12>>2]=o[l+12>>2];o[t+16>>2]=o[l+16>>2];E=f;v=l+20|0}u=t+20|0;if((v|0)==(a|0)){p=u;m=E;break e}else{t=u;l=v;f=E}}if((l|0)==(a|0)){h=s;return}else{b=l;y=t}while(1){o[y+0>>2]=o[b+0>>2];o[y+4>>2]=o[b+4>>2];o[y+8>>2]=o[b+8>>2];o[y+12>>2]=o[b+12>>2];o[y+16>>2]=o[b+16>>2];b=b+20|0;if((b|0)==(a|0))break;else y=y+20|0}h=s;return}}while(0);if((m|0)==(c|0)){h=s;return}else{g=p;_=m}while(1){o[g+0>>2]=o[_+0>>2];o[g+4>>2]=o[_+4>>2];o[g+8>>2]=o[_+8>>2];o[g+12>>2]=o[_+12>>2];o[g+16>>2]=o[_+16>>2];_=_+20|0;if((_|0)==(c|0))break;else g=g+20|0}h=s;return}}function Jt(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0;a=h;if((i|0)==1){if((n|0)==0){h=a;return}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];h=a;return}else if((i|0)==0){h=a;return}else if((i|0)==2){s=t+-20|0;l=(n|0)==0;if(_p[o[r>>2]&31](s,e)|0){if(!l){o[n+0>>2]=o[s+0>>2];o[n+4>>2]=o[s+4>>2];o[n+8>>2]=o[s+8>>2];o[n+12>>2]=o[s+12>>2];o[n+16>>2]=o[s+16>>2]}u=n+20|0;o[u+0>>2]=o[e+0>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];o[u+16>>2]=o[e+16>>2];h=a;return}else{if(!l){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2]}l=n+20|0;o[l+0>>2]=o[s+0>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];o[l+16>>2]=o[s+16>>2];h=a;return}}else{if((i|0)<9){if((e|0)==(t|0)){h=a;return}if((n|0)==0)c=0;else{o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];c=n}s=e+20|0;if((s|0)==(t|0)){h=a;return}else{f=s;d=c}do{c=d;d=d+20|0;if(_p[o[r>>2]&31](f,c)|0){o[d+0>>2]=o[c+0>>2];o[d+4>>2]=o[c+4>>2];o[d+8>>2]=o[c+8>>2];o[d+12>>2]=o[c+12>>2];o[d+16>>2]=o[c+16>>2];e:do{if((c|0)==(n|0))p=n;else{s=c;while(1){l=s;s=s+-20|0;if(!(_p[o[r>>2]&31](f,s)|0)){p=l;break e}o[l+0>>2]=o[s+0>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];o[l+16>>2]=o[s+16>>2];if((s|0)==(n|0)){p=n;break}}}}while(0);o[p+0>>2]=o[f+0>>2];o[p+4>>2]=o[f+4>>2];o[p+8>>2]=o[f+8>>2];o[p+12>>2]=o[f+12>>2];o[p+16>>2]=o[f+16>>2]}else{o[d+0>>2]=o[f+0>>2];o[d+4>>2]=o[f+4>>2];o[d+8>>2]=o[f+8>>2];o[d+12>>2]=o[f+12>>2];o[d+16>>2]=o[f+16>>2]}f=f+20|0}while((f|0)!=(t|0));h=a;return}f=(i|0)/2|0;d=e+(f*20|0)|0;jt(e,d,r,f,n,f);p=i-f|0;jt(d,t,r,p,n+(f*20|0)|0,p);e:do{if((i+1|0)>>>0<3){m=d;E=n}else{p=d;f=e;c=n;while(1){if((p|0)==(t|0))break;s=(c|0)==0;if(_p[o[r>>2]&31](p,f)|0){if(!s){o[c+0>>2]=o[p+0>>2];o[c+4>>2]=o[p+4>>2];o[c+8>>2]=o[p+8>>2];o[c+12>>2]=o[p+12>>2];o[c+16>>2]=o[p+16>>2]}v=f;b=p+20|0}else{if(!s){o[c+0>>2]=o[f+0>>2];o[c+4>>2]=o[f+4>>2];o[c+8>>2]=o[f+8>>2];o[c+12>>2]=o[f+12>>2];o[c+16>>2]=o[f+16>>2]}v=f+20|0;b=p}s=c+20|0;if((v|0)==(d|0)){m=b;E=s;break e}else{p=b;f=v;c=s}}if((f|0)==(d|0)){h=a;return}else{y=f;g=c}while(1){if((g|0)!=0){o[g+0>>2]=o[y+0>>2];o[g+4>>2]=o[y+4>>2];o[g+8>>2]=o[y+8>>2];o[g+12>>2]=o[y+12>>2];o[g+16>>2]=o[y+16>>2]}y=y+20|0;if((y|0)==(d|0))break;else g=g+20|0}h=a;return}}while(0);if((m|0)==(t|0)){h=a;return}else{_=m;T=E}while(1){if((T|0)!=0){o[T+0>>2]=o[_+0>>2];o[T+4>>2]=o[_+4>>2];o[T+8>>2]=o[_+8>>2];o[T+12>>2]=o[_+12>>2];o[T+16>>2]=o[_+16>>2]}_=_+20|0;if((_|0)==(t|0))break;else T=T+20|0}h=a;return}}function Xt(e,t,r,i,n,a,s,l){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;s=s|0;l=l|0;var u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0;u=h;h=h+48|0;c=u+20|0;f=u;if((a|0)==0){h=u;return}d=e;e=t;t=r;r=n;n=a;e:while(1){a=t;p=e;m=r;E=d;v=n;while(1){if((m|0)==0){b=45;break e}else{y=E;g=m}while(1){if(_p[o[i>>2]&31](p,y)|0)break;_=g+-1|0;if((_|0)==0){b=45;break e}else{y=y+20|0;g=_}}if(!((g|0)>(l|0)&(v|0)>(l|0))){b=8;break e}if((g|0)<(v|0)){_=(v|0)/2|0;T=p+(_*20|0)|0;w=y;R=y;x=(p-w|0)/20|0;t:while(1){S=x;while(1){if((S|0)==0)break t;M=(S|0)/2|0;if(_p[o[i>>2]&31](T,R+(M*20|0)|0)|0)S=M;else break}R=R+((M+1|0)*20|0)|0;x=S+-1-M|0}H=R;A=T;C=(R-w|0)/20|0;P=_}else{if((g|0)==1){b=17;break e}x=(g|0)/2|0;F=y+(x*20|0)|0;D=p;k=p;L=(a-D|0)/20|0;t:while(1){B=L;while(1){if((B|0)==0)break t;O=(B|0)/2|0;if(_p[o[i>>2]&31](k+(O*20|0)|0,F)|0)break;else B=O}k=k+((O+1|0)*20|0)|0;L=B+-1-O|0}H=F;A=k;C=x;P=(k-D|0)/20|0}m=g-C|0;N=v-P|0;t:do{if((H|0)!=(p|0))if((p|0)==(A|0))I=H;else{if((H+20|0)==(p|0)){o[c+0>>2]=o[H+0>>2];o[c+4>>2]=o[H+4>>2];o[c+8>>2]=o[H+8>>2];o[c+12>>2]=o[H+12>>2];o[c+16>>2]=o[H+16>>2];L=A-p|0;md(H|0,p|0,L|0)|0;_=H+(((L|0)/20|0)*20|0)|0;o[_+0>>2]=o[c+0>>2];o[_+4>>2]=o[c+4>>2];o[_+8>>2]=o[c+8>>2];o[_+12>>2]=o[c+12>>2];o[_+16>>2]=o[c+16>>2];I=_;break}if((p+20|0)==(A|0)){_=A+-20|0;o[c+0>>2]=o[_+0>>2];o[c+4>>2]=o[_+4>>2];o[c+8>>2]=o[_+8>>2];o[c+12>>2]=o[_+12>>2];o[c+16>>2]=o[_+16>>2];L=_-H|0;_=A+(((L|0)/-20|0)*20|0)|0;md(_|0,H|0,L|0)|0;o[H+0>>2]=o[c+0>>2];o[H+4>>2]=o[c+4>>2];o[H+8>>2]=o[c+8>>2];o[H+12>>2]=o[c+12>>2];o[H+16>>2]=o[c+16>>2];I=_;break}_=p;L=(_-H|0)/20|0;w=A;R=(w-_|0)/20|0;if((L|0)==(R|0)){_=H;T=p;while(1){o[c+0>>2]=o[_+0>>2];o[c+4>>2]=o[_+4>>2];o[c+8>>2]=o[_+8>>2];o[c+12>>2]=o[_+12>>2];o[c+16>>2]=o[_+16>>2];o[_+0>>2]=o[T+0>>2];o[_+4>>2]=o[T+4>>2];o[_+8>>2]=o[T+8>>2];o[_+12>>2]=o[T+12>>2];o[_+16>>2]=o[T+16>>2];o[T+0>>2]=o[c+0>>2];o[T+4>>2]=o[c+4>>2];o[T+8>>2]=o[c+8>>2];o[T+12>>2]=o[c+12>>2];o[T+16>>2]=o[c+16>>2];_=_+20|0;if((_|0)==(p|0)){I=p;break t}else T=T+20|0}}else{V=L;U=R}while(1){T=(V|0)%(U|0)|0;if((T|0)==0)break;else{_=U;U=T;V=_}}if((U|0)!=0){_=L+-1|0;T=H+(U*20|0)|0;do{B=T;T=T+-20|0;o[f+0>>2]=o[T+0>>2];o[f+4>>2]=o[T+4>>2];o[f+8>>2]=o[T+8>>2];o[f+12>>2]=o[T+12>>2];o[f+16>>2]=o[T+16>>2];S=T;z=B+(_*20|0)|0;while(1){o[S+0>>2]=o[z+0>>2];o[S+4>>2]=o[z+4>>2];o[S+8>>2]=o[z+8>>2];o[S+12>>2]=o[z+12>>2];o[S+16>>2]=o[z+16>>2];B=(w-z|0)/20|0;if((L|0)<(B|0))G=z+(L*20|0)|0;else G=H+((L-B|0)*20|0)|0;if((G|0)==(T|0))break;else{B=z;z=G;S=B}}o[z+0>>2]=o[f+0>>2];o[z+4>>2]=o[f+4>>2];o[z+8>>2]=o[f+8>>2];o[z+12>>2]=o[f+12>>2];o[z+16>>2]=o[f+16>>2]}while((T|0)!=(H|0))}I=H+(R*20|0)|0}else I=A}while(0);if((P+C|0)>=(N+m|0))break;Xt(y,H,I,i,C,P,s,l);if((v|0)==(P|0)){b=45;break e}else{p=A;E=I;v=N}}Xt(I,A,t,i,m,N,s,l);if((P|0)==0){b=45;break}else{d=y;e=H;t=I;r=C;n=P}}if((b|0)==8){qt(y,p,t,i,g,v,s);h=u;return}else if((b|0)==17){o[c+0>>2]=o[y+0>>2];o[c+4>>2]=o[y+4>>2];o[c+8>>2]=o[y+8>>2];o[c+12>>2]=o[y+12>>2];o[c+16>>2]=o[y+16>>2];o[y+0>>2]=o[p+0>>2];o[y+4>>2]=o[p+4>>2];o[y+8>>2]=o[p+8>>2];o[y+12>>2]=o[p+12>>2];o[y+16>>2]=o[p+16>>2];o[p+0>>2]=o[c+0>>2];o[p+4>>2]=o[c+4>>2];o[p+8>>2]=o[c+8>>2];o[p+12>>2]=o[c+12>>2];o[p+16>>2]=o[c+16>>2];h=u;return}else if((b|0)==45){h=u;return}}function qt(e,t,r,i,n,a,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;s=s|0;var l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0;l=h;u=e;c=t;if((n|0)<=(a|0)){e:do{if((e|0)!=(t|0)){a=(((t+-20+(0-u)|0)>>>0)/20|0)+1|0;n=e;f=s;while(1){if((f|0)!=0){o[f+0>>2]=o[n+0>>2];o[f+4>>2]=o[n+4>>2];o[f+8>>2]=o[n+8>>2];o[f+12>>2]=o[n+12>>2];o[f+16>>2]=o[n+16>>2]}n=n+20|0;if((n|0)==(t|0))break;else f=f+20|0}f=s+(a*20|0)|0;if((f|0)!=(s|0)){n=e;d=t;p=s;while(1){if((d|0)==(r|0))break;if(_p[o[i>>2]&31](d,p)|0){o[n+0>>2]=o[d+0>>2];o[n+4>>2]=o[d+4>>2];o[n+8>>2]=o[d+8>>2];o[n+12>>2]=o[d+12>>2];o[n+16>>2]=o[d+16>>2];m=p;E=d+20|0}else{o[n+0>>2]=o[p+0>>2];o[n+4>>2]=o[p+4>>2];o[n+8>>2]=o[p+8>>2];o[n+12>>2]=o[p+12>>2];o[n+16>>2]=o[p+16>>2];m=p+20|0;E=d}v=n+20|0;if((m|0)==(f|0)){b=v;y=E;break e}else{n=v;d=E;p=m}}md(n|0,p|0,f-p|0)|0;h=l;return}else{b=e;y=t}}else{b=e;y=t}}while(0);md(b|0,y|0,r-y|0)|0;h=l;return}if((t|0)==(r|0))g=s;else{y=(((r+-20+(0-c)|0)>>>0)/20|0)+1|0;c=t;b=s;while(1){if((b|0)!=0){o[b+0>>2]=o[c+0>>2];o[b+4>>2]=o[c+4>>2];o[b+8>>2]=o[c+8>>2];o[b+12>>2]=o[c+12>>2];o[b+16>>2]=o[c+16>>2]}c=c+20|0;if((c|0)==(r|0))break;else b=b+20|0}g=s+(y*20|0)|0}y=g;e:do{if((t|0)==(e|0)){_=y;T=r}else{b=y;c=t;m=g;E=r;while(1){if((b|0)==(s|0))break;u=m+-20|0;d=c+-20|0;a=E+-20|0;if(_p[o[i>>2]&31](u,d)|0){o[a+0>>2]=o[d+0>>2];o[a+4>>2]=o[d+4>>2];o[a+8>>2]=o[d+8>>2];o[a+12>>2]=o[d+12>>2];o[a+16>>2]=o[d+16>>2];w=d;R=m}else{o[a+0>>2]=o[u+0>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];o[a+16>>2]=o[u+16>>2];w=c;R=u}u=R;if((w|0)==(e|0)){_=u;T=a;break e}else{b=u;c=w;m=R;E=a}}if((c|0)==(e|0)){h=l;return}else{x=E;S=c}do{x=x+-20|0;S=S+-20|0;o[x+0>>2]=o[S+0>>2];o[x+4>>2]=o[S+4>>2];o[x+8>>2]=o[S+8>>2];o[x+12>>2]=o[S+12>>2];o[x+16>>2]=o[S+16>>2]}while((S|0)!=(e|0));h=l;return}}while(0);e=_;if((e|0)==(s|0)){h=l;return}else{M=T;H=e}do{M=M+-20|0;H=H+-20|0;o[M+0>>2]=o[H+0>>2];o[M+4>>2]=o[H+4>>2];o[M+8>>2]=o[H+8>>2];o[M+12>>2]=o[H+12>>2];o[M+16>>2]=o[H+16>>2]}while((H|0)!=(s|0));h=l;return}function Yt(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,u=0;t=h;r=e+4|0;i=o[r>>2]|0;if((i|0)!=(e|0)){n=i;do{i=Df(n)|0;a=o[i>>2]|0;if((a|0)!=0){s=0;l=i+32|0;while(1){u=l+4|0;o[(o[l>>2]|0)+4>>2]=o[u>>2];o[o[u>>2]>>2]=o[l>>2];o[u>>2]=l;o[l>>2]=l;s=s+1|0;if((s|0)==(a|0))break;else l=l+12|0}}Lf(e,i);n=o[r>>2]|0}while((n|0)!=(e|0))}n=e+12|0;l=e+20|0;a=e+24|0;o[(o[l>>2]|0)+4>>2]=o[a>>2];o[o[a>>2]>>2]=o[l>>2];o[a>>2]=l;o[l>>2]=l;l=e+16|0;o[(o[n>>2]|0)+4>>2]=o[l>>2];o[o[l>>2]>>2]=o[n>>2];o[l>>2]=n;o[n>>2]=n;Bf(e);o[(o[e>>2]|0)+4>>2]=o[r>>2];o[o[r>>2]>>2]=o[e>>2];o[r>>2]=e;o[e>>2]=e;h=t;return}function Kt(e){e=e|0;return}function Zt(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Qt(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;r=h;h=h+48|0;n=r+24|0;a=r;if((i[t+38>>0]|0)!=0){h=r;return 1}s=o[t+12>>2]|0;l=up[o[(o[s>>2]|0)+12>>2]&7](s)|0;if((l|0)<=0){h=r;return 1}s=t+24|0;u=e+4|0;c=a+16|0;f=a+20|0;d=a+4|0;p=0;do{m=(o[s>>2]|0)+(p*28|0)|0;o[n+0>>2]=o[m+0>>2];o[n+4>>2]=o[m+4>>2];o[n+8>>2]=o[m+8>>2];o[n+12>>2]=o[m+12>>2];Mi(a,o[u>>2]|0,n);m=o[c>>2]|0;E=o[f>>2]|0;e:do{if(m>>>0<E>>>0){v=o[a>>2]|0;b=o[d>>2]|0;y=m;while(1){g=o[y+4>>2]&1048575;_=y;y=y+8|0;o[c>>2]=y;if(g>>>0<v>>>0|g>>>0>b>>>0)if(y>>>0<E>>>0){y=y;continue}else break;g=o[_>>2]|0;if(!((g|0)>-1))break e;wp[o[(o[e>>2]|0)+20>>2]&31](e,t,p,g);if(!(y>>>0<E>>>0))break}}}while(0);p=p+1|0}while((p|0)!=(l|0));h=r;return 1}function $t(e,t){e=e|0;t=t|0;return 0}function er(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0;a=h;h=h+48|0;s=a+24|0;l=a;c=o[t+8>>2]|0;f=e+4|0;p=o[f>>2]|0;m=(o[p+96>>2]|0)+(n<<3)|0;E=o[m>>2]|0;v=o[m+4>>2]|0;b=(o[d>>2]=E,+u[d>>2]);y=(o[d>>2]=v,+u[d>>2]);m=(o[p+104>>2]|0)+(n<<3)|0;g=+u[m>>2];_=+u[m+4>>2];if((o[p+24>>2]|0)==0){T=b-+u[c+28>>2];w=y-+u[c+32>>2];R=+u[c+40>>2];x=+u[c+36>>2];S=T*R+w*x;M=R*w-T*x;p=o[t+12>>2]|0;if((o[p+4>>2]|0)==0){T=+u[c+44>>2];w=S-T;H=+u[c+48>>2];A=M-H;C=w*R-A*x;P=R*A+w*x;x=+u[c+24>>2];w=+u[c+20>>2];F=x;D=T+(x*C+w*P);k=w;L=H+(x*P-C*w)}else{F=+u[c+24>>2];D=S;k=+u[c+20>>2];L=M}M=+(+u[c+12>>2]+(D*F-L*k));S=+(L*F+D*k+ +u[c+16>>2]);m=l;u[m>>2]=M;u[m+4>>2]=S;B=p}else{p=l;o[p>>2]=E;o[p+4>>2]=v;B=o[t+12>>2]|0}t=l+8|0;S=+u[e+8>>2];M=+(b+g*S);k=+(y+_*S);v=t;u[v>>2]=M;u[v+4>>2]=k;u[l+16>>2]=1;if(!(Tp[o[(o[B>>2]|0)+24>>2]&15](B,s,l,c+12|0,r)|0)){h=a;return}r=s;k=+u[r>>2];M=+u[s+8>>2];S=1-M;s=e+12|0;D=+u[s>>2];F=D*(k*.004999999888241291+(+u[l>>2]*S+M*+u[t>>2])-b);b=D*(+u[r+4>>2]*.004999999888241291+(S*+u[l+4>>2]+M*+u[l+12>>2])-y);y=+F;M=+b;l=(o[(o[f>>2]|0)+104>>2]|0)+(n<<3)|0;u[l>>2]=y;u[l+4>>2]=M;l=o[f>>2]|0;M=+u[l+32>>2]*.75;y=+u[s>>2]*M*+u[l+320>>2]*M;M=(g-F)*y;F=(_-b)*y;if(!(M!=0|F!=0)){h=a;return}if((o[(o[l+88>>2]|0)+(n<<2)>>2]&4|0)!=0){h=a;return}s=l+21|0;f=l+112|0;if((i[s>>0]|0)==0){hd(o[f>>2]|0,0,o[l+44>>2]<<3|0)|0;i[s>>0]=1}s=o[f>>2]|0;f=s+(n<<3)|0;u[f>>2]=M+ +u[f>>2];f=s+(n<<3)+4|0;u[f>>2]=F+ +u[f>>2];h=a;return}function tr(e){e=e|0;return}function rr(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ir(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0;n=h;h=h+32|0;a=n;s=n+16|0;l=n+8|0;c=e+4|0;f=(o[(o[c>>2]|0)+96>>2]|0)+(i<<3)|0;d=o[f+4>>2]|0;p=a;o[p>>2]=o[f>>2];o[p+4>>2]=d;d=o[t+12>>2]|0;p=t+8|0;gp[o[(o[d>>2]|0)+20>>2]&7](d,(o[p>>2]|0)+12|0,a,s,l,r);r=o[c>>2]|0;if(!(+u[s>>2]<+u[r+32>>2])){h=n;return}d=o[e+8>>2]|0;if(((d|0)!=0?(o[(o[r+88>>2]|0)+(i<<2)>>2]&65536|0)!=0:0)?!(yp[o[(o[d>>2]|0)+12>>2]&7](d,t,r,i)|0):0){h=n;return}r=o[p>>2]|0;p=r+60|0;m=+u[p>>2];E=+u[r+132>>2];v=+u[r+44>>2];b=+u[r+48>>2];y=E*(v*v+b*b);b=+u[r+140>>2]+y-y;if(E>0)g=1/E;else g=0;if(b>0)_=1/b;else _=0;d=o[c>>2]|0;if((o[(o[d+88>>2]|0)+(i<<2)>>2]&4|0)==0){b=+u[d+36>>2]*1.3333333730697632;T=b*+u[d+28>>2]*b}else T=0;e=l+4|0;b=(+u[a>>2]-m)*+u[e>>2]-(+u[a+4>>2]-+u[p+4>>2])*+u[l>>2];m=g+T+b*_*b;p=d+232|0;a=d+236|0;f=o[a>>2]|0;w=d+240|0;R=o[w>>2]|0;if((f|0)>=(R|0)?(x=(R|0)==0?256:R<<1,(R|0)<(x|0)):0){R=d+244|0;d=yf(o[R>>2]|0,x*28|0)|0;S=o[p>>2]|0;if((S|0)!=0){pd(d|0,S|0,(o[a>>2]|0)*28|0)|0;gf(o[R>>2]|0,o[p>>2]|0,(o[w>>2]|0)*28|0)}o[w>>2]=x;o[p>>2]=d;M=o[a>>2]|0}else M=f;o[a>>2]=M+1;a=o[p>>2]|0;o[a+(M*28|0)>>2]=i;o[a+(M*28|0)+4>>2]=r;o[a+(M*28|0)+8>>2]=t;u[a+(M*28|0)+12>>2]=1-+u[s>>2]*+u[(o[c>>2]|0)+36>>2];b=+-+u[l>>2];_=+-+u[e>>2];e=a+(M*28|0)+16|0;u[e>>2]=b;u[e+4>>2]=_;if(m>0)H=1/m;else H=0;u[a+(M*28|0)+24>>2]=H;Di(o[c>>2]|0,i);h=n;return}function nr(e){e=e|0;return}function or(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ar(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0;t=h;r=o[e+102960>>2]|0;if((r|0)!=0){i=r;do{r=i;i=o[i+112>>2]|0;n=o[r+116>>2]|0;while(1){if((n|0)==0)break;r=o[n+4>>2]|0;o[n+28>>2]=0;_s(n,e);n=r}}while((i|0)!=0)}i=e+102968|0;n=o[i>>2]|0;if((n|0)==0){a=e+102880|0;Yc(a);s=e+76|0;Nf(s);bf(e);h=t;return}r=e+102876|0;l=n;while(1){if((o[r>>2]&2|0)==0){n=l+404|0;u=o[n>>2]|0;c=l+408|0;if((u|0)!=0)o[u+408>>2]=o[c>>2];u=o[c>>2]|0;if((u|0)!=0)o[u+404>>2]=o[n>>2];if((o[i>>2]|0)==(l|0))o[i>>2]=o[c>>2];ai(l);gf(e,l,416);f=o[i>>2]|0}else f=l;if((f|0)==0)break;else l=f}a=e+102880|0;Yc(a);s=e+76|0;Nf(s);bf(e);h=t;return}function sr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;if((o[e+102876>>2]&2|0)!=0){h=r;return}i=t+404|0;n=o[i>>2]|0;a=t+408|0;if((n|0)!=0)o[n+408>>2]=o[a>>2];n=o[a>>2]|0;if((n|0)!=0)o[n+404>>2]=o[i>>2];i=e+102968|0;if((o[i>>2]|0)==(t|0))o[i>>2]=o[a>>2];ai(t);gf(e,t,416);h=r;return}function lr(e,t){e=e|0;t=t|0;o[e+102952>>2]=t;return}function ur(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;if((o[e+102876>>2]&2|0)!=0){i=0;h=r;return i|0}n=yf(e,168)|0;if((n|0)==0)a=0;else{_r(n,t,e);a=n}o[a+108>>2]=0;n=e+102960|0;o[a+112>>2]=o[n>>2];t=o[n>>2]|0;if((t|0)!=0)o[t+108>>2]=a;o[n>>2]=a;n=e+102972|0;o[n>>2]=(o[n>>2]|0)+1;i=a;h=r;return i|0}function cr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0;r=h;if((o[e+102876>>2]&2|0)!=0){h=r;return}i=t+124|0;n=o[i>>2]|0;if((n|0)!=0){a=e+102992|0;s=n;do{n=s;s=o[s+12>>2]|0;l=o[a>>2]|0;if((l|0)==0)u=n+4|0;else{c=n+4|0;pp[o[(o[l>>2]|0)+8>>2]&63](l,o[c>>2]|0);u=c}hr(e,o[u>>2]|0);o[i>>2]=s}while((s|0)!=0)}o[i>>2]=0;i=t+128|0;s=o[i>>2]|0;if((s|0)!=0){u=e+102880|0;a=s;do{s=a;a=o[a+12>>2]|0;Dr(u,o[s+4>>2]|0)}while((a|0)!=0)}o[i>>2]=0;i=t+116|0;a=o[i>>2]|0;if((a|0)==0)f=t+120|0;else{u=e+102992|0;s=e+102880|0;c=t+120|0;l=a;do{a=l;l=o[l+4>>2]|0;n=o[u>>2]|0;if((n|0)!=0)pp[o[(o[n>>2]|0)+12>>2]&63](n,a);ws(a,s);_s(a,e);gf(e,a,44);o[i>>2]=l;o[c>>2]=(o[c>>2]|0)+-1}while((l|0)!=0);f=c}o[i>>2]=0;o[f>>2]=0;f=t+108|0;i=o[f>>2]|0;c=t+112|0;if((i|0)!=0)o[i+112>>2]=o[c>>2];i=o[c>>2]|0;if((i|0)!=0)o[i+108>>2]=o[f>>2];f=e+102960|0;if((o[f>>2]|0)==(t|0))o[f>>2]=o[c>>2];c=e+102972|0;o[c>>2]=(o[c>>2]|0)+-1;Tr(t);gf(e,t,168);h=r;return}function hr(e,t){e=e|0;t=t|0;var r=0,a=0,l=0,c=0,f=0,d=0,p=0,m=0;r=h;if((o[e+102876>>2]&2|0)!=0){h=r;return}a=i[t+61>>0]|0;l=t+8|0;c=o[l>>2]|0;f=t+12|0;if((c|0)!=0)o[c+12>>2]=o[f>>2];c=o[f>>2]|0;if((c|0)!=0)o[c+8>>2]=o[l>>2];l=e+102964|0;if((o[l>>2]|0)==(t|0))o[l>>2]=o[f>>2];f=o[t+48>>2]|0;l=o[t+52>>2]|0;c=f+4|0;d=s[c>>1]|0;if((d&2|0)==0){n[c>>1]=d|2;u[f+160>>2]=0}d=l+4|0;c=s[d>>1]|0;if((c&2|0)==0){n[d>>1]=c|2;u[l+160>>2]=0}c=t+24|0;d=o[c>>2]|0;p=t+28|0;if((d|0)!=0)o[d+12>>2]=o[p>>2];d=o[p>>2]|0;if((d|0)!=0)o[d+8>>2]=o[c>>2];d=f+124|0;if((t+16|0)==(o[d>>2]|0))o[d>>2]=o[p>>2];o[c>>2]=0;o[p>>2]=0;p=t+40|0;c=o[p>>2]|0;d=t+44|0;if((c|0)!=0)o[c+12>>2]=o[d>>2];c=o[d>>2]|0;if((c|0)!=0)o[c+8>>2]=o[p>>2];c=l+124|0;if((t+32|0)==(o[c>>2]|0))o[c>>2]=o[d>>2];o[p>>2]=0;o[d>>2]=0;Ho(t,e);t=e+102976|0;o[t>>2]=(o[t>>2]|0)+-1;if(!(a<<24>>24==0)){h=r;return}a=o[l+128>>2]|0;if((a|0)==0){h=r;return}else m=a;do{if((o[m>>2]|0)==(f|0)){a=(o[m+4>>2]|0)+4|0;o[a>>2]=o[a>>2]|8}m=o[m+12>>2]|0}while((m|0)!=0);h=r;return}function fr(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0;r=h;if((o[e+102876>>2]&2|0)!=0){n=0;h=r;return n|0}a=Mo(t,e)|0;o[a+8>>2]=0;s=e+102964|0;o[a+12>>2]=o[s>>2];l=o[s>>2]|0;if((l|0)!=0)o[l+8>>2]=a;o[s>>2]=a;s=e+102976|0;o[s>>2]=(o[s>>2]|0)+1;s=a+16|0;o[a+20>>2]=a;e=a+52|0;o[s>>2]=o[e>>2];o[a+24>>2]=0;l=a+48|0;u=o[l>>2]|0;c=u+124|0;o[a+28>>2]=o[c>>2];f=o[c>>2]|0;if((f|0)==0)d=u;else{o[f+8>>2]=s;d=o[l>>2]|0}o[d+124>>2]=s;s=a+32|0;o[a+36>>2]=a;o[s>>2]=o[l>>2];o[a+40>>2]=0;l=o[e>>2]|0;d=l+124|0;o[a+44>>2]=o[d>>2];f=o[d>>2]|0;if((f|0)==0)p=l;else{o[f+8>>2]=s;p=o[e>>2]|0}o[p+124>>2]=s;s=o[t+8>>2]|0;if((i[t+16>>0]|0)!=0){n=a;h=r;return n|0}p=o[(o[t+12>>2]|0)+128>>2]|0;if((p|0)==0){n=a;h=r;return n|0}else m=p;do{if((o[m>>2]|0)==(s|0)){p=(o[m+4>>2]|0)+4|0;o[p>>2]=o[p>>2]|8}m=o[m+12>>2]|0}while((m|0)!=0);n=a;h=r;return n|0}function dr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;if((o[e+102876>>2]&2|0)!=0){i=0;h=r;return i|0}n=yf(e,416)|0;if((n|0)==0)a=0;else{oi(n,t,e);a=n}o[a+404>>2]=0;n=e+102968|0;o[a+408>>2]=o[n>>2];e=o[n>>2]|0;if((e|0)!=0)o[e+404>>2]=a;o[n>>2]=a;i=a;h=r;return i|0}function pr(e,t){e=e|0;t=t|0;var r=0,a=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0;r=h;h=h+96|0;a=r+40|0;l=r+8|0;c=r;f=e+102960|0;d=o[f>>2]|0;if((d|0)!=0){p=d;do{d=p+28|0;m=p+12|0;o[d+0>>2]=o[m+0>>2];o[d+4>>2]=o[m+4>>2];o[d+8>>2]=o[m+8>>2];o[d+12>>2]=o[m+12>>2];p=o[p+112>>2]|0}while((p|0)!=0)}p=e+103020|0;u[p>>2]=0;m=e+103024|0;u[m>>2]=0;d=e+103028|0;u[d>>2]=0;E=e+102972|0;v=e+102880|0;b=e+76|0;_h(a,o[E>>2]|0,o[e+102944>>2]|0,o[e+102976>>2]|0,b,o[e+102952>>2]|0);y=o[f>>2]|0;if((y|0)!=0){g=y;do{y=g+4|0;n[y>>1]=n[y>>1]&65534;g=o[g+112>>2]|0}while((g|0)!=0)}g=o[e+102940>>2]|0;if((g|0)!=0){y=g;do{g=y+4|0;o[g>>2]=o[g>>2]&-2;y=o[y+12>>2]|0}while((y|0)!=0)}y=o[e+102964>>2]|0;if((y|0)!=0){g=y;do{i[g+60>>0]=0;g=o[g+12>>2]|0}while((g|0)!=0)}g=If(b,o[E>>2]<<2)|0;E=o[f>>2]|0;if((E|0)!=0){y=a+28|0;_=a+36|0;T=a+32|0;w=a+8|0;R=a+16|0;x=a+12|0;S=e+102980|0;M=e+102988|0;H=l+12|0;A=l+16|0;C=l+20|0;P=E;do{E=P+4|0;F=n[E>>1]|0;if((F&35)==34?(o[P>>2]|0)!=0:0){o[y>>2]=0;o[_>>2]=0;o[T>>2]=0;o[g>>2]=P;n[E>>1]=F&65535|1;F=0;E=1;while(1){D=E+-1|0;k=o[g+(D<<2)>>2]|0;o[k+8>>2]=F;L=o[y>>2]|0;o[(o[w>>2]|0)+(L<<2)>>2]=k;o[y>>2]=L+1;L=k+4|0;B=s[L>>1]|0;if((B&2|0)==0){n[L>>1]=B|2;u[k+160>>2]=0}if((o[k>>2]|0)!=0){B=o[k+128>>2]|0;if((B|0)==0)O=D;else{L=B;B=D;while(1){N=o[L+4>>2]|0;I=N+4|0;do{if((o[I>>2]&7|0)==6?(i[(o[N+48>>2]|0)+38>>0]|0)==0:0){if((i[(o[N+52>>2]|0)+38>>0]|0)!=0){V=B;break}U=o[_>>2]|0;o[_>>2]=U+1;o[(o[x>>2]|0)+(U<<2)>>2]=N;o[I>>2]=o[I>>2]|1;U=o[L>>2]|0;z=U+4|0;G=n[z>>1]|0;if(!((G&1)==0)){V=B;break}o[g+(B<<2)>>2]=U;n[z>>1]=G&65535|1;V=B+1|0}else V=B}while(0);L=o[L+12>>2]|0;if((L|0)==0){O=V;break}else B=V}}B=o[k+124>>2]|0;if((B|0)==0)W=O;else{L=B;B=O;while(1){I=L+4|0;N=o[I>>2]|0;do{if((i[N+60>>0]|0)==0?(G=o[L>>2]|0,z=G+4|0,U=n[z>>1]|0,!((U&32)==0)):0){j=o[T>>2]|0;o[T>>2]=j+1;o[(o[R>>2]|0)+(j<<2)>>2]=N;i[(o[I>>2]|0)+60>>0]=1;if(!((U&1)==0)){J=B;break}o[g+(B<<2)>>2]=G;n[z>>1]=U&65535|1;J=B+1|0}else J=B}while(0);L=o[L+12>>2]|0;if((L|0)==0){W=J;break}else B=J}}}else W=D;if((W|0)<=0)break;F=o[y>>2]|0;E=W}wh(a,l,t,S,(i[M>>0]|0)!=0);u[p>>2]=+u[H>>2]+ +u[p>>2];u[m>>2]=+u[A>>2]+ +u[m>>2];u[d>>2]=+u[C>>2]+ +u[d>>2];E=o[y>>2]|0;if((E|0)>0){F=o[w>>2]|0;B=0;do{L=o[F+(B<<2)>>2]|0;if((o[L>>2]|0)==0){k=L+4|0;n[k>>1]=n[k>>1]&65534}B=B+1|0}while((B|0)<(E|0))}}P=o[P+112>>2]|0}while((P|0)!=0)}Uf(b,g);xf(c);g=o[f>>2]|0;if((g|0)==0){Lr(v);X=+Mf(c);q=e+103032|0;u[q>>2]=X;Th(a);h=r;return}else Y=g;do{if(!((n[Y+4>>1]&1)==0)?(o[Y>>2]|0)!=0:0)xr(Y);Y=o[Y+112>>2]|0}while((Y|0)!=0);Lr(v);X=+Mf(c);q=e+103032|0;u[q>>2]=X;Th(a);h=r;return}function mr(e,t){e=e|0;t=t|0;var r=0,a=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0,Ce=0,Pe=0,Fe=0,De=0,ke=0,Le=0,Be=0,Oe=0,Ne=0,Ie=0,Ve=0,Ue=0,ze=0,Ge=0,We=0,je=0,Je=0,Xe=0,qe=0,Ye=0,Ke=0,Ze=0;r=h;h=h+336|0;a=r+284|0;l=r+152|0;c=r+144|0;f=r+108|0;p=r+72|0;m=r+64|0;E=r+28|0;v=r;b=e+102880|0;y=e+102952|0;_h(a,64,32,0,e+76|0,o[y>>2]|0);g=e+103007|0;if((i[g>>0]|0)!=0){_=o[e+102960>>2]|0;if((_|0)!=0){T=_;do{_=T+4|0;n[_>>1]=n[_>>1]&65534;u[T+76>>2]=0;T=o[T+112>>2]|0}while((T|0)!=0)}T=e+102940|0;_=o[T>>2]|0;if((_|0)==0)w=T;else{R=_;do{_=R+4|0;o[_>>2]=o[_>>2]&-34;o[R+128>>2]=0;u[R+132>>2]=1;R=o[R+12>>2]|0}while((R|0)!=0);w=T}}else w=e+102940|0;T=a+28|0;R=a+36|0;_=a+32|0;x=a+8|0;S=a+12|0;M=m+4|0;H=a+40|0;A=a+44|0;C=v+4|0;P=v+8|0;F=v+16|0;D=t+12|0;k=v+12|0;L=t+20|0;B=v+20|0;O=v+24|0;N=e+103006|0;e=l+16|0;I=l+20|0;V=l+24|0;U=l+44|0;z=l+48|0;G=l+52|0;W=l+28|0;j=l+56|0;J=l+92|0;Y=l+128|0;K=c+4|0;while(1){Z=o[w>>2]|0;if((Z|0)==0){Q=28;break}else{$=Z;ee=1;te=0}while(1){Z=$+4|0;re=o[Z>>2]|0;do{if((re&4|0)!=0?(o[$+128>>2]|0)<=8:0){if((re&32|0)==0){ie=o[$+48>>2]|0;ne=o[$+52>>2]|0;if((i[ie+38>>0]|0)!=0){oe=ee;ae=te;break}if((i[ne+38>>0]|0)!=0){oe=ee;ae=te;break}se=o[ie+8>>2]|0;le=o[ne+8>>2]|0;ue=o[se>>2]|0;ce=o[le>>2]|0;he=n[se+4>>1]|0;fe=n[le+4>>1]|0;if(!((he&2)!=0&(ue|0)!=0|(fe&2)!=0&(ce|0)!=0)){oe=ee;ae=te;break}if(!((he&8)!=0|(ue|0)!=2|((fe&8)!=0|(ce|0)!=2))){oe=ee;ae=te;break}ce=se+44|0;fe=se+76|0;de=+u[fe>>2];ue=le+44|0;he=le+76|0;pe=+u[he>>2];if(!(de<pe))if(pe<de){me=(de-pe)/(1-pe);Ee=le+52|0;ve=+u[Ee>>2];be=le+56|0;ye=+u[be>>2];ge=me*(+u[le+64>>2]-ye);u[Ee>>2]=ve+me*(+u[le+60>>2]-ve);u[be>>2]=ye+ge;be=le+68|0;ge=+u[be>>2];u[be>>2]=ge+me*(+u[le+72>>2]-ge);u[he>>2]=de;_e=de}else _e=de;else{ge=(pe-de)/(1-de);he=se+52|0;de=+u[he>>2];le=se+56|0;me=+u[le>>2];ye=ge*(+u[se+64>>2]-me);u[he>>2]=de+ge*(+u[se+60>>2]-de);u[le>>2]=me+ye;le=se+68|0;ye=+u[le>>2];u[le>>2]=ye+ge*(+u[se+72>>2]-ye);u[fe>>2]=pe;_e=pe}fe=o[$+56>>2]|0;se=o[$+60>>2]|0;o[e>>2]=0;o[I>>2]=0;u[V>>2]=0;o[U>>2]=0;o[z>>2]=0;u[G>>2]=0;hc(l,o[ie+12>>2]|0,fe);hc(W,o[ne+12>>2]|0,se);Te=j+0|0;we=ce+0|0;Re=Te+36|0;do{o[Te>>2]=o[we>>2];Te=Te+4|0;we=we+4|0}while((Te|0)<(Re|0));Te=J+0|0;we=ue+0|0;Re=Te+36|0;do{o[Te>>2]=o[we>>2];Te=Te+4|0;we=we+4|0}while((Te|0)<(Re|0));u[Y>>2]=1;sc(c,l);if((o[c>>2]|0)==3){pe=_e+(1-_e)*+u[K>>2];xe=pe<1?pe:1}else xe=1;u[$+132>>2]=xe;o[Z>>2]=o[Z>>2]|32;Se=xe}else Se=+u[$+132>>2];if(Se<ee){oe=Se;ae=$}else{oe=ee;ae=te}}else{oe=ee;ae=te}}while(0);$=o[$+12>>2]|0;if(($|0)==0)break;else{ee=oe;te=ae}}if((ae|0)==0|oe>.9999988079071045){Q=28;break}Z=o[(o[ae+48>>2]|0)+8>>2]|0;re=o[(o[ae+52>>2]|0)+8>>2]|0;ue=Z+44|0;Te=f+0|0;we=ue+0|0;Re=Te+36|0;do{o[Te>>2]=o[we>>2];Te=Te+4|0;we=we+4|0}while((Te|0)<(Re|0));ce=re+44|0;Te=p+0|0;we=ce+0|0;Re=Te+36|0;do{o[Te>>2]=o[we>>2];Te=Te+4|0;we=we+4|0}while((Te|0)<(Re|0));se=Z+76|0;pe=+u[se>>2];ye=(oe-pe)/(1-pe);ne=Z+60|0;fe=Z+52|0;pe=+u[fe>>2];ie=Z+64|0;le=Z+56|0;ge=+u[le>>2];me=ye*(+u[ie>>2]-ge);u[fe>>2]=pe+ye*(+u[ne>>2]-pe);u[le>>2]=ge+me;le=Z+72|0;fe=Z+68|0;me=+u[fe>>2];ge=me+ye*(+u[le>>2]-me);u[fe>>2]=ge;u[se>>2]=oe;se=Z+52|0;fe=o[se>>2]|0;he=o[se+4>>2]|0;se=Z+60|0;o[se>>2]=fe;o[se+4>>2]=he;u[le>>2]=ge;me=+q(+ge);se=Z+20|0;u[se>>2]=me;ye=+X(+ge);be=Z+24|0;u[be>>2]=ye;Ee=Z+12|0;Me=Z+44|0;ge=+u[Me>>2];He=Z+48|0;pe=+u[He>>2];de=(o[d>>2]=fe,+u[d>>2])-(ye*ge-me*pe);ve=(o[d>>2]=he,+u[d>>2])-(me*ge+ye*pe);pe=+de;de=+ve;he=Ee;u[he>>2]=pe;u[he+4>>2]=de;he=re+76|0;de=+u[he>>2];pe=(oe-de)/(1-de);fe=re+60|0;Ae=re+52|0;de=+u[Ae>>2];Ce=re+64|0;Pe=re+56|0;ve=+u[Pe>>2];ye=pe*(+u[Ce>>2]-ve);u[Ae>>2]=de+pe*(+u[fe>>2]-de);u[Pe>>2]=ve+ye;Pe=re+72|0;Ae=re+68|0;ye=+u[Ae>>2];ve=ye+pe*(+u[Pe>>2]-ye);u[Ae>>2]=ve;u[he>>2]=oe;he=re+52|0;Ae=o[he>>2]|0;Fe=o[he+4>>2]|0;he=re+60|0;o[he>>2]=Ae;o[he+4>>2]=Fe;u[Pe>>2]=ve;ye=+q(+ve);he=re+20|0;u[he>>2]=ye;pe=+X(+ve);De=re+24|0;u[De>>2]=pe;ke=re+12|0;Le=re+44|0;ve=+u[Le>>2];Be=re+48|0;de=+u[Be>>2];ge=(o[d>>2]=Ae,+u[d>>2])-(pe*ve-ye*de);me=(o[d>>2]=Fe,+u[d>>2])-(ye*ve+pe*de);de=+ge;ge=+me;Fe=ke;u[Fe>>2]=de;u[Fe+4>>2]=ge;Pa(ae,o[y>>2]|0);Fe=ae+4|0;Ae=o[Fe>>2]|0;o[Fe>>2]=Ae&-33;Oe=ae+128|0;o[Oe>>2]=(o[Oe>>2]|0)+1;if((Ae&6|0)!=6){o[Fe>>2]=Ae&-37;Te=ue+0|0;we=f+0|0;Re=Te+36|0;do{o[Te>>2]=o[we>>2];Te=Te+4|0;we=we+4|0}while((Te|0)<(Re|0));Te=ce+0|0;we=p+0|0;Re=Te+36|0;do{o[Te>>2]=o[we>>2];Te=Te+4|0;we=we+4|0}while((Te|0)<(Re|0));ge=+u[le>>2];de=+q(+ge);u[se>>2]=de;me=+X(+ge);u[be>>2]=me;ge=+u[Me>>2];pe=+u[He>>2];ve=+(+u[ne>>2]-(me*ge-de*pe));ye=+(+u[ie>>2]-(de*ge+me*pe));ce=Ee;u[ce>>2]=ve;u[ce+4>>2]=ye;ye=+u[Pe>>2];ve=+q(+ye);u[he>>2]=ve;pe=+X(+ye);u[De>>2]=pe;ye=+u[Le>>2];me=+u[Be>>2];ge=+(+u[fe>>2]-(pe*ye-ve*me));de=+(+u[Ce>>2]-(ve*ye+pe*me));ce=ke;u[ce>>2]=ge;u[ce+4>>2]=de;continue}ce=Z+4|0;ue=n[ce>>1]|0;Ae=ue&65535;if((Ae&2|0)==0){Oe=(Ae|2)&65535;n[ce>>1]=Oe;u[Z+160>>2]=0;Ne=Oe}else Ne=ue;ue=re+4|0;Oe=s[ue>>1]|0;if((Oe&2|0)==0){n[ue>>1]=Oe|2;u[re+160>>2]=0;Ie=n[ce>>1]|0}else Ie=Ne;o[T>>2]=0;o[R>>2]=0;o[_>>2]=0;Oe=Z+8|0;o[Oe>>2]=0;Ae=o[T>>2]|0;o[(o[x>>2]|0)+(Ae<<2)>>2]=Z;Ve=Ae+1|0;o[T>>2]=Ve;Ae=re+8|0;o[Ae>>2]=Ve;Ve=o[T>>2]|0;o[(o[x>>2]|0)+(Ve<<2)>>2]=re;o[T>>2]=Ve+1;Ve=o[R>>2]|0;o[R>>2]=Ve+1;o[(o[S>>2]|0)+(Ve<<2)>>2]=ae;n[ce>>1]=Ie&65535|1;n[ue>>1]=s[ue>>1]|1;o[Fe>>2]=o[Fe>>2]|1;o[m>>2]=Z;o[M>>2]=re;ue=Z;ce=1;while(1){e:do{if((o[ue>>2]|0)==2?(Ve=o[ue+128>>2]|0,(Ve|0)!=0):0){Ue=ue+4|0;ze=Ve;do{if((o[T>>2]|0)==(o[H>>2]|0))break e;if((o[R>>2]|0)==(o[A>>2]|0))break e;Ve=o[ze+4>>2]|0;Ge=Ve+4|0;do{if((o[Ge>>2]&1|0)==0){We=o[ze>>2]|0;if(((o[We>>2]|0)==2?(n[Ue>>1]&8)==0:0)?(n[We+4>>1]&8)==0:0)break;if((i[(o[Ve+48>>2]|0)+38>>0]|0)==0?(i[(o[Ve+52>>2]|0)+38>>0]|0)==0:0){je=We+44|0;Te=E+0|0;we=je+0|0;Re=Te+36|0;do{o[Te>>2]=o[we>>2];Te=Te+4|0;we=we+4|0}while((Te|0)<(Re|0));Je=We+4|0;if((n[Je>>1]&1)==0){Xe=We+76|0;de=+u[Xe>>2];ge=(oe-de)/(1-de);qe=We+52|0;de=+u[qe>>2];Ye=We+56|0;me=+u[Ye>>2];pe=ge*(+u[We+64>>2]-me);u[qe>>2]=de+ge*(+u[We+60>>2]-de);u[Ye>>2]=me+pe;Ye=We+72|0;qe=We+68|0;pe=+u[qe>>2];me=pe+ge*(+u[Ye>>2]-pe);u[qe>>2]=me;u[Xe>>2]=oe;Xe=We+52|0;qe=o[Xe>>2]|0;Ke=o[Xe+4>>2]|0;Xe=We+60|0;o[Xe>>2]=qe;o[Xe+4>>2]=Ke;u[Ye>>2]=me;pe=+q(+me);u[We+20>>2]=pe;ge=+X(+me);u[We+24>>2]=ge;me=+u[We+44>>2];de=+u[We+48>>2];ye=(o[d>>2]=qe,+u[d>>2])-(ge*me-pe*de);ve=(o[d>>2]=Ke,+u[d>>2])-(pe*me+ge*de);de=+ye;ye=+ve;Ke=We+12|0;u[Ke>>2]=de;u[Ke+4>>2]=ye}Pa(Ve,o[y>>2]|0);Ke=o[Ge>>2]|0;if((Ke&4|0)==0){Te=je+0|0;we=E+0|0;Re=Te+36|0;do{o[Te>>2]=o[we>>2];Te=Te+4|0;we=we+4|0}while((Te|0)<(Re|0));ye=+u[We+72>>2];de=+q(+ye);u[We+20>>2]=de;ve=+X(+ye);u[We+24>>2]=ve;ye=+u[We+44>>2];ge=+u[We+48>>2];me=+(+u[We+60>>2]-(ve*ye-de*ge));pe=+(+u[We+64>>2]-(de*ye+ve*ge));qe=We+12|0;u[qe>>2]=me;u[qe+4>>2]=pe;break}if((Ke&2|0)==0){Te=je+0|0;we=E+0|0;Re=Te+36|0;do{o[Te>>2]=o[we>>2];Te=Te+4|0;we=we+4|0}while((Te|0)<(Re|0));pe=+u[We+72>>2];me=+q(+pe);u[We+20>>2]=me;ge=+X(+pe);u[We+24>>2]=ge;pe=+u[We+44>>2];ve=+u[We+48>>2];ye=+(+u[We+60>>2]-(ge*pe-me*ve));de=+(+u[We+64>>2]-(me*pe+ge*ve));je=We+12|0;u[je>>2]=ye;u[je+4>>2]=de;break}o[Ge>>2]=Ke|1;je=o[R>>2]|0;o[R>>2]=je+1;o[(o[S>>2]|0)+(je<<2)>>2]=Ve;je=s[Je>>1]|0;if((je&1|0)!=0)break;n[Je>>1]=je|1;do{if((o[We>>2]|0)!=0){if((je&2|0)!=0)break;n[Je>>1]=je|3;u[We+160>>2]=0}}while(0);o[We+8>>2]=o[T>>2];je=o[T>>2]|0;o[(o[x>>2]|0)+(je<<2)>>2]=We;o[T>>2]=je+1}}}while(0);ze=o[ze+12>>2]|0}while((ze|0)!=0)}}while(0);if((ce|0)>=2)break;ue=o[m+(ce<<2)>>2]|0;ce=ce+1|0}de=(1-oe)*+u[t>>2];u[v>>2]=de;u[C>>2]=1/de;u[P>>2]=1;o[F>>2]=20;o[k>>2]=o[D>>2];o[B>>2]=o[L>>2];i[O>>0]=0;Rh(a,v,o[Oe>>2]|0,o[Ae>>2]|0);ce=o[T>>2]|0;if((ce|0)>0){ue=ce;ce=0;while(1){Z=o[(o[x>>2]|0)+(ce<<2)>>2]|0;re=Z+4|0;n[re>>1]=n[re>>1]&65534;if((o[Z>>2]|0)==2){xr(Z);re=o[Z+128>>2]|0;if((re|0)!=0){Z=re;do{re=(o[Z+4>>2]|0)+4|0;o[re>>2]=o[re>>2]&-34;Z=o[Z+12>>2]|0}while((Z|0)!=0)}Ze=o[T>>2]|0}else Ze=ue;ce=ce+1|0;if((ce|0)>=(Ze|0))break;else ue=Ze}}Lr(b);if((i[N>>0]|0)!=0){Q=68;break}}if((Q|0)==28){i[g>>0]=1;Th(a);h=r;return}else if((Q|0)==68){i[g>>0]=0;Th(a);h=r;return}}function Er(e,t,r,n,a){e=e|0;t=+t;r=r|0;n=n|0;a=a|0;var s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0;s=h;h=h+64|0;l=s+24|0;c=s+32|0;f=s+16|0;d=s+8|0;p=s;xf(l);m=e+102876|0;E=o[m>>2]|0;if((E&1|0)==0)v=E;else{Lr(e+102880|0);E=o[m>>2]&-2;o[m>>2]=E;v=E}o[m>>2]=v|2;u[c>>2]=t;o[c+12>>2]=r;o[c+16>>2]=n;o[c+20>>2]=a;if(t>0)u[c+4>>2]=1/t;else u[c+4>>2]=0;a=e+103E3|0;u[c+8>>2]=+u[a>>2]*t;i[c+24>>0]=i[e+103004>>0]|0;xf(f);kr(e+102880|0);u[e+103012>>2]=+Mf(f);if((i[e+103007>>0]|0)!=0?+u[c>>2]>0:0){xf(d);f=o[e+102968>>2]|0;if((f|0)!=0){n=f;do{ot(n,c);n=o[n+408>>2]|0}while((n|0)!=0)}pr(e,c);u[e+103016>>2]=+Mf(d)}if((i[e+103005>>0]|0)!=0){t=+u[c>>2];if(t>0){xf(p);mr(e,c);u[e+103036>>2]=+Mf(p);b=14}else y=t}else b=14;if((b|0)==14)y=+u[c>>2];if(y>0)u[a>>2]=+u[c+4>>2];c=o[m>>2]|0;if((c&4|0)==0){g=c&-3;o[m>>2]=g;_=+Mf(l);T=e+103008|0;u[T>>2]=_;h=s;return}a=o[e+102960>>2]|0;if((a|0)==0){g=c&-3;o[m>>2]=g;_=+Mf(l);T=e+103008|0;u[T>>2]=_;h=s;return}else w=a;do{u[w+92>>2]=0;u[w+96>>2]=0;u[w+100>>2]=0;w=o[w+112>>2]|0}while((w|0)!=0);g=c&-3;o[m>>2]=g;_=+Mf(l);T=e+103008|0;u[T>>2]=_;h=s;return}function vr(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0;i=h;h=h+16|0;n=i;a=e+102880|0;o[n>>2]=a;o[n+4>>2]=t;gr(a,n,r);n=o[e+102968>>2]|0;if((n|0)==0){h=i;return}e=n;do{if(_p[o[(o[t>>2]|0)+16>>2]&31](t,e)|0)yt(e,t,r);e=o[e+408>>2]|0}while((e|0)!=0);h=i;return}function br(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0;n=h;h=h+32|0;a=n+24|0;s=n;l=e+102880|0;o[a>>2]=l;o[a+4>>2]=t;u[s+16>>2]=1;c=r;f=o[c+4>>2]|0;d=s;o[d>>2]=o[c>>2];o[d+4>>2]=f;f=i;d=o[f+4>>2]|0;c=s+8|0;o[c>>2]=o[f>>2];o[c+4>>2]=d;yr(l,a,s);s=o[e+102968>>2]|0;if((s|0)==0){h=n;return}e=s;do{if(_p[o[(o[t>>2]|0)+16>>2]&31](t,e)|0)gt(e,t,r,i);e=o[e+408>>2]|0}while((e|0)!=0);h=n;return}function yr(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0;i=h;h=h+1088|0;n=i+1064|0;a=i+1056|0;s=i+20|0;l=i;c=r;f=+u[c>>2];d=+u[c+4>>2];c=r+8|0;p=c;m=+u[p>>2];E=m-f;m=+u[p+4>>2]-d;v=+j(+(E*E+m*m));if(v<1.1920928955078125E-7){b=m;y=E}else{g=1/v;b=m*g;y=E*g}g=-b;v=b<-0?g:b;if(y>0)_=y;else _=-y;b=+u[r+16>>2];T=f+E*b;w=d+m*b;p=s+4|0;o[s>>2]=p;R=s+1028|0;o[R>>2]=0;x=s+1032|0;o[x>>2]=256;S=o[s>>2]|0;o[S+(o[R>>2]<<2)>>2]=o[e>>2];M=o[R>>2]|0;H=M+1|0;o[R>>2]=H;e:do{if((M|0)>-1){A=e+4|0;C=l+8|0;P=l+16|0;F=n+8|0;D=l+4|0;k=l+8|0;L=l+12|0;B=a+4|0;O=t+4|0;N=H;I=d<w?d:w;V=f<T?f:T;U=d>w?d:w;z=f>T?f:T;G=S;W=b;while(1){J=N;X=G;while(1){q=J+-1|0;o[R>>2]=q;Y=o[X+(q<<2)>>2]|0;if((Y|0)==-1){K=q;Z=X}else{Q=o[A>>2]|0;$=+u[Q+(Y*36|0)+8>>2];ee=+u[Q+(Y*36|0)+12>>2];te=+u[Q+(Y*36|0)>>2];re=+u[Q+(Y*36|0)+4>>2];if(V-$>0|I-ee>0|te-z>0|re-U>0){ie=I;ne=V;oe=U;ae=z;se=W;break}le=(f-($+te)*.5)*g+y*(d-(ee+re)*.5);if(le>0)ue=le;else ue=-le;if(ue-(v*($-te)*.5+_*(ee-re)*.5)>0){ie=I;ne=V;oe=U;ae=z;se=W;break}ce=Q+(Y*36|0)+24|0;if((o[ce>>2]|0)==-1){he=17;break}if((q|0)==(o[x>>2]|0)?(o[x>>2]=q<<1,fe=Cf(q<<3)|0,o[s>>2]=fe,pd(fe|0,X|0,o[R>>2]<<2|0)|0,(X|0)!=(p|0)):0)Pf(X);fe=o[s>>2]|0;o[fe+(o[R>>2]<<2)>>2]=o[ce>>2];ce=(o[R>>2]|0)+1|0;o[R>>2]=ce;q=Q+(Y*36|0)+28|0;if((ce|0)==(o[x>>2]|0)?(o[x>>2]=ce<<1,Q=Cf(ce<<3)|0,o[s>>2]=Q,pd(Q|0,fe|0,o[R>>2]<<2|0)|0,(fe|0)!=(p|0)):0)Pf(fe);fe=o[s>>2]|0;o[fe+(o[R>>2]<<2)>>2]=o[q>>2];q=(o[R>>2]|0)+1|0;o[R>>2]=q;K=q;Z=fe}if((K|0)>0){J=K;X=Z}else break e}if((he|0)==17){he=0;o[l+0>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;X=r;J=o[X+4>>2]|0;fe=l;o[fe>>2]=o[X>>2];o[fe+4>>2]=J;J=c;fe=o[J+4>>2]|0;X=C;o[X>>2]=o[J>>2];o[X+4>>2]=fe;u[P>>2]=W;fe=o[(o[(o[t>>2]|0)+4>>2]|0)+(Y*36|0)+16>>2]|0;X=o[fe+16>>2]|0;J=o[X+12>>2]|0;if(Tp[o[(o[J>>2]|0)+24>>2]&15](J,n,l,(o[X+8>>2]|0)+12|0,o[fe+20>>2]|0)|0){re=+u[F>>2];ee=1-re;te=ee*+u[D>>2]+re*+u[L>>2];u[a>>2]=+u[l>>2]*ee+re*+u[k>>2];u[B>>2]=te;fe=o[O>>2]|0;de=+dp[o[(o[fe>>2]|0)+8>>2]&1](fe,X,a,n,re)}else de=+u[P>>2];if(de==0)break e;if(de>0){re=f+E*de;te=d+m*de;ie=d<te?d:te;ne=f<re?f:re;oe=d>te?d:te;ae=f>re?f:re;se=de}else{ie=I;ne=V;oe=U;ae=z;se=W}}X=o[R>>2]|0;if((X|0)<=0)break e;N=X;I=ie;V=ne;U=oe;z=ae;G=o[s>>2]|0;W=se}}}while(0);R=o[s>>2]|0;if((R|0)==(p|0)){h=i;return}Pf(R);o[s>>2]=0;h=i;return}function gr(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0;i=h;h=h+1040|0;n=i;a=n+4|0;o[n>>2]=a;s=n+1028|0;o[s>>2]=0;l=n+1032|0;o[l>>2]=256;c=o[n>>2]|0;o[c+(o[s>>2]<<2)>>2]=o[e>>2];f=o[s>>2]|0;d=f+1|0;o[s>>2]=d;e:do{if((f|0)>-1){p=e+4|0;m=r+4|0;E=r+8|0;v=r+12|0;b=t+4|0;y=d;g=c;while(1){_=y+-1|0;o[s>>2]=_;T=o[g+(_<<2)>>2]|0;do{if(!((T|0)==-1)?(w=o[p>>2]|0,!((+u[r>>2]-+u[w+(T*36|0)+8>>2]>0?1:+u[m>>2]-+u[w+(T*36|0)+12>>2]>0)|+u[w+(T*36|0)>>2]-+u[E>>2]>0|+u[w+(T*36|0)+4>>2]-+u[v>>2]>0)):0){R=w+(T*36|0)+24|0;if((o[R>>2]|0)==-1){x=o[b>>2]|0;if(!(_p[o[(o[x>>2]|0)+8>>2]&31](x,o[(o[(o[(o[t>>2]|0)+4>>2]|0)+(T*36|0)+16>>2]|0)+16>>2]|0)|0))break e;S=o[s>>2]|0;break}if((_|0)==(o[l>>2]|0)?(o[l>>2]=_<<1,x=Cf(_<<3)|0,o[n>>2]=x,pd(x|0,g|0,o[s>>2]<<2|0)|0,(g|0)!=(a|0)):0)Pf(g);x=o[n>>2]|0;o[x+(o[s>>2]<<2)>>2]=o[R>>2];R=(o[s>>2]|0)+1|0;o[s>>2]=R;M=w+(T*36|0)+28|0;if((R|0)==(o[l>>2]|0)?(o[l>>2]=R<<1,w=Cf(R<<3)|0,o[n>>2]=w,pd(w|0,x|0,o[s>>2]<<2|0)|0,(x|0)!=(a|0)):0)Pf(x);o[(o[n>>2]|0)+(o[s>>2]<<2)>>2]=o[M>>2];M=(o[s>>2]|0)+1|0;o[s>>2]=M;S=M}else S=_}while(0);if((S|0)<=0)break e;y=S;g=o[n>>2]|0}}}while(0);S=o[n>>2]|0;if((S|0)==(a|0)){h=i;return}Pf(S);o[n>>2]=0;h=i;return}function _r(e,t,r){e=e|0;t=t|0;r=r|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0;a=h;s=e+12|0;l=e+28|0;c=e+80|0;f=e+4|0;d=(i[t+39>>0]|0)==0?0:8;n[f>>1]=d;if((i[t+38>>0]|0)==0)p=d;else{m=(d&65535|16)&65535;n[f>>1]=m;p=m}if((i[t+36>>0]|0)==0)E=p;else{m=(p&65535|4)&65535;n[f>>1]=m;E=m}if((i[t+37>>0]|0)==0)v=E;else{m=(E&65535|2)&65535;n[f>>1]=m;v=m}if((i[t+40>>0]|0)!=0)n[f>>1]=v&65535|32;o[e+104>>2]=r;r=t+4|0;v=o[r>>2]|0;f=o[r+4>>2]|0;r=s;o[r>>2]=v;o[r+4>>2]=f;r=t+12|0;b=+u[r>>2];u[e+20>>2]=+q(+b);u[e+24>>2]=+X(+b);o[l+0>>2]=o[s+0>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];u[e+44>>2]=0;u[e+48>>2]=0;s=e+52|0;o[s>>2]=v;o[s+4>>2]=f;s=e+60|0;o[s>>2]=v;o[s+4>>2]=f;u[e+68>>2]=+u[r>>2];u[e+72>>2]=+u[r>>2];u[e+76>>2]=0;o[e+124>>2]=0;o[e+128>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;r=t+16|0;f=o[r+4>>2]|0;s=c;o[s>>2]=o[r>>2];o[s+4>>2]=f;u[e+88>>2]=+u[t+24>>2];u[e+148>>2]=+u[t+28>>2];u[e+152>>2]=+u[t+32>>2];u[e+156>>2]=+u[t+48>>2];u[e+92>>2]=0;u[e+96>>2]=0;u[e+100>>2]=0;u[e+160>>2]=0;f=o[t>>2]|0;o[e>>2]=f;s=e+132|0;if((f|0)==2){u[s>>2]=1;u[e+136>>2]=1;y=e+140|0;u[y>>2]=0;g=e+144|0;u[g>>2]=0;_=t+44|0;T=o[_>>2]|0;w=e+164|0;o[w>>2]=T;R=e+116|0;o[R>>2]=0;x=e+120|0;o[x>>2]=0;h=a;return}else{u[s>>2]=0;u[e+136>>2]=0;y=e+140|0;u[y>>2]=0;g=e+144|0;u[g>>2]=0;_=t+44|0;T=o[_>>2]|0;w=e+164|0;o[w>>2]=T;R=e+116|0;o[R>>2]=0;x=e+120|0;o[x>>2]=0;h=a;return}}function Tr(e){e=e|0;return}function wr(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0;r=h;h=h+16|0;i=r;a=e+104|0;if((o[(o[a>>2]|0)+102876>>2]&2|0)!=0){h=r;return}if((o[e>>2]|0)==(t|0)){h=r;return}o[e>>2]=t;Rr(e);if((o[e>>2]|0)==0?(u[e+80>>2]=0,u[e+84>>2]=0,u[e+88>>2]=0,l=+u[e+72>>2],u[e+68>>2]=l,t=e+60|0,c=o[t>>2]|0,f=o[t+4>>2]|0,t=e+52|0,o[t>>2]=c,o[t+4>>2]=f,p=+q(+l),u[i+8>>2]=p,m=+X(+l),u[i+12>>2]=m,l=+u[e+44>>2],E=+u[e+48>>2],v=(o[d>>2]=c,+u[d>>2])-(m*l-p*E),b=(o[d>>2]=f,+u[d>>2])-(p*l+m*E),E=+v,v=+b,f=i,u[f>>2]=E,u[f+4>>2]=v,f=(o[a>>2]|0)+102880|0,c=o[e+116>>2]|0,(c|0)!=0):0){t=e+12|0;y=c;do{Rs(y,f,i,t);y=o[y+4>>2]|0}while((y|0)!=0)}y=e+4|0;t=s[y>>1]|0;if((t&2|0)==0){n[y>>1]=t|2;u[e+160>>2]=0}u[e+92>>2]=0;u[e+96>>2]=0;u[e+100>>2]=0;t=e+128|0;y=o[t>>2]|0;if((y|0)!=0){i=y;do{y=i;i=o[i+12>>2]|0;Dr((o[a>>2]|0)+102880|0,o[y+4>>2]|0)}while((i|0)!=0)}o[t>>2]=0;t=(o[a>>2]|0)+102880|0;a=o[e+116>>2]|0;if((a|0)==0){h=r;return}else g=a;do{a=o[g+28>>2]|0;if((a|0)>0){e=g+24|0;i=0;do{$c(t,o[(o[e>>2]|0)+(i*28|0)+24>>2]|0);i=i+1|0}while((i|0)!=(a|0))}g=o[g+4>>2]|0}while((g|0)!=0);h=r;return}function Rr(e){e=e|0;var t=0,r=0,i=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0;t=h;h=h+16|0;r=t;i=e+132|0;a=e+136|0;s=e+140|0;l=e+144|0;c=e+44|0;u[c>>2]=0;u[e+48>>2]=0;o[i+0>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;if((o[e>>2]|0)>>>0<2){f=e+12|0;d=o[f>>2]|0;p=o[f+4>>2]|0;f=e+52|0;o[f>>2]=d;o[f+4>>2]=p;f=e+60|0;o[f>>2]=d;o[f+4>>2]=p;u[e+68>>2]=+u[e+72>>2];h=t;return}p=8784;m=+u[p>>2];E=+u[p+4>>2];p=o[e+116>>2]|0;if((p|0)!=0){f=r+4|0;d=r+8|0;v=r+12|0;b=0;y=0;g=m;_=E;T=p;while(1){w=+u[T>>2];if(w==0){R=b;x=y;S=g;M=_}else{p=o[T+12>>2]|0;bp[o[(o[p>>2]|0)+32>>2]&31](p,r,w);w=+u[r>>2];H=w+ +u[i>>2];u[i>>2]=H;A=g+w*+u[f>>2];C=_+w*+u[d>>2];w=+u[v>>2]+ +u[s>>2];u[s>>2]=w;R=w;x=H;S=A;M=C}T=o[T+4>>2]|0;if((T|0)==0)break;else{b=R;y=x;g=S;_=M}}if(x>0){_=1/x;u[a>>2]=_;P=R;F=S*_;D=M*_;k=x}else{L=M;B=S;O=R;N=10}}else{L=E;B=m;O=0;N=10}if((N|0)==10){u[i>>2]=1;u[a>>2]=1;P=O;F=B;D=L;k=1}if(P>0?(n[e+4>>1]&16)==0:0){L=P-(D*D+F*F)*k;u[s>>2]=L;I=1/L}else{u[s>>2]=0;I=0}u[l>>2]=I;l=e+60|0;s=l;I=+u[s>>2];L=+u[s+4>>2];k=+F;P=+D;s=c;u[s>>2]=k;u[s+4>>2]=P;P=+u[e+24>>2];k=+u[e+20>>2];B=+u[e+12>>2]+(P*F-k*D);O=F*k+P*D+ +u[e+16>>2];D=+B;P=+O;s=l;u[s>>2]=D;u[s+4>>2]=P;s=e+52|0;u[s>>2]=D;u[s+4>>2]=P;P=+u[e+88>>2];s=e+80|0;u[s>>2]=+u[s>>2]-P*(O-L);s=e+84|0;u[s>>2]=P*(B-I)+ +u[s>>2];h=t;return}function xr(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0;t=h;h=h+16|0;r=t;i=+u[e+68>>2];n=+q(+i);u[r+8>>2]=n;a=+X(+i);u[r+12>>2]=a;i=+u[e+44>>2];s=+u[e+48>>2];l=+(+u[e+52>>2]-(a*i-n*s));c=+(+u[e+56>>2]-(i*n+a*s));f=r;u[f>>2]=l;u[f+4>>2]=c;f=(o[e+104>>2]|0)+102880|0;d=o[e+116>>2]|0;if((d|0)==0){h=t;return}p=e+12|0;e=d;do{Rs(e,f,r,p);e=o[e+4>>2]|0}while((e|0)!=0);h=t;return}function Sr(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,l=0,c=0;r=h;i=e+104|0;a=o[i>>2]|0;if((o[a+102876>>2]&2|0)!=0){s=0;h=r;return s|0}l=yf(a,44)|0;if((l|0)==0)c=0;else{ys(l);c=l}gs(c,a,e,t);if(!((n[e+4>>1]&32)==0))Ts(c,(o[i>>2]|0)+102880|0,e+12|0);t=e+116|0;o[c+4>>2]=o[t>>2];o[t>>2]=c;t=e+120|0;o[t>>2]=(o[t>>2]|0)+1;o[c+8>>2]=e;if(+u[c>>2]>0)Rr(e);e=(o[i>>2]|0)+102876|0;o[e>>2]=o[e>>2]|1;s=c;h=r;return s|0}function Mr(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,l=0,u=0,c=0;r=h;i=e+104|0;if((o[(o[i>>2]|0)+102876>>2]&2|0)!=0){h=r;return}a=e+116|0;s=o[a>>2]|0;e:do{if((s|0)!=0){l=s;u=a;while(1){c=l+4|0;if((l|0)==(t|0))break;l=o[c>>2]|0;if((l|0)==0)break e;else u=c}o[u>>2]=o[t+4>>2]}}while(0);a=o[e+128>>2]|0;if((a|0)!=0){s=a;do{a=o[s+4>>2]|0;s=o[s+12>>2]|0;if((o[a+48>>2]|0)==(t|0)?1:(o[a+52>>2]|0)==(t|0))Dr((o[i>>2]|0)+102880|0,a)}while((s|0)!=0)}s=o[i>>2]|0;if(!((n[e+4>>1]&32)==0))ws(t,s+102880|0);_s(t,s);o[t+8>>2]=0;o[t+4>>2]=0;gf(s,t,44);t=e+120|0;o[t>>2]=(o[t>>2]|0)+-1;Rr(e);h=r;return}function Hr(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0;r=h;if((o[(o[e+104>>2]|0)+102876>>2]&2|0)!=0){h=r;return}if((o[e>>2]|0)!=2){h=r;return}i=e+136|0;u[i>>2]=0;a=e+140|0;u[a>>2]=0;s=e+144|0;u[s>>2]=0;l=+u[t>>2];c=!(l<=0)?l:1;u[e+132>>2]=c;u[i>>2]=1/c;l=+u[t+12>>2];if(l>0?(n[e+4>>1]&16)==0:0){f=+u[t+4>>2];p=+u[t+8>>2];m=l-c*(f*f+p*p);u[a>>2]=m;u[s>>2]=1/m}s=e+60|0;a=s;m=+u[a>>2];p=+u[a+4>>2];a=t+4|0;t=o[a>>2]|0;i=o[a+4>>2]|0;a=e+44|0;o[a>>2]=t;o[a+4>>2]=i;f=+u[e+24>>2];c=(o[d>>2]=t,+u[d>>2]);l=+u[e+20>>2];E=(o[d>>2]=i,+u[d>>2]);v=+u[e+12>>2]+(f*c-l*E);b=c*l+f*E+ +u[e+16>>2];E=+v;f=+b;i=s;u[i>>2]=E;u[i+4>>2]=f;i=e+52|0;u[i>>2]=E;u[i+4>>2]=f;f=+u[e+88>>2];i=e+80|0;u[i>>2]=+u[i>>2]-f*(b-p);i=e+84|0;u[i>>2]=f*(v-m)+ +u[i>>2];h=r;return}function Ar(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0;r=h;if((o[e>>2]|0)!=2?(o[t>>2]|0)!=2:0)n=0;else a=3;e:do{if((a|0)==3){s=o[e+124>>2]|0;if((s|0)==0)n=1;else{l=s;while(1){if((o[l>>2]|0)==(t|0)?(i[(o[l+4>>2]|0)+61>>0]|0)==0:0){n=0;break e}l=o[l+12>>2]|0;if((l|0)==0){n=1;break}}}}}while(0);h=r;return n|0}function Cr(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0;i=h;n=o[e+104>>2]|0;if((o[n+102876>>2]&2|0)!=0){h=i;return}a=e+12|0;s=+q(+r);u[e+20>>2]=s;l=+X(+r);u[e+24>>2]=l;c=t;t=o[c>>2]|0;f=o[c+4>>2]|0;c=a;o[c>>2]=t;o[c+4>>2]=f;c=e+28|0;o[c+0>>2]=o[a+0>>2];o[c+4>>2]=o[a+4>>2];o[c+8>>2]=o[a+8>>2];o[c+12>>2]=o[a+12>>2];p=+u[e+44>>2];m=+u[e+48>>2];E=(o[d>>2]=t,+u[d>>2])+(l*p-s*m);v=p*s+l*m+(o[d>>2]=f,+u[d>>2]);m=+E;E=+v;f=e+60|0;u[f>>2]=m;u[f+4>>2]=E;u[e+72>>2]=r;f=e+52|0;u[f>>2]=m;u[f+4>>2]=E;u[e+68>>2]=r;f=n+102880|0;n=o[e+116>>2]|0;if((n|0)==0){h=i;return}else b=n;do{Rs(b,f,a,a);b=o[b+4>>2]|0}while((b|0)!=0);h=i;return}function Pr(e){e=e|0;return}function Fr(e){e=e|0;var t=0;t=h;qc(e);o[e+60>>2]=0;o[e+64>>2]=0;o[e+68>>2]=6800;o[e+72>>2]=6808;o[e+76>>2]=0;h=t;return}function Dr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0;r=h;i=o[(o[t+48>>2]|0)+8>>2]|0;n=o[(o[t+52>>2]|0)+8>>2]|0;a=o[e+72>>2]|0;if((a|0)!=0?(o[t+4>>2]&2|0)!=0:0)pp[o[(o[a>>2]|0)+12>>2]&63](a,t);a=t+8|0;s=o[a>>2]|0;l=t+12|0;if((s|0)!=0)o[s+12>>2]=o[l>>2];s=o[l>>2]|0;if((s|0)!=0)o[s+8>>2]=o[a>>2];a=e+60|0;if((o[a>>2]|0)==(t|0))o[a>>2]=o[l>>2];l=t+24|0;a=o[l>>2]|0;s=t+28|0;if((a|0)!=0)o[a+12>>2]=o[s>>2];a=o[s>>2]|0;if((a|0)!=0)o[a+8>>2]=o[l>>2];l=i+128|0;if((t+16|0)==(o[l>>2]|0))o[l>>2]=o[s>>2];s=t+40|0;l=o[s>>2]|0;i=t+44|0;if((l|0)!=0)o[l+12>>2]=o[i>>2];l=o[i>>2]|0;if((l|0)!=0)o[l+8>>2]=o[s>>2];s=n+128|0;if((t+32|0)!=(o[s>>2]|0)){u=e+76|0;c=o[u>>2]|0;Aa(t,c);f=e+64|0;d=o[f>>2]|0;p=d+-1|0;o[f>>2]=p;h=r;return}o[s>>2]=o[i>>2];u=e+76|0;c=o[u>>2]|0;Aa(t,c);f=e+64|0;d=o[f>>2]|0;p=d+-1|0;o[f>>2]=p;h=r;return}function kr(e){e=e|0;var t=0,r=0,i=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0;t=h;r=o[e+60>>2]|0;if((r|0)==0){h=t;return}i=e+4|0;a=e+72|0;s=e+68|0;l=r;while(1){r=o[l+48>>2]|0;c=o[l+52>>2]|0;f=o[l+56>>2]|0;d=o[l+60>>2]|0;p=o[r+8>>2]|0;m=o[c+8>>2]|0;E=l+4|0;do{if((o[E>>2]&8|0)==0)v=11;else{if(!(Ar(m,p)|0)){b=o[l+12>>2]|0;Dr(e,l);y=b;break}b=o[s>>2]|0;if((b|0)!=0?!(mp[o[(o[b>>2]|0)+8>>2]&15](b,r,c)|0):0){b=o[l+12>>2]|0;Dr(e,l);y=b;break}o[E>>2]=o[E>>2]&-9;v=11}}while(0);do{if((v|0)==11){v=0;if((n[p+4>>1]&2)==0)g=0;else g=(o[p>>2]|0)!=0;if((n[m+4>>1]&2)==0)_=0;else _=(o[m>>2]|0)!=0;if(!(g|_)){y=o[l+12>>2]|0;break}E=o[(o[r+24>>2]|0)+(f*28|0)+24>>2]|0;b=o[(o[c+24>>2]|0)+(d*28|0)+24>>2]|0;T=o[i>>2]|0;if((+u[T+(b*36|0)>>2]-+u[T+(E*36|0)+8>>2]>0?1:+u[T+(b*36|0)+4>>2]-+u[T+(E*36|0)+12>>2]>0)|+u[T+(E*36|0)>>2]-+u[T+(b*36|0)+8>>2]>0|+u[T+(E*36|0)+4>>2]-+u[T+(b*36|0)+12>>2]>0){b=o[l+12>>2]|0;Dr(e,l);y=b;break}else{Pa(l,o[a>>2]|0);y=o[l+12>>2]|0;break}}}while(0);if((y|0)==0)break;else l=y}h=t;return}function Lr(e){e=e|0;var t=0;t=h;Br(e,e);h=t;return}function Br(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0;r=h;h=h+16|0;i=r;n=e+52|0;o[n>>2]=0;a=e+40|0;s=o[a>>2]|0;if((s|0)>0){l=e+32|0;u=e+56|0;c=e+4|0;f=s;s=0;while(1){d=o[(o[l>>2]|0)+(s<<2)>>2]|0;o[u>>2]=d;if((d|0)==-1)p=f;else{Nr(e,e,(o[c>>2]|0)+(d*36|0)|0);p=o[a>>2]|0}s=s+1|0;if((s|0)>=(p|0))break;else f=p}m=o[n>>2]|0}else m=0;o[a>>2]=0;a=e+44|0;p=o[a>>2]|0;o[i>>2]=26;Vr(p,p+(m<<3)|0,i);if((o[n>>2]|0)<=0){h=r;return}i=e+4|0;e=0;e:while(1){m=o[a>>2]|0;p=m+(e<<3)|0;f=o[i>>2]|0;s=m+(e<<3)+4|0;Or(t,o[f+((o[p>>2]|0)*36|0)+16>>2]|0,o[f+((o[s>>2]|0)*36|0)+16>>2]|0);f=o[n>>2]|0;m=e;while(1){c=m+1|0;if((c|0)>=(f|0))break e;u=o[a>>2]|0;if((o[u+(c<<3)>>2]|0)!=(o[p>>2]|0)){e=c;continue e}if((o[u+(c<<3)+4>>2]|0)==(o[s>>2]|0))m=c;else{e=c;continue e}}}h=r;return}function Or(e,t,r){e=e|0;t=t|0;r=r|0;var a=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;a=h;l=o[t+16>>2]|0;c=o[r+16>>2]|0;f=o[t+20>>2]|0;t=o[r+20>>2]|0;r=o[l+8>>2]|0;d=o[c+8>>2]|0;if((r|0)==(d|0)){h=a;return}p=o[d+128>>2]|0;e:do{if((p|0)!=0){m=p;while(1){if((o[m>>2]|0)==(r|0)){E=o[m+4>>2]|0;v=o[E+48>>2]|0;b=o[E+52>>2]|0;y=o[E+56>>2]|0;g=o[E+60>>2]|0;if((v|0)==(l|0)&(b|0)==(c|0)&(y|0)==(f|0)&(g|0)==(t|0)){_=24;break}if((v|0)==(c|0)&(b|0)==(l|0)&(y|0)==(t|0)&(g|0)==(f|0)){_=24;break}}m=o[m+12>>2]|0;if((m|0)==0)break e}if((_|0)==24){h=a;return}}}while(0);if(!(Ar(d,r)|0)){h=a;return}r=o[e+68>>2]|0;if((r|0)!=0?!(mp[o[(o[r>>2]|0)+8>>2]&15](r,l,c)|0):0){h=a;return}r=Ha(l,f,c,t,o[e+76>>2]|0)|0;if((r|0)==0){h=a;return}t=o[r+48>>2]|0;c=o[r+52>>2]|0;f=o[t+8>>2]|0;l=o[c+8>>2]|0;o[r+8>>2]=0;d=e+60|0;o[r+12>>2]=o[d>>2];_=o[d>>2]|0;if((_|0)!=0)o[_+8>>2]=r;o[d>>2]=r;d=r+16|0;o[r+20>>2]=r;o[d>>2]=l;o[r+24>>2]=0;_=f+128|0;o[r+28>>2]=o[_>>2];p=o[_>>2]|0;if((p|0)!=0)o[p+8>>2]=d;o[_>>2]=d;d=r+32|0;o[r+36>>2]=r;o[d>>2]=f;o[r+40>>2]=0;_=l+128|0;o[r+44>>2]=o[_>>2];r=o[_>>2]|0;if((r|0)!=0)o[r+8>>2]=d;o[_>>2]=d;if((i[t+38>>0]|0)==0?(i[c+38>>0]|0)==0:0){c=f+4|0;t=s[c>>1]|0;if((t&2|0)==0){n[c>>1]=t|2;u[f+160>>2]=0}f=l+4|0;t=s[f>>1]|0;if((t&2|0)==0){n[f>>1]=t|2;u[l+160>>2]=0}}l=e+64|0;o[l>>2]=(o[l>>2]|0)+1;h=a;return}function Nr(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0;i=h;h=h+1040|0;n=i;a=n+4|0;o[n>>2]=a;s=n+1028|0;o[s>>2]=0;l=n+1032|0;o[l>>2]=256;c=o[n>>2]|0;o[c+(o[s>>2]<<2)>>2]=o[e>>2];f=o[s>>2]|0;d=f+1|0;o[s>>2]=d;e:do{if((f|0)>-1){p=e+4|0;m=r+4|0;E=r+8|0;v=r+12|0;b=d;y=c;while(1){g=b+-1|0;o[s>>2]=g;_=o[y+(g<<2)>>2]|0;do{if(!((_|0)==-1)?(T=o[p>>2]|0,!((+u[r>>2]-+u[T+(_*36|0)+8>>2]>0?1:+u[m>>2]-+u[T+(_*36|0)+12>>2]>0)|+u[T+(_*36|0)>>2]-+u[E>>2]>0|+u[T+(_*36|0)+4>>2]-+u[v>>2]>0)):0){w=T+(_*36|0)+24|0;if((o[w>>2]|0)==-1){if(!(eh(t,_)|0))break e;R=o[s>>2]|0;break}if((g|0)==(o[l>>2]|0)?(o[l>>2]=g<<1,x=Cf(g<<3)|0,o[n>>2]=x,pd(x|0,y|0,o[s>>2]<<2|0)|0,(y|0)!=(a|0)):0)Pf(y);x=o[n>>2]|0;o[x+(o[s>>2]<<2)>>2]=o[w>>2];w=(o[s>>2]|0)+1|0;o[s>>2]=w;S=T+(_*36|0)+28|0;if((w|0)==(o[l>>2]|0)?(o[l>>2]=w<<1,T=Cf(w<<3)|0,o[n>>2]=T,pd(T|0,x|0,o[s>>2]<<2|0)|0,(x|0)!=(a|0)):0)Pf(x);o[(o[n>>2]|0)+(o[s>>2]<<2)>>2]=o[S>>2];S=(o[s>>2]|0)+1|0;o[s>>2]=S;R=S}else R=g}while(0);if((R|0)<=0)break e;b=R;y=o[n>>2]|0}}}while(0);R=o[n>>2]|0;if((R|0)==(a|0)){h=i;return}Pf(R);o[n>>2]=0;h=i;return}function Ir(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;i=o[e>>2]|0;n=o[t>>2]|0;if((i|0)>=(n|0))if((i|0)==(n|0))a=(o[e+4>>2]|0)<(o[t+4>>2]|0);else a=0;else a=1;h=r;return a|0}function Vr(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0;i=h;n=e;e=t;e:while(1){t=e;a=e+-8|0;s=n;t:while(1){l=s;u=t-l|0;c=u>>3;switch(c|0){case 5:f=15;break e;break;case 2:f=4;break e;break;case 4:f=14;break e;break;case 1:case 0:f=67;break e;break;case 3:f=6;break e;break;default:}if((u|0)<248){f=21;break e}d=(c|0)/2|0;p=s+(d<<3)|0;do{if((u|0)>7992){m=(c|0)/4|0;E=s+(m<<3)|0;v=s+(m+d<<3)|0;m=Ur(s,E,p,v,r)|0;if(_p[o[r>>2]&31](a,v)|0){b=v;y=o[b>>2]|0;g=o[b+4>>2]|0;b=a;_=o[b+4>>2]|0;T=v;o[T>>2]=o[b>>2];o[T+4>>2]=_;_=a;o[_>>2]=y;o[_+4>>2]=g;g=m+1|0;if(_p[o[r>>2]&31](v,p)|0){_=p;y=o[_>>2]|0;T=o[_+4>>2]|0;_=v;b=o[_+4>>2]|0;w=p;o[w>>2]=o[_>>2];o[w+4>>2]=b;b=v;o[b>>2]=y;o[b+4>>2]=T;T=m+2|0;if(_p[o[r>>2]&31](p,E)|0){b=E;y=o[b>>2]|0;v=o[b+4>>2]|0;b=p;w=o[b+4>>2]|0;_=E;o[_>>2]=o[b>>2];o[_+4>>2]=w;w=p;o[w>>2]=y;o[w+4>>2]=v;if(_p[o[r>>2]&31](E,s)|0){v=s;w=o[v>>2]|0;y=o[v+4>>2]|0;v=E;_=o[v+4>>2]|0;b=s;o[b>>2]=o[v>>2];o[b+4>>2]=_;_=E;o[_>>2]=w;o[_+4>>2]=y;R=m+4|0}else R=m+3|0}else R=T}else R=g}else R=m}else{m=_p[o[r>>2]&31](p,s)|0;g=_p[o[r>>2]&31](a,p)|0;if(!m){if(!g){R=0;break}m=p;T=o[m>>2]|0;y=o[m+4>>2]|0;m=a;_=o[m+4>>2]|0;w=p;o[w>>2]=o[m>>2];o[w+4>>2]=_;_=a;o[_>>2]=T;o[_+4>>2]=y;if(!(_p[o[r>>2]&31](p,s)|0)){R=1;break}y=s;_=o[y>>2]|0;T=o[y+4>>2]|0;y=p;w=o[y+4>>2]|0;m=s;o[m>>2]=o[y>>2];o[m+4>>2]=w;w=p;o[w>>2]=_;o[w+4>>2]=T;R=2;break}T=s;w=o[T>>2]|0;_=o[T+4>>2]|0;if(g){g=a;T=o[g+4>>2]|0;m=s;o[m>>2]=o[g>>2];o[m+4>>2]=T;T=a;o[T>>2]=w;o[T+4>>2]=_;R=1;break}T=p;m=o[T+4>>2]|0;g=s;o[g>>2]=o[T>>2];o[g+4>>2]=m;m=p;o[m>>2]=w;o[m+4>>2]=_;if(_p[o[r>>2]&31](a,p)|0){_=p;m=o[_>>2]|0;w=o[_+4>>2]|0;_=a;g=o[_+4>>2]|0;T=p;o[T>>2]=o[_>>2];o[T+4>>2]=g;g=a;o[g>>2]=m;o[g+4>>2]=w;R=2}else R=1}}while(0);do{if(_p[o[r>>2]&31](s,p)|0){x=a;S=R}else{d=a;while(1){d=d+-8|0;if((s|0)==(d|0))break;if(_p[o[r>>2]&31](d,p)|0){f=50;break}}if((f|0)==50){f=0;c=s;u=o[c>>2]|0;w=o[c+4>>2]|0;c=d;g=o[c+4>>2]|0;m=s;o[m>>2]=o[c>>2];o[m+4>>2]=g;g=d;o[g>>2]=u;o[g+4>>2]=w;x=d;S=R+1|0;break}w=s+8|0;if(_p[o[r>>2]&31](s,a)|0)M=w;else{if((w|0)==(a|0)){f=67;break e}else H=w;while(1){A=H+8|0;if(_p[o[r>>2]&31](s,H)|0)break;if((A|0)==(a|0)){f=67;break e}else H=A}d=H;w=o[d>>2]|0;g=o[d+4>>2]|0;d=a;u=o[d+4>>2]|0;m=H;o[m>>2]=o[d>>2];o[m+4>>2]=u;u=a;o[u>>2]=w;o[u+4>>2]=g;M=A}if((M|0)==(a|0)){f=67;break e}else{C=M;P=a}while(1){g=C;while(1){F=g+8|0;if(_p[o[r>>2]&31](s,g)|0){D=P;break}else g=F}do{D=D+-8|0}while(_p[o[r>>2]&31](s,D)|0);if(!(g>>>0<D>>>0)){s=g;continue t}u=g;w=o[u>>2]|0;m=o[u+4>>2]|0;u=D;d=o[u+4>>2]|0;c=g;o[c>>2]=o[u>>2];o[c+4>>2]=d;d=D;o[d>>2]=w;o[d+4>>2]=m;C=F;P=D}}}while(0);m=s+8|0;r:do{if(m>>>0<x>>>0){d=m;w=x;c=p;u=S;while(1){T=d;while(1){k=T+8|0;if(_p[o[r>>2]&31](T,c)|0)T=k;else{L=w;break}}do{L=L+-8|0}while(!(_p[o[r>>2]&31](L,c)|0));if(T>>>0>L>>>0){B=T;O=c;N=u;break r}g=T;_=o[g>>2]|0;y=o[g+4>>2]|0;g=L;E=o[g+4>>2]|0;b=T;o[b>>2]=o[g>>2];o[b+4>>2]=E;E=L;o[E>>2]=_;o[E+4>>2]=y;d=k;w=L;c=(c|0)==(T|0)?L:c;u=u+1|0}}else{B=m;O=p;N=S}}while(0);if((B|0)!=(O|0)?_p[o[r>>2]&31](O,B)|0:0){p=B;m=o[p>>2]|0;u=o[p+4>>2]|0;p=O;c=o[p+4>>2]|0;w=B;o[w>>2]=o[p>>2];o[w+4>>2]=c;c=O;o[c>>2]=m;o[c+4>>2]=u;I=N+1|0}else I=N;if((I|0)==0){V=Gr(s,B,r)|0;u=B+8|0;if(Gr(u,e,r)|0){f=62;break}if(V){s=u;continue}}u=B;if((u-l|0)>=(t-u|0)){f=66;break}Vr(s,B,r);s=B+8|0}if((f|0)==62){f=0;if(V){f=67;break}else{n=s;e=B;continue}}else if((f|0)==66){f=0;Vr(B+8|0,e,r);n=s;e=B;continue}}if((f|0)==4){if(!(_p[o[r>>2]&31](a,s)|0)){h=i;return}B=s;n=o[B>>2]|0;V=o[B+4>>2]|0;B=a;I=o[B+4>>2]|0;N=s;o[N>>2]=o[B>>2];o[N+4>>2]=I;I=a;o[I>>2]=n;o[I+4>>2]=V;h=i;return}else if((f|0)==6){V=s+8|0;I=_p[o[r>>2]&31](V,s)|0;n=_p[o[r>>2]&31](a,V)|0;if(!I){if(!n){h=i;return}I=V;N=o[I>>2]|0;B=o[I+4>>2]|0;I=a;O=o[I+4>>2]|0;S=V;o[S>>2]=o[I>>2];o[S+4>>2]=O;O=a;o[O>>2]=N;o[O+4>>2]=B;if(!(_p[o[r>>2]&31](V,s)|0)){h=i;return}B=s;O=o[B>>2]|0;N=o[B+4>>2]|0;B=V;S=o[B+4>>2]|0;I=s;o[I>>2]=o[B>>2];o[I+4>>2]=S;S=V;o[S>>2]=O;o[S+4>>2]=N;h=i;return}N=s;S=o[N>>2]|0;O=o[N+4>>2]|0;if(n){n=a;N=o[n+4>>2]|0;I=s;o[I>>2]=o[n>>2];o[I+4>>2]=N;N=a;o[N>>2]=S;o[N+4>>2]=O;h=i;return}N=V;I=o[N+4>>2]|0;n=s;o[n>>2]=o[N>>2];o[n+4>>2]=I;I=V;o[I>>2]=S;o[I+4>>2]=O;if(!(_p[o[r>>2]&31](a,V)|0)){h=i;return}O=V;I=o[O>>2]|0;S=o[O+4>>2]|0;O=a;n=o[O+4>>2]|0;N=V;o[N>>2]=o[O>>2];o[N+4>>2]=n;n=a;o[n>>2]=I;o[n+4>>2]=S;h=i;return}else if((f|0)==14){Ur(s,s+8|0,s+16|0,a,r)|0;h=i;return}else if((f|0)==15){S=s+8|0;n=s+16|0;I=s+24|0;Ur(s,S,n,I,r)|0;if(!(_p[o[r>>2]&31](a,I)|0)){h=i;return}N=I;O=o[N>>2]|0;V=o[N+4>>2]|0;N=a;B=o[N+4>>2]|0;L=I;o[L>>2]=o[N>>2];o[L+4>>2]=B;B=a;o[B>>2]=O;o[B+4>>2]=V;if(!(_p[o[r>>2]&31](I,n)|0)){h=i;return}V=n;B=o[V>>2]|0;O=o[V+4>>2]|0;V=I;a=o[V+4>>2]|0;L=n;o[L>>2]=o[V>>2];o[L+4>>2]=a;a=I;o[a>>2]=B;o[a+4>>2]=O;if(!(_p[o[r>>2]&31](n,S)|0)){h=i;return}O=S;a=o[O>>2]|0;B=o[O+4>>2]|0;O=n;I=o[O+4>>2]|0;L=S;o[L>>2]=o[O>>2];o[L+4>>2]=I;I=n;o[I>>2]=a;o[I+4>>2]=B;if(!(_p[o[r>>2]&31](S,s)|0)){h=i;return}B=s;I=o[B>>2]|0;a=o[B+4>>2]|0;B=S;n=o[B+4>>2]|0;L=s;o[L>>2]=o[B>>2];o[L+4>>2]=n;n=S;o[n>>2]=I;o[n+4>>2]=a;h=i;return}else if((f|0)==21){zr(s,e,r);h=i;return}else if((f|0)==67){h=i;return}}function Ur(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0;a=h;s=_p[o[n>>2]&31](t,e)|0;l=_p[o[n>>2]&31](r,t)|0;do{if(s){u=e;c=o[u>>2]|0;f=o[u+4>>2]|0;if(l){u=r;d=o[u+4>>2]|0;p=e;o[p>>2]=o[u>>2];o[p+4>>2]=d;d=r;o[d>>2]=c;o[d+4>>2]=f;m=1;break}d=t;p=o[d+4>>2]|0;u=e;o[u>>2]=o[d>>2];o[u+4>>2]=p;p=t;o[p>>2]=c;o[p+4>>2]=f;if(_p[o[n>>2]&31](r,t)|0){f=t;p=o[f>>2]|0;c=o[f+4>>2]|0;f=r;u=o[f+4>>2]|0;d=t;o[d>>2]=o[f>>2];o[d+4>>2]=u;u=r;o[u>>2]=p;o[u+4>>2]=c;m=2}else m=1}else if(l){c=t;u=o[c>>2]|0;p=o[c+4>>2]|0;c=r;d=o[c+4>>2]|0;f=t;o[f>>2]=o[c>>2];o[f+4>>2]=d;d=r;o[d>>2]=u;o[d+4>>2]=p;if(_p[o[n>>2]&31](t,e)|0){p=e;d=o[p>>2]|0;u=o[p+4>>2]|0;p=t;f=o[p+4>>2]|0;c=e;o[c>>2]=o[p>>2];o[c+4>>2]=f;f=t;o[f>>2]=d;o[f+4>>2]=u;m=2}else m=1}else m=0}while(0);if(!(_p[o[n>>2]&31](i,r)|0)){E=m;h=a;return E|0}l=r;s=o[l>>2]|0;u=o[l+4>>2]|0;l=i;f=o[l+4>>2]|0;d=r;o[d>>2]=o[l>>2];o[d+4>>2]=f;f=i;o[f>>2]=s;o[f+4>>2]=u;if(!(_p[o[n>>2]&31](r,t)|0)){E=m+1|0;h=a;return E|0}u=t;f=o[u>>2]|0;s=o[u+4>>2]|0;u=r;i=o[u+4>>2]|0;d=t;o[d>>2]=o[u>>2];o[d+4>>2]=i;i=r;o[i>>2]=f;o[i+4>>2]=s;if(!(_p[o[n>>2]&31](t,e)|0)){E=m+2|0;h=a;return E|0}n=e;s=o[n>>2]|0;i=o[n+4>>2]|0;n=t;f=o[n+4>>2]|0;r=e;o[r>>2]=o[n>>2];o[r+4>>2]=f;f=t;o[f>>2]=s;o[f+4>>2]=i;E=m+3|0;h=a;return E|0}function zr(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0;i=h;h=h+16|0;n=i;a=e+16|0;s=e+8|0;l=_p[o[r>>2]&31](s,e)|0;u=_p[o[r>>2]&31](a,s)|0;do{if(l){c=e;f=o[c>>2]|0;d=o[c+4>>2]|0;if(u){c=a;p=o[c+4>>2]|0;m=e;o[m>>2]=o[c>>2];o[m+4>>2]=p;p=a;o[p>>2]=f;o[p+4>>2]=d;break}p=s;m=o[p+4>>2]|0;c=e;o[c>>2]=o[p>>2];o[c+4>>2]=m;m=s;o[m>>2]=f;o[m+4>>2]=d;if(_p[o[r>>2]&31](a,s)|0){d=s;m=o[d>>2]|0;f=o[d+4>>2]|0;d=a;c=o[d+4>>2]|0;p=s;o[p>>2]=o[d>>2];o[p+4>>2]=c;c=a;o[c>>2]=m;o[c+4>>2]=f}}else if(u?(f=s,c=o[f>>2]|0,m=o[f+4>>2]|0,f=a,p=o[f+4>>2]|0,d=s,o[d>>2]=o[f>>2],o[d+4>>2]=p,p=a,o[p>>2]=c,o[p+4>>2]=m,_p[o[r>>2]&31](s,e)|0):0){m=e;p=o[m>>2]|0;c=o[m+4>>2]|0;m=s;d=o[m+4>>2]|0;f=e;o[f>>2]=o[m>>2];o[f+4>>2]=d;d=s;o[d>>2]=p;o[d+4>>2]=c}}while(0);s=e+24|0;if((s|0)==(t|0)){h=i;return}else{E=s;v=a}while(1){if(_p[o[r>>2]&31](E,v)|0){a=E;s=o[a+4>>2]|0;u=n;o[u>>2]=o[a>>2];o[u+4>>2]=s;s=E;u=v;while(1){a=u;l=o[a+4>>2]|0;c=s;o[c>>2]=o[a>>2];o[c+4>>2]=l;if((u|0)==(e|0))break;l=u+-8|0;if(_p[o[r>>2]&31](n,l)|0){c=u;u=l;s=c}else break}s=n;c=o[s+4>>2]|0;l=u;o[l>>2]=o[s>>2];o[l+4>>2]=c}c=E+8|0;if((c|0)==(t|0))break;else{l=E;E=c;v=l}}h=i;return}function Gr(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;i=h;h=h+16|0;n=i;switch(t-e>>3|0){case 2:a=t+-8|0;if(!(_p[o[r>>2]&31](a,e)|0)){s=1;h=i;return s|0}l=e;u=o[l>>2]|0;c=o[l+4>>2]|0;l=a;f=o[l+4>>2]|0;d=e;o[d>>2]=o[l>>2];o[d+4>>2]=f;f=a;o[f>>2]=u;o[f+4>>2]=c;s=1;h=i;return s|0;case 4:Ur(e,e+8|0,e+16|0,t+-8|0,r)|0;s=1;h=i;return s|0;case 5:c=e+8|0;f=e+16|0;u=e+24|0;a=t+-8|0;Ur(e,c,f,u,r)|0;if(!(_p[o[r>>2]&31](a,u)|0)){s=1;h=i;return s|0}d=u;l=o[d>>2]|0;p=o[d+4>>2]|0;d=a;m=o[d+4>>2]|0;E=u;o[E>>2]=o[d>>2];o[E+4>>2]=m;m=a;o[m>>2]=l;o[m+4>>2]=p;if(!(_p[o[r>>2]&31](u,f)|0)){s=1;h=i;return s|0}p=f;m=o[p>>2]|0;l=o[p+4>>2]|0;p=u;a=o[p+4>>2]|0;E=f;o[E>>2]=o[p>>2];o[E+4>>2]=a;a=u;o[a>>2]=m;o[a+4>>2]=l;if(!(_p[o[r>>2]&31](f,c)|0)){s=1;h=i;return s|0}l=c;a=o[l>>2]|0;m=o[l+4>>2]|0;l=f;u=o[l+4>>2]|0;E=c;o[E>>2]=o[l>>2];o[E+4>>2]=u;u=f;o[u>>2]=a;o[u+4>>2]=m;if(!(_p[o[r>>2]&31](c,e)|0)){s=1;h=i;return s|0}m=e;u=o[m>>2]|0;a=o[m+4>>2]|0;m=c;f=o[m+4>>2]|0;E=e;o[E>>2]=o[m>>2];o[E+4>>2]=f;f=c;o[f>>2]=u;o[f+4>>2]=a;s=1;h=i;return s|0;case 3:a=e+8|0;f=t+-8|0;u=_p[o[r>>2]&31](a,e)|0;c=_p[o[r>>2]&31](f,a)|0;if(!u){if(!c){s=1;h=i;return s|0}u=a;E=o[u>>2]|0;m=o[u+4>>2]|0;u=f;l=o[u+4>>2]|0;p=a;o[p>>2]=o[u>>2];o[p+4>>2]=l;l=f;o[l>>2]=E;o[l+4>>2]=m;if(!(_p[o[r>>2]&31](a,e)|0)){s=1;h=i;return s|0}m=e;l=o[m>>2]|0;E=o[m+4>>2]|0;m=a;p=o[m+4>>2]|0;u=e;o[u>>2]=o[m>>2];o[u+4>>2]=p;p=a;o[p>>2]=l;o[p+4>>2]=E;s=1;h=i;return s|0}E=e;p=o[E>>2]|0;l=o[E+4>>2]|0;if(c){c=f;E=o[c+4>>2]|0;u=e;o[u>>2]=o[c>>2];o[u+4>>2]=E;E=f;o[E>>2]=p;o[E+4>>2]=l;s=1;h=i;return s|0}E=a;u=o[E+4>>2]|0;c=e;o[c>>2]=o[E>>2];o[c+4>>2]=u;u=a;o[u>>2]=p;o[u+4>>2]=l;if(!(_p[o[r>>2]&31](f,a)|0)){s=1;h=i;return s|0}l=a;u=o[l>>2]|0;p=o[l+4>>2]|0;l=f;c=o[l+4>>2]|0;E=a;o[E>>2]=o[l>>2];o[E+4>>2]=c;c=f;o[c>>2]=u;o[c+4>>2]=p;s=1;h=i;return s|0;case 1:case 0:s=1;h=i;return s|0;default:p=e+16|0;c=e+8|0;u=_p[o[r>>2]&31](c,e)|0;f=_p[o[r>>2]&31](p,c)|0;do{if(u){E=e;l=o[E>>2]|0;a=o[E+4>>2]|0;if(f){E=p;m=o[E+4>>2]|0;d=e;o[d>>2]=o[E>>2];o[d+4>>2]=m;m=p;o[m>>2]=l;o[m+4>>2]=a;break}m=c;d=o[m+4>>2]|0;E=e;o[E>>2]=o[m>>2];o[E+4>>2]=d;d=c;o[d>>2]=l;o[d+4>>2]=a;if(_p[o[r>>2]&31](p,c)|0){a=c;d=o[a>>2]|0;l=o[a+4>>2]|0;a=p;E=o[a+4>>2]|0;m=c;o[m>>2]=o[a>>2];o[m+4>>2]=E;E=p;o[E>>2]=d;o[E+4>>2]=l}}else if(f?(l=c,E=o[l>>2]|0,d=o[l+4>>2]|0,l=p,m=o[l+4>>2]|0,a=c,o[a>>2]=o[l>>2],o[a+4>>2]=m,m=p,o[m>>2]=E,o[m+4>>2]=d,_p[o[r>>2]&31](c,e)|0):0){d=e;m=o[d>>2]|0;E=o[d+4>>2]|0;d=c;a=o[d+4>>2]|0;l=e;o[l>>2]=o[d>>2];o[l+4>>2]=a;a=c;o[a>>2]=m;o[a+4>>2]=E}}while(0);c=e+24|0;if((c|0)==(t|0)){s=1;h=i;return s|0}else{v=0;b=c;y=p}while(1){if(_p[o[r>>2]&31](b,y)|0){p=b;c=o[p+4>>2]|0;f=n;o[f>>2]=o[p>>2];o[f+4>>2]=c;c=b;f=y;while(1){p=f;u=o[p+4>>2]|0;E=c;o[E>>2]=o[p>>2];o[E+4>>2]=u;if((f|0)==(e|0))break;u=f+-8|0;if(_p[o[r>>2]&31](n,u)|0){E=f;f=u;c=E}else break}c=n;E=o[c+4>>2]|0;u=f;o[u>>2]=o[c>>2];o[u+4>>2]=E;E=v+1|0;if((E|0)==8)break;else g=E}else g=v;E=b+8|0;if((E|0)==(t|0)){s=1;_=34;break}else{u=b;v=g;b=E;y=u}}if((_|0)==34){h=i;return s|0}s=(b+8|0)==(t|0);h=i;return s|0}return 0}function Wr(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function jr(e,t){e=e|0;t=t|0;return}function Jr(e,t){e=e|0;t=t|0;return}function Xr(e,t,r){e=e|0;t=t|0;r=r|0;return}function qr(e,t,r){e=e|0;t=t|0;r=r|0;return}function Yr(e,t,r){e=e|0;t=t|0;r=r|0;var i=0;i=h;o[e>>2]=t;o[e+4>>2]=If(t,r<<4)|0;o[e+8>>2]=r;r=e+12|0;o[r+0>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;h=i;return}function Kr(e){e=e|0;var t=0,r=0;t=h;r=o[e+24>>2]|0;if((r|0)!=0)Uf(o[e>>2]|0,r);Uf(o[e>>2]|0,o[e+4>>2]|0);h=t;return}function Zr(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,s=0,l=0;a=e+12|0;s=o[a>>2]|0;o[a>>2]=s+1;a=o[e+4>>2]|0;e=t;t=o[e+4>>2]|0;l=a+(s<<4)|0;o[l>>2]=o[e>>2];o[l+4>>2]=t;o[a+(s<<4)+8>>2]=r;i[a+(s<<4)+12>>0]=n&1;return}function Qr(e,t,r){e=e|0;t=+t;r=+r;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0,Ce=0,Pe=0,Fe=0,De=0,ke=0,Le=0,Be=0,Oe=0,Ne=0,Ie=0,Ve=0,Ue=0,ze=0,Ge=0,We=0,je=0,Je=0,Xe=0,qe=0,Ye=0,Ke=0,Ze=0,Qe=0,$e=0,et=0,tt=0,rt=0,it=0,nt=0,ot=0,at=0,st=0,lt=0,ut=0,ct=0,ht=0,ft=0,dt=0,pt=0,mt=0,Et=0,vt=0,bt=0,yt=0,gt=0,_t=0,Tt=0,wt=0,Rt=0,xt=0,St=0,Mt=0,Ht=0,At=0,Ct=0,Pt=0,Ft=0,Dt=0,kt=0,Lt=0,Bt=0,Ot=0,Nt=0,It=0,Vt=0,Ut=0,zt=0,Gt=0,Wt=0,jt=0,Jt=0,Xt=0,qt=0,Yt=0,Kt=0,Zt=0,Qt=0,$t=0,er=0,tr=0,rr=0,ir=0,nr=0,or=0,ar=0,sr=0,lr=0,ur=0;n=h;a=1/t;s=e+12|0;l=o[s>>2]|0;if((l|0)>0){c=o[e+4>>2]|0;t=3.4028234663852886E38;f=3.4028234663852886E38;d=-3.4028234663852886E38;p=-3.4028234663852886E38;m=0;while(1){if((i[c+(m<<4)+12>>0]|0)==0){E=f;v=t;b=p;y=d}else{g=+u[c+(m<<4)>>2];_=+u[c+(m<<4)+4>>2];E=f<_?f:_;v=t<g?t:g;b=p>_?p:_;y=d>g?d:g}m=m+1|0;if((m|0)>=(l|0)){T=E;w=v;R=b;x=y;break}else{t=v;f=E;d=y;p=b}}}else{T=3.4028234663852886E38;w=3.4028234663852886E38;R=-3.4028234663852886E38;x=-3.4028234663852886E38}b=w-r;w=T-r;l=~~(a*(x+r-b))+1|0;m=e+16|0;o[m>>2]=l;c=~~(a*(R+r-w))+1|0;S=e+20|0;o[S>>2]=c;M=If(o[e>>2]|0,ie(c<<2,l)|0)|0;l=e+24|0;o[l>>2]=M;c=o[m>>2]|0;H=o[S>>2]|0;A=ie(H,c)|0;e:do{if((A|0)>0){C=M;P=0;while(1){o[C+(P<<2)>>2]=0;F=P+1|0;if((F|0)>=(A|0))break e;C=o[l>>2]|0;P=F}}}while(0);A=o[e>>2]|0;M=ie(c<<2,H)|0;H=If(A,M<<4)|0;if((o[s>>2]|0)>0){c=e+4|0;e=0;P=M;C=H;F=0;while(1){D=o[c>>2]|0;k=D+(F<<4)|0;L=D+(F<<4)+4|0;r=a*(+u[k>>2]-b);R=+r;x=+(a*(+u[L>>2]-w));D=k;u[D>>2]=R;u[D+4>>2]=x;D=~~r;B=~~+u[L>>2];if(((B|D|0)>-1?(L=o[m>>2]|0,(D|0)<(L|0)):0)?(B|0)<(o[S>>2]|0):0){O=(ie(L,B)|0)+D|0;if((e|0)<(P|0)){N=P;I=C}else{if((e|0)>0){L=0;do{L=L+1|0}while((L|0)!=(e|0))}L=(P|0)>0?P<<1:1;N=L;I=Vf(A,C,L<<4)|0}o[I+(e<<4)>>2]=D;o[I+(e<<4)+4>>2]=B;o[I+(e<<4)+8>>2]=O;o[I+(e<<4)+12>>2]=k;V=N;U=e+1|0;z=I}else{V=P;U=e;z=C}F=F+1|0;if((F|0)>=(o[s>>2]|0)){G=V;W=U;j=0;J=z;break}else{e=U;P=V;C=z}}}else{G=M;W=0;j=0;J=H}e:while(1){H=j;do{if((H|0)==(W|0))break e;X=o[J+(H<<4)>>2]|0;q=o[J+(H<<4)+4>>2]|0;Y=o[J+(H<<4)+8>>2]|0;K=o[J+(H<<4)+12>>2]|0;H=H+1|0;Z=(o[l>>2]|0)+(Y<<2)|0}while((o[Z>>2]|0)!=0);o[Z>>2]=K;if((X|0)>0){k=X+-1|0;O=Y+-1|0;if((W|0)>=(G|0)){if((H|0)<(W|0)){B=H;do{D=J+(B-H<<4)|0;M=J+(B<<4)|0;o[D+0>>2]=o[M+0>>2];o[D+4>>2]=o[M+4>>2];o[D+8>>2]=o[M+8>>2];o[D+12>>2]=o[M+12>>2];B=B+1|0}while((B|0)!=(W|0))}B=W-H|0;if((B|0)<(G|0)){Q=J;$=B;ee=G;te=0}else{M=(G|0)>0?G<<1:1;Q=Vf(A,J,M<<4)|0;$=B;ee=M;te=0}}else{Q=J;$=W;ee=G;te=H}o[Q+($<<4)>>2]=k;o[Q+($<<4)+4>>2]=q;o[Q+($<<4)+8>>2]=O;o[Q+($<<4)+12>>2]=K;re=$+1|0;ne=ee;oe=te;ae=Q}else{re=W;ne=G;oe=H;ae=J}if((q|0)>0){M=q+-1|0;B=Y-(o[m>>2]|0)|0;if((re|0)>=(ne|0)){if((oe|0)<(re|0)){D=oe;do{z=ae+(D-oe<<4)|0;C=ae+(D<<4)|0;o[z+0>>2]=o[C+0>>2];o[z+4>>2]=o[C+4>>2];o[z+8>>2]=o[C+8>>2];o[z+12>>2]=o[C+12>>2];D=D+1|0}while((D|0)!=(re|0))}D=re-oe|0;if((D|0)<(ne|0)){se=ae;le=D;ue=ne;ce=0}else{H=(ne|0)>0?ne<<1:1;se=Vf(A,ae,H<<4)|0;le=D;ue=H;ce=0}}else{se=ae;le=re;ue=ne;ce=oe}o[se+(le<<4)>>2]=X;o[se+(le<<4)+4>>2]=M;o[se+(le<<4)+8>>2]=B;o[se+(le<<4)+12>>2]=K;he=le+1|0;fe=ue;de=ce;pe=se}else{he=re;fe=ne;de=oe;pe=ae}if((X|0)<((o[m>>2]|0)+-1|0)){H=X+1|0;D=Y+1|0;if((he|0)>=(fe|0)){if((de|0)<(he|0)){O=de;do{k=pe+(O-de<<4)|0;C=pe+(O<<4)|0;o[k+0>>2]=o[C+0>>2];o[k+4>>2]=o[C+4>>2];o[k+8>>2]=o[C+8>>2];o[k+12>>2]=o[C+12>>2];O=O+1|0}while((O|0)!=(he|0))}O=he-de|0;if((O|0)<(fe|0)){me=pe;Ee=O;ve=fe;be=0}else{B=(fe|0)>0?fe<<1:1;me=Vf(A,pe,B<<4)|0;Ee=O;ve=B;be=0}}else{me=pe;Ee=he;ve=fe;be=de}o[me+(Ee<<4)>>2]=H;o[me+(Ee<<4)+4>>2]=q;o[me+(Ee<<4)+8>>2]=D;o[me+(Ee<<4)+12>>2]=K;ye=Ee+1|0;ge=ve;_e=be;Te=me}else{ye=he;ge=fe;_e=de;Te=pe}if((q|0)>=((o[S>>2]|0)+-1|0)){G=ge;W=ye;j=_e;J=Te;continue}B=q+1|0;O=(o[m>>2]|0)+Y|0;if((ye|0)>=(ge|0)){if((_e|0)<(ye|0)){M=_e;do{C=Te+(M-_e<<4)|0;k=Te+(M<<4)|0;o[C+0>>2]=o[k+0>>2];o[C+4>>2]=o[k+4>>2];o[C+8>>2]=o[k+8>>2];o[C+12>>2]=o[k+12>>2];M=M+1|0}while((M|0)!=(ye|0))}M=ye-_e|0;if((M|0)<(ge|0)){we=Te;Re=M;xe=ge;Se=0}else{D=(ge|0)>0?ge<<1:1;we=Vf(A,Te,D<<4)|0;Re=M;xe=D;Se=0}}else{we=Te;Re=ye;xe=ge;Se=_e}o[we+(Re<<4)>>2]=X;o[we+(Re<<4)+4>>2]=B;o[we+(Re<<4)+8>>2]=O;o[we+(Re<<4)+12>>2]=K;G=xe;W=Re+1|0;j=Se;J=we}we=o[S>>2]|0;if((we|0)>0){Se=o[m>>2]|0;j=we;Re=J;xe=W;K=W;X=G;_e=0;while(1){if((Se+-1|0)>0){ge=Se;ye=K;Te=X;Y=xe;q=Re;pe=0;while(1){de=(ie(ge,_e)|0)+pe|0;fe=o[l>>2]|0;he=o[fe+(de<<2)>>2]|0;me=de+1|0;be=o[fe+(me<<2)>>2]|0;if((he|0)==(be|0)){Me=pe+1|0;He=ge;Ae=Te;Ce=ye;Pe=Y;Fe=q}else{if((ye|0)>=(Te|0)){if((Y|0)<(ye|0)){fe=Y;do{ve=q+(fe-Y<<4)|0;Ee=q+(fe<<4)|0;o[ve+0>>2]=o[Ee+0>>2];o[ve+4>>2]=o[Ee+4>>2];o[ve+8>>2]=o[Ee+8>>2];o[ve+12>>2]=o[Ee+12>>2];fe=fe+1|0}while((fe|0)!=(ye|0))}fe=ye-Y|0;if((fe|0)<(Te|0)){De=q;ke=fe;Le=Te;Be=0}else{Ee=(Te|0)>0?Te<<1:1;De=Vf(A,q,Ee<<4)|0;ke=fe;Le=Ee;Be=0}}else{De=q;ke=ye;Le=Te;Be=Y}o[De+(ke<<4)>>2]=pe;o[De+(ke<<4)+4>>2]=_e;o[De+(ke<<4)+8>>2]=de;o[De+(ke<<4)+12>>2]=be;Ee=ke+1|0;fe=pe+1|0;if((Ee|0)>=(Le|0)){if((Be|0)<(Ee|0)){ve=Be;do{ae=De+(ve-Be<<4)|0;oe=De+(ve<<4)|0;o[ae+0>>2]=o[oe+0>>2];o[ae+4>>2]=o[oe+4>>2];o[ae+8>>2]=o[oe+8>>2];o[ae+12>>2]=o[oe+12>>2];ve=ve+1|0}while((ve|0)!=(Ee|0))}ve=Ee-Be|0;if((ve|0)<(Le|0)){Oe=De;Ne=ve;Ie=Le;Ve=0}else{be=(Le|0)>0?Le<<1:1;Oe=Vf(A,De,be<<4)|0;Ne=ve;Ie=be;Ve=0}}else{Oe=De;Ne=Ee;Ie=Le;Ve=Be}o[Oe+(Ne<<4)>>2]=fe;o[Oe+(Ne<<4)+4>>2]=_e;o[Oe+(Ne<<4)+8>>2]=me;o[Oe+(Ne<<4)+12>>2]=he;Me=fe;He=o[m>>2]|0;Ae=Ie;Ce=Ne+1|0;Pe=Ve;Fe=Oe}if((Me|0)<(He+-1|0)){ge=He;ye=Ce;Te=Ae;Y=Pe;q=Fe;pe=Me}else break}Ue=Ae;ze=Ce;Ge=Pe;We=Fe;je=o[S>>2]|0;Je=He}else{Ue=X;ze=K;Ge=xe;We=Re;je=j;Je=Se}_e=_e+1|0;if((_e|0)>=(je|0)){Xe=Ue;qe=ze;Ye=Ge;Ke=We;Ze=je;break}else{Se=Je;j=je;Re=We;xe=Ge;K=ze;X=Ue}}}else{Xe=G;qe=W;Ye=W;Ke=J;Ze=we}if((Ze+-1|0)>0){we=o[m>>2]|0;J=Ze;Ze=Ke;W=Ye;G=qe;Ue=Xe;X=0;while(1){ze=X;X=X+1|0;if((we|0)>0){K=we;Ge=G;xe=Ue;We=W;Re=Ze;je=0;while(1){j=(ie(K,ze)|0)+je|0;Je=o[l>>2]|0;Se=o[Je+(j<<2)>>2]|0;_e=o[Je+(j+K<<2)>>2]|0;if((Se|0)==(_e|0)){Qe=K;$e=xe;et=Ge;tt=We;rt=Re}else{if((Ge|0)>=(xe|0)){if((We|0)<(Ge|0)){Je=We;do{He=Re+(Je-We<<4)|0;Fe=Re+(Je<<4)|0;o[He+0>>2]=o[Fe+0>>2];o[He+4>>2]=o[Fe+4>>2];o[He+8>>2]=o[Fe+8>>2];o[He+12>>2]=o[Fe+12>>2];Je=Je+1|0}while((Je|0)!=(Ge|0))}Je=Ge-We|0;if((Je|0)<(xe|0)){it=Re;nt=Je;ot=xe;at=0}else{fe=(xe|0)>0?xe<<1:1;it=Vf(A,Re,fe<<4)|0;nt=Je;ot=fe;at=0}}else{it=Re;nt=Ge;ot=xe;at=We}o[it+(nt<<4)>>2]=je;o[it+(nt<<4)+4>>2]=ze;o[it+(nt<<4)+8>>2]=j;o[it+(nt<<4)+12>>2]=_e;fe=nt+1|0;Je=(o[m>>2]|0)+j|0;if((fe|0)>=(ot|0)){if((at|0)<(fe|0)){he=at;do{me=it+(he-at<<4)|0;Ee=it+(he<<4)|0;o[me+0>>2]=o[Ee+0>>2];o[me+4>>2]=o[Ee+4>>2];o[me+8>>2]=o[Ee+8>>2];o[me+12>>2]=o[Ee+12>>2];he=he+1|0}while((he|0)!=(fe|0))}he=fe-at|0;if((he|0)<(ot|0)){st=it;lt=he;ut=ot;ct=0}else{j=(ot|0)>0?ot<<1:1;st=Vf(A,it,j<<4)|0;lt=he;ut=j;ct=0}}else{st=it;lt=fe;ut=ot;ct=at}o[st+(lt<<4)>>2]=je;o[st+(lt<<4)+4>>2]=X;o[st+(lt<<4)+8>>2]=Je;o[st+(lt<<4)+12>>2]=Se;Qe=o[m>>2]|0;$e=ut;et=lt+1|0;tt=ct;rt=st}je=je+1|0;if((je|0)>=(Qe|0))break;else{K=Qe;Ge=et;xe=$e;We=tt;Re=rt}}ht=$e;ft=et;dt=tt;pt=rt;mt=o[S>>2]|0;Et=Qe}else{ht=Ue;ft=G;dt=W;pt=Ze;mt=J;Et=we}if((X|0)>=(mt+-1|0)){vt=ht;bt=ft;yt=dt;gt=pt;break}else{we=Et;J=mt;Ze=pt;W=dt;G=ft;Ue=ht}}}else{vt=Xe;bt=qe;yt=Ye;gt=Ke}if((yt|0)==(bt|0)){_t=gt;Uf(A,_t);h=n;return}else{Tt=vt;wt=bt;Rt=yt;xt=gt}e:while(1){gt=o[l>>2]|0;yt=Rt;while(1){St=o[xt+(yt<<4)>>2]|0;Mt=o[xt+(yt<<4)+4>>2]|0;Ht=o[xt+(yt<<4)+8>>2]|0;At=o[xt+(yt<<4)+12>>2]|0;yt=yt+1|0;Ct=gt+(Ht<<2)|0;bt=o[Ct>>2]|0;if((bt|0)!=(At|0)?(w=+(St|0),a=+u[bt>>2]-w,b=+(Mt|0),r=+u[bt+4>>2]-b,x=+u[At>>2]-w,w=+u[At+4>>2]-b,a*a+r*r>x*x+w*w):0)break;if((yt|0)==(wt|0)){_t=xt;Pt=122;break e}}o[Ct>>2]=At;if((St|0)>0){gt=St+-1|0;bt=Ht+-1|0;if((wt|0)>=(Tt|0)){if((yt|0)<(wt|0)){vt=yt;do{Ke=xt+(vt-yt<<4)|0;Ye=xt+(vt<<4)|0;o[Ke+0>>2]=o[Ye+0>>2];o[Ke+4>>2]=o[Ye+4>>2];o[Ke+8>>2]=o[Ye+8>>2];o[Ke+12>>2]=o[Ye+12>>2];vt=vt+1|0}while((vt|0)!=(wt|0))}vt=wt-yt|0;if((vt|0)<(Tt|0)){Ft=xt;Dt=vt;kt=Tt;Lt=0}else{Ye=(Tt|0)>0?Tt<<1:1;Ft=Vf(A,xt,Ye<<4)|0;Dt=vt;kt=Ye;Lt=0}}else{Ft=xt;Dt=wt;kt=Tt;Lt=yt}o[Ft+(Dt<<4)>>2]=gt;o[Ft+(Dt<<4)+4>>2]=Mt;o[Ft+(Dt<<4)+8>>2]=bt;o[Ft+(Dt<<4)+12>>2]=At;Bt=Dt+1|0;Ot=kt;Nt=Lt;It=Ft}else{Bt=wt;Ot=Tt;Nt=yt;It=xt}if((Mt|0)>0){Ye=Mt+-1|0;vt=Ht-(o[m>>2]|0)|0;if((Bt|0)>=(Ot|0)){if((Nt|0)<(Bt|0)){Ke=Nt;do{qe=It+(Ke-Nt<<4)|0;Xe=It+(Ke<<4)|0;o[qe+0>>2]=o[Xe+0>>2];o[qe+4>>2]=o[Xe+4>>2];o[qe+8>>2]=o[Xe+8>>2];o[qe+12>>2]=o[Xe+12>>2];Ke=Ke+1|0}while((Ke|0)!=(Bt|0))}Ke=Bt-Nt|0;if((Ke|0)<(Ot|0)){Vt=It;Ut=Ke;zt=Ot;Gt=0}else{yt=(Ot|0)>0?Ot<<1:1;Vt=Vf(A,It,yt<<4)|0;Ut=Ke;zt=yt;Gt=0}}else{Vt=It;Ut=Bt;zt=Ot;Gt=Nt}o[Vt+(Ut<<4)>>2]=St;o[Vt+(Ut<<4)+4>>2]=Ye;o[Vt+(Ut<<4)+8>>2]=vt;o[Vt+(Ut<<4)+12>>2]=At;Wt=Ut+1|0;jt=zt;Jt=Gt;Xt=Vt}else{Wt=Bt;jt=Ot;Jt=Nt;Xt=It}if((St|0)<((o[m>>2]|0)+-1|0)){yt=St+1|0;Ke=Ht+1|0;if((Wt|0)>=(jt|0)){if((Jt|0)<(Wt|0)){bt=Jt;do{gt=Xt+(bt-Jt<<4)|0;Xe=Xt+(bt<<4)|0;o[gt+0>>2]=o[Xe+0>>2];o[gt+4>>2]=o[Xe+4>>2];o[gt+8>>2]=o[Xe+8>>2];o[gt+12>>2]=o[Xe+12>>2];bt=bt+1|0}while((bt|0)!=(Wt|0))}bt=Wt-Jt|0;if((bt|0)<(jt|0)){qt=Xt;Yt=bt;Kt=jt;Zt=0}else{vt=(jt|0)>0?jt<<1:1;qt=Vf(A,Xt,vt<<4)|0;Yt=bt;Kt=vt;Zt=0}}else{qt=Xt;Yt=Wt;Kt=jt;Zt=Jt}o[qt+(Yt<<4)>>2]=yt;o[qt+(Yt<<4)+4>>2]=Mt;o[qt+(Yt<<4)+8>>2]=Ke;o[qt+(Yt<<4)+12>>2]=At;Qt=Yt+1|0;$t=Kt;er=Zt;tr=qt}else{Qt=Wt;$t=jt;er=Jt;tr=Xt}if((Mt|0)<((o[S>>2]|0)+-1|0)){vt=Mt+1|0;bt=(o[m>>2]|0)+Ht|0;if((Qt|0)>=($t|0)){if((er|0)<(Qt|0)){Ye=er;do{Xe=tr+(Ye-er<<4)|0;gt=tr+(Ye<<4)|0;o[Xe+0>>2]=o[gt+0>>2];o[Xe+4>>2]=o[gt+4>>2];o[Xe+8>>2]=o[gt+8>>2];o[Xe+12>>2]=o[gt+12>>2];Ye=Ye+1|0}while((Ye|0)!=(Qt|0))}Ye=Qt-er|0;if((Ye|0)<($t|0)){rr=tr;ir=Ye;nr=$t;or=0}else{Ke=($t|0)>0?$t<<1:1;rr=Vf(A,tr,Ke<<4)|0;ir=Ye;nr=Ke;or=0}}else{rr=tr;ir=Qt;nr=$t;or=er}o[rr+(ir<<4)>>2]=St;o[rr+(ir<<4)+4>>2]=vt;o[rr+(ir<<4)+8>>2]=bt;o[rr+(ir<<4)+12>>2]=At;ar=nr;sr=ir+1|0;lr=or;ur=rr}else{ar=$t;sr=Qt;lr=er;ur=tr}if((lr|0)==(sr|0)){_t=ur;Pt=122;break}else{Tt=ar;wt=sr;Rt=lr;xt=ur}}if((Pt|0)==122){Uf(A,_t);h=n;return}}function $r(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0;r=h;n=e+20|0;a=o[n>>2]|0;if((a+-1|0)<=0){h=r;return}s=e+16|0;l=e+24|0;e=o[s>>2]|0;u=a;a=0;while(1){if((e+-1|0)>0){c=e;f=0;do{d=(ie(c,a)|0)+f|0;p=o[l>>2]|0;m=o[p+(d<<2)>>2]|0;E=d+1|0;v=o[p+(E<<2)>>2]|0;b=o[p+(d+c<<2)>>2]|0;d=o[p+(E+c<<2)>>2]|0;do{if((v|0)!=(b|0)){do{if(!((m|0)==(v|0)|(m|0)==(b|0))){if(((i[m+12>>0]|0)==0?(i[v+12>>0]|0)==0:0)?(i[b+12>>0]|0)==0:0)break;wp[o[(o[t>>2]|0)+8>>2]&31](t,o[m+8>>2]|0,o[v+8>>2]|0,o[b+8>>2]|0)}}while(0);if(!((d|0)==(v|0)|(d|0)==(b|0))){if(((i[v+12>>0]|0)==0?(i[d+12>>0]|0)==0:0)?(i[b+12>>0]|0)==0:0)break;wp[o[(o[t>>2]|0)+8>>2]&31](t,o[v+8>>2]|0,o[d+8>>2]|0,o[b+8>>2]|0)}}}while(0);f=f+1|0;c=o[s>>2]|0}while((f|0)<(c+-1|0));y=o[n>>2]|0;g=c}else{y=u;g=e}a=a+1|0;if((a|0)>=(y+-1|0))break;else{e=g;u=y}}h=r;return}function ei(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0;t=h;r=e+40|0;i=e+48|0;n=e+16|0;o[e+0>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;u[n>>2]=1;o[e+20>>2]=0;o[e+24>>2]=0;o[e+28>>2]=-1;u[e+32>>2]=0;u[e+36>>2]=0;n=8784;a=o[n+4>>2]|0;s=r;o[s>>2]=o[n>>2];o[s+4>>2]=a;a=8784;s=o[a+4>>2]|0;n=i;o[n>>2]=o[a>>2];o[n+4>>2]=s;s=e+56|0;n=e+72|0;o[s+0>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;u[n>>2]=1;o[e+76>>2]=0;h=t;return}function ti(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0;t=h;r=e+28|0;i=o[e>>2]|0;n=o[i+4>>2]|0;if((o[r>>2]|0)==(n|0)){h=t;return}a=+u[i+32>>2]*.75;s=a*+u[i+320>>2]*a;l=e+32|0;u[l>>2]=0;c=e+40|0;f=e+44|0;d=e+48|0;p=e+52|0;m=e+4|0;o[c+0>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;E=o[m>>2]|0;m=o[e+8>>2]|0;v=(E|0)<(m|0);if(v){b=o[i+96>>2]|0;y=o[i+104>>2]|0;a=0;g=0;_=0;T=0;w=0;R=E;do{a=s+a;u[l>>2]=a;x=s*+u[b+(R<<3)+4>>2];g=s*+u[b+(R<<3)>>2]+g;u[c>>2]=g;_=x+_;u[f>>2]=_;x=s*+u[y+(R<<3)+4>>2];T=s*+u[y+(R<<3)>>2]+T;u[d>>2]=T;w=x+w;u[p>>2]=w;R=R+1|0}while((R|0)<(m|0));if(a>0){x=1/a;S=x*g;u[c>>2]=S;M=x*_;u[f>>2]=M;x=1/a;a=x*T;u[d>>2]=a;H=x*w;u[p>>2]=H;A=S;C=M;P=a;F=H}else{A=g;C=_;P=T;F=w}p=e+36|0;u[p>>2]=0;d=e+56|0;u[d>>2]=0;if(v){v=o[i+96>>2]|0;f=o[i+104>>2]|0;w=0;T=0;i=E;do{_=+u[v+(i<<3)>>2]-A;g=+u[v+(i<<3)+4>>2]-C;H=+u[f+(i<<3)>>2]-P;a=+u[f+(i<<3)+4>>2]-F;w=s*(_*_+g*g)+w;u[p>>2]=w;T=T+s*(_*a-g*H);u[d>>2]=T;i=i+1|0}while((i|0)<(m|0));if(w>0)u[d>>2]=1/w*T}}else{u[e+36>>2]=0;u[e+56>>2]=0}o[r>>2]=n;h=t;return}function ri(e,t){e=e|0;t=t|0;var r=0;r=h;vt(o[e>>2]|0,o[e+4>>2]|0,o[e+8>>2]|0,t);h=r;return}function ii(e,t){e=e|0;t=t|0;var r=0;r=h;bt(o[e>>2]|0,o[e+4>>2]|0,o[e+8>>2]|0,t);h=r;return}function ni(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=h;i=o[e>>2]|0;if((o[(o[i+400>>2]|0)+102876>>2]&2|0)!=0){h=r;return}n=o[e+4>>2]|0;a=e+8|0;if((n|0)<(o[a>>2]|0)){s=i;l=n}else{h=r;return}while(1){mi(s,l,t);n=l+1|0;if((n|0)>=(o[a>>2]|0))break;s=o[e>>2]|0;l=n}h=r;return}function oi(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0;n=h;a=e+52|0;o[e+56>>2]=a;o[a>>2]=a;o[e+60>>2]=256;a=e+64|0;o[e+68>>2]=a;o[a>>2]=a;a=e+72|0;o[e+76>>2]=a;o[a>>2]=a;a=e+80|0;o[e+136>>2]=0;o[e+140>>2]=0;o[e+148>>2]=0;o[e+152>>2]=0;s=e+160|0;l=e+196|0;o[a+0>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[a+16>>2]=0;o[a+20>>2]=0;o[a+24>>2]=0;o[a+28>>2]=0;a=s+0|0;s=a+36|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(s|0));o[l>>2]=r;o[e+200>>2]=0;o[e+204>>2]=0;o[e+208>>2]=0;o[e+212>>2]=r;o[e+216>>2]=0;o[e+220>>2]=0;o[e+224>>2]=0;o[e+228>>2]=r;o[e+232>>2]=0;o[e+236>>2]=0;o[e+240>>2]=0;o[e+244>>2]=r;o[e+248>>2]=0;o[e+252>>2]=0;o[e+256>>2]=0;o[e+260>>2]=r;o[e+264>>2]=0;o[e+268>>2]=0;o[e+272>>2]=0;o[e+276>>2]=r;l=e+280|0;c=e+316|0;i[c>>0]=0;f=e+320|0;o[l+0>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;u[f>>2]=1;d=e+324|0;u[d>>2]=1;u[e+328>>2]=1;p=e+332|0;o[p>>2]=0;u[e+336>>2]=.05000000074505806;u[e+340>>2]=1;u[e+344>>2]=.25;u[e+348>>2]=.25;u[e+352>>2]=.25;u[e+356>>2]=.20000000298023224;u[e+360>>2]=.20000000298023224;u[e+364>>2]=1;u[e+368>>2]=.5;u[e+372>>2]=.5;u[e+376>>2]=.20000000298023224;u[e+380>>2]=.20000000298023224;o[e+384>>2]=8;u[e+388>>2]=.5;m=e+392|0;i[m>>0]=1;u[e+396>>2]=.01666666753590107;i[e>>0]=0;o[e+4>>2]=0;o[e+8>>2]=0;i[e+12>>0]=0;o[e+16>>2]=0;i[e+20>>0]=0;i[e+21>>0]=0;o[e+24>>2]=0;i[c>>0]=i[t>>0]|0;E=+u[t+4>>2];u[f>>2]=E;u[e+28>>2]=1/E;u[d>>2]=+u[t+8>>2];E=+u[t+12>>2]*2;u[e+32>>2]=E;u[e+40>>2]=E*E;u[e+36>>2]=1/E;o[p>>2]=o[t+16>>2];o[e+44>>2]=0;p=e+48|0;o[p>>2]=0;d=e+112|0;o[e+144>>2]=0;o[e+308>>2]=0;o[e+312>>2]=0;o[d+0>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d+16>>2]=0;o[d+20>>2]=0;a=c+0|0;c=t+0|0;s=a+84|0;do{o[a>>2]=o[c>>2];a=a+4|0;c=c+4|0}while((a|0)<(s|0));c=e+400|0;o[c>>2]=r;o[e+156>>2]=0;r=e+296|0;o[r>>2]=0;o[r+4>>2]=0;i[e+304>>0]=0;r=i[m>>0]|0;if(r<<24>>24==0){i[m>>0]=r;h=n;return}a=o[l>>2]|0;if((a|0)==0){ui(e,256);e=yf(o[c>>2]|0,o[p>>2]<<2)|0;hd(e|0,0,o[p>>2]<<2|0)|0;v=e}else v=a;o[l>>2]=v;i[m>>0]=r;h=n;return}function ai(e){e=e|0;var t=0,r=0,i=0,n=0,a=0;t=h;r=e+312|0;while(1){i=o[r>>2]|0;if((i|0)==0)break;si(e,i)}if((o[e+84>>2]|0)==0?(r=e+80|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[r>>2]=0}if((o[e+92>>2]|0)==0?(r=e+88|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[r>>2]=0}if((o[e+164>>2]|0)==0?(r=e+160|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[r>>2]=0}if((o[e+172>>2]|0)==0?(r=e+168|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[r>>2]=0}if((o[e+180>>2]|0)==0?(r=e+176|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[r>>2]=0}if((o[e+100>>2]|0)==0?(r=e+96|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<3);o[r>>2]=0}if((o[e+108>>2]|0)==0?(r=e+104|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<3);o[r>>2]=0}if((o[e+140>>2]|0)==0?(r=e+136|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[r>>2]=0}if((o[e+152>>2]|0)==0?(r=e+148|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[r>>2]=0}if((o[e+284>>2]|0)==0?(r=e+280|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[r>>2]=0}if((o[e+292>>2]|0)==0?(r=e+288|0,i=o[r>>2]|0,(i|0)!=0):0){gf(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[r>>2]=0}r=e+112|0;i=e+48|0;n=o[r>>2]|0;if((n|0)!=0){gf(o[e+400>>2]|0,n,o[i>>2]<<3);o[r>>2]=0}r=e+116|0;n=o[r>>2]|0;if((n|0)!=0){gf(o[e+400>>2]|0,n,o[i>>2]<<2);o[r>>2]=0}r=e+120|0;n=o[r>>2]|0;if((n|0)!=0){gf(o[e+400>>2]|0,n,o[i>>2]<<2);o[r>>2]=0}r=e+124|0;n=o[r>>2]|0;if((n|0)!=0){gf(o[e+400>>2]|0,n,o[i>>2]<<2);o[r>>2]=0}r=e+128|0;n=o[r>>2]|0;if((n|0)!=0){gf(o[e+400>>2]|0,n,o[i>>2]<<3);o[r>>2]=0}r=e+132|0;n=o[r>>2]|0;if((n|0)!=0){gf(o[e+400>>2]|0,n,o[i>>2]<<2);o[r>>2]=0}r=e+144|0;n=o[r>>2]|0;if((n|0)!=0){gf(o[e+400>>2]|0,n,o[i>>2]<<2);o[r>>2]=0}r=e+264|0;i=o[r>>2]|0;if((i|0)!=0){n=e+272|0;gf(o[e+276>>2]|0,i,(o[n>>2]|0)*60|0);o[r>>2]=0;o[n>>2]=0;o[e+268>>2]=0}n=e+248|0;r=o[n>>2]|0;if((r|0)!=0){i=e+256|0;gf(o[e+260>>2]|0,r,(o[i>>2]|0)*20|0);o[n>>2]=0;o[i>>2]=0;o[e+252>>2]=0}i=e+232|0;n=o[i>>2]|0;if((n|0)!=0){r=e+240|0;gf(o[e+244>>2]|0,n,(o[r>>2]|0)*28|0);o[i>>2]=0;o[r>>2]=0;o[e+236>>2]=0}r=e+216|0;i=o[r>>2]|0;if((i|0)!=0){n=e+224|0;gf(o[e+228>>2]|0,i,(o[n>>2]|0)*24|0);o[r>>2]=0;o[n>>2]=0;o[e+220>>2]=0}n=e+200|0;r=o[n>>2]|0;if((r|0)!=0){i=e+208|0;gf(o[e+212>>2]|0,r,o[i>>2]<<3);o[n>>2]=0;o[i>>2]=0;o[e+204>>2]=0}i=e+184|0;n=o[i>>2]|0;if((n|0)==0){a=e+52|0;Yt(a);h=t;return}r=e+192|0;gf(o[e+196>>2]|0,n,o[r>>2]<<2);o[i>>2]=0;o[r>>2]=0;o[e+188>>2]=0;a=e+52|0;Yt(a);h=t;return}function si(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0;r=h;n=e+400|0;a=o[(o[n>>2]|0)+102992>>2]|0;if((a|0)!=0)pp[o[(o[a>>2]|0)+16>>2]&63](a,t);a=t+12|0;s=o[a>>2]|0;l=s<<4;u=l&16;if((((l|-17)^16)&s|0)!=0)i[e+20>>0]=1;s=e+16|0;l=o[s>>2]|0;if((u&~l|0)!=0)o[s>>2]=l|u;o[a>>2]=u;u=o[t+4>>2]|0;a=o[t+8>>2]|0;if((u|0)<(a|0)){l=e+144|0;s=u;do{o[(o[l>>2]|0)+(s<<2)>>2]=0;s=s+1|0}while((s|0)<(a|0))}a=t+20|0;s=o[a>>2]|0;l=t+24|0;if((s|0)!=0)o[s+24>>2]=o[l>>2];s=o[l>>2]|0;if((s|0)!=0)o[s+20>>2]=o[a>>2];a=e+312|0;if((o[a>>2]|0)!=(t|0)){c=e+308|0;f=o[c>>2]|0;d=f+-1|0;o[c>>2]=d;p=o[n>>2]|0;gf(p,t,80);h=r;return}o[a>>2]=o[l>>2];c=e+308|0;f=o[c>>2]|0;d=f+-1|0;o[c>>2]=d;p=o[n>>2]|0;gf(p,t,80);h=r;return}function li(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0;t=h;r=e+136|0;i=o[r>>2]|0;if((i|0)!=0){n=i;o[r>>2]=n;h=t;return n|0}i=e+48|0;a=o[i>>2]|0;if((a|0)==0){ui(e,256);s=o[i>>2]|0}else s=a;a=yf(o[e+400>>2]|0,s<<2)|0;hd(a|0,0,o[i>>2]<<2|0)|0;n=a;o[r>>2]=n;h=t;return n|0}function ui(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0;r=h;i=o[e+332>>2]|0;if((i|0)==0)n=t;else n=(i|0)<(t|0)?i:t;t=e+92|0;i=o[t>>2]|0;if((i|0)==0)a=n;else a=(n|0)>(i|0)?i:n;n=e+100|0;i=o[n>>2]|0;if((i|0)==0)s=a;else s=(a|0)>(i|0)?i:a;a=e+108|0;i=o[a>>2]|0;if((i|0)==0)l=s;else l=(s|0)>(i|0)?i:s;s=e+140|0;i=o[s>>2]|0;if((i|0)==0)u=l;else u=(l|0)>(i|0)?i:l;l=e+152|0;i=o[l>>2]|0;if((i|0)==0)c=u;else c=(u|0)>(i|0)?i:u;u=e+48|0;i=o[u>>2]|0;if((i|0)>=(c|0)){h=r;return}f=e+80|0;d=o[f>>2]|0;p=(d|0)==0;if((o[e+84>>2]|0)==0&(p^1)){m=e+400|0;E=yf(o[m>>2]|0,c<<2)|0;if(p)v=E;else{p=i<<2;pd(E|0,d|0,p|0)|0;gf(o[m>>2]|0,d,p);v=E}}else v=d;o[f>>2]=v;v=o[u>>2]|0;o[e+60>>2]=c-v;f=e+88|0;d=o[f>>2]|0;if((o[t>>2]|0)==0){t=e+400|0;E=yf(o[t>>2]|0,c<<2)|0;if((d|0)==0)b=E;else{p=v<<2;pd(E|0,d|0,p|0)|0;gf(o[t>>2]|0,d,p);b=E}}else b=d;o[f>>2]=b;b=(o[e+156>>2]|0)>0;f=o[u>>2]|0;d=e+160|0;E=o[d>>2]|0;p=(E|0)==0;if((o[e+164>>2]|0)==0&(p&b^1)){t=e+400|0;v=yf(o[t>>2]|0,c<<2)|0;if(p)y=v;else{p=f<<2;pd(v|0,E|0,p|0)|0;gf(o[t>>2]|0,E,p);y=v}}else y=E;o[d>>2]=y;y=o[u>>2]|0;d=e+168|0;E=o[d>>2]|0;v=(E|0)==0;if((o[e+172>>2]|0)==0&(v&b^1)){p=e+400|0;t=yf(o[p>>2]|0,c<<2)|0;if(v)g=t;else{v=y<<2;pd(t|0,E|0,v|0)|0;gf(o[p>>2]|0,E,v);g=t}}else g=E;o[d>>2]=g;g=o[u>>2]|0;d=e+176|0;E=o[d>>2]|0;t=(E|0)==0;if((o[e+180>>2]|0)==0&(t&b^1)){b=e+400|0;v=yf(o[b>>2]|0,c<<2)|0;if(t)_=v;else{t=g<<2;pd(v|0,E|0,t|0)|0;gf(o[b>>2]|0,E,t);_=v}}else _=E;o[d>>2]=_;_=o[u>>2]|0;d=e+96|0;E=o[d>>2]|0;if((o[n>>2]|0)==0){n=e+400|0;v=yf(o[n>>2]|0,c<<3)|0;if((E|0)==0)T=v;else{t=_<<3;pd(v|0,E|0,t|0)|0;gf(o[n>>2]|0,E,t);T=v}}else T=E;o[d>>2]=T;T=o[u>>2]|0;d=e+104|0;E=o[d>>2]|0;if((o[a>>2]|0)==0){a=e+400|0;v=c<<3;t=yf(o[a>>2]|0,v)|0;if((E|0)==0){w=t;R=v;x=a}else{n=T<<3;pd(t|0,E|0,n|0)|0;gf(o[a>>2]|0,E,n);w=t;R=v;x=a}}else{w=E;R=c<<3;x=e+400|0}o[d>>2]=w;w=e+112|0;d=o[w>>2]|0;E=o[u>>2]|0;a=yf(o[x>>2]|0,R)|0;if((d|0)!=0){v=E<<3;pd(a|0,d|0,v|0)|0;gf(o[x>>2]|0,d,v)}o[w>>2]=a;a=e+116|0;w=o[a>>2]|0;v=o[u>>2]|0;d=c<<2;E=yf(o[x>>2]|0,d)|0;if((w|0)!=0){t=v<<2;pd(E|0,w|0,t|0)|0;gf(o[x>>2]|0,w,t)}o[a>>2]=E;E=e+120|0;a=o[E>>2]|0;if((a|0)==0)S=0;else{t=o[u>>2]|0;w=yf(o[x>>2]|0,d)|0;v=t<<2;pd(w|0,a|0,v|0)|0;gf(o[x>>2]|0,a,v);S=w}o[E>>2]=S;S=e+124|0;E=o[S>>2]|0;w=o[u>>2]|0;v=yf(o[x>>2]|0,d)|0;if((E|0)!=0){a=w<<2;pd(v|0,E|0,a|0)|0;gf(o[x>>2]|0,E,a)}o[S>>2]=v;v=e+128|0;S=o[v>>2]|0;if((S|0)==0)M=0;else{a=o[u>>2]|0;E=yf(o[x>>2]|0,R)|0;R=a<<3;pd(E|0,S|0,R|0)|0;gf(o[x>>2]|0,S,R);M=E}o[v>>2]=M;M=e+132|0;v=o[M>>2]|0;if((v|0)==0)H=0;else{E=o[u>>2]|0;R=yf(o[x>>2]|0,d)|0;S=E<<2;pd(R|0,v|0,S|0)|0;gf(o[x>>2]|0,v,S);H=R}o[M>>2]=H;H=o[u>>2]|0;M=e+136|0;R=o[M>>2]|0;S=(R|0)==0;do{if((o[s>>2]|0)==0&(S^1)){v=yf(o[x>>2]|0,d)|0;if(S){A=v;break}E=H<<2;pd(v|0,R|0,E|0)|0;gf(o[x>>2]|0,R,E);A=v}else A=R}while(0);o[M>>2]=A;A=e+144|0;M=o[A>>2]|0;R=o[u>>2]|0;H=yf(o[x>>2]|0,d)|0;if((M|0)!=0){S=R<<2;pd(H|0,M|0,S|0)|0;gf(o[x>>2]|0,M,S)}o[A>>2]=H;H=o[u>>2]|0;A=e+148|0;S=o[A>>2]|0;M=(S|0)==0;do{if((o[l>>2]|0)==0&(M^1)){R=yf(o[x>>2]|0,d)|0;if(M){C=R;break}s=H<<2;pd(R|0,S|0,s|0)|0;gf(o[x>>2]|0,S,s);C=R}else C=S}while(0);o[A>>2]=C;C=o[u>>2]|0;A=e+280|0;S=o[A>>2]|0;H=(S|0)==0;do{if((o[e+284>>2]|0)==0&(H^1)){M=yf(o[x>>2]|0,d)|0;if(H){P=M;break}l=C<<2;pd(M|0,S|0,l|0)|0;gf(o[x>>2]|0,S,l);P=M}else P=S}while(0);o[A>>2]=P;P=o[u>>2]|0;A=e+288|0;S=o[A>>2]|0;C=(S|0)==0;do{if((o[e+292>>2]|0)==0&(C^1)){H=yf(o[x>>2]|0,d)|0;if(C){F=H;break}M=P<<2;pd(H|0,S|0,M|0)|0;gf(o[x>>2]|0,S,M);F=H}else F=S}while(0);o[A>>2]=F;o[u>>2]=c;h=r;return}function ci(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0;r=h;n=e+400|0;if((o[(o[n>>2]|0)+102876>>2]&2|0)!=0){a=0;h=r;return a|0}s=e+44|0;l=o[s>>2]|0;c=e+48|0;f=o[c>>2]|0;if((l|0)<(f|0)){d=l;p=f}else{ui(e,(l|0)==0?256:l<<1);d=o[s>>2]|0;p=o[c>>2]|0}do{if((d|0)>=(p|0))if((i[e+392>>0]|0)==0){a=-1;h=r;return a|0}else{l=o[e+288>>2]|0;f=o[l+(d+-1<<2)>>2]|0;m=+(o[(o[e+280>>2]|0)+(f<<2)>>2]|0)>0?f:o[l>>2]|0;l=e+88|0;pi(e,m,o[(o[l>>2]|0)+(m<<2)>>2]|2);hi(e);E=l;v=o[s>>2]|0;break}else{E=e+88|0;v=d}}while(0);d=v+1|0;o[s>>2]=d;o[(o[E>>2]|0)+(v<<2)>>2]=0;E=o[e+160>>2]|0;if((E|0)!=0)o[E+(v<<2)>>2]=0;E=o[e+168>>2]|0;if((E|0)!=0)o[E+(v<<2)>>2]=0;E=o[e+176>>2]|0;if((E|0)!=0)o[E+(v<<2)>>2]=0;E=t+4|0;s=o[E+4>>2]|0;p=(o[e+96>>2]|0)+(v<<3)|0;o[p>>2]=o[E>>2];o[p+4>>2]=s;s=t+12|0;p=o[s+4>>2]|0;E=(o[e+104>>2]|0)+(v<<3)|0;o[E>>2]=o[s>>2];o[E+4>>2]=p;u[(o[e+116>>2]|0)+(v<<2)>>2]=0;p=8784;E=o[p+4>>2]|0;s=(o[e+112>>2]|0)+(v<<3)|0;o[s>>2]=o[p>>2];o[s+4>>2]=E;E=o[e+120>>2]|0;if((E|0)!=0)u[E+(v<<2)>>2]=0;E=o[e+132>>2]|0;if((E|0)!=0)u[E+(v<<2)>>2]=0;E=e+136|0;s=o[E>>2]|0;p=t+20|0;do{if((s|0)==0){if((((i[p>>0]|0)==0?(i[t+21>>0]|0)==0:0)?(i[t+22>>0]|0)==0:0)?(i[t+23>>0]|0)==0:0)break;l=o[c>>2]|0;if((l|0)==0){ui(e,256);b=o[c>>2]|0}else b=l;l=yf(o[n>>2]|0,b<<2)|0;hd(l|0,0,o[c>>2]<<2|0)|0;y=l;g=26}else{y=s;g=26}}while(0);if((g|0)==26){o[E>>2]=y;E=i[t+21>>0]|0;s=i[t+22>>0]|0;b=i[t+23>>0]|0;i[y+(v<<2)>>0]=i[p>>0]|0;i[y+(v<<2)+1>>0]=E;i[y+(v<<2)+2>>0]=s;i[y+(v<<2)+3>>0]=b}b=e+148|0;y=o[b>>2]|0;s=t+28|0;if((y|0)==0){if((o[s>>2]|0)!=0){E=o[c>>2]|0;if((E|0)==0){ui(e,256);_=o[c>>2]|0}else _=E;E=yf(o[n>>2]|0,_<<2)|0;hd(E|0,0,o[c>>2]<<2|0)|0;T=E;g=32}}else{T=y;g=32}if((g|0)==32){o[b>>2]=T;o[T+(v<<2)>>2]=o[s>>2]}s=o[e+80>>2]|0;if((s|0)!=0)o[s+(v<<2)>>2]=0;s=e+200|0;T=e+204|0;b=o[T>>2]|0;g=e+208|0;y=o[g>>2]|0;if((b|0)>=(y|0)?(E=(y|0)==0?256:y<<1,(y|0)<(E|0)):0){y=e+212|0;c=yf(o[y>>2]|0,E<<3)|0;_=o[s>>2]|0;if((_|0)!=0){pd(c|0,_|0,o[T>>2]<<3|0)|0;gf(o[y>>2]|0,o[s>>2]|0,o[g>>2]<<3)}o[g>>2]=E;o[s>>2]=c;w=o[T>>2]|0}else w=b;o[T>>2]=w+1;T=o[s>>2]|0;R=+u[t+24>>2];s=R>0;if((o[e+280>>2]|0)!=0|s){if(s)x=R;else{s=o[e+300>>2]|0;x=+u[e+396>>2]*+(((s|0)<0?0-s|0:0)-s|0)}fi(e,v,x);o[(o[e+288>>2]|0)+(v<<2)>>2]=v}o[T+(w<<3)>>2]=v;w=o[t+32>>2]|0;o[(o[e+144>>2]|0)+(v<<2)>>2]=w;do{if((w|0)!=0){T=w+4|0;s=o[T>>2]|0;b=w+8|0;c=o[b>>2]|0;if((s|0)<(c|0)){di(e,s,c,v);o[b>>2]=d;break}else{o[T>>2]=v;o[b>>2]=d;break}}}while(0);pi(e,v,o[t>>2]|0);a=v;h=r;return a|0}function hi(e){e=e|0;var t=0,r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0;t=h;r=e+400|0;n=e+44|0;a=If((o[r>>2]|0)+76|0,o[n>>2]<<2)|0;if((o[n>>2]|0)>0){s=e+88|0;l=e+80|0;c=e+160|0;f=e+168|0;d=e+176|0;p=e+96|0;m=e+104|0;E=e+144|0;v=e+21|0;b=e+120|0;y=e+132|0;g=e+136|0;_=e+148|0;T=e+280|0;w=e+112|0;R=e+64|0;x=0;S=0;M=0;while(1){H=o[s>>2]|0;A=o[H+(S<<2)>>2]|0;if((A&2|0)==0){o[a+(S<<2)>>2]=M;if((S|0)!=(M|0)){C=o[l>>2]|0;if((C|0)==0)P=H;else{H=o[C+(S<<2)>>2]|0;if((H|0)!=0)o[H+8>>2]=M;o[C+(M<<2)>>2]=H;P=o[s>>2]|0}o[P+(M<<2)>>2]=o[P+(S<<2)>>2];H=o[c>>2]|0;if((H|0)!=0)o[H+(M<<2)>>2]=o[H+(S<<2)>>2];H=o[f>>2]|0;if((H|0)!=0)o[H+(M<<2)>>2]=o[H+(S<<2)>>2];H=o[d>>2]|0;if((H|0)!=0)o[H+(M<<2)>>2]=o[H+(S<<2)>>2];H=o[p>>2]|0;C=H+(S<<3)|0;F=o[C+4>>2]|0;D=H+(M<<3)|0;o[D>>2]=o[C>>2];o[D+4>>2]=F;F=o[m>>2]|0;D=F+(S<<3)|0;C=o[D+4>>2]|0;H=F+(M<<3)|0;o[H>>2]=o[D>>2];o[H+4>>2]=C;C=o[E>>2]|0;o[C+(M<<2)>>2]=o[C+(S<<2)>>2];if((i[v>>0]|0)!=0){C=o[w>>2]|0;H=C+(S<<3)|0;D=o[H+4>>2]|0;F=C+(M<<3)|0;o[F>>2]=o[H>>2];o[F+4>>2]=D}D=o[b>>2]|0;if((D|0)!=0)u[D+(M<<2)>>2]=+u[D+(S<<2)>>2];D=o[y>>2]|0;if((D|0)!=0)u[D+(M<<2)>>2]=+u[D+(S<<2)>>2];D=o[g>>2]|0;if((D|0)!=0){F=i[D+(S<<2)+1>>0]|0;H=i[D+(S<<2)+2>>0]|0;C=i[D+(S<<2)+3>>0]|0;i[D+(M<<2)>>0]=i[D+(S<<2)>>0]|0;i[D+(M<<2)+1>>0]=F;i[D+(M<<2)+2>>0]=H;i[D+(M<<2)+3>>0]=C}C=o[_>>2]|0;if((C|0)!=0)o[C+(M<<2)>>2]=o[C+(S<<2)>>2];C=o[T>>2]|0;if((C|0)!=0)o[C+(M<<2)>>2]=o[C+(S<<2)>>2]}k=A|x;L=M+1|0}else{C=o[(o[r>>2]|0)+102992>>2]|0;if(!((A&512|0)==0|(C|0)==0))Ep[o[(o[C>>2]|0)+20>>2]&7](C,e,S);C=o[l>>2]|0;if((C|0)!=0?(A=C+(S<<2)|0,C=o[A>>2]|0,(C|0)!=0):0){o[C+8>>2]=-1;o[A>>2]=0;Ef(R,C)}o[a+(S<<2)>>2]=-1;k=x;L=M}S=S+1|0;if((S|0)>=(o[n>>2]|0)){B=k;O=L;break}else{x=k;M=L}}}else{B=0;O=0}L=e+204|0;M=o[L>>2]|0;k=e+200|0;x=o[k>>2]|0;if((M|0)>0){S=0;do{R=x+(S<<3)|0;o[R>>2]=o[a+(o[R>>2]<<2)>>2];S=S+1|0;R=o[L>>2]|0}while((S|0)<(R|0));N=R}else N=M;M=x+(N<<3)|0;e:do{if((N|0)==0){I=x;V=40}else{S=x;while(1){if((o[S>>2]|0)<0){I=S;V=40;break e}S=S+8|0;if((S|0)==(M|0)){U=M;z=x;break}}}}while(0);if((V|0)==40)if((I|0)==(M|0)){U=M;z=x}else{x=I;N=I;e:while(1){I=N;do{I=I+8|0;if((I|0)==(M|0))break e}while((o[I>>2]|0)<0);S=I;R=o[S+4>>2]|0;l=x;o[l>>2]=o[S>>2];o[l+4>>2]=R;x=x+8|0;N=I}U=x;z=o[k>>2]|0}o[L>>2]=U-z>>3;z=e+220|0;U=o[z>>2]|0;L=e+216|0;k=o[L>>2]|0;if((U|0)>0){x=0;do{N=k+(x*24|0)|0;M=k+(x*24|0)+4|0;R=o[a+(o[M>>2]<<2)>>2]|0;o[N>>2]=o[a+(o[N>>2]<<2)>>2];o[M>>2]=R;x=x+1|0;R=o[z>>2]|0}while((x|0)<(R|0));G=R}else G=U;U=k+(G*24|0)|0;e:do{if((G|0)==0){W=k;V=52}else{x=k;while(1){if((o[x>>2]|0)<0){W=x;V=52;break e}if((o[x+4>>2]|0)<0){W=x;V=52;break e}x=x+24|0;if((x|0)==(U|0)){j=U;J=k;break}}}}while(0);if((V|0)==52)if((W|0)==(U|0)){j=U;J=k}else{k=W+24|0;e:do{if((k|0)==(U|0))X=W;else{G=W;x=k;I=W;while(1){R=x;M=I;while(1){if((o[R>>2]|0)>=0?(o[M+28>>2]|0)>=0:0)break;N=R+24|0;if((N|0)==(U|0)){X=G;break e}else{l=R;R=N;M=l}}o[G+0>>2]=o[R+0>>2];o[G+4>>2]=o[R+4>>2];o[G+8>>2]=o[R+8>>2];o[G+12>>2]=o[R+12>>2];o[G+16>>2]=o[R+16>>2];o[G+20>>2]=o[R+20>>2];M=G+24|0;x=R+24|0;if((x|0)==(U|0)){X=M;break}else{G=M;I=R}}}}while(0);j=X;J=o[L>>2]|0}o[z>>2]=(j-J|0)/24|0;J=e+236|0;j=o[J>>2]|0;z=e+232|0;L=o[z>>2]|0;if((j|0)>0){X=0;do{U=L+(X*28|0)|0;o[U>>2]=o[a+(o[U>>2]<<2)>>2];X=X+1|0;U=o[J>>2]|0}while((X|0)<(U|0));q=U}else q=j;j=L+(q*28|0)|0;e:do{if((q|0)==0){Y=L;V=65}else{X=L;while(1){if((o[X>>2]|0)<0){Y=X;V=65;break e}X=X+28|0;if((X|0)==(j|0)){K=j;Z=L;break}}}}while(0);if((V|0)==65)if((Y|0)==(j|0)){K=j;Z=L}else{L=Y;q=Y;e:while(1){Y=q;do{Y=Y+28|0;if((Y|0)==(j|0))break e}while((o[Y>>2]|0)<0);o[L+0>>2]=o[Y+0>>2];o[L+4>>2]=o[Y+4>>2];o[L+8>>2]=o[Y+8>>2];o[L+12>>2]=o[Y+12>>2];o[L+16>>2]=o[Y+16>>2];o[L+20>>2]=o[Y+20>>2];o[L+24>>2]=o[Y+24>>2];L=L+28|0;q=Y}K=L;Z=o[z>>2]|0}o[J>>2]=(K-Z|0)/28|0;Z=e+252|0;K=o[Z>>2]|0;J=e+248|0;z=o[J>>2]|0;if((K|0)>0){L=0;do{q=z+(L*20|0)|0;o[q>>2]=o[a+(o[q>>2]<<2)>>2];q=z+(L*20|0)+4|0;o[q>>2]=o[a+(o[q>>2]<<2)>>2];L=L+1|0;q=o[Z>>2]|0}while((L|0)<(q|0));Q=q}else Q=K;K=z+(Q*20|0)|0;e:do{if((Q|0)==0){$=z;V=77}else{L=z;while(1){if((o[L>>2]|0)<0){$=L;V=77;break e}if((o[L+4>>2]|0)<0){$=L;V=77;break e}L=L+20|0;if((L|0)==(K|0)){ee=K;te=z;break}}}}while(0);if((V|0)==77)if(($|0)==(K|0)){ee=K;te=z}else{z=$+20|0;e:do{if((z|0)==(K|0))re=$;else{Q=$;L=z;Y=$;while(1){q=L;j=Y;while(1){if((o[q>>2]|0)>=0?(o[j+24>>2]|0)>=0:0)break;X=q+20|0;if((X|0)==(K|0)){re=Q;break e}else{U=q;q=X;j=U}}o[Q+0>>2]=o[q+0>>2];o[Q+4>>2]=o[q+4>>2];o[Q+8>>2]=o[q+8>>2];o[Q+12>>2]=o[q+12>>2];o[Q+16>>2]=o[q+16>>2];j=Q+20|0;L=q+20|0;if((L|0)==(K|0)){re=j;break}else{Q=j;Y=q}}}}while(0);ee=re;te=o[J>>2]|0}o[Z>>2]=(ee-te|0)/20|0;te=e+268|0;ee=o[te>>2]|0;Z=e+264|0;J=o[Z>>2]|0;if((ee|0)>0){re=0;do{K=J+(re*60|0)|0;o[K>>2]=o[a+(o[K>>2]<<2)>>2];K=J+(re*60|0)+4|0;o[K>>2]=o[a+(o[K>>2]<<2)>>2];K=J+(re*60|0)+8|0;o[K>>2]=o[a+(o[K>>2]<<2)>>2];re=re+1|0;K=o[te>>2]|0}while((re|0)<(K|0));ie=K}else ie=ee;ee=J+(ie*60|0)|0;e:do{if((ie|0)==0){ne=J;V=92}else{re=J;while(1){if((o[re>>2]|0)<0){ne=re;V=92;break e}if((o[re+4>>2]|0)<0){ne=re;V=92;break e}if((o[re+8>>2]|0)<0){ne=re;V=92;break e}re=re+60|0;if((re|0)==(ee|0)){oe=ee;ae=J;break}}}}while(0);if((V|0)==92)if((ne|0)==(ee|0)){oe=ee;ae=J}else{J=ne+60|0;e:do{if((J|0)==(ee|0))se=ne;else{V=ne;ie=J;re=ne;while(1){K=ie;$=re;while(1){if(((o[K>>2]|0)>=0?(o[$+64>>2]|0)>=0:0)?(o[$+68>>2]|0)>=0:0)break;z=K+60|0;if((z|0)==(ee|0)){se=V;break e}else{Y=K;K=z;$=Y}}$=V+0|0;q=K+0|0;Y=$+60|0;do{o[$>>2]=o[q>>2];$=$+4|0;q=q+4|0}while(($|0)<(Y|0));q=V+60|0;ie=K+60|0;if((ie|0)==(ee|0)){se=q;break}else{V=q;re=K}}}}while(0);oe=se;ae=o[Z>>2]|0}o[te>>2]=(oe-ae|0)/60|0;ae=o[e+288>>2]|0;if((ae|0)!=0?(oe=o[n>>2]|0,(oe|0)>0):0){te=oe;oe=0;Z=0;while(1){se=o[a+(o[ae+(oe<<2)>>2]<<2)>>2]|0;if((se|0)==-1){le=te;ue=Z}else{o[ae+(Z<<2)>>2]=se;le=o[n>>2]|0;ue=Z+1|0}oe=oe+1|0;if((oe|0)>=(le|0))break;else{te=le;Z=ue}}}ue=e+312|0;Z=o[ue>>2]|0;if((Z|0)!=0){le=e+16|0;te=e+132|0;oe=e+48|0;ae=e+20|0;se=Z;do{Z=se+4|0;ee=o[Z>>2]|0;ne=se+8|0;J=o[ne>>2]|0;if((ee|0)<(J|0)){re=O;V=ee;ee=0;ie=0;while(1){q=o[a+(V<<2)>>2]|0;if((q|0)>-1){$=q+1|0;ce=(re|0)<(q|0)?re:q;he=(ee|0)>($|0)?ee:$;fe=ie}else{ce=re;he=ee;fe=1}V=V+1|0;if((V|0)>=(J|0)){de=ce;pe=he;me=fe;break}else{re=ce;ee=he;ie=fe}}}else{de=O;pe=0;me=0}if((de|0)<(pe|0)){o[Z>>2]=de;o[ne>>2]=pe;if(me?(ie=se+12|0,ee=o[ie>>2]|0,(ee&1|0)!=0):0){re=ee|16;ee=o[le>>2]|0;if((re&~ee|0)!=0){J=o[te>>2]|0;if((J|0)==0){V=o[oe>>2]|0;if((V|0)==0){ui(e,256);Ee=o[oe>>2]|0}else Ee=V;V=yf(o[r>>2]|0,Ee<<2)|0;hd(V|0,0,o[oe>>2]<<2|0)|0;ve=V;be=o[le>>2]|0}else{ve=J;be=ee}o[te>>2]=ve;o[le>>2]=be|re}o[ie>>2]=re}}else{o[Z>>2]=0;o[ne>>2]=0;re=se+12|0;ie=o[re>>2]|0;if((ie&4|0)==0){ee=ie|8;if(((ie&-9^-9)&ie|0)!=0)i[ae>>0]=1;J=o[le>>2]|0;if((ee&~J|0)!=0){if((ie&1|0)==0)ye=J;else{ie=o[te>>2]|0;if((ie|0)==0){V=o[oe>>2]|0;if((V|0)==0){ui(e,256);ge=o[oe>>2]|0}else ge=V;V=yf(o[r>>2]|0,ge<<2)|0;hd(V|0,0,o[oe>>2]<<2|0)|0;_e=V;Te=o[le>>2]|0}else{_e=ie;Te=J}o[te>>2]=_e;ye=Te}o[le>>2]=ye|ee}o[re>>2]=ee}}se=o[se+24>>2]|0}while((se|0)!=0)}o[n>>2]=O;Uf((o[r>>2]|0)+76|0,a);o[e+8>>2]=B;i[e+12>>0]=0;B=o[ue>>2]|0;if((B|0)==0){h=t;return}else we=B;do{B=we;we=o[we+24>>2]|0;if((o[B+12>>2]&8|0)!=0)si(e,B)}while((we|0)!=0);h=t;return}function fi(e,t,r){e=e|0;t=t|0;r=+r;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0;n=h;a=e+288|0;s=o[a>>2]|0;l=(s|0)==0;c=e+280|0;f=o[c>>2]|0;if((f|0)==0){d=e+48|0;p=o[d>>2]|0;if((p|0)==0){ui(e,256);m=o[d>>2]|0}else m=p;p=yf(o[e+400>>2]|0,m<<2)|0;hd(p|0,0,o[d>>2]<<2|0)|0;E=p;v=o[a>>2]|0}else{E=f;v=s}o[c>>2]=E;if((v|0)==0){E=e+48|0;s=o[E>>2]|0;if((s|0)==0){ui(e,256);b=o[E>>2]|0}else b=s;s=yf(o[e+400>>2]|0,b<<2)|0;hd(s|0,0,o[E>>2]<<2|0)|0;y=s}else y=v;o[a>>2]=y;if(l?(l=o[e+44>>2]|0,(l|0)>0):0){a=0;do{o[y+(a<<2)>>2]=a;a=a+1|0}while((a|0)!=(l|0))}l=~~(r/+u[e+396>>2]);if((l|0)>0)g=(o[e+300>>2]|0)+l|0;else g=l;l=(o[c>>2]|0)+(t<<2)|0;if((g|0)==(o[l>>2]|0)){h=n;return}o[l>>2]=g;i[e+304>>0]=1;h=n;return}function di(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0;a=h;if((t|0)==(r|0)|(r|0)==(n|0)){h=a;return}s=o[e+88>>2]|0;l=s+(t<<2)|0;c=s+(r<<2)|0;f=s+(n<<2)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){d=s+(n+-1<<2)|0;p=o[d>>2]|0;m=d-l|0;md(s+(n-(m>>2)<<2)|0,l|0,m|0)|0;o[l>>2]=p;break}p=c;m=p-l>>2;d=f;E=d-p>>2;if((m|0)==(E|0)){p=l;v=c;while(1){b=o[p>>2]|0;o[p>>2]=o[v>>2];o[v>>2]=b;p=p+4|0;if((p|0)==(c|0))break e;else v=v+4|0}}else{y=m;g=E}while(1){v=(y|0)%(g|0)|0;if((v|0)==0)break;else{p=g;g=v;y=p}}if((g|0)!=0){E=m+-1|0;p=m+t|0;v=s+(g+t<<2)|0;do{b=v;v=v+-4|0;_=o[v>>2]|0;T=v;w=b+(E<<2)|0;while(1){o[T>>2]=o[w>>2];b=d-w>>2;if((m|0)<(b|0))R=w+(m<<2)|0;else R=s+(p-b<<2)|0;if((R|0)==(v|0))break;else{b=w;w=R;T=b}}o[w>>2]=_}while((v|0)!=(l|0))}}else{v=o[l>>2]|0;p=f-c|0;md(l|0,c|0,p|0)|0;o[s+((p>>2)+t<<2)>>2]=v}}while(0);s=o[e+160>>2]|0;e:do{if((s|0)!=0){c=s+(t<<2)|0;l=s+(r<<2)|0;f=s+(n<<2)|0;if((t+1|0)==(r|0)){R=o[c>>2]|0;g=f-l|0;md(c|0,l|0,g|0)|0;o[s+((g>>2)+t<<2)>>2]=R;break}if((r+1|0)==(n|0)){R=s+(n+-1<<2)|0;g=o[R>>2]|0;y=R-c|0;md(s+(n-(y>>2)<<2)|0,c|0,y|0)|0;o[c>>2]=g;break}g=l;y=g-c>>2;R=f;f=R-g>>2;if((y|0)==(f|0)){g=c;v=l;while(1){p=o[g>>2]|0;o[g>>2]=o[v>>2];o[v>>2]=p;g=g+4|0;if((g|0)==(l|0))break e;else v=v+4|0}}else{x=y;S=f}while(1){v=(x|0)%(S|0)|0;if((v|0)==0)break;else{l=S;S=v;x=l}}if((S|0)!=0){f=y+-1|0;l=y+t|0;v=s+(S+t<<2)|0;do{g=v;v=v+-4|0;p=o[v>>2]|0;m=v;d=g+(f<<2)|0;while(1){o[m>>2]=o[d>>2];g=R-d>>2;if((y|0)<(g|0))M=d+(y<<2)|0;else M=s+(l-g<<2)|0;if((M|0)==(v|0))break;else{g=d;d=M;m=g}}o[d>>2]=p}while((v|0)!=(c|0))}}}while(0);M=o[e+168>>2]|0;e:do{if((M|0)!=0){s=M+(t<<2)|0;S=M+(r<<2)|0;x=M+(n<<2)|0;if((t+1|0)==(r|0)){c=o[s>>2]|0;v=x-S|0;md(s|0,S|0,v|0)|0;o[M+((v>>2)+t<<2)>>2]=c;break}if((r+1|0)==(n|0)){c=M+(n+-1<<2)|0;v=o[c>>2]|0;l=c-s|0;md(M+(n-(l>>2)<<2)|0,s|0,l|0)|0;o[s>>2]=v;break}v=S;l=v-s>>2;c=x;x=c-v>>2;if((l|0)==(x|0)){v=s;y=S;while(1){R=o[v>>2]|0;o[v>>2]=o[y>>2];o[y>>2]=R;v=v+4|0;if((v|0)==(S|0))break e;else y=y+4|0}}else{H=l;A=x}while(1){y=(H|0)%(A|0)|0;if((y|0)==0)break;else{S=A;A=y;H=S}}if((A|0)!=0){x=l+-1|0;S=l+t|0;y=M+(A+t<<2)|0;do{v=y;y=y+-4|0;R=o[y>>2]|0;f=y;m=v+(x<<2)|0;while(1){o[f>>2]=o[m>>2];v=c-m>>2;if((l|0)<(v|0))C=m+(l<<2)|0;else C=M+(S-v<<2)|0;if((C|0)==(y|0))break;else{v=m;m=C;f=v}}o[m>>2]=R}while((y|0)!=(s|0))}}}while(0);C=o[e+176>>2]|0;e:do{if((C|0)!=0){M=C+(t<<2)|0;A=C+(r<<2)|0;H=C+(n<<2)|0;if((t+1|0)==(r|0)){s=o[M>>2]|0;y=H-A|0;md(M|0,A|0,y|0)|0;o[C+((y>>2)+t<<2)>>2]=s;break}if((r+1|0)==(n|0)){s=C+(n+-1<<2)|0;y=o[s>>2]|0;S=s-M|0;md(C+(n-(S>>2)<<2)|0,M|0,S|0)|0;o[M>>2]=y;break}y=A;S=y-M>>2;s=H;H=s-y>>2;if((S|0)==(H|0)){y=M;l=A;while(1){c=o[y>>2]|0;o[y>>2]=o[l>>2];o[l>>2]=c;y=y+4|0;if((y|0)==(A|0))break e;else l=l+4|0}}else{P=S;F=H}while(1){l=(P|0)%(F|0)|0;if((l|0)==0)break;else{A=F;F=l;P=A}}if((F|0)!=0){H=S+-1|0;A=S+t|0;l=C+(F+t<<2)|0;do{y=l;l=l+-4|0;c=o[l>>2]|0;x=l;f=y+(H<<2)|0;while(1){o[x>>2]=o[f>>2];y=s-f>>2;if((S|0)<(y|0))D=f+(S<<2)|0;else D=C+(A-y<<2)|0;if((D|0)==(l|0))break;else{y=f;f=D;x=y}}o[f>>2]=c}while((l|0)!=(M|0))}}}while(0);D=o[e+96>>2]|0;C=D+(t<<3)|0;F=D+(r<<3)|0;P=D+(n<<3)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){M=D+(n+-1<<3)|0;l=M;A=o[l>>2]|0;S=o[l+4>>2]|0;l=M-C|0;md(D+(n-(l>>3)<<3)|0,C|0,l|0)|0;l=C;o[l>>2]=A;o[l+4>>2]=S;break}S=F;l=S-C>>3;A=P;M=A-S>>3;if((l|0)==(M|0)){S=C;s=F;while(1){H=S;x=o[H>>2]|0;R=o[H+4>>2]|0;H=s;m=o[H+4>>2]|0;y=S;o[y>>2]=o[H>>2];o[y+4>>2]=m;m=s;o[m>>2]=x;o[m+4>>2]=R;S=S+8|0;if((S|0)==(F|0))break e;else s=s+8|0}}else{k=l;L=M}while(1){s=(k|0)%(L|0)|0;if((s|0)==0)break;else{S=L;L=s;k=S}}if((L|0)!=0){M=l+-1|0;S=l+t|0;s=D+(L+t<<3)|0;do{R=s;s=s+-8|0;m=s;x=o[m>>2]|0;y=o[m+4>>2]|0;m=s;H=R+(M<<3)|0;while(1){R=H;p=o[R+4>>2]|0;d=m;o[d>>2]=o[R>>2];o[d+4>>2]=p;p=A-H>>3;if((l|0)<(p|0))B=H+(l<<3)|0;else B=D+(S-p<<3)|0;if((B|0)==(s|0))break;else{p=H;H=B;m=p}}m=H;o[m>>2]=x;o[m+4>>2]=y}while((s|0)!=(C|0))}}else{s=C;S=o[s>>2]|0;l=o[s+4>>2]|0;s=P-F|0;md(C|0,F|0,s|0)|0;A=D+((s>>3)+t<<3)|0;o[A>>2]=S;o[A+4>>2]=l}}while(0);D=o[e+104>>2]|0;F=D+(t<<3)|0;C=D+(r<<3)|0;P=D+(n<<3)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){B=D+(n+-1<<3)|0;L=B;k=o[L>>2]|0;l=o[L+4>>2]|0;L=B-F|0;md(D+(n-(L>>3)<<3)|0,F|0,L|0)|0;L=F;o[L>>2]=k;o[L+4>>2]=l;break}l=C;L=l-F>>3;k=P;B=k-l>>3;if((L|0)==(B|0)){l=F;A=C;while(1){S=l;s=o[S>>2]|0;M=o[S+4>>2]|0;S=A;m=o[S+4>>2]|0;c=l;o[c>>2]=o[S>>2];o[c+4>>2]=m;m=A;o[m>>2]=s;o[m+4>>2]=M;l=l+8|0;if((l|0)==(C|0))break e;else A=A+8|0}}else{O=L;N=B}while(1){A=(O|0)%(N|0)|0;if((A|0)==0)break;else{l=N;N=A;O=l}}if((N|0)!=0){B=L+-1|0;l=L+t|0;A=D+(N+t<<3)|0;do{M=A;A=A+-8|0;m=A;s=o[m>>2]|0;c=o[m+4>>2]|0;m=A;S=M+(B<<3)|0;while(1){M=S;f=o[M+4>>2]|0;p=m;o[p>>2]=o[M>>2];o[p+4>>2]=f;f=k-S>>3;if((L|0)<(f|0))I=S+(L<<3)|0;else I=D+(l-f<<3)|0;if((I|0)==(A|0))break;else{f=S;S=I;m=f}}m=S;o[m>>2]=s;o[m+4>>2]=c}while((A|0)!=(F|0))}}else{A=F;l=o[A>>2]|0;L=o[A+4>>2]|0;A=P-C|0;md(F|0,C|0,A|0)|0;k=D+((A>>3)+t<<3)|0;o[k>>2]=l;o[k+4>>2]=L}}while(0);D=o[e+144>>2]|0;C=D+(t<<2)|0;F=D+(r<<2)|0;P=D+(n<<2)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){I=D+(n+-1<<2)|0;N=o[I>>2]|0;O=I-C|0;md(D+(n-(O>>2)<<2)|0,C|0,O|0)|0;o[C>>2]=N;break}N=F;O=N-C>>2;I=P;L=I-N>>2;if((O|0)==(L|0)){N=C;k=F;while(1){l=o[N>>2]|0;o[N>>2]=o[k>>2];o[k>>2]=l;N=N+4|0;if((N|0)==(F|0))break e;else k=k+4|0}}else{V=O;U=L}while(1){k=(V|0)%(U|0)|0;if((k|0)==0)break;else{N=U;U=k;V=N}}if((U|0)!=0){L=O+-1|0;N=O+t|0;k=D+(U+t<<2)|0;do{l=k;k=k+-4|0;A=o[k>>2]|0;B=k;m=l+(L<<2)|0;while(1){o[B>>2]=o[m>>2];l=I-m>>2;if((O|0)<(l|0))z=m+(O<<2)|0;else z=D+(N-l<<2)|0;if((z|0)==(k|0))break;else{l=m;m=z;B=l}}o[m>>2]=A}while((k|0)!=(C|0))}}else{k=o[C>>2]|0;N=P-F|0;md(C|0,F|0,N|0)|0;o[D+((N>>2)+t<<2)>>2]=k}}while(0);e:do{if((i[e+21>>0]|0)!=0){D=o[e+112>>2]|0;F=D+(t<<3)|0;C=D+(r<<3)|0;P=D+(n<<3)|0;if((t+1|0)==(r|0)){z=F;U=o[z>>2]|0;V=o[z+4>>2]|0;z=P-C|0;md(F|0,C|0,z|0)|0;k=D+((z>>3)+t<<3)|0;o[k>>2]=U;o[k+4>>2]=V;break}if((r+1|0)==(n|0)){V=D+(n+-1<<3)|0;k=V;U=o[k>>2]|0;z=o[k+4>>2]|0;k=V-F|0;md(D+(n-(k>>3)<<3)|0,F|0,k|0)|0;k=F;o[k>>2]=U;o[k+4>>2]=z;break}z=C;k=z-F>>3;U=P;P=U-z>>3;if((k|0)==(P|0)){z=F;V=C;while(1){N=z;O=o[N>>2]|0;I=o[N+4>>2]|0;N=V;L=o[N+4>>2]|0;B=z;o[B>>2]=o[N>>2];o[B+4>>2]=L;L=V;o[L>>2]=O;o[L+4>>2]=I;z=z+8|0;if((z|0)==(C|0))break e;else V=V+8|0}}else{G=k;W=P}while(1){V=(G|0)%(W|0)|0;if((V|0)==0)break;else{C=W;W=V;G=C}}if((W|0)!=0){P=k+-1|0;C=k+t|0;V=D+(W+t<<3)|0;do{z=V;V=V+-8|0;I=V;L=o[I>>2]|0;O=o[I+4>>2]|0;I=V;B=z+(P<<3)|0;while(1){z=B;N=o[z+4>>2]|0;c=I;o[c>>2]=o[z>>2];o[c+4>>2]=N;N=U-B>>3;if((k|0)<(N|0))j=B+(k<<3)|0;else j=D+(C-N<<3)|0;if((j|0)==(V|0))break;else{N=B;B=j;I=N}}I=B;o[I>>2]=L;o[I+4>>2]=O}while((V|0)!=(F|0))}}}while(0);j=o[e+120>>2]|0;e:do{if((j|0)!=0){W=j+(t<<2)|0;G=j+(r<<2)|0;F=j+(n<<2)|0;if((t+1|0)==(r|0)){J=+u[W>>2];V=F-G|0;md(W|0,G|0,V|0)|0;u[j+((V>>2)+t<<2)>>2]=J;break}if((r+1|0)==(n|0)){V=j+(n+-1<<2)|0;J=+u[V>>2];C=V-W|0;md(j+(n-(C>>2)<<2)|0,W|0,C|0)|0;u[W>>2]=J;break}C=G;V=C-W>>2;D=F;F=D-C>>2;if((V|0)==(F|0)){C=W;k=G;while(1){J=+u[C>>2];u[C>>2]=+u[k>>2];u[k>>2]=J;C=C+4|0;if((C|0)==(G|0))break e;else k=k+4|0}}else{X=V;q=F}while(1){k=(X|0)%(q|0)|0;if((k|0)==0)break;else{G=q;q=k;X=G}}if((q|0)!=0){F=V+-1|0;G=V+t|0;k=j+(q+t<<2)|0;do{C=k;k=k+-4|0;J=+u[k>>2];U=k;P=C+(F<<2)|0;while(1){u[U>>2]=+u[P>>2];C=D-P>>2;if((V|0)<(C|0))Y=P+(V<<2)|0;else Y=j+(G-C<<2)|0;if((Y|0)==(k|0))break;else{C=P;P=Y;U=C}}u[P>>2]=J}while((k|0)!=(W|0))}}}while(0);Y=o[e+132>>2]|0;e:do{if((Y|0)!=0){j=Y+(t<<2)|0;q=Y+(r<<2)|0;X=Y+(n<<2)|0;if((t+1|0)==(r|0)){K=+u[j>>2];W=X-q|0;md(j|0,q|0,W|0)|0;u[Y+((W>>2)+t<<2)>>2]=K;break}if((r+1|0)==(n|0)){W=Y+(n+-1<<2)|0;K=+u[W>>2];k=W-j|0;md(Y+(n-(k>>2)<<2)|0,j|0,k|0)|0;u[j>>2]=K;break}k=q;W=k-j>>2;G=X;X=G-k>>2;if((W|0)==(X|0)){k=j;V=q;while(1){K=+u[k>>2];u[k>>2]=+u[V>>2];u[V>>2]=K;k=k+4|0;if((k|0)==(q|0))break e;else V=V+4|0}}else{Z=W;Q=X}while(1){V=(Z|0)%(Q|0)|0;if((V|0)==0)break;else{q=Q;Q=V;Z=q}}if((Q|0)!=0){X=W+-1|0;q=W+t|0;V=Y+(Q+t<<2)|0;do{k=V;V=V+-4|0;K=+u[V>>2];D=V;F=k+(X<<2)|0;while(1){u[D>>2]=+u[F>>2];k=G-F>>2;if((W|0)<(k|0))$=F+(W<<2)|0;else $=Y+(q-k<<2)|0;if(($|0)==(V|0))break;else{k=F;F=$;D=k}}u[F>>2]=K}while((V|0)!=(j|0))}}}while(0);$=o[e+136>>2]|0;if(($|0)!=0)_t($+(t<<2)|0,$+(r<<2)|0,$+(n<<2)|0)|0;$=o[e+148>>2]|0;e:do{if(($|0)!=0){Y=$+(t<<2)|0;Q=$+(r<<2)|0;Z=$+(n<<2)|0;if((t+1|0)==(r|0)){j=o[Y>>2]|0;V=Z-Q|0;md(Y|0,Q|0,V|0)|0;o[$+((V>>2)+t<<2)>>2]=j;break}if((r+1|0)==(n|0)){j=$+(n+-1<<2)|0;V=o[j>>2]|0;q=j-Y|0;md($+(n-(q>>2)<<2)|0,Y|0,q|0)|0;o[Y>>2]=V;break}V=Q;q=V-Y>>2;j=Z;Z=j-V>>2;if((q|0)==(Z|0)){V=Y;W=Q;while(1){G=o[V>>2]|0;o[V>>2]=o[W>>2];o[W>>2]=G;V=V+4|0;if((V|0)==(Q|0))break e;else W=W+4|0}}else{ee=q;te=Z}while(1){W=(ee|0)%(te|0)|0;if((W|0)==0)break;else{Q=te;te=W;ee=Q}}if((te|0)!=0){Z=q+-1|0;Q=q+t|0;W=$+(te+t<<2)|0;do{V=W;W=W+-4|0;G=o[W>>2]|0;X=W;D=V+(Z<<2)|0;while(1){o[X>>2]=o[D>>2];V=j-D>>2;if((q|0)<(V|0))re=D+(q<<2)|0;else re=$+(Q-V<<2)|0;if((re|0)==(W|0))break;else{V=D;D=re;X=V}}o[D>>2]=G}while((W|0)!=(Y|0))}}}while(0);re=e+80|0;$=o[re>>2]|0;if(($|0)!=0){te=$+(t<<2)|0;ee=$+(r<<2)|0;Y=$+(n<<2)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){W=$+(n+-1<<2)|0;Q=o[W>>2]|0;q=W-te|0;md($+(n-(q>>2)<<2)|0,te|0,q|0)|0;o[te>>2]=Q;break}Q=ee;q=Q-te>>2;W=Y;j=W-Q>>2;if((q|0)==(j|0)){Q=te;Z=ee;while(1){X=o[Q>>2]|0;o[Q>>2]=o[Z>>2];o[Z>>2]=X;Q=Q+4|0;if((Q|0)==(ee|0))break e;else Z=Z+4|0}}else{ie=q;ne=j}while(1){Z=(ie|0)%(ne|0)|0;if((Z|0)==0)break;else{Q=ne;ne=Z;ie=Q}}if((ne|0)!=0){j=q+-1|0;Q=q+t|0;Z=$+(ne+t<<2)|0;do{X=Z;Z=Z+-4|0;F=o[Z>>2]|0;V=Z;P=X+(j<<2)|0;while(1){o[V>>2]=o[P>>2];X=W-P>>2;if((q|0)<(X|0))oe=P+(q<<2)|0;else oe=$+(Q-X<<2)|0;if((oe|0)==(Z|0))break;else{X=P;P=oe;V=X}}o[P>>2]=F}while((Z|0)!=(te|0))}}else{Z=o[te>>2]|0;Q=Y-ee|0;md(te|0,ee|0,Q|0)|0;o[$+((Q>>2)+t<<2)>>2]=Z}}while(0);if((t|0)<(n|0)){$=o[re>>2]|0;re=n-r|0;ee=t-r|0;te=t;do{Y=o[$+(te<<2)>>2]|0;if((Y|0)!=0){oe=Y+8|0;Y=o[oe>>2]|0;do{if((Y|0)>=(t|0))if((Y|0)<(r|0)){ae=re+Y|0;break}else{ae=Y+((Y|0)<(n|0)?ee:0)|0;break}else ae=Y}while(0);o[oe>>2]=ae}te=te+1|0}while((te|0)!=(n|0))}}te=o[e+280>>2]|0;if((te|0)!=0){ae=te+(t<<2)|0;ee=te+(r<<2)|0;re=te+(n<<2)|0;e:do{if((t+1|0)==(r|0)){$=o[ae>>2]|0;Y=re-ee|0;md(ae|0,ee|0,Y|0)|0;o[te+((Y>>2)+t<<2)>>2]=$}else{if((r+1|0)==(n|0)){$=te+(n+-1<<2)|0;Y=o[$>>2]|0;ne=$-ae|0;md(te+(n-(ne>>2)<<2)|0,ae|0,ne|0)|0;o[ae>>2]=Y;break}Y=ee;ne=Y-ae>>2;$=re;ie=$-Y>>2;if((ne|0)==(ie|0)){Y=ae;Z=ee;while(1){Q=o[Y>>2]|0;o[Y>>2]=o[Z>>2];o[Z>>2]=Q;Y=Y+4|0;if((Y|0)==(ee|0))break e;else Z=Z+4|0}}else{se=ne;le=ie}while(1){Z=(se|0)%(le|0)|0;if((Z|0)==0)break;else{Y=le;le=Z;se=Y}}if((le|0)==0)break;ie=ne+-1|0;Y=ne+t|0;Z=te+(le+t<<2)|0;do{oe=Z;Z=Z+-4|0;Q=o[Z>>2]|0;q=Z;W=oe+(ie<<2)|0;while(1){o[q>>2]=o[W>>2];oe=$-W>>2;if((ne|0)<(oe|0))ue=W+(ne<<2)|0;else ue=te+(Y-oe<<2)|0;if((ue|0)==(Z|0))break;else{oe=W;W=ue;q=oe}}o[W>>2]=Q}while((Z|0)!=(ae|0))}}while(0);ae=o[e+44>>2]|0;ue=o[e+288>>2]|0;if((ae|0)>0){te=n-r|0;le=t-r|0;se=0;do{ee=ue+(se<<2)|0;re=o[ee>>2]|0;do{if((re|0)>=(t|0))if((re|0)<(r|0)){ce=te+re|0;break}else{ce=re+((re|0)<(n|0)?le:0)|0;break}else ce=re}while(0);o[ee>>2]=ce;se=se+1|0}while((se|0)!=(ae|0))}}ae=e+204|0;if((o[ae>>2]|0)>0){se=o[e+200>>2]|0;ce=n-r|0;le=t-r|0;te=0;do{ue=se+(te<<3)|0;re=o[ue>>2]|0;do{if((re|0)>=(t|0))if((re|0)<(r|0)){he=ce+re|0;break}else{he=re+((re|0)<(n|0)?le:0)|0;break}else he=re}while(0);o[ue>>2]=he;te=te+1|0}while((te|0)<(o[ae>>2]|0))}ae=e+220|0;if((o[ae>>2]|0)>0){te=o[e+216>>2]|0;he=n-r|0;le=t-r|0;ce=0;do{se=te+(ce*24|0)|0;re=o[se>>2]|0;do{if((re|0)>=(t|0))if((re|0)<(r|0)){fe=he+re|0;break}else{fe=re+((re|0)<(n|0)?le:0)|0;break}else fe=re}while(0);re=te+(ce*24|0)+4|0;ue=o[re>>2]|0;do{if((ue|0)>=(t|0))if((ue|0)<(r|0)){de=he+ue|0;break}else{de=ue+((ue|0)<(n|0)?le:0)|0;break}else de=ue}while(0);o[se>>2]=fe;o[re>>2]=de;ce=ce+1|0}while((ce|0)<(o[ae>>2]|0))}ae=e+236|0;if((o[ae>>2]|0)>0){ce=o[e+232>>2]|0;de=n-r|0;fe=t-r|0;le=0;do{he=ce+(le*28|0)|0;te=o[he>>2]|0;do{if((te|0)>=(t|0))if((te|0)<(r|0)){pe=de+te|0;break}else{pe=te+((te|0)<(n|0)?fe:0)|0;break}else pe=te}while(0);o[he>>2]=pe;le=le+1|0}while((le|0)<(o[ae>>2]|0))}ae=e+252|0;if((o[ae>>2]|0)>0){le=o[e+248>>2]|0;pe=n-r|0;fe=t-r|0;de=0;do{ce=le+(de*20|0)|0;te=o[ce>>2]|0;do{if((te|0)>=(t|0))if((te|0)<(r|0)){me=pe+te|0;break}else{me=te+((te|0)<(n|0)?fe:0)|0;break}else me=te}while(0);o[ce>>2]=me;te=le+(de*20|0)+4|0;he=o[te>>2]|0;do{if((he|0)>=(t|0))if((he|0)<(r|0)){Ee=pe+he|0;break}else{Ee=he+((he|0)<(n|0)?fe:0)|0;break}else Ee=he}while(0);o[te>>2]=Ee;de=de+1|0}while((de|0)<(o[ae>>2]|0))}ae=e+268|0;if((o[ae>>2]|0)>0){de=o[e+264>>2]|0;Ee=n-r|0;fe=t-r|0;pe=0;do{le=de+(pe*60|0)|0;me=o[le>>2]|0;do{if((me|0)>=(t|0))if((me|0)<(r|0)){ve=Ee+me|0;break}else{ve=me+((me|0)<(n|0)?fe:0)|0;break}else ve=me}while(0);o[le>>2]=ve;me=de+(pe*60|0)+4|0;te=o[me>>2]|0;do{if((te|0)>=(t|0))if((te|0)<(r|0)){be=Ee+te|0;break}else{be=te+((te|0)<(n|0)?fe:0)|0;break}else be=te}while(0);o[me>>2]=be;te=de+(pe*60|0)+8|0;le=o[te>>2]|0;do{if((le|0)>=(t|0))if((le|0)<(r|0)){ye=Ee+le|0;break}else{ye=le+((le|0)<(n|0)?fe:0)|0;break}else ye=le}while(0);o[te>>2]=ye;pe=pe+1|0}while((pe|0)<(o[ae>>2]|0))}ae=o[e+312>>2]|0;if((ae|0)==0){h=a;return}e=t-r|0;pe=n-r|0;ye=ae;do{ae=ye+4|0;fe=o[ae>>2]|0;do{if((fe|0)>=(t|0))if((fe|0)<(r|0)){ge=pe+fe|0;break}else{ge=fe+((fe|0)<(n|0)?e:0)|0;break}else ge=fe}while(0);o[ae>>2]=ge;fe=ye+8|0;te=o[fe>>2]|0;Ee=te+-1|0;do{if((te|0)>(t|0))if((te|0)>(r|0)){_e=Ee+((te|0)>(n|0)?0:e)|0;break}else{_e=pe+Ee|0;break}else _e=Ee}while(0);o[fe>>2]=_e+1;ye=o[ye+24>>2]|0}while((ye|0)!=0);h=a;return}function pi(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0;n=h;a=(o[e+88>>2]|0)+(t<<2)|0;if((o[a>>2]&~r|0)!=0)i[e+12>>0]=1;t=e+8|0;if((~o[t>>2]&r|0)==0){o[a>>2]=r;h=n;return}if((r&128|0)!=0){s=e+128|0;l=o[s>>2]|0;if((l|0)==0){u=e+48|0;c=o[u>>2]|0;if((c|0)==0){ui(e,256);f=o[u>>2]|0}else f=c;c=yf(o[e+400>>2]|0,f<<3)|0;hd(c|0,0,o[u>>2]<<3|0)|0;d=c}else d=l;o[s>>2]=d}if((r&256|0)!=0){d=e+136|0;s=o[d>>2]|0;if((s|0)==0){l=e+48|0;c=o[l>>2]|0;if((c|0)==0){ui(e,256);p=o[l>>2]|0}else p=c;c=yf(o[e+400>>2]|0,p<<2)|0;hd(c|0,0,o[l>>2]<<2|0)|0;m=c}else m=s;o[d>>2]=m}o[t>>2]=o[t>>2]|r;o[a>>2]=r;h=n;return}function mi(e,t,r){e=e|0;t=t|0;r=r|0;var i=0;i=h;pi(e,t,o[(o[e+88>>2]|0)+(t<<2)>>2]|(r?514:2));h=i;return}function Ei(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,s=0,l=0,u=0,c=0,f=0;a=h;h=h+64|0;s=a+16|0;l=a;u=e+400|0;if((o[(o[u>>2]|0)+102876>>2]&2|0)!=0){c=0;h=a;return c|0}o[s>>2]=7912;f=s+12|0;o[s+4>>2]=e;o[s+8>>2]=t;o[f+0>>2]=o[r+0>>2];o[f+4>>2]=o[r+4>>2];o[f+8>>2]=o[r+8>>2];o[f+12>>2]=o[r+12>>2];i[s+28>>0]=n&1;n=s+32|0;o[n>>2]=0;wp[o[(o[t>>2]|0)+28>>2]&31](t,l,r,0);vr(o[u>>2]|0,s,l);c=o[n>>2]|0;h=a;return c|0}function vi(e,t,r,a){e=e|0;t=t|0;r=r|0;a=a|0;var s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0;s=h;h=h+96|0;l=s+48|0;c=s;f=+u[r+52>>2];if(f==0)d=+u[e+32>>2]*.75;else d=f;p=up[o[(o[t>>2]|0)+12>>2]&7](t)|0;if((p|0)<=0){h=s;return}m=c+4|0;E=c+8|0;v=c+28|0;b=t+4|0;y=c+12|0;g=t+12|0;_=c+20|0;T=c+12|0;w=c+24|0;R=c+16|0;x=l+4|0;S=l+12|0;M=l+20|0;H=l+21|0;A=l+22|0;C=l+23|0;P=l+24|0;F=l+28|0;D=l+32|0;k=a+12|0;L=a+8|0;B=a+4|0;O=r+28|0;N=r+8|0;I=r+12|0;V=r+20|0;U=r+24|0;z=r+32|0;G=r+33|0;W=r+34|0;J=r+35|0;X=r+64|0;q=r+68|0;Y=0;f=0;while(1){o[c>>2]=488;o[m>>2]=1;u[E>>2]=.009999999776482582;o[v+0>>2]=0;o[v+4>>2]=0;o[v+8>>2]=0;o[v+12>>2]=0;n[v+16>>1]=0;if((o[b>>2]|0)==1){K=b;Z=o[K+4>>2]|0;Q=m;o[Q>>2]=o[K>>2];o[Q+4>>2]=Z;o[y+0>>2]=o[g+0>>2];o[y+4>>2]=o[g+4>>2];o[y+8>>2]=o[g+8>>2];o[y+12>>2]=o[g+12>>2];o[y+16>>2]=o[g+16>>2];o[y+20>>2]=o[g+20>>2];o[y+24>>2]=o[g+24>>2];o[y+28>>2]=o[g+28>>2];n[y+32>>1]=n[g+32>>1]|0}else zc(t,c,Y);$=+u[T>>2];ee=+u[_>>2]-$;te=+u[R>>2];re=+u[w>>2]-te;ie=+j(+(ee*ee+re*re));e:do{if(f<ie){ne=$;oe=te;ae=f;while(1){se=ae/ie;le=ne+ee*se;ue=re*se+oe;o[D>>2]=0;o[l>>2]=o[r>>2];se=+u[k>>2];ce=+u[L>>2];he=+u[a>>2]+(le*se-ue*ce);fe=ue*se+le*ce+ +u[B>>2];ce=+he;le=+fe;Z=x;u[Z>>2]=ce;u[Z+4>>2]=le;le=+u[O>>2];ce=+(+u[V>>2]-le*(fe-+u[I>>2]));fe=+(le*(he-+u[N>>2])+ +u[U>>2]);Z=S;u[Z>>2]=ce;u[Z+4>>2]=fe;Z=i[G>>0]|0;Q=i[W>>0]|0;K=i[J>>0]|0;i[M>>0]=i[z>>0]|0;i[H>>0]=Z;i[A>>0]=Q;i[C>>0]=K;u[P>>2]=+u[X>>2];o[F>>2]=o[q>>2];ci(e,l)|0;fe=d+ae;if(!(fe<ie)){de=fe;break e}ne=+u[T>>2];oe=+u[R>>2];ae=fe}}else de=f}while(0);K=Y+1|0;if((K|0)==(p|0))break;Y=K;f=de-ie}h=s;return}function bi(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0;a=h;h=h+80|0;s=a+40|0;l=a+24|0;c=a+8|0;f=a;d=+u[r+52>>2];if(d==0)p=+u[e+32>>2]*.75;else p=d;u[l>>2]=0;u[l+4>>2]=0;u[l+8>>2]=0;u[l+12>>2]=1;wp[o[(o[t>>2]|0)+28>>2]&31](t,c,l,0);d=p*+G(+(+u[c+4>>2]/p));m=c+12|0;E=+u[m>>2];if(!(d<E)){h=a;return}v=c+8|0;b=f+4|0;y=s+4|0;g=s+12|0;_=s+20|0;T=s+21|0;w=s+22|0;R=s+23|0;x=s+24|0;S=s+28|0;M=s+32|0;H=n+12|0;A=n+8|0;C=n+4|0;P=r+28|0;F=r+8|0;D=r+12|0;k=r+20|0;L=r+24|0;B=r+32|0;O=r+33|0;N=r+34|0;I=r+35|0;V=r+64|0;U=r+68|0;z=E;E=+u[v>>2];W=d;while(1){d=p*+G(+(+u[c>>2]/p));if(d<E){j=d;do{u[f>>2]=j;u[b>>2]=W;if(mp[o[(o[t>>2]|0)+16>>2]&15](t,l,f)|0){o[M>>2]=0;o[s>>2]=o[r>>2];d=+u[H>>2];J=+u[f>>2];X=+u[A>>2];q=+u[b>>2];Y=+u[n>>2]+(d*J-X*q);K=J*X+d*q+ +u[C>>2];q=+Y;d=+K;Z=y;u[Z>>2]=q;u[Z+4>>2]=d;d=+u[P>>2];q=+(+u[k>>2]-d*(K-+u[D>>2]));K=+(d*(Y-+u[F>>2])+ +u[L>>2]);Z=g;u[Z>>2]=q;u[Z+4>>2]=K;Z=i[O>>0]|0;Q=i[N>>0]|0;$=i[I>>0]|0;i[_>>0]=i[B>>0]|0;i[T>>0]=Z;i[w>>0]=Q;i[R>>0]=$;u[x>>2]=+u[V>>2];o[S>>2]=o[U>>2];ci(e,s)|0}j=p+j;ee=+u[v>>2]}while(j<ee);te=+u[m>>2];re=ee}else{te=z;re=E}W=p+W;if(!(W<te))break;else{z=te;E=re}}h=a;return}function yi(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0;r=h;h=h+64|0;n=r+20|0;a=r;s=r+16|0;l=e+400|0;if((o[(o[l>>2]|0)+102876>>2]&2|0)!=0){c=0;h=r;return c|0}f=+u[t+16>>2];d=t+8|0;p=o[d+4>>2]|0;m=a;o[m>>2]=o[d>>2];o[m+4>>2]=p;p=a+8|0;u[p>>2]=+q(+f);m=a+12|0;u[m>>2]=+X(+f);d=e+44|0;E=o[d>>2]|0;v=o[t+40>>2]|0;do{if((v|0)!=0){b=o[v+4>>2]|0;if((b|0)==3|(b|0)==1){vi(e,v,t,a);break}else if((b|0)==0|(b|0)==2){bi(e,v,t,a);break}else break}}while(0);v=o[t+44>>2]|0;if((v|0)!=0){b=o[t+48>>2]|0;o[n>>2]=7720;o[n+12>>2]=v;o[n+16>>2]=b;bi(e,n,t,a)}b=t+56|0;if((o[b>>2]|0)>0){v=t+60|0;y=n+4|0;g=n+12|0;_=n+20|0;T=n+21|0;w=n+22|0;R=n+23|0;x=n+24|0;S=n+28|0;M=n+32|0;f=+u[m>>2];H=+u[p>>2];A=+u[a>>2];C=+u[a+4>>2];p=t+28|0;m=t+8|0;P=t+12|0;F=t+20|0;D=t+24|0;k=t+32|0;L=t+33|0;B=t+34|0;O=t+35|0;N=t+64|0;I=t+68|0;V=0;do{U=(o[v>>2]|0)+(V<<3)|0;z=+u[U>>2];G=+u[U+4>>2];o[M>>2]=0;o[n>>2]=o[t>>2];W=A+(z*f-G*H);j=f*G+z*H+C;z=+W;G=+j;U=y;u[U>>2]=z;u[U+4>>2]=G;G=+u[p>>2];z=+(+u[F>>2]-G*(j-+u[P>>2]));j=+(G*(W-+u[m>>2])+ +u[D>>2]);U=g;u[U>>2]=z;u[U+4>>2]=j;U=i[L>>0]|0;J=i[B>>0]|0;Y=i[O>>0]|0;i[_>>0]=i[k>>0]|0;i[T>>0]=U;i[w>>0]=J;i[R>>0]=Y;u[x>>2]=+u[N>>2];o[S>>2]=o[I>>2];ci(e,n)|0;V=V+1|0}while((V|0)<(o[b>>2]|0))}b=o[d>>2]|0;d=yf(o[l>>2]|0,80)|0;if((d|0)==0)K=0;else{ei(d);K=d}o[K>>2]=e;o[K+4>>2]=E;o[K+8>>2]=b;u[K+16>>2]=+u[t+36>>2];o[K+76>>2]=o[t+68>>2];d=K+60|0;o[d+0>>2]=o[a+0>>2];o[d+4>>2]=o[a+4>>2];o[d+8>>2]=o[a+8>>2];o[d+12>>2]=o[a+12>>2];o[K+20>>2]=0;a=e+312|0;o[K+24>>2]=o[a>>2];d=o[a>>2]|0;if((d|0)!=0)o[d+20>>2]=K;o[a>>2]=K;a=e+308|0;o[a>>2]=(o[a>>2]|0)+1;if((E|0)<(b|0)){a=e+144|0;d=E;do{o[(o[a>>2]|0)+(d<<2)>>2]=K;d=d+1|0}while((d|0)!=(b|0))}d=o[t+4>>2]|0;a=K+12|0;V=o[a>>2]|0;n=(V^d)<<4&16|d;if((V&~n|0)!=0)i[e+20>>0]=1;V=e+16|0;I=o[V>>2]|0;if((n&~I|0)!=0){if((d&1|0)==0)Z=I;else{d=e+132|0;S=o[d>>2]|0;if((S|0)==0){N=e+48|0;x=o[N>>2]|0;if((x|0)==0){ui(e,256);Q=o[N>>2]|0}else Q=x;x=yf(o[l>>2]|0,Q<<2)|0;hd(x|0,0,o[N>>2]<<2|0)|0;$=x;ee=o[V>>2]|0}else{$=S;ee=I}o[d>>2]=$;Z=ee}o[V>>2]=Z|n}o[a>>2]=n;o[s>>2]=7544;gi(e,1);_i(e,E,b,s);s=t+72|0;t=o[s>>2]|0;if((t|0)==0){c=K;h=r;return c|0}Ti(e,t,K);c=o[s>>2]|0;h=r;return c|0}function gi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0;r=h;h=h+32|0;i=r;n=r+8|0;a=e+204|0;s=o[a>>2]|0;l=o[e+200>>2]|0;c=l+(s<<3)|0;if((s|0)>0){f=o[e+96>>2]|0;d=+u[e+36>>2];p=l;do{m=o[p>>2]|0;o[p+4>>2]=(~~(d*+u[f+(m<<3)+4>>2]+2048)>>>0<<20)+(~~(d*+u[f+(m<<3)>>2]*256+524288)>>>0);p=p+8|0}while(p>>>0<c>>>0);E=o[a>>2]|0}else E=s;Nt(l,l+(E<<3)|0,i);i=o[e+400>>2]|0;o[n>>2]=0;o[n+4>>2]=0;E=n+8|0;o[E>>2]=0;l=n+12|0;o[l>>2]=i+76;if((o[e+8>>2]&32768|0)!=0?(o[i+102952>>2]|0)!=0:0)Pi(n,o[e+216>>2]|0,o[e+220>>2]|0,o[e+88>>2]|0);i=e+216|0;Hi(e,i);Ci(e,i);Fi(e,n);if(t){t=o[i>>2]|0;s=e+220|0;e=o[s>>2]|0;a=t+(e*24|0)|0;e:do{if((e|0)==0){v=t;b=12}else{c=t;while(1){if((o[c+20>>2]&2|0)!=0){v=c;b=12;break e}c=c+24|0;if((c|0)==(a|0)){y=a;g=t;break}}}}while(0);if((b|0)==12)if((v|0)==(a|0)){y=a;g=t}else{t=v;b=v;e:while(1){v=b;do{e=v;v=v+24|0;if((v|0)==(a|0))break e}while((o[e+44>>2]&2|0)!=0);o[t+0>>2]=o[v+0>>2];o[t+4>>2]=o[v+4>>2];o[t+8>>2]=o[v+8>>2];o[t+12>>2]=o[v+12>>2];o[t+16>>2]=o[v+16>>2];o[t+20>>2]=o[v+20>>2];t=t+24|0;b=v}y=t;g=o[i>>2]|0}o[s>>2]=(y-g|0)/24|0}g=o[n>>2]|0;if((g|0)==0){h=r;return}Uf(o[l>>2]|0,g);o[n>>2]=0;o[E>>2]=0;h=r;return}function _i(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,X=0,q=0,Y=0,K=0,Z=0;n=h;h=h+48|0;a=n+40|0;s=n+12|0;l=n;c=(t|0)<(r|0);if(!c){h=n;return}f=o[e+88>>2]|0;d=t;p=0;do{p=o[f+(d<<2)>>2]|p;d=d+1|0}while((d|0)!=(r|0));if((p&1032|0)!=0){d=e+220|0;if((o[d>>2]|0)>0){f=e+216|0;m=e+88|0;E=e+144|0;v=e+252|0;b=e+256|0;y=e+248|0;g=e+96|0;_=e+260|0;T=0;do{w=o[f>>2]|0;R=o[w+(T*24|0)>>2]|0;x=o[w+(T*24|0)+4>>2]|0;S=o[m>>2]|0;M=o[S+(R<<2)>>2]|0;H=o[S+(x<<2)>>2]|0;S=o[E>>2]|0;A=o[S+(R<<2)>>2]|0;C=o[S+(x<<2)>>2]|0;do{if((x|0)<(r|0)&(((R|0)>=(r|0)|(R|0)<(t|0)|(x|0)<(t|0))^1)?(S=H|M,!((S&2|0)!=0|(S&1032|0)==0)):0){if(!(_p[o[(o[i>>2]|0)+8>>2]&31](i,R)|0)?!(_p[o[(o[i>>2]|0)+8>>2]&31](i,x)|0):0)break;if((M&28|0)==0){if((A|0)==0)break;if((o[A+12>>2]&2|0)==0)break}if((H&28|0)==0){if((C|0)==0)break;if((o[C+12>>2]&2|0)==0)break}if(mp[o[(o[i>>2]|0)+12>>2]&15](i,R,x)|0){S=o[v>>2]|0;P=o[b>>2]|0;if((S|0)>=(P|0)?(F=(P|0)==0?256:P<<1,(P|0)<(F|0)):0){P=yf(o[_>>2]|0,F*20|0)|0;D=o[y>>2]|0;if((D|0)!=0){pd(P|0,D|0,(o[v>>2]|0)*20|0)|0;gf(o[_>>2]|0,o[y>>2]|0,(o[b>>2]|0)*20|0)}o[b>>2]=F;o[y>>2]=P;k=o[v>>2]|0}else k=S;o[v>>2]=k+1;S=o[y>>2]|0;o[S+(k*20|0)>>2]=R;o[S+(k*20|0)+4>>2]=x;o[S+(k*20|0)+8>>2]=o[w+(T*24|0)+20>>2];if((A|0)==0)L=1;else L=+u[A+16>>2];if((C|0)==0)B=1;else B=+u[C+16>>2];u[S+(k*20|0)+12>>2]=L<B?L:B;P=o[g>>2]|0;O=+u[P+(R<<3)>>2]-+u[P+(x<<3)>>2];N=+u[P+(R<<3)+4>>2]-+u[P+(x<<3)+4>>2];u[S+(k*20|0)+16>>2]=+j(+(O*O+N*N))}}}while(0);T=T+1|0}while((T|0)<(o[d>>2]|0));I=v}else I=e+252|0;v=e+248|0;d=o[v>>2]|0;T=o[I>>2]|0;k=d+(T*20|0)|0;o[a>>2]=27;g=T*20|0;T=(g|0)/20|0;e:do{if((g|0)>2560){y=T;while(1){b=od(y*20|0,9632)|0;if((b|0)!=0){V=b;U=y;break e}if((y|0)>1)y=(y|0)/2|0;else{V=b;U=0;break}}}else{V=0;U=0}}while(0);jt(d,k,a,T,V,U);if((V|0)!=0)ad(V);V=o[v>>2]|0;U=o[I>>2]|0;T=V+(U*20|0)|0;e:do{if((U|0)==0){z=V;G=40}else if((U|0)==1){W=T;J=V}else{k=V;d=V+20|0;g=o[V>>2]|0;while(1){y=g;g=o[d>>2]|0;if((y|0)==(g|0)?(o[k+4>>2]|0)==(o[k+24>>2]|0):0){z=k;G=40;break e}y=d+20|0;if((y|0)==(T|0)){W=T;J=V;break}else{b=d;d=y;k=b}}}}while(0);if((G|0)==40)if((z|0)==(T|0)){W=T;J=V}else{V=z;U=z+20|0;e:while(1){z=V+4|0;k=U;do{d=k;k=k+20|0;if((k|0)==(T|0))break e;if((o[V>>2]|0)!=(o[k>>2]|0))break}while((o[z>>2]|0)==(o[d+24>>2]|0));z=V+20|0;o[z+0>>2]=o[k+0>>2];o[z+4>>2]=o[k+4>>2];o[z+8>>2]=o[k+8>>2];o[z+12>>2]=o[k+12>>2];o[z+16>>2]=o[k+16>>2];V=z;U=k}W=V+20|0;J=o[v>>2]|0}o[I>>2]=(W-J|0)/20|0}if((p&16|0)==0){h=n;return}Yr(s,(o[e+400>>2]|0)+76|0,r-t|0);if(c){c=e+88|0;p=e+144|0;J=e+96|0;W=t;do{t=o[(o[c>>2]|0)+(W<<2)>>2]|0;do{if((t&2|0)==0){I=o[(o[p>>2]|0)+(W<<2)>>2]|0;if((t&28|0)==0){if((I|0)==0)break;if((o[I+12>>2]&2|0)==0)break}I=o[J>>2]|0;Zr(s,I+(W<<3)|0,W,_p[o[(o[i>>2]|0)+8>>2]&31](i,W)|0)}}while(0);W=W+1|0}while((W|0)<(r|0))}B=+u[e+32>>2]*.75;Qr(s,B*.5,B*2);o[l>>2]=7176;o[l+4>>2]=e;o[l+8>>2]=i;$r(s,l);l=e+264|0;i=o[l>>2]|0;r=e+268|0;e=o[r>>2]|0;W=i+(e*60|0)|0;o[a>>2]=28;J=e*60|0;e=(J|0)/60|0;e:do{if((J|0)>7680){p=e;while(1){c=od(p*60|0,9632)|0;if((c|0)!=0){X=c;q=p;break e}if((p|0)>1)p=(p|0)/2|0;else{X=c;q=0;break}}}else{X=0;q=0}}while(0);Ut(i,W,a,e,X,q);if((X|0)!=0)ad(X);X=o[l>>2]|0;q=o[r>>2]|0;e=X+(q*60|0)|0;e:do{if((q|0)==0){Y=X;G=69}else if((q|0)==1){K=e;Z=X}else{a=X;W=X+60|0;i=o[X>>2]|0;while(1){J=i;i=o[W>>2]|0;if(((J|0)==(i|0)?(o[a+4>>2]|0)==(o[a+64>>2]|0):0)?(o[a+8>>2]|0)==(o[a+68>>2]|0):0){Y=a;G=69;break e}J=W+60|0;if((J|0)==(e|0)){K=e;Z=X;break}else{p=W;W=J;a=p}}}}while(0);if((G|0)==69)if((Y|0)==(e|0)){K=e;Z=X}else{X=Y;G=Y+60|0;e:while(1){Y=X+4|0;q=X+8|0;a=G;do{W=a;a=a+60|0;if((a|0)==(e|0))break e;if((o[X>>2]|0)!=(o[a>>2]|0))break;if((o[Y>>2]|0)!=(o[W+64>>2]|0))break}while((o[q>>2]|0)==(o[W+68>>2]|0));q=X+60|0;Y=q+0|0;W=a+0|0;i=Y+60|0;do{o[Y>>2]=o[W>>2];Y=Y+4|0;W=W+4|0}while((Y|0)<(i|0));X=q;G=a}K=X+60|0;Z=o[l>>2]|0}o[r>>2]=(K-Z|0)/60|0;Kr(s);h=n;return}function Ti(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;n=h;h=h+16|0;a=n;s=e+400|0;if((o[(o[s>>2]|0)+102876>>2]&2|0)!=0){h=n;return}l=r+4|0;u=r+8|0;di(e,o[l>>2]|0,o[u>>2]|0,o[e+44>>2]|0);c=t+4|0;f=t+8|0;di(e,o[c>>2]|0,o[f>>2]|0,o[l>>2]|0);d=o[l>>2]|0;o[a>>2]=7576;o[a+4>>2]=d;gi(e,1);_i(e,o[c>>2]|0,o[u>>2]|0,a);a=o[l>>2]|0;c=o[u>>2]|0;if((a|0)<(c|0)){d=e+144|0;p=a;do{o[(o[d>>2]|0)+(p<<2)>>2]=t;p=p+1|0}while((p|0)<(c|0))}c=t+12|0;t=o[c>>2]|0;p=o[r+12>>2]|t;d=(p^t)<<4&16|p;if((t&~d|0)!=0)i[e+20>>0]=1;t=e+16|0;a=o[t>>2]|0;if((d&~a|0)!=0){if((p&1|0)==0)m=a;else{p=e+132|0;E=o[p>>2]|0;if((E|0)==0){v=e+48|0;b=o[v>>2]|0;if((b|0)==0){ui(e,256);y=o[v>>2]|0}else y=b;b=yf(o[s>>2]|0,y<<2)|0;hd(b|0,0,o[v>>2]<<2|0)|0;g=b;_=o[t>>2]|0}else{g=E;_=a}o[p>>2]=g;m=_}o[t>>2]=m|d}o[c>>2]=d;o[f>>2]=o[u>>2];o[l>>2]=o[u>>2];si(e,r);h=n;return}function wi(e){e=e|0;return}function Ri(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;i=o[e>>2]|0;n=o[t>>2]|0;if((i|0)==(n|0)){a=(o[e+4>>2]|0)<(o[t+4>>2]|0);h=r;return a|0}else{a=(i-n|0)<0;h=r;return a|0}return 0}function xi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;i=o[e>>2]|0;n=o[t>>2]|0;if((i|0)!=(n|0)){a=(i-n|0)<0;h=r;return a|0}n=o[e+4>>2]|0;i=o[t+4>>2]|0;if((n|0)==(i|0)){a=(o[e+8>>2]|0)<(o[t+8>>2]|0);h=r;return a|0}else{a=(n-i|0)<0;h=r;return a|0}return 0}function Si(e){e=e|0;var t=0,r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0;t=h;r=e+400|0;n=e+220|0;a=If((o[r>>2]|0)+76|0,(o[n>>2]|0)*24|0)|0;s=o[n>>2]|0;if((s|0)>0){l=e+216|0;c=e+144|0;f=s;s=0;d=0;while(1){p=o[l>>2]|0;m=p+(d*24|0)|0;E=o[c>>2]|0;v=o[E+(o[m>>2]<<2)>>2]|0;if(((v|0)!=0?(v|0)==(o[E+(o[p+(d*24|0)+4>>2]<<2)>>2]|0):0)?(o[v+12>>2]&16|0)!=0:0){v=s+1|0;p=a+(s*24|0)|0;o[p+0>>2]=o[m+0>>2];o[p+4>>2]=o[m+4>>2];o[p+8>>2]=o[m+8>>2];o[p+12>>2]=o[m+12>>2];o[p+16>>2]=o[m+16>>2];o[p+20>>2]=o[m+20>>2];b=o[n>>2]|0;y=v}else{b=f;y=s}d=d+1|0;if((d|0)>=(b|0)){g=y;break}else{f=b;s=y}}}else g=0;y=If((o[r>>2]|0)+76|0,o[e+308>>2]<<2)|0;s=o[e+312>>2]|0;if((s|0)==0)_=0;else{b=e+16|0;f=e+124|0;d=e+132|0;n=e+48|0;c=e+20|0;l=s;s=0;while(1){v=l+12|0;m=o[v>>2]|0;if((m&16|0)!=0){p=s+1|0;o[y+(s<<2)>>2]=l;E=m&-17;if((((m|16)^-17)&m|0)!=0)i[c>>0]=1;T=o[b>>2]|0;if((E&~T|0)!=0){if((m&1|0)==0)w=T;else{m=o[d>>2]|0;if((m|0)==0){R=o[n>>2]|0;if((R|0)==0){ui(e,256);x=o[n>>2]|0}else x=R;R=yf(o[r>>2]|0,x<<2)|0;hd(R|0,0,o[n>>2]<<2|0)|0;S=R;M=o[b>>2]|0}else{S=m;M=T}o[d>>2]=S;w=M}o[b>>2]=w|E}o[v>>2]=E;E=o[l+4>>2]|0;v=o[l+8>>2]|0;if((E|0)<(v|0)){T=E+1|0;hd((o[f>>2]|0)+(E<<2)|0,0,((v|0)>(T|0)?v:T)-E<<2|0)|0;H=p}else H=p}else H=s;l=o[l+24>>2]|0;if((l|0)==0){_=H;break}else s=H}}H=(g|0)>0;if(H){s=o[e+124>>2]|0;l=0;do{f=o[a+(l*24|0)+4>>2]|0;A=+u[a+(l*24|0)+8>>2];w=s+(o[a+(l*24|0)>>2]<<2)|0;u[w>>2]=A+ +u[w>>2];w=s+(f<<2)|0;u[w>>2]=A+ +u[w>>2];l=l+1|0}while((l|0)!=(g|0))}l=(_|0)>0;if(l){s=e+124|0;w=e+132|0;f=0;do{b=o[y+(f<<2)>>2]|0;M=o[b+4>>2]|0;S=o[b+8>>2]|0;if((M|0)<(S|0)){b=o[s>>2]|0;d=o[w>>2]|0;n=M;do{u[d+(n<<2)>>2]=+u[b+(n<<2)>>2]<.800000011920929?0:3.4028234663852886E38;n=n+1|0}while((n|0)<(S|0))}f=f+1|0}while((f|0)!=(_|0))}f=~~+j(+ +(o[e+44>>2]|0));if((f|0)>0?(w=e+132|0,H):0){H=0;do{s=o[w>>2]|0;S=0;n=0;while(1){A=1-+u[a+(S*24|0)+8>>2];b=s+(o[a+(S*24|0)>>2]<<2)|0;d=s+(o[a+(S*24|0)+4>>2]<<2)|0;C=+u[d>>2];P=A+C;F=+u[b>>2];D=A+F;if(F>P){u[b>>2]=P;k=+u[d>>2];L=1}else{k=C;L=n}if(k>D){u[d>>2]=D;B=1}else B=L;S=S+1|0;if((S|0)==(g|0))break;else n=B}H=H+1|0}while(B&(H|0)<(f|0))}if(!l){O=o[r>>2]|0;N=O+76|0;Uf(N,y);I=o[r>>2]|0;V=I+76|0;Uf(V,a);h=t;return}l=e+132|0;f=e+32|0;e=0;do{H=o[y+(e<<2)>>2]|0;B=o[H+4>>2]|0;g=o[H+8>>2]|0;if((B|0)<(g|0)){H=o[l>>2]|0;L=B;do{B=H+(L<<2)|0;k=+u[B>>2];if(k<3.4028234663852886E38)U=k*+u[f>>2];else U=0;u[B>>2]=U;L=L+1|0}while((L|0)<(g|0))}e=e+1|0}while((e|0)!=(_|0));O=o[r>>2]|0;N=O+76|0;Uf(N,y);I=o[r>>2]|0;V=I+76|0;Uf(V,a);h=t;return}function Mi(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0;i=h;n=+u[t+36>>2];a=(~~(n*+u[r+4>>2]+-1+2048)>>>0<<20)+(~~((n*+u[r>>2]+-1)*256+524288)>>>0)|0;s=~~(n*+u[r+12>>2]+1+2048)>>>0;l=~~((n*+u[r+8>>2]+1)*256+524288)>>>0;r=o[t+200>>2]|0;c=o[t+204>>2]|0;t=r+(c<<3)|0;f=r;r=c<<3>>3;e:while(1){c=r;while(1){if((c|0)==0)break e;d=(c|0)/2|0;if((o[f+(d<<3)+4>>2]|0)>>>0<a>>>0)break;else c=d}f=f+(d+1<<3)|0;r=c+-1-d|0}d=(s<<20)+l|0;l=f;s=t-f>>3;e:while(1){t=s;while(1){if((t|0)==0)break e;p=(t|0)/2|0;if((o[l+(p<<3)+4>>2]|0)>>>0>d>>>0)t=p;else break}l=l+(p+1<<3)|0;s=t+-1-p|0}o[e>>2]=a&1048575;o[e+4>>2]=d&1048575;o[e+8>>2]=a&-1048576;o[e+12>>2]=d&-1048576;o[e+16>>2]=f;o[e+20>>2]=l;h=i;return}function Hi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0;r=h;i=o[e+200>>2]|0;n=o[e+204>>2]|0;a=i+(n<<3)|0;o[t+4>>2]=0;if((n|0)>0){s=i;l=i}else{h=r;return}while(1){i=s+4|0;n=(o[i>>2]|0)+256|0;u=s;s=s+8|0;c=s>>>0<a>>>0;e:do{if(c){f=s;do{if(n>>>0<(o[f+4>>2]|0)>>>0)break e;Ai(e,o[u>>2]|0,o[f>>2]|0,t);f=f+8|0}while(f>>>0<a>>>0)}}while(0);n=o[i>>2]|0;f=n+1048320|0;e:do{if(l>>>0<a>>>0){d=l;while(1){p=d+8|0;if(!(f>>>0>(o[d+4>>2]|0)>>>0)){m=d;break e}if(p>>>0<a>>>0)d=p;else{m=p;break}}}else m=l}while(0);f=n+1048832|0;e:do{if(m>>>0<a>>>0){i=m;do{if(f>>>0<(o[i+4>>2]|0)>>>0)break e;Ai(e,o[u>>2]|0,o[i>>2]|0,t);i=i+8|0}while(i>>>0<a>>>0)}}while(0);if(!c)break;else l=m}h=r;return}function Ai(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;n=h;a=o[e+96>>2]|0;s=+u[a+(r<<3)>>2]-+u[a+(t<<3)>>2];l=+u[a+(r<<3)+4>>2]-+u[a+(t<<3)+4>>2];c=s*s+l*l;if(!(c<+u[e+40>>2])){h=n;return}f=(o[d>>2]=1597463007-((u[d>>2]=c,o[d>>2]|0)>>1),+u[d>>2]);p=f*(1.5-f*c*.5*f);a=i+4|0;m=o[a>>2]|0;E=i+8|0;v=o[E>>2]|0;if((m|0)>=(v|0)?(b=(v|0)==0?256:v<<1,(v|0)<(b|0)):0){v=i+12|0;y=yf(o[v>>2]|0,b*24|0)|0;g=o[i>>2]|0;if((g|0)!=0){pd(y|0,g|0,(o[a>>2]|0)*24|0)|0;gf(o[v>>2]|0,o[i>>2]|0,(o[E>>2]|0)*24|0)}o[E>>2]=b;o[i>>2]=y;_=o[a>>2]|0}else _=m;o[a>>2]=_+1;a=o[i>>2]|0;o[a+(_*24|0)>>2]=t;o[a+(_*24|0)+4>>2]=r;i=o[e+88>>2]|0;o[a+(_*24|0)+20>>2]=o[i+(r<<2)>>2]|o[i+(t<<2)>>2];u[a+(_*24|0)+8>>2]=1-c*p*+u[e+36>>2];c=+(s*p);s=+(l*p);e=a+(_*24|0)+12|0;u[e>>2]=c;u[e+4>>2]=s;h=n;return}function Ci(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0;r=h;if((o[e+8>>2]&131072|0)==0){h=r;return}i=o[(o[e+400>>2]|0)+102948>>2]|0;if((i|0)==0){h=r;return}n=o[t>>2]|0;a=t+4|0;s=o[a>>2]|0;l=n+(s*24|0)|0;e:do{if((s|0)==0){u=n;c=8}else{f=n;while(1){if((o[f+20>>2]&131072|0)!=0?!(yp[o[(o[i>>2]|0)+16>>2]&7](i,e,o[f>>2]|0,o[f+4>>2]|0)|0):0){u=f;c=8;break e}f=f+24|0;if((f|0)==(l|0)){d=l;break}}}}while(0);e:do{if((c|0)==8)if((u|0)==(l|0))d=l;else{n=u;s=u;while(1){f=s;do{p=f;f=f+24|0;if((f|0)==(l|0)){d=n;break e}if((o[p+44>>2]&131072|0)==0)break}while(!(yp[o[(o[i>>2]|0)+16>>2]&7](i,e,o[f>>2]|0,o[p+28>>2]|0)|0));o[n+0>>2]=o[f+0>>2];o[n+4>>2]=o[f+4>>2];o[n+8>>2]=o[f+8>>2];o[n+12>>2]=o[f+12>>2];o[n+16>>2]=o[f+16>>2];o[n+20>>2]=o[f+20>>2];n=n+24|0;s=f}}}while(0);o[a>>2]=(d-(o[t>>2]|0)|0)/24|0;h=r;return}function Pi(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0;n=h;h=h+16|0;a=n;s=o[e>>2]|0;if((s|0)!=0){Uf(o[e+12>>2]|0,s);o[e>>2]=0;o[e+8>>2]=0}if((r|0)==0)l=o[e+8>>2]|0;else{s=If(o[e+12>>2]|0,r*9|0)|0;o[e>>2]=s;u=s+(r<<3)|0;o[e+4>>2]=u;hd(u|0,1,r|0)|0;o[e+8>>2]=r;l=r}if((l|0)==0){h=n;return}l=o[e>>2]|0;if((r|0)>0){u=0;s=0;while(1){c=o[t+(u*24|0)>>2]|0;if((!((c|0)==-1)?(f=t+(u*24|0)+4|0,d=o[f>>2]|0,!((d|0)==-1)):0)?((o[i+(d<<2)>>2]|o[i+(c<<2)>>2])&32768|0)!=0:0){o[l+(u<<3)>>2]=c;o[l+(u<<3)+4>>2]=o[f>>2];p=s+1|0}else p=s;u=u+1|0;if((u|0)==(r|0)){m=p;break}else s=p}}else m=0;o[e+8>>2]=m;o[a>>2]=29;Ft(l,l+(m<<3)|0,a);h=n;return}function Fi(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0;r=h;if((o[e+8>>2]&32768|0)==0){h=r;return}n=o[(o[e+400>>2]|0)+102952>>2]|0;if((n|0)==0){h=r;return}a=o[e+220>>2]|0;s=o[e+216>>2]|0;l=s+(a*24|0)|0;u=t+8|0;if((a|0)>0){a=t+4|0;c=s;while(1){s=o[c>>2]|0;f=o[c+4>>2]|0;d=o[u>>2]|0;do{if((d|0)==0)p=24;else{m=o[t>>2]|0;E=m;v=m+(d<<3)-E>>3;b=(v|0)==0;e:do{if(b)y=m;else{g=m;_=v;while(1){T=_;while(1){w=(T|0)/2|0;if((o[g+(w<<3)>>2]|0)<(s|0)?(o[g+(w<<3)+4>>2]|0)<(f|0):0)break;if((T+1|0)>>>0<3){y=g;break e}else T=w}R=g+(w+1<<3)|0;x=T+-1|0;if((x|0)==(w|0)){y=R;break}else{g=R;_=x-w|0}}}}while(0);if((y|0)!=0?(_=(y-E|0)>>>3,g=o[a>>2]|0,(i[g+_>>0]|0)!=0):0){S=g;M=_}else{e:do{if(b)H=m;else{_=m;g=v;while(1){x=g;while(1){A=(x|0)/2|0;if((o[_+(A<<3)>>2]|0)<(f|0)?(o[_+(A<<3)+4>>2]|0)<(s|0):0)break;if((x+1|0)>>>0<3){H=_;break e}else x=A}T=_+(A+1<<3)|0;R=x+-1|0;if((R|0)==(A|0)){H=T;break}else{_=T;g=R-A|0}}}}while(0);if((H|0)==0){p=24;break}v=(H-E|0)>>>3;m=o[a>>2]|0;if((i[m+v>>0]|0)==0){p=24;break}else{S=m;M=v}}i[S+M>>0]=0}}while(0);if((p|0)==24){p=0;Ep[o[(o[n>>2]|0)+24>>2]&7](n,e,c)}c=c+24|0;if(!(c>>>0<l>>>0)){C=t;P=a;break}}}else{C=t;P=t+4|0}t=o[u>>2]|0;u=o[C>>2]|0;C=o[P>>2]|0;if((t|0)<=0){h=r;return}P=0;do{if((i[C+P>>0]|0)!=0)wp[o[(o[n>>2]|0)+28>>2]&31](n,e,o[u+(P<<3)>>2]|0,o[u+(P<<3)+4>>2]|0);P=P+1|0}while((P|0)!=(t|0));h=r;return}function Di(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0;r=h;i=e+156|0;if((o[i>>2]|0)<1){h=r;return}n=(o[e+176>>2]|0)+(t<<2)|0;a=(o[e+160>>2]|0)+(t<<2)|0;s=(o[e+168>>2]|0)+(t<<2)|0;l=(o[s>>2]|0)+1|0;o[s>>2]=l;if((l|0)==2?(l=o[n>>2]|0,o[n>>2]=l+1,(l|0)>=(o[i>>2]|0)):0){i=e+184|0;l=e+188|0;n=o[l>>2]|0;s=e+192|0;u=o[s>>2]|0;if((n|0)>=(u|0)?(c=(u|0)==0?256:u<<1,(u|0)<(c|0)):0){u=e+196|0;f=yf(o[u>>2]|0,c<<2)|0;d=o[i>>2]|0;if((d|0)!=0){pd(f|0,d|0,o[l>>2]<<2|0)|0;gf(o[u>>2]|0,o[i>>2]|0,o[s>>2]<<2)}o[s>>2]=c;o[i>>2]=f;p=o[l>>2]|0}else p=n;o[l>>2]=p+1;o[(o[i>>2]|0)+(p<<2)>>2]=t}o[a>>2]=o[e+4>>2];h=r;return}function ki(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0;n=h;h=h+16|0;a=n;s=o[e>>2]|0;if((s|0)!=0){Uf(o[e+12>>2]|0,s);o[e>>2]=0;o[e+8>>2]=0}if((r|0)==0)l=o[e+8>>2]|0;else{s=If(o[e+12>>2]|0,r*9|0)|0;o[e>>2]=s;u=s+(r<<3)|0;o[e+4>>2]=u;hd(u|0,1,r|0)|0;o[e+8>>2]=r;l=r}if((l|0)==0){h=n;return}l=o[e>>2]|0;if((r|0)>0){u=0;s=0;while(1){c=o[t+(u*28|0)>>2]|0;if(!((c|0)==-1)?(o[i+(c<<2)>>2]&16384|0)!=0:0){o[l+(u<<3)>>2]=o[t+(u*28|0)+8>>2];o[l+(u<<3)+4>>2]=c;f=s+1|0}else f=s;u=u+1|0;if((u|0)==(r|0)){d=f;break}else s=f}}else d=0;o[e+8>>2]=d;o[a>>2]=30;Lt(l,l+(d<<3)|0,a);h=n;return}function Li(e,t){e=e|0;t=t|0;var r=0,i=0;r=h;if(!((o[e>>2]|0)>>>0<(o[t>>2]|0)>>>0)){i=0;h=r;return i|0}i=(o[e+4>>2]|0)<(o[t+4>>2]|0);h=r;return i|0}function Bi(e,t){e=e|0;t=t|0;var r=0,i=0;r=h;if((o[e>>2]|0)>=(o[t>>2]|0)){i=0;h=r;return i|0}i=(o[e+4>>2]|0)<(o[t+4>>2]|0);h=r;return i|0}function Oi(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0;r=h;if((o[e+8>>2]&16384|0)==0){h=r;return}n=o[(o[e+400>>2]|0)+102952>>2]|0;if((n|0)==0){h=r;return}a=e+232|0;s=e+236|0;if((o[s>>2]|0)==0){l=t;u=t+8|0;c=t+4|0}else{f=t+8|0;d=t+4|0;p=o[a>>2]|0;while(1){m=o[p+8>>2]|0;E=o[p>>2]|0;v=o[f>>2]|0;if((v|0)!=0){b=o[t>>2]|0;y=b;g=b+(v<<3)-y>>3;e:do{if((g|0)==0)_=b;else{v=b;T=g;while(1){w=T;while(1){R=(w|0)/2|0;if((o[v+(R<<3)>>2]|0)>>>0<m>>>0?(o[v+(R<<3)+4>>2]|0)<(E|0):0)break;if((w+1|0)>>>0<3){_=v;break e}else w=R}x=v+(R+1<<3)|0;S=w+-1|0;if((S|0)==(R|0)){_=x;break}else{v=x;T=S-R|0}}}}while(0);if((_|0)!=0?(E=(o[d>>2]|0)+((_-y|0)>>>3)|0,(i[E>>0]|0)!=0):0)i[E>>0]=0;else M=16}else M=16;if((M|0)==16){M=0;Ep[o[(o[n>>2]|0)+16>>2]&7](n,e,p)}p=p+28|0;if((p|0)==((o[a>>2]|0)+((o[s>>2]|0)*28|0)|0)){l=t;u=f;c=d;break}}}d=o[l>>2]|0;l=o[c>>2]|0;c=o[u>>2]|0;if((c|0)<=0){h=r;return}u=0;do{if((i[l+u>>0]|0)!=0)wp[o[(o[n>>2]|0)+20>>2]&31](n,o[d+(u<<3)>>2]|0,e,o[d+(u<<3)+4>>2]|0);u=u+1|0}while((u|0)!=(c|0));h=r;return}function Ni(e){e=e|0;var t=0,r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0;t=h;h=h+48|0;r=t+32|0;n=t+16|0;a=t;s=e+400|0;l=o[s>>2]|0;o[r>>2]=0;o[r+4>>2]=0;c=r+8|0;o[c>>2]=0;f=r+12|0;o[f>>2]=l+76;d=e+8|0;if((o[d>>2]&16384|0)!=0?(o[l+102952>>2]|0)!=0:0)ki(r,o[e+232>>2]|0,o[e+236>>2]|0,o[e+88>>2]|0);if((o[e+156>>2]|0)>0?(l=o[e+44>>2]|0,(l|0)>0):0){p=o[e+168>>2]|0;m=e+4|0;E=o[e+160>>2]|0;v=e+176|0;b=0;do{o[p+(b<<2)>>2]=0;if((o[m>>2]|0)>((o[E+(b<<2)>>2]|0)+1|0))o[(o[v>>2]|0)+(b<<2)>>2]=0;b=b+1|0}while((b|0)!=(l|0))}o[e+236>>2]=0;o[e+188>>2]=0;if((o[d>>2]&65536|0)==0)y=0;else y=o[(o[s>>2]|0)+102948>>2]|0;o[n+4>>2]=e;o[n>>2]=7056;o[n+8>>2]=y;y=o[e+44>>2]|0;u[a>>2]=3.4028234663852886E38;d=a+4|0;u[d>>2]=3.4028234663852886E38;l=a+8|0;u[l>>2]=-3.4028234663852886E38;b=a+12|0;u[b>>2]=-3.4028234663852886E38;if((y|0)>0){v=o[e+96>>2]|0;g=3.4028234663852886E38;_=3.4028234663852886E38;T=-3.4028234663852886E38;w=-3.4028234663852886E38;E=0;while(1){m=v+(E<<3)|0;R=+u[m>>2];x=+u[m+4>>2];S=g<R?g:R;M=_<x?_:x;H=+S;A=+M;m=a;u[m>>2]=H;u[m+4>>2]=A;A=T>R?T:R;R=w>x?w:x;x=+A;H=+R;m=l;u[m>>2]=x;u[m+4>>2]=H;E=E+1|0;if((E|0)==(y|0)){C=R;P=S;F=M;D=A;break}else{g=S;_=M;T=A;w=R}}}else{C=-3.4028234663852886E38;P=3.4028234663852886E38;F=3.4028234663852886E38;D=-3.4028234663852886E38}w=+u[e+32>>2];u[a>>2]=P-w;u[d>>2]=F-w;u[l>>2]=D+w;u[b>>2]=C+w;vr(o[s>>2]|0,n,a);if((i[e+316>>0]|0)!=0)Ii(e);Oi(e,r);e=o[r>>2]|0;if((e|0)==0){h=t;return}Uf(o[f>>2]|0,e);o[r>>2]=0;o[c>>2]=0;h=t;return}function Ii(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0;t=h;h=h+32|0;r=t+20|0;i=t;n=t+16|0;a=e+232|0;s=o[a>>2]|0;l=e+236|0;u=s+((o[l>>2]|0)*28|0)|0;o[r>>2]=31;Ht(s,u,r);o[n>>2]=0;r=o[a>>2]|0;a=o[l>>2]|0;u=r+(a*28|0)|0;o[i>>2]=e;o[i+4>>2]=-1;o[i+8>>2]=0;o[i+12>>2]=n;e:do{if((a|0)==0)c=r;else{e=r;do{if(Mt(i,e)|0){c=e;break e}e=e+28|0}while((e|0)!=(u|0));f=o[l>>2]|0;d=o[n>>2]|0;p=f-d|0;o[l>>2]=p;h=t;return}}while(0);if((c|0)==(u|0)){f=o[l>>2]|0;d=o[n>>2]|0;p=f-d|0;o[l>>2]=p;h=t;return}else{m=c;E=c}e:while(1){c=E;do{c=c+28|0;if((c|0)==(u|0))break e}while(Mt(i,c)|0);o[m+0>>2]=o[c+0>>2];o[m+4>>2]=o[c+4>>2];o[m+8>>2]=o[c+8>>2];o[m+12>>2]=o[c+12>>2];o[m+16>>2]=o[c+16>>2];o[m+20>>2]=o[c+20>>2];o[m+24>>2]=o[c+24>>2];m=m+28|0;E=c}f=o[l>>2]|0;d=o[n>>2]|0;p=f-d|0;o[l>>2]=p;h=t;return}function Vi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;i=o[e>>2]|0;n=o[t>>2]|0;if((i|0)==(n|0)){a=+u[e+12>>2]>+u[t+12>>2];h=r;return a|0}else{a=(i|0)<(n|0);h=r;return a|0}return 0}function Ui(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;Ao(e,t);o[e>>2]=1056;i=t+20|0;n=o[i+4>>2]|0;a=e+68|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;u[e+76>>2]=+u[t+28>>2];u[e+80>>2]=0;u[e+84>>2]=0;u[e+88>>2]=0;u[e+92>>2]=+u[t+32>>2];u[e+96>>2]=+u[t+36>>2];u[e+100>>2]=+u[t+40>>2];h=r;return}function zi(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0,Ce=0;r=h;n=o[e+48>>2]|0;a=o[n+8>>2]|0;s=e+104|0;o[s>>2]=a;l=o[e+52>>2]|0;c=o[l+8>>2]|0;f=e+108|0;o[f>>2]=c;p=n+44|0;m=o[p>>2]|0;E=o[p+4>>2]|0;p=e+128|0;o[p>>2]=m;o[p+4>>2]=E;p=l+44|0;v=o[p>>2]|0;b=o[p+4>>2]|0;p=e+136|0;o[p>>2]=v;o[p+4>>2]=b;p=e+156|0;u[p>>2]=+u[n+136>>2];y=e+160|0;u[y>>2]=+u[l+136>>2];g=e+164|0;u[g>>2]=+u[n+144>>2];n=e+168|0;u[n>>2]=+u[l+144>>2];l=o[t+28>>2]|0;_=l+(a*12|0)|0;T=+u[_>>2];w=+u[_+4>>2];R=+u[l+(a*12|0)+8>>2];_=t+32|0;x=o[_>>2]|0;S=x+(a*12|0)|0;M=+u[S>>2];H=+u[S+4>>2];A=+u[x+(a*12|0)+8>>2];a=l+(c*12|0)|0;C=+u[a>>2];P=+u[a+4>>2];F=+u[l+(c*12|0)+8>>2];l=x+(c*12|0)|0;D=+u[l>>2];k=+u[l+4>>2];L=+u[x+(c*12|0)+8>>2];B=+q(+R);O=+X(+R);N=+q(+F);I=+X(+F);V=-(o[d>>2]=m,+u[d>>2]);U=-(o[d>>2]=E,+u[d>>2]);z=O*V-B*U;G=B*V+O*U;U=+z;V=+G;E=e+112|0;u[E>>2]=U;u[E+4>>2]=V;V=-(o[d>>2]=v,+u[d>>2]);U=-(o[d>>2]=b,+u[d>>2]);W=I*V-N*U;j=N*V+I*U;U=+W;I=+j;b=e+120|0;u[b>>2]=U;u[b+4>>2]=I;I=+u[p>>2];U=+u[y>>2];V=+u[g>>2];N=+u[n>>2];J=I+U;Y=J+G*V*G+j*N*j;K=V*z;Z=N*W;Q=-(G*K)-j*Z;$=J+z*K+W*Z;Z=Y*$-Q*Q;if(Z!=0)ee=1/Z;else ee=Z;Z=-(Q*ee);u[e+172>>2]=$*ee;u[e+176>>2]=Z;u[e+180>>2]=Z;u[e+184>>2]=Y*ee;ee=V+N;if(ee>0)te=1/ee;else te=ee;u[e+188>>2]=te;te=+u[e+68>>2];ee=+u[e+72>>2];Y=+(C+W-T-z-(O*te-B*ee));T=+(P+j-w-G-(B*te+O*ee));n=e+144|0;u[n>>2]=Y;u[n+4>>2]=T;u[e+152>>2]=F-R-+u[e+76>>2];n=e+80|0;if((i[t+24>>0]|0)==0){u[n>>2]=0;u[e+84>>2]=0;u[e+88>>2]=0;re=M;ie=H;ne=D;oe=k;ae=A;se=L;le=o[s>>2]|0;ue=o[_>>2]|0;ce=ue+(le*12|0)|0;he=+re;fe=+ie;de=ce;pe=de;u[pe>>2]=he;me=de+4|0;Ee=me;u[Ee>>2]=fe;ve=o[s>>2]|0;be=o[_>>2]|0;ye=be+(ve*12|0)+8|0;u[ye>>2]=ae;ge=o[f>>2]|0;_e=be+(ge*12|0)|0;Te=+ne;we=+oe;Re=_e;xe=Re;u[xe>>2]=Te;Se=Re+4|0;Me=Se;u[Me>>2]=we;He=o[f>>2]|0;Ae=o[_>>2]|0;Ce=Ae+(He*12|0)+8|0;u[Ce>>2]=se;h=r;return}else{g=t+8|0;R=+u[g>>2];F=R*+u[n>>2];u[n>>2]=F;n=e+84|0;T=R*+u[n>>2];u[n>>2]=T;n=e+88|0;R=+u[g>>2]*+u[n>>2];u[n>>2]=R;re=M-I*F;ie=H-I*T;ne=D+U*F;oe=k+U*T;ae=A-V*(R+(T*z-F*G));se=L+N*(R+(T*W-F*j));le=o[s>>2]|0;ue=o[_>>2]|0;ce=ue+(le*12|0)|0;he=+re;fe=+ie;de=ce;pe=de;u[pe>>2]=he;me=de+4|0;Ee=me;u[Ee>>2]=fe;ve=o[s>>2]|0;be=o[_>>2]|0;ye=be+(ve*12|0)+8|0;u[ye>>2]=ae;ge=o[f>>2]|0;_e=be+(ge*12|0)|0;Te=+ne;we=+oe;Re=_e;xe=Re;u[xe>>2]=Te;Se=Re+4|0;Me=Se;u[Me>>2]=we;He=o[f>>2]|0;Ae=o[_>>2]|0;Ce=Ae+(He*12|0)+8|0;u[Ce>>2]=se;h=r;return}}function Gi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0;r=h;i=e+104|0;n=o[i>>2]|0;a=t+32|0;s=o[a>>2]|0;l=s+(n*12|0)|0;c=+u[l>>2];f=+u[l+4>>2];d=+u[s+(n*12|0)+8>>2];n=e+108|0;l=o[n>>2]|0;p=s+(l*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[s+(l*12|0)+8>>2];b=+u[e+156>>2];y=+u[e+160>>2];g=+u[e+164>>2];_=+u[e+168>>2];T=+u[t>>2];w=+u[t+4>>2]*+u[e+100>>2];t=e+88|0;R=+u[t>>2];x=T*+u[e+96>>2];S=R-+u[e+188>>2]*(v-d+w*+u[e+152>>2]);M=-x;H=S<x?S:x;x=H<M?M:H;u[t>>2]=x;H=x-R;R=d-g*H;d=v+_*H;H=+u[e+124>>2];v=+u[e+120>>2];x=+u[e+116>>2];M=+u[e+112>>2];S=+u[e+144>>2]*w+(x*R+(m-H*d-c));A=w*+u[e+148>>2]+(E+v*d-f-M*R);w=+u[e+176>>2]*S+ +u[e+184>>2]*A;t=e+80|0;l=t;C=+u[l>>2];P=+u[l+4>>2];F=C-(+u[e+172>>2]*S+ +u[e+180>>2]*A);u[t>>2]=F;l=e+84|0;A=+u[l>>2]-w;u[l>>2]=A;w=T*+u[e+92>>2];T=F*F+A*A;if(T>w*w){S=+j(+T);if(S<1.1920928955078125E-7){D=F;k=A}else{T=1/S;S=F*T;u[t>>2]=S;L=A*T;u[l>>2]=L;D=S;k=L}L=w*D;u[t>>2]=L;D=w*k;u[l>>2]=D;B=L;O=D}else{B=F;O=A}A=B-C;C=O-P;P=+(c-b*A);c=+(f-b*C);l=(o[a>>2]|0)+((o[i>>2]|0)*12|0)|0;u[l>>2]=P;u[l+4>>2]=c;l=o[a>>2]|0;u[l+((o[i>>2]|0)*12|0)+8>>2]=R-g*(M*C-A*x);x=+(m+y*A);m=+(E+y*C);i=l+((o[n>>2]|0)*12|0)|0;u[i>>2]=x;u[i+4>>2]=m;u[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=d+_*(C*v-A*H);h=r;return}function Wi(e,t){e=e|0;t=t|0;return 1}function ji(e,t){e=e|0;t=t|0;var r=0,i=0;r=(o[t+48>>2]|0)+12|0;t=o[r+4>>2]|0;i=e;o[i>>2]=o[r>>2];o[i+4>>2]=t;return}function Ji(e,t){e=e|0;t=t|0;var r=0,i=0;r=(o[t+52>>2]|0)+12|0;t=o[r+4>>2]|0;i=e;o[i>>2]=o[r>>2];o[i+4>>2]=t;return}function Xi(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+u[t+84>>2]*r;u[e>>2]=+u[t+80>>2]*r;u[e+4>>2]=i;return}function qi(e,t){e=e|0;t=+t;return+(+u[e+88>>2]*t)}function Yi(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,l=0,c=0;r=h;i=e+68|0;if(!(+u[t>>2]!=+u[i>>2])?!(+u[t+4>>2]!=+u[e+72>>2]):0){h=r;return}a=o[e+48>>2]|0;l=a+4|0;c=s[l>>1]|0;if((c&2|0)==0){n[l>>1]=c|2;u[a+160>>2]=0}a=o[e+52>>2]|0;e=a+4|0;c=s[e>>1]|0;if((c&2|0)==0){n[e>>1]=c|2;u[a+160>>2]=0}a=t;t=o[a+4>>2]|0;c=i;o[c>>2]=o[a>>2];o[c+4>>2]=t;h=r;return}function Ki(e,t){e=e|0;t=+t;var r=0,i=0,a=0,l=0,c=0;r=h;i=e+76|0;if(!(+u[i>>2]!=t)){h=r;return}a=o[e+48>>2]|0;l=a+4|0;c=s[l>>1]|0;if((c&2|0)==0){n[l>>1]=c|2;u[a+160>>2]=0}a=o[e+52>>2]|0;e=a+4|0;c=s[e>>1]|0;if((c&2|0)==0){n[e>>1]=c|2;u[a+160>>2]=0}u[i>>2]=t;h=r;return}function Zi(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Ff(1104,r);o[r>>2]=i;Ff(1128,r);o[r>>2]=n;Ff(1160,r);o[r>>2]=a[e+61>>0]|0;Ff(1192,r);s=+u[e+72>>2];c[d>>3]=+u[e+68>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(1232,r);c[d>>3]=+u[e+76>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(1280,r);c[d>>3]=+u[e+92>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(1312,r);c[d>>3]=+u[e+96>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(1344,r);c[d>>3]=+u[e+100>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(1376,r);o[r>>2]=o[e+56>>2];Ff(1416,r);h=t;return}function Qi(e,t){e=e|0;t=t|0;return}function $i(e){e=e|0;return}function en(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function tn(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0;a=h;o[e+8>>2]=t;o[e+12>>2]=r;s=+u[i>>2]-+u[t+12>>2];l=i+4|0;c=+u[l>>2]-+u[t+16>>2];f=+u[t+24>>2];d=+u[t+20>>2];p=+(s*f+c*d);m=+(f*c-s*d);t=e+20|0;u[t>>2]=p;u[t+4>>2]=m;m=+u[n>>2]-+u[r+12>>2];t=n+4|0;p=+u[t>>2]-+u[r+16>>2];d=+u[r+24>>2];s=+u[r+20>>2];c=+(m*d+p*s);f=+(d*p-m*s);r=e+28|0;u[r>>2]=c;u[r+4>>2]=f;f=+u[n>>2]-+u[i>>2];c=+u[t>>2]-+u[l>>2];u[e+36>>2]=+j(+(f*f+c*c));h=a;return}function rn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;Ao(e,t);o[e>>2]=1504;i=t+20|0;n=o[i+4>>2]|0;a=e+80|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=t+28|0;a=o[n+4>>2]|0;i=e+88|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;u[e+104>>2]=+u[t+36>>2];u[e+68>>2]=+u[t+40>>2];u[e+72>>2]=+u[t+44>>2];u[e+100>>2]=0;u[e+96>>2]=0;u[e+76>>2]=0;h=r;return}function nn(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0;r=h;n=o[e+48>>2]|0;a=o[n+8>>2]|0;s=e+108|0;o[s>>2]=a;l=o[e+52>>2]|0;c=o[l+8>>2]|0;f=e+112|0;o[f>>2]=c;p=n+44|0;m=o[p>>2]|0;E=o[p+4>>2]|0;p=e+140|0;o[p>>2]=m;o[p+4>>2]=E;p=l+44|0;v=o[p>>2]|0;b=o[p+4>>2]|0;p=e+148|0;o[p>>2]=v;o[p+4>>2]=b;b=e+156|0;u[b>>2]=+u[n+136>>2];p=e+160|0;u[p>>2]=+u[l+136>>2];y=e+164|0;u[y>>2]=+u[n+144>>2];n=e+168|0;u[n>>2]=+u[l+144>>2];l=o[t+28>>2]|0;g=l+(a*12|0)|0;_=+u[g>>2];T=+u[g+4>>2];w=+u[l+(a*12|0)+8>>2];g=t+32|0;R=o[g>>2]|0;x=R+(a*12|0)|0;S=+u[x>>2];M=+u[x+4>>2];H=+u[R+(a*12|0)+8>>2];a=l+(c*12|0)|0;A=+u[a>>2];C=+u[a+4>>2];P=+u[l+(c*12|0)+8>>2];l=R+(c*12|0)|0;F=+u[l>>2];D=+u[l+4>>2];k=+u[R+(c*12|0)+8>>2];L=+q(+w);B=+X(+w);w=+q(+P);O=+X(+P);P=+u[e+80>>2]-(o[d>>2]=m,+u[d>>2]);N=+u[e+84>>2]-(o[d>>2]=E,+u[d>>2]);I=B*P-L*N;V=L*P+B*N;N=+I;B=+V;E=e+124|0;u[E>>2]=N;u[E+4>>2]=B;B=+u[e+88>>2]-(o[d>>2]=v,+u[d>>2]);N=+u[e+92>>2]-+u[e+152>>2];P=O*B-w*N;L=w*B+O*N;N=+P;O=+L;v=e+132|0;u[v>>2]=N;u[v+4>>2]=O;v=e+116|0;O=A+P-_-I;_=C+L-T-V;T=+O;C=+_;E=v;u[E>>2]=T;u[E+4>>2]=C;C=+j(+(O*O+_*_));if(C>.004999999888241291){T=1/C;A=O*T;u[v>>2]=A;U=T*_;z=A}else{u[v>>2]=0;U=0;z=0}u[e+120>>2]=U;A=U*I-V*z;_=U*P-z*L;T=+u[b>>2];O=+u[y>>2];N=+u[p>>2];B=+u[n>>2];w=N+(T+A*A*O)+_*_*B;if(w!=0)G=1/w;else G=0;n=e+172|0;u[n>>2]=G;_=+u[e+68>>2];if(_>0){A=C-+u[e+104>>2];C=_*6.2831854820251465;_=C*G*C;W=+u[t>>2];J=W*(C*G*2*+u[e+72>>2]+_*W);p=e+96|0;u[p>>2]=J;if(J!=0)Y=1/J;else Y=0;u[p>>2]=Y;u[e+76>>2]=_*A*W*Y;W=w+Y;if(W!=0)K=1/W;else K=0;u[n>>2]=K}else{u[e+96>>2]=0;u[e+76>>2]=0}if((i[t+24>>0]|0)==0){u[e+100>>2]=0;Z=S;Q=M;$=F;ee=D;te=H;re=k;ie=o[s>>2]|0;ne=o[g>>2]|0;oe=ne+(ie*12|0)|0;ae=+Z;se=+Q;le=oe;ue=le;u[ue>>2]=ae;ce=le+4|0;he=ce;u[he>>2]=se;fe=o[s>>2]|0;de=o[g>>2]|0;pe=de+(fe*12|0)+8|0;u[pe>>2]=te;me=o[f>>2]|0;Ee=de+(me*12|0)|0;ve=+$;be=+ee;ye=Ee;ge=ye;u[ge>>2]=ve;_e=ye+4|0;Te=_e;u[Te>>2]=be;we=o[f>>2]|0;Re=o[g>>2]|0;xe=Re+(we*12|0)+8|0;u[xe>>2]=re;h=r;return}else{n=e+100|0;K=+u[t+8>>2]*+u[n>>2];u[n>>2]=K;W=z*K;z=K*U;Z=S-W*T;Q=M-z*T;$=F+W*N;ee=D+z*N;te=H-O*(z*I-W*V);re=k+B*(z*P-W*L);ie=o[s>>2]|0;ne=o[g>>2]|0;oe=ne+(ie*12|0)|0;ae=+Z;se=+Q;le=oe;ue=le;u[ue>>2]=ae;ce=le+4|0;he=ce;u[he>>2]=se;fe=o[s>>2]|0;de=o[g>>2]|0;pe=de+(fe*12|0)+8|0;u[pe>>2]=te;me=o[f>>2]|0;Ee=de+(me*12|0)|0;ve=+$;be=+ee;ye=Ee;ge=ye;u[ge>>2]=ve;_e=ye+4|0;Te=_e;u[Te>>2]=be;we=o[f>>2]|0;Re=o[g>>2]|0;xe=Re+(we*12|0)+8|0;u[xe>>2]=re;h=r;return}}function on(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0;r=h;i=e+108|0;n=o[i>>2]|0;a=t+32|0;t=o[a>>2]|0;s=t+(n*12|0)|0;l=s;c=+u[l>>2];f=+u[l+4>>2];d=+u[t+(n*12|0)+8>>2];n=e+112|0;l=o[n>>2]|0;p=t+(l*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[t+(l*12|0)+8>>2];b=+u[e+128>>2];y=+u[e+124>>2];g=+u[e+136>>2];_=+u[e+132>>2];T=+u[e+116>>2];w=+u[e+120>>2];l=e+100|0;R=+u[l>>2];x=+u[e+172>>2]*(+u[e+76>>2]+(T*(m-v*g-(c-d*b))+w*(E+v*_-(f+d*y)))+ +u[e+96>>2]*R);S=-x;u[l>>2]=R-x;x=T*S;T=w*S;S=+u[e+156>>2];w=d-+u[e+164>>2]*(y*T-x*b);b=+u[e+160>>2];y=v+ +u[e+168>>2]*(T*_-x*g);g=+(c-S*x);c=+(f-S*T);e=s;u[e>>2]=g;u[e+4>>2]=c;e=o[a>>2]|0;u[e+((o[i>>2]|0)*12|0)+8>>2]=w;w=+(m+x*b);x=+(E+T*b);i=e+((o[n>>2]|0)*12|0)|0;u[i>>2]=w;u[i+4>>2]=x;u[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=y;h=r;return}function an(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0;r=h;if(+u[e+68>>2]>0){i=1;h=r;return i|0}n=e+108|0;a=o[n>>2]|0;s=t+28|0;t=o[s>>2]|0;l=t+(a*12|0)|0;c=l;f=+u[c>>2];d=+u[c+4>>2];p=+u[t+(a*12|0)+8>>2];a=e+112|0;c=o[a>>2]|0;m=t+(c*12|0)|0;E=+u[m>>2];v=+u[m+4>>2];b=+u[t+(c*12|0)+8>>2];y=+q(+p);g=+X(+p);_=+q(+b);T=+X(+b);w=+u[e+80>>2]-+u[e+140>>2];R=+u[e+84>>2]-+u[e+144>>2];x=g*w-y*R;S=y*w+g*R;R=+u[e+88>>2]-+u[e+148>>2];g=+u[e+92>>2]-+u[e+152>>2];w=T*R-_*g;y=_*R+T*g;g=E+w-f-x;T=v+y-d-S;R=+j(+(g*g+T*T));if(R<1.1920928955078125E-7){M=0;H=g;A=T}else{_=1/R;M=R;H=g*_;A=T*_}_=M-+u[e+104>>2];M=_<.20000000298023224?_:.20000000298023224;_=M<-.20000000298023224?-.20000000298023224:M;M=-(+u[e+172>>2]*_);T=H*M;H=A*M;M=+u[e+156>>2];A=p-+u[e+164>>2]*(x*H-S*T);S=+u[e+160>>2];x=b+ +u[e+168>>2]*(w*H-y*T);y=+(f-M*T);f=+(d-M*H);e=l;u[e>>2]=y;u[e+4>>2]=f;e=o[s>>2]|0;u[e+((o[n>>2]|0)*12|0)+8>>2]=A;A=+(E+S*T);T=+(v+S*H);n=e+((o[a>>2]|0)*12|0)|0;u[n>>2]=A;u[n+4>>2]=T;u[(o[s>>2]|0)+((o[a>>2]|0)*12|0)+8>>2]=x;if(_>0)C=_;else C=-_;i=C<.004999999888241291;h=r;return i|0}function sn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+48>>2]|0;i=+u[r+24>>2];n=+u[t+80>>2];a=+u[r+20>>2];s=+u[t+84>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function ln(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+88>>2];a=+u[r+20>>2];s=+u[t+92>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function un(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+u[t+100>>2]*r;r=i*+u[t+120>>2];u[e>>2]=+u[t+116>>2]*i;u[e+4>>2]=r;return}function cn(e,t){e=e|0;t=+t;return 0}function hn(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Ff(1552,r);o[r>>2]=i;Ff(1584,r);o[r>>2]=n;Ff(1616,r);o[r>>2]=a[e+61>>0]|0;Ff(1648,r);s=+u[e+84>>2];c[d>>3]=+u[e+80>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(1688,r);s=+u[e+92>>2];c[d>>3]=+u[e+88>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(1736,r);c[d>>3]=+u[e+104>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(1784,r);c[d>>3]=+u[e+68>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(1808,r);c[d>>3]=+u[e+72>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(1840,r);o[r>>2]=o[e+56>>2];Ff(1872,r);h=t;return}function fn(e){e=e|0;return}function dn(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function pn(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0;n=h;o[e+8>>2]=t;o[e+12>>2]=r;a=+u[i>>2]-+u[t+12>>2];s=i+4|0;l=+u[s>>2]-+u[t+16>>2];c=+u[t+24>>2];f=+u[t+20>>2];d=+(a*c+l*f);p=+(c*l-a*f);t=e+20|0;u[t>>2]=d;u[t+4>>2]=p;p=+u[i>>2]-+u[r+12>>2];d=+u[s>>2]-+u[r+16>>2];f=+u[r+24>>2];a=+u[r+20>>2];l=+(p*f+d*a);c=+(f*d-p*a);r=e+28|0;u[r>>2]=l;u[r+4>>2]=c;h=n;return}function mn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;Ao(e,t);o[e>>2]=1968;i=t+20|0;n=o[i+4>>2]|0;a=e+68|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=t+28|0;a=o[n+4>>2]|0;i=e+76|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;u[e+84>>2]=0;u[e+88>>2]=0;u[e+92>>2]=0;u[e+96>>2]=+u[t+36>>2];u[e+100>>2]=+u[t+40>>2];h=r;return}function En(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0;r=h;n=o[e+48>>2]|0;a=o[n+8>>2]|0;s=e+104|0;o[s>>2]=a;l=o[e+52>>2]|0;c=o[l+8>>2]|0;f=e+108|0;o[f>>2]=c;p=n+44|0;m=o[p>>2]|0;E=o[p+4>>2]|0;p=e+128|0;o[p>>2]=m;o[p+4>>2]=E;p=l+44|0;v=o[p>>2]|0;b=o[p+4>>2]|0;p=e+136|0;o[p>>2]=v;o[p+4>>2]=b;p=e+144|0;u[p>>2]=+u[n+136>>2];y=+u[l+136>>2];u[e+148>>2]=y;g=+u[n+144>>2];u[e+152>>2]=g;_=+u[l+144>>2];u[e+156>>2]=_;l=o[t+28>>2]|0;T=+u[l+(a*12|0)+8>>2];n=t+32|0;w=o[n>>2]|0;R=w+(a*12|0)|0;x=+u[R>>2];S=+u[R+4>>2];M=+u[w+(a*12|0)+8>>2];H=+u[l+(c*12|0)+8>>2];l=w+(c*12|0)|0;A=+u[l>>2];C=+u[l+4>>2];P=+u[w+(c*12|0)+8>>2];F=+q(+T);D=+X(+T);T=+q(+H);k=+X(+H);H=+u[e+68>>2]-(o[d>>2]=m,+u[d>>2]);L=+u[e+72>>2]-(o[d>>2]=E,+u[d>>2]);B=D*H-F*L;O=F*H+D*L;L=+B;D=+O;E=e+112|0;u[E>>2]=L;u[E+4>>2]=D;D=+u[e+76>>2]-(o[d>>2]=v,+u[d>>2]);L=+u[e+80>>2]-(o[d>>2]=b,+u[d>>2]);H=k*D-T*L;F=T*D+k*L;L=+H;k=+F;b=e+120|0;u[b>>2]=L;u[b+4>>2]=k;k=+u[p>>2];L=k+y;D=L+O*g*O+F*_*F;T=g*B;N=_*H;I=-(O*T)-F*N;V=L+B*T+H*N;N=D*V-I*I;if(N!=0)U=1/N;else U=N;N=-(I*U);u[e+160>>2]=V*U;u[e+164>>2]=N;u[e+168>>2]=N;u[e+172>>2]=D*U;U=g+_;if(U>0)z=1/U;else z=U;u[e+176>>2]=z;p=e+84|0;if((i[t+24>>0]|0)==0){u[p>>2]=0;u[e+88>>2]=0;u[e+92>>2]=0;G=x;W=S;j=A;J=C;Y=M;K=P;Z=o[s>>2]|0;Q=o[n>>2]|0;$=Q+(Z*12|0)|0;ee=+G;te=+W;re=$;ie=re;u[ie>>2]=ee;ne=re+4|0;oe=ne;u[oe>>2]=te;ae=o[s>>2]|0;se=o[n>>2]|0;le=se+(ae*12|0)+8|0;u[le>>2]=Y;ue=o[f>>2]|0;ce=se+(ue*12|0)|0;he=+j;fe=+J;de=ce;pe=de;u[pe>>2]=he;me=de+4|0;Ee=me;u[Ee>>2]=fe;ve=o[f>>2]|0;be=o[n>>2]|0;ye=be+(ve*12|0)+8|0;u[ye>>2]=K;h=r;return}else{b=t+8|0;z=+u[b>>2];U=z*+u[p>>2];u[p>>2]=U;p=e+88|0;D=z*+u[p>>2];u[p>>2]=D;p=e+92|0;z=+u[b>>2]*+u[p>>2];u[p>>2]=z;G=x-k*U;W=S-k*D;j=A+y*U;J=C+y*D;Y=M-g*(z+(D*B-U*O));K=P+_*(z+(D*H-U*F));Z=o[s>>2]|0;Q=o[n>>2]|0;$=Q+(Z*12|0)|0;ee=+G;te=+W;re=$;ie=re;u[ie>>2]=ee;ne=re+4|0;oe=ne;u[oe>>2]=te;ae=o[s>>2]|0;se=o[n>>2]|0;le=se+(ae*12|0)+8|0;u[le>>2]=Y;ue=o[f>>2]|0;ce=se+(ue*12|0)|0;he=+j;fe=+J;de=ce;pe=de;u[pe>>2]=he;me=de+4|0;Ee=me;u[Ee>>2]=fe;ve=o[f>>2]|0;be=o[n>>2]|0;ye=be+(ve*12|0)+8|0;u[ye>>2]=K;h=r;return}}function vn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0;r=h;i=e+104|0;n=o[i>>2]|0;a=t+32|0;s=o[a>>2]|0;l=s+(n*12|0)|0;c=+u[l>>2];f=+u[l+4>>2];d=+u[s+(n*12|0)+8>>2];n=e+108|0;l=o[n>>2]|0;p=s+(l*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[s+(l*12|0)+8>>2];b=+u[e+144>>2];y=+u[e+148>>2];g=+u[e+152>>2];_=+u[e+156>>2];T=+u[t>>2];t=e+92|0;w=+u[t>>2];R=T*+u[e+100>>2];x=w-(v-d)*+u[e+176>>2];S=-R;M=x<R?x:R;R=M<S?S:M;u[t>>2]=R;M=R-w;w=d-g*M;d=v+_*M;M=+u[e+124>>2];v=+u[e+120>>2];R=+u[e+116>>2];S=+u[e+112>>2];x=R*w+(m-M*d-c);H=E+v*d-f-S*w;A=+u[e+164>>2]*x+ +u[e+172>>2]*H;t=e+84|0;l=t;C=+u[l>>2];P=+u[l+4>>2];F=C-(+u[e+160>>2]*x+ +u[e+168>>2]*H);u[t>>2]=F;l=e+88|0;H=+u[l>>2]-A;u[l>>2]=H;A=T*+u[e+96>>2];T=F*F+H*H;if(T>A*A){x=+j(+T);if(x<1.1920928955078125E-7){D=F;k=H}else{T=1/x;x=F*T;u[t>>2]=x;L=H*T;u[l>>2]=L;D=x;k=L}L=A*D;u[t>>2]=L;D=A*k;u[l>>2]=D;B=L;O=D}else{B=F;O=H}H=B-C;C=O-P;P=+(c-b*H);c=+(f-b*C);l=(o[a>>2]|0)+((o[i>>2]|0)*12|0)|0;u[l>>2]=P;u[l+4>>2]=c;l=o[a>>2]|0;u[l+((o[i>>2]|0)*12|0)+8>>2]=w-g*(S*C-H*R);R=+(m+y*H);m=+(E+y*C);i=l+((o[n>>2]|0)*12|0)|0;u[i>>2]=R;u[i+4>>2]=m;u[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=d+_*(C*v-H*M);h=r;return}function bn(e,t){e=e|0;t=t|0;return 1}function yn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+48>>2]|0;i=+u[r+24>>2];n=+u[t+68>>2];a=+u[r+20>>2];s=+u[t+72>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function gn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+76>>2];a=+u[r+20>>2];s=+u[t+80>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function _n(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+u[t+88>>2]*r;u[e>>2]=+u[t+84>>2]*r;u[e+4>>2]=i;return}function Tn(e,t){e=e|0;t=+t;return+(+u[e+92>>2]*t)}function wn(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Ff(2016,r);o[r>>2]=i;Ff(2048,r);o[r>>2]=n;Ff(2080,r);o[r>>2]=a[e+61>>0]|0;Ff(2112,r);s=+u[e+72>>2];c[d>>3]=+u[e+68>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(2152,r);s=+u[e+80>>2];c[d>>3]=+u[e+76>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(2200,r);c[d>>3]=+u[e+96>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(2248,r);c[d>>3]=+u[e+100>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(2280,r);o[r>>2]=o[e+56>>2];Ff(2312,r);h=t;return}function Rn(e){e=e|0;return}function xn(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Sn(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0;n=h;o[e+8>>2]=t;o[e+12>>2]=r;a=+u[i>>2]-+u[t+12>>2];s=i+4|0;l=+u[s>>2]-+u[t+16>>2];c=+u[t+24>>2];f=+u[t+20>>2];d=+(a*c+l*f);p=+(c*l-a*f);m=e+20|0;u[m>>2]=d;u[m+4>>2]=p;p=+u[i>>2]-+u[r+12>>2];d=+u[s>>2]-+u[r+16>>2];f=+u[r+24>>2];a=+u[r+20>>2];l=+(p*f+d*a);c=+(f*d-p*a);s=e+28|0;u[s>>2]=l;u[s+4>>2]=c;u[e+36>>2]=+u[r+72>>2]-+u[t+72>>2];h=n;return}function Mn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;Ao(e,t);o[e>>2]=2408;i=t+20|0;n=o[i+4>>2]|0;a=e+80|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=t+28|0;a=o[n+4>>2]|0;i=e+88|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;u[e+96>>2]=+u[t+36>>2];u[e+68>>2]=+u[t+40>>2];u[e+72>>2]=+u[t+44>>2];u[e+104>>2]=0;u[e+108>>2]=0;u[e+112>>2]=0;h=r;return}function Hn(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0;r=h;h=h+48|0;n=r;a=o[e+48>>2]|0;s=o[a+8>>2]|0;l=e+116|0;o[l>>2]=s;c=o[e+52>>2]|0;f=o[c+8>>2]|0;p=e+120|0;o[p>>2]=f;m=a+44|0;E=o[m>>2]|0;v=o[m+4>>2]|0;m=e+140|0;o[m>>2]=E;o[m+4>>2]=v;m=c+44|0;b=o[m>>2]|0;y=o[m+4>>2]|0;m=e+148|0;o[m>>2]=b;o[m+4>>2]=y;m=e+156|0;u[m>>2]=+u[a+136>>2];g=+u[c+136>>2];u[e+160>>2]=g;_=+u[a+144>>2];u[e+164>>2]=_;T=+u[c+144>>2];u[e+168>>2]=T;c=o[t+28>>2]|0;w=+u[c+(s*12|0)+8>>2];a=t+32|0;R=o[a>>2]|0;x=R+(s*12|0)|0;S=+u[x>>2];M=+u[x+4>>2];H=+u[R+(s*12|0)+8>>2];A=+u[c+(f*12|0)+8>>2];c=R+(f*12|0)|0;C=+u[c>>2];P=+u[c+4>>2];F=+u[R+(f*12|0)+8>>2];D=+q(+w);k=+X(+w);L=+q(+A);B=+X(+A);f=e+124|0;O=+u[e+80>>2]-(o[d>>2]=E,+u[d>>2]);N=+u[e+84>>2]-(o[d>>2]=v,+u[d>>2]);I=k*O-D*N;V=D*O+k*N;N=+I;k=+V;v=f;u[v>>2]=N;u[v+4>>2]=k;v=e+132|0;k=+u[e+88>>2]-(o[d>>2]=b,+u[d>>2]);N=+u[e+92>>2]-(o[d>>2]=y,+u[d>>2]);O=B*k-L*N;D=L*k+B*N;N=+O;B=+D;y=v;u[y>>2]=N;u[y+4>>2]=B;B=+u[m>>2];N=B+g;m=e+128|0;y=e+136|0;u[n>>2]=N+_*V*V+T*D*D;k=-(_*V*I)-T*D*O;u[n+12>>2]=k;L=-(_*V)-T*D;u[n+24>>2]=L;u[n+4>>2]=k;u[n+16>>2]=N+_*I*I+T*O*O;N=_*I+T*O;u[n+28>>2]=N;u[n+8>>2]=L;u[n+20>>2]=N;N=_+T;u[n+32>>2]=N;b=e+68|0;E=e+172|0;if(+u[b>>2]>0){wf(n,E);if(N>0)U=1/N;else U=0;L=A-w-+u[e+96>>2];w=+u[b>>2]*6.2831854820251465;A=w*U*w;O=+u[t>>2];I=O*(w*U*2*+u[e+72>>2]+O*A);b=e+100|0;u[b>>2]=I;if(I!=0)z=1/I;else z=0;u[b>>2]=z;u[e+76>>2]=L*O*A*z;A=N+z;if(A!=0)G=1/A;else G=0;u[e+204>>2]=G}else{Rf(n,E);u[e+100>>2]=0;u[e+76>>2]=0}E=e+104|0;if((i[t+24>>0]|0)==0){u[E>>2]=0;u[e+108>>2]=0;u[e+112>>2]=0;W=S;j=M;J=C;Y=P;K=H;Z=F;Q=o[l>>2]|0;$=o[a>>2]|0;ee=$+(Q*12|0)|0;te=+W;re=+j;ie=ee;ne=ie;u[ne>>2]=te;oe=ie+4|0;ae=oe;u[ae>>2]=re;se=o[l>>2]|0;le=o[a>>2]|0;ue=le+(se*12|0)+8|0;u[ue>>2]=K;ce=o[p>>2]|0;he=le+(ce*12|0)|0;fe=+J;de=+Y;pe=he;me=pe;u[me>>2]=fe;Ee=pe+4|0;ve=Ee;u[ve>>2]=de;be=o[p>>2]|0;ye=o[a>>2]|0;ge=ye+(be*12|0)+8|0;u[ge>>2]=Z;h=r;return}else{G=+u[t+8>>2];A=G*+u[E>>2];u[E>>2]=A;E=e+108|0;z=G*+u[E>>2];u[E>>2]=z;E=e+112|0;N=G*+u[E>>2];u[E>>2]=N;W=S-B*A;j=M-B*z;J=C+g*A;Y=P+g*z;K=H-_*(N+(z*+u[f>>2]-A*+u[m>>2]));Z=F+T*(N+(z*+u[v>>2]-A*+u[y>>2]));Q=o[l>>2]|0;$=o[a>>2]|0;ee=$+(Q*12|0)|0;te=+W;re=+j;ie=ee;ne=ie;u[ne>>2]=te;oe=ie+4|0;ae=oe;u[ae>>2]=re;se=o[l>>2]|0;le=o[a>>2]|0;ue=le+(se*12|0)+8|0;u[ue>>2]=K;ce=o[p>>2]|0;he=le+(ce*12|0)|0;fe=+J;de=+Y;pe=he;me=pe;u[me>>2]=fe;Ee=pe+4|0;ve=Ee;u[ve>>2]=de;be=o[p>>2]|0;ye=o[a>>2]|0;ge=ye+(be*12|0)+8|0;u[ge>>2]=Z;h=r;return}}function An(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0;r=h;i=e+116|0;n=o[i>>2]|0;a=t+32|0;t=o[a>>2]|0;s=t+(n*12|0)|0;l=s;c=+u[l>>2];f=+u[l+4>>2];d=+u[t+(n*12|0)+8>>2];n=e+120|0;l=o[n>>2]|0;p=t+(l*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[t+(l*12|0)+8>>2];b=+u[e+156>>2];y=+u[e+160>>2];g=+u[e+164>>2];_=+u[e+168>>2];if(+u[e+68>>2]>0){l=e+112|0;T=+u[l>>2];w=+u[e+204>>2]*(v-d+ +u[e+76>>2]+ +u[e+100>>2]*T);R=-w;u[l>>2]=T-w;w=d-g*R;T=v+_*R;R=+u[e+136>>2];x=+u[e+132>>2];S=+u[e+128>>2];M=+u[e+124>>2];H=S*w+(m-R*T-c);A=E+x*T-f-M*w;C=+u[e+172>>2]*H+ +u[e+184>>2]*A;P=+u[e+176>>2]*H+ +u[e+188>>2]*A;A=-C;H=-P;l=e+104|0;u[l>>2]=+u[l>>2]-C;l=e+108|0;u[l>>2]=+u[l>>2]-P;F=H;D=A;k=w-g*(M*H-S*A);L=T+_*(x*H-R*A);B=y*D;O=y*F;N=b*D;I=b*F;V=m+B;U=E+O;z=c-N;G=f-I;W=+z;j=+G;J=s;X=J;u[X>>2]=W;q=J+4|0;Y=q;u[Y>>2]=j;K=o[i>>2]|0;Z=o[a>>2]|0;Q=Z+(K*12|0)+8|0;u[Q>>2]=k;$=o[n>>2]|0;ee=Z+($*12|0)|0;te=+V;re=+U;ie=ee;ne=ie;u[ne>>2]=te;oe=ie+4|0;ae=oe;u[ae>>2]=re;se=o[n>>2]|0;le=o[a>>2]|0;ue=le+(se*12|0)+8|0;u[ue>>2]=L;h=r;return}else{A=+u[e+136>>2];R=+u[e+132>>2];H=+u[e+128>>2];x=+u[e+124>>2];T=m-v*A-c+d*H;S=E+v*R-f-d*x;M=v-d;w=T*+u[e+172>>2]+S*+u[e+184>>2]+M*+u[e+196>>2];P=T*+u[e+176>>2]+S*+u[e+188>>2]+M*+u[e+200>>2];C=T*+u[e+180>>2]+S*+u[e+192>>2]+M*+u[e+204>>2];M=-w;S=-P;l=e+104|0;u[l>>2]=+u[l>>2]-w;l=e+108|0;u[l>>2]=+u[l>>2]-P;l=e+112|0;u[l>>2]=+u[l>>2]-C;F=S;D=M;k=d-g*(x*S-H*M-C);L=v+_*(R*S-A*M-C);B=y*D;O=y*F;N=b*D;I=b*F;V=m+B;U=E+O;z=c-N;G=f-I;W=+z;j=+G;J=s;X=J;u[X>>2]=W;q=J+4|0;Y=q;u[Y>>2]=j;K=o[i>>2]|0;Z=o[a>>2]|0;Q=Z+(K*12|0)+8|0;u[Q>>2]=k;$=o[n>>2]|0;ee=Z+($*12|0)|0;te=+V;re=+U;ie=ee;ne=ie;u[ne>>2]=te;oe=ie+4|0;ae=oe;u[ae>>2]=re;se=o[n>>2]|0;le=o[a>>2]|0;ue=le+(se*12|0)+8|0;u[ue>>2]=L;h=r;return}}function Cn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0;r=h;h=h+80|0;i=r+40|0;n=r+32|0;a=r+24|0;s=r+12|0;l=r;c=e+116|0;f=o[c>>2]|0;d=t+28|0;t=o[d>>2]|0;p=t+(f*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[t+(f*12|0)+8>>2];f=e+120|0;p=o[f>>2]|0;b=t+(p*12|0)|0;y=+u[b>>2];g=+u[b+4>>2];_=+u[t+(p*12|0)+8>>2];T=+q(+v);w=+X(+v);R=+q(+_);x=+X(+_);S=+u[e+156>>2];M=+u[e+160>>2];H=+u[e+164>>2];A=+u[e+168>>2];C=+u[e+80>>2]-+u[e+140>>2];P=+u[e+84>>2]-+u[e+144>>2];F=w*C-T*P;D=T*C+w*P;P=+u[e+88>>2]-+u[e+148>>2];w=+u[e+92>>2]-+u[e+152>>2];C=x*P-R*w;T=R*P+x*w;w=S+M;u[i>>2]=w+H*D*D+A*T*T;x=-(H*D*F)-A*T*C;u[i+12>>2]=x;P=-(H*D)-A*T;u[i+24>>2]=P;u[i+4>>2]=x;u[i+16>>2]=w+H*F*F+A*C*C;w=H*F+A*C;u[i+28>>2]=w;u[i+8>>2]=P;u[i+20>>2]=w;u[i+32>>2]=H+A;w=y+C-m-F;P=g+T-E-D;if(+u[e+68>>2]>0){u[n>>2]=w;u[n+4>>2]=P;x=+j(+(P*P+w*w));Tf(a,i,n);R=-+u[a>>2];k=-+u[a+4>>2];L=k;B=R;O=C*k-T*R;N=F*k-D*R;I=0;V=x}else{x=_-v-+u[e+96>>2];R=+j(+(w*w+P*P));if(x>0)U=x;else U=-x;u[s>>2]=w;u[s+4>>2]=P;u[s+8>>2]=x;_f(l,i,s);x=-+u[l>>2];P=-+u[l+4>>2];w=+u[l+8>>2];L=P;B=x;O=C*P-T*x-w;N=F*P-D*x-w;I=U;V=R}R=+(m-S*B);m=+(E-S*L);l=(o[d>>2]|0)+((o[c>>2]|0)*12|0)|0;u[l>>2]=R;u[l+4>>2]=m;l=o[d>>2]|0;u[l+((o[c>>2]|0)*12|0)+8>>2]=v-H*N;N=+(y+M*B);B=+(g+M*L);c=l+((o[f>>2]|0)*12|0)|0;u[c>>2]=N;u[c+4>>2]=B;u[(o[d>>2]|0)+((o[f>>2]|0)*12|0)+8>>2]=_+A*O;if(!(V<=.004999999888241291)){z=0;h=r;return z|0}z=I<=.03490658849477768;h=r;return z|0}function Pn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+48>>2]|0;i=+u[r+24>>2];n=+u[t+80>>2];a=+u[r+20>>2];s=+u[t+84>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function Fn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+88>>2];a=+u[r+20>>2];s=+u[t+92>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function Dn(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+u[t+108>>2]*r;u[e>>2]=+u[t+104>>2]*r;u[e+4>>2]=i;return}function kn(e,t){e=e|0;t=+t;return+(+u[e+112>>2]*t)}function Ln(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Ff(2456,r);o[r>>2]=i;Ff(2480,r);o[r>>2]=n;Ff(2512,r);o[r>>2]=a[e+61>>0]|0;Ff(2544,r);s=+u[e+84>>2];c[d>>3]=+u[e+80>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(2584,r);s=+u[e+92>>2];c[d>>3]=+u[e+88>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(2632,r);c[d>>3]=+u[e+96>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(2680,r);c[d>>3]=+u[e+68>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(2712,r);c[d>>3]=+u[e+72>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(2744,r);o[r>>2]=o[e+56>>2];Ff(2776,r);h=t;return}function Bn(e){e=e|0;return}function On(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Nn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0;r=h;Ao(e,t);o[e>>2]=2864;i=e+92|0;n=e+100|0;a=e+108|0;s=e+116|0;l=e+124|0;c=e+132|0;f=t+20|0;p=o[f>>2]|0;o[e+68>>2]=p;m=t+24|0;E=o[m>>2]|0;o[e+72>>2]=E;v=o[p+4>>2]|0;o[e+76>>2]=v;b=o[E+4>>2]|0;o[e+80>>2]=b;y=o[p+48>>2]|0;o[e+84>>2]=y;g=o[p+52>>2]|0;o[e+48>>2]=g;_=+u[g+20>>2];T=+u[g+24>>2];w=+u[y+20>>2];R=+u[y+24>>2];p=o[f>>2]|0;if((v|0)==1){x=+u[g+72>>2];S=+u[y+72>>2];v=p+68|0;f=o[v+4>>2]|0;M=a;o[M>>2]=o[v>>2];o[M+4>>2]=f;f=p+76|0;M=o[f+4>>2]|0;v=i;o[v>>2]=o[f>>2];o[v+4>>2]=M;H=+u[p+116>>2];u[e+140>>2]=H;u[l>>2]=0;u[e+128>>2]=0;A=x-S-H}else{H=+u[y+16>>2];S=+u[y+12>>2];x=+u[g+16>>2];C=+u[g+12>>2];g=p+68|0;y=o[g>>2]|0;M=o[g+4>>2]|0;g=a;o[g>>2]=y;o[g+4>>2]=M;g=p+76|0;a=o[g>>2]|0;v=o[g+4>>2]|0;g=i;o[g>>2]=a;o[g+4>>2]=v;u[e+140>>2]=+u[p+100>>2];g=p+84|0;p=o[g>>2]|0;i=o[g+4>>2]|0;g=l;o[g>>2]=p;o[g+4>>2]=i;P=(o[d>>2]=y,+u[d>>2]);F=(o[d>>2]=M,+u[d>>2]);D=(o[d>>2]=a,+u[d>>2]);k=(o[d>>2]=v,+u[d>>2]);L=C-S+(T*D-_*k);S=x-H+(_*D+T*k);k=(o[d>>2]=p,+u[d>>2])*(R*L+w*S-P);A=k+(o[d>>2]=i,+u[d>>2])*(R*S-w*L-F)}i=o[E+48>>2]|0;o[e+88>>2]=i;p=o[E+52>>2]|0;o[e+52>>2]=p;F=+u[p+20>>2];L=+u[p+24>>2];w=+u[i+20>>2];S=+u[i+24>>2];E=o[m>>2]|0;if((b|0)==1){R=+u[p+72>>2];k=+u[i+72>>2];b=E+68|0;m=o[b+4>>2]|0;v=s;o[v>>2]=o[b>>2];o[v+4>>2]=m;m=E+76|0;v=o[m+4>>2]|0;b=n;o[b>>2]=o[m>>2];o[b+4>>2]=v;P=+u[E+116>>2];u[e+144>>2]=P;u[c>>2]=0;u[e+136>>2]=0;B=R-k-P;O=t+28|0;N=+u[O>>2];I=e+152|0;u[I>>2]=N;V=B*N;U=A+V;z=e+148|0;u[z>>2]=U;G=e+156|0;u[G>>2]=0;h=r;return}else{P=+u[i+16>>2];k=+u[i+12>>2];R=+u[p+16>>2];T=+u[p+12>>2];p=E+68|0;i=o[p>>2]|0;v=o[p+4>>2]|0;p=s;o[p>>2]=i;o[p+4>>2]=v;p=E+76|0;s=o[p>>2]|0;b=o[p+4>>2]|0;p=n;o[p>>2]=s;o[p+4>>2]=b;u[e+144>>2]=+u[E+100>>2];p=E+84|0;E=o[p>>2]|0;n=o[p+4>>2]|0;p=c;o[p>>2]=E;o[p+4>>2]=n;D=(o[d>>2]=i,+u[d>>2]);_=(o[d>>2]=v,+u[d>>2]);H=(o[d>>2]=s,+u[d>>2]);x=(o[d>>2]=b,+u[d>>2]);C=T-k+(L*H-F*x);k=R-P+(F*H+L*x);x=(o[d>>2]=E,+u[d>>2])*(S*C+w*k-D);B=x+(o[d>>2]=n,+u[d>>2])*(S*k-w*C-_);O=t+28|0;N=+u[O>>2];I=e+152|0;u[I>>2]=N;V=B*N;U=A+V;z=e+148|0;u[z>>2]=U;G=e+156|0;u[G>>2]=0;h=r;return}}function In(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0,Ce=0,Pe=0,Fe=0,De=0,ke=0,Le=0,Be=0,Oe=0,Ne=0,Ie=0,Ve=0,Ue=0,ze=0,Ge=0,We=0,je=0,Je=0,Xe=0,qe=0,Ye=0,Ke=0,Ze=0,Qe=0,$e=0,et=0,tt=0,rt=0,it=0,nt=0,ot=0,at=0,st=0,lt=0,ut=0,ct=0,ht=0,ft=0,dt=0,pt=0,mt=0,Et=0,vt=0,bt=0,yt=0,gt=0,_t=0,Tt=0,wt=0,Rt=0;r=h;n=o[e+48>>2]|0;a=o[n+8>>2]|0;s=e+160|0;o[s>>2]=a;l=o[e+52>>2]|0;c=o[l+8>>2]|0;f=e+164|0;o[f>>2]=c;p=o[e+84>>2]|0;m=o[p+8>>2]|0;E=e+168|0;o[E>>2]=m;v=o[e+88>>2]|0;b=o[v+8>>2]|0;y=e+172|0;o[y>>2]=b;g=e+176|0;_=n+44|0;T=o[_+4>>2]|0;w=g;o[w>>2]=o[_>>2];o[w+4>>2]=T;T=e+184|0;w=l+44|0;_=o[w+4>>2]|0;R=T;o[R>>2]=o[w>>2];o[R+4>>2]=_;_=e+192|0;R=p+44|0;w=o[R+4>>2]|0;x=_;o[x>>2]=o[R>>2];o[x+4>>2]=w;w=v+44|0;x=o[w>>2]|0;R=o[w+4>>2]|0;w=e+200|0;o[w>>2]=x;o[w+4>>2]=R;S=+u[n+136>>2];u[e+208>>2]=S;M=+u[l+136>>2];u[e+212>>2]=M;H=+u[p+136>>2];u[e+216>>2]=H;A=+u[v+136>>2];u[e+220>>2]=A;C=+u[n+144>>2];u[e+224>>2]=C;P=+u[l+144>>2];u[e+228>>2]=P;F=+u[p+144>>2];u[e+232>>2]=F;D=+u[v+144>>2];u[e+236>>2]=D;v=o[t+28>>2]|0;k=+u[v+(a*12|0)+8>>2];p=t+32|0;l=o[p>>2]|0;n=l+(a*12|0)|0;L=+u[n>>2];B=+u[n+4>>2];O=+u[l+(a*12|0)+8>>2];N=+u[v+(c*12|0)+8>>2];a=l+(c*12|0)|0;I=+u[a>>2];V=+u[a+4>>2];U=+u[l+(c*12|0)+8>>2];z=+u[v+(m*12|0)+8>>2];c=l+(m*12|0)|0;G=+u[c>>2];W=+u[c+4>>2];j=+u[l+(m*12|0)+8>>2];J=+u[v+(b*12|0)+8>>2];v=l+(b*12|0)|0;Y=+u[v>>2];K=+u[v+4>>2];Z=+u[l+(b*12|0)+8>>2];Q=+q(+k);$=+X(+k);k=+q(+N);ee=+X(+N);N=+q(+z);te=+X(+z);z=+q(+J);re=+X(+J);b=e+272|0;u[b>>2]=0;J=(o[d>>2]=x,+u[d>>2]);if((o[e+76>>2]|0)==1){u[e+240>>2]=0;u[e+244>>2]=0;u[e+256>>2]=1;u[e+264>>2]=1;ie=C+F;ne=0;oe=0;ae=1;se=1}else{le=+u[e+124>>2];ue=+u[e+128>>2];ce=te*le-N*ue;he=N*le+te*ue;ue=+u[e+108>>2]-+u[_>>2];le=+u[e+112>>2]-+u[e+196>>2];fe=+u[e+92>>2]-+u[g>>2];de=+u[e+96>>2]-+u[e+180>>2];pe=+ce;me=+he;g=e+240|0;u[g>>2]=pe;u[g+4>>2]=me;me=he*(te*ue-N*le)-ce*(N*ue+te*le);u[e+264>>2]=me;le=he*($*fe-Q*de)-ce*(Q*fe+$*de);u[e+256>>2]=le;ie=H+S+me*F*me+le*C*le;ne=ce;oe=he;ae=le;se=me}me=ie+0;u[b>>2]=me;if((o[e+80>>2]|0)==1){u[e+248>>2]=0;u[e+252>>2]=0;ie=+u[e+152>>2];u[e+260>>2]=ie;u[e+268>>2]=ie;Ee=ie*ie*(P+D);ve=0;be=0;ye=ie;ge=ie}else{ie=+u[e+132>>2];le=+u[e+136>>2];he=re*ie-z*le;ce=z*ie+re*le;le=+u[e+116>>2]-J;J=+u[e+120>>2]-+u[e+204>>2];ie=+u[e+100>>2]-+u[T>>2];de=+u[e+104>>2]-+u[e+188>>2];$=+u[e+152>>2];fe=he*$;Q=ce*$;te=+fe;ue=+Q;T=e+248|0;u[T>>2]=te;u[T+4>>2]=ue;ue=(ce*(re*le-z*J)-he*(z*le+re*J))*$;u[e+268>>2]=ue;J=$*(ce*(ee*ie-k*de)-he*(k*ie+ee*de));u[e+260>>2]=J;Ee=$*$*(A+M)+ue*D*ue+J*J*P;ve=fe;be=Q;ye=J;ge=ue}ue=me+Ee;u[b>>2]=ue;if(ue>0)_e=1/ue;else _e=0;u[b>>2]=_e;b=e+156|0;if((i[t+24>>0]|0)==0){u[b>>2]=0;Te=L;we=B;Re=I;xe=V;Se=G;Me=W;He=Y;Ae=K;Ce=O;Pe=U;Fe=j;De=Z;ke=o[s>>2]|0;Le=o[p>>2]|0;Be=Le+(ke*12|0)|0;Oe=+Te;Ne=+we;Ie=Be;Ve=Ie;u[Ve>>2]=Oe;Ue=Ie+4|0;ze=Ue;u[ze>>2]=Ne;Ge=o[s>>2]|0;We=o[p>>2]|0;je=We+(Ge*12|0)+8|0;u[je>>2]=Ce;Je=o[f>>2]|0;Xe=We+(Je*12|0)|0;qe=+Re;Ye=+xe;Ke=Xe;Ze=Ke;u[Ze>>2]=qe;Qe=Ke+4|0;$e=Qe;u[$e>>2]=Ye;et=o[f>>2]|0;tt=o[p>>2]|0;rt=tt+(et*12|0)+8|0;u[rt>>2]=Pe;it=o[E>>2]|0;nt=tt+(it*12|0)|0;ot=+Se;at=+Me;st=nt;lt=st;u[lt>>2]=ot;ut=st+4|0;ct=ut;u[ct>>2]=at;ht=o[E>>2]|0;ft=o[p>>2]|0;dt=ft+(ht*12|0)+8|0;u[dt>>2]=Fe;pt=o[y>>2]|0;mt=ft+(pt*12|0)|0;Et=+He;vt=+Ae;bt=mt;yt=bt;u[yt>>2]=Et;gt=bt+4|0;_t=gt;u[_t>>2]=vt;Tt=o[y>>2]|0;wt=o[p>>2]|0;Rt=wt+(Tt*12|0)+8|0;u[Rt>>2]=De;h=r;return}else{_e=+u[b>>2];ue=S*_e;S=_e*M;M=_e*H;H=_e*A;Te=L+ne*ue;we=B+ue*oe;Re=I+ve*S;xe=V+S*be;Se=G-ne*M;Me=W-oe*M;He=Y-ve*H;Ae=K-be*H;Ce=O+_e*C*ae;Pe=U+_e*P*ye;Fe=j-_e*F*se;De=Z-_e*D*ge;ke=o[s>>2]|0;Le=o[p>>2]|0;Be=Le+(ke*12|0)|0;Oe=+Te;Ne=+we;Ie=Be;Ve=Ie;u[Ve>>2]=Oe;Ue=Ie+4|0;ze=Ue;u[ze>>2]=Ne;Ge=o[s>>2]|0;We=o[p>>2]|0;je=We+(Ge*12|0)+8|0;u[je>>2]=Ce;Je=o[f>>2]|0;Xe=We+(Je*12|0)|0;qe=+Re;Ye=+xe;Ke=Xe;Ze=Ke;u[Ze>>2]=qe;Qe=Ke+4|0;$e=Qe;u[$e>>2]=Ye;et=o[f>>2]|0;tt=o[p>>2]|0;rt=tt+(et*12|0)+8|0;u[rt>>2]=Pe;it=o[E>>2]|0;nt=tt+(it*12|0)|0;ot=+Se;at=+Me;st=nt;lt=st;u[lt>>2]=ot;ut=st+4|0;ct=ut;u[ct>>2]=at;ht=o[E>>2]|0;ft=o[p>>2]|0;dt=ft+(ht*12|0)+8|0;u[dt>>2]=Fe;pt=o[y>>2]|0;mt=ft+(pt*12|0)|0;Et=+He;vt=+Ae;bt=mt;yt=bt;u[yt>>2]=Et;gt=bt+4|0;_t=gt;u[_t>>2]=vt;Tt=o[y>>2]|0;wt=o[p>>2]|0;Rt=wt+(Tt*12|0)+8|0;u[Rt>>2]=De;h=r;return}}function Vn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0;r=h;i=e+160|0;n=o[i>>2]|0;a=t+32|0;t=o[a>>2]|0;s=t+(n*12|0)|0;l=+u[s>>2];c=+u[s+4>>2];f=+u[t+(n*12|0)+8>>2];n=e+164|0;s=o[n>>2]|0;d=t+(s*12|0)|0;p=+u[d>>2];m=+u[d+4>>2];E=+u[t+(s*12|0)+8>>2];s=e+168|0;d=o[s>>2]|0;v=t+(d*12|0)|0;b=+u[v>>2];y=+u[v+4>>2];g=+u[t+(d*12|0)+8>>2];d=e+172|0;v=o[d>>2]|0;_=t+(v*12|0)|0;T=+u[_>>2];w=+u[_+4>>2];R=+u[t+(v*12|0)+8>>2];x=+u[e+240>>2];S=+u[e+244>>2];M=+u[e+248>>2];H=+u[e+252>>2];A=+u[e+256>>2];C=+u[e+264>>2];P=+u[e+260>>2];F=+u[e+268>>2];D=+u[e+272>>2]*((l-b)*x+(c-y)*S+((p-T)*M+(m-w)*H)+(f*A-g*C+(E*P-R*F)));k=-D;v=e+156|0;u[v>>2]=+u[v>>2]-D;D=+u[e+208>>2]*k;L=f+ +u[e+224>>2]*k*A;A=+u[e+212>>2]*k;f=E+ +u[e+228>>2]*k*P;P=+u[e+216>>2]*k;E=g-+u[e+232>>2]*k*C;C=+u[e+220>>2]*k;g=R-+u[e+236>>2]*k*F;F=+(l+x*D);l=+(c+S*D);e=(o[a>>2]|0)+((o[i>>2]|0)*12|0)|0;u[e>>2]=F;u[e+4>>2]=l;e=o[a>>2]|0;u[e+((o[i>>2]|0)*12|0)+8>>2]=L;L=+(p+M*A);p=+(m+A*H);i=e+((o[n>>2]|0)*12|0)|0;u[i>>2]=L;u[i+4>>2]=p;i=o[a>>2]|0;u[i+((o[n>>2]|0)*12|0)+8>>2]=f;f=+(b-x*P);x=+(y-S*P);n=i+((o[s>>2]|0)*12|0)|0;u[n>>2]=f;u[n+4>>2]=x;n=o[a>>2]|0;u[n+((o[s>>2]|0)*12|0)+8>>2]=E;E=+(T-M*C);M=+(w-H*C);s=n+((o[d>>2]|0)*12|0)|0;u[s>>2]=E;u[s+4>>2]=M;u[(o[a>>2]|0)+((o[d>>2]|0)*12|0)+8>>2]=g;h=r;return}function Un(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0;r=h;i=e+160|0;n=o[i>>2]|0;a=t+28|0;t=o[a>>2]|0;s=t+(n*12|0)|0;l=s;c=+u[l>>2];f=+u[l+4>>2];d=+u[t+(n*12|0)+8>>2];n=e+164|0;l=o[n>>2]|0;p=t+(l*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[t+(l*12|0)+8>>2];l=e+168|0;p=o[l>>2]|0;b=t+(p*12|0)|0;y=+u[b>>2];g=+u[b+4>>2];_=+u[t+(p*12|0)+8>>2];p=e+172|0;b=o[p>>2]|0;T=t+(b*12|0)|0;w=+u[T>>2];R=+u[T+4>>2];x=+u[t+(b*12|0)+8>>2];S=+q(+d);M=+X(+d);H=+q(+v);A=+X(+v);C=+q(+_);P=+X(+_);F=+q(+x);D=+X(+x);if((o[e+76>>2]|0)==1){k=+u[e+224>>2];L=+u[e+232>>2];B=0;O=0;N=k;I=L;V=1;U=1;z=d-_-+u[e+140>>2];G=k+L}else{L=+u[e+124>>2];k=+u[e+128>>2];W=P*L-C*k;j=C*L+P*k;J=+u[e+108>>2]-+u[e+192>>2];Y=+u[e+112>>2]-+u[e+196>>2];K=+u[e+92>>2]-+u[e+176>>2];Z=+u[e+96>>2]-+u[e+180>>2];Q=M*K-S*Z;$=S*K+M*Z;Z=j*(P*J-C*Y)-W*(C*J+P*Y);M=j*Q-W*$;K=+u[e+232>>2];S=+u[e+224>>2];ee=c-y+Q;Q=f-g+$;B=W;O=j;N=S;I=K;V=M;U=Z;z=L*(P*ee+C*Q-J)+k*(P*Q-C*ee-Y);G=+u[e+216>>2]+ +u[e+208>>2]+Z*Z*K+M*S*M}if((o[e+80>>2]|0)==1){M=+u[e+152>>2];S=+u[e+228>>2];K=+u[e+236>>2];te=M*M*(S+K);re=M;ie=0;ne=0;oe=S;ae=K;se=M;le=M;ue=v-x-+u[e+144>>2]}else{M=+u[e+132>>2];K=+u[e+136>>2];S=D*M-F*K;Z=F*M+D*K;Y=+u[e+116>>2]-+u[e+200>>2];ee=+u[e+120>>2]-+u[e+204>>2];C=+u[e+100>>2]-+u[e+184>>2];Q=+u[e+104>>2]-+u[e+188>>2];P=A*C-H*Q;k=H*C+A*Q;Q=+u[e+152>>2];A=Q*(Z*(D*Y-F*ee)-S*(F*Y+D*ee));C=Q*(Z*P-S*k);H=+u[e+236>>2];J=+u[e+228>>2];L=m-w+P;P=E-R+k;te=Q*Q*(+u[e+220>>2]+ +u[e+212>>2])+A*A*H+C*J*C;re=Q;ie=S*Q;ne=Z*Q;oe=J;ae=H;se=C;le=A;ue=M*(D*L+F*P-Y)+K*(D*P-F*L-ee)}ee=G+0+te;if(ee>0)ce=-(z+ue*re-+u[e+148>>2])/ee;else ce=0;ee=ce*+u[e+208>>2];re=ce*+u[e+212>>2];ue=ce*+u[e+216>>2];z=ce*+u[e+220>>2];te=+(c+B*ee);c=+(f+O*ee);e=s;u[e>>2]=te;u[e+4>>2]=c;e=o[a>>2]|0;u[e+((o[i>>2]|0)*12|0)+8>>2]=d+V*ce*N;N=+(m+ie*re);m=+(E+ne*re);i=e+((o[n>>2]|0)*12|0)|0;u[i>>2]=N;u[i+4>>2]=m;i=o[a>>2]|0;u[i+((o[n>>2]|0)*12|0)+8>>2]=v+se*ce*oe;oe=+(y-B*ue);B=+(g-O*ue);n=i+((o[l>>2]|0)*12|0)|0;u[n>>2]=oe;u[n+4>>2]=B;n=o[a>>2]|0;u[n+((o[l>>2]|0)*12|0)+8>>2]=_-U*ce*I;I=+(w-ie*z);ie=+(R-ne*z);l=n+((o[p>>2]|0)*12|0)|0;u[l>>2]=I;u[l+4>>2]=ie;u[(o[a>>2]|0)+((o[p>>2]|0)*12|0)+8>>2]=x-le*ce*ae;h=r;return 1}function zn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+48>>2]|0;i=+u[r+24>>2];n=+u[t+92>>2];a=+u[r+20>>2];s=+u[t+96>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function Gn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+100>>2];a=+u[r+20>>2];s=+u[t+104>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function Wn(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0;i=+u[t+156>>2];n=i*+u[t+244>>2]*r;u[e>>2]=i*+u[t+240>>2]*r;u[e+4>>2]=n;return}function jn(e,t){e=e|0;t=+t;return+(+u[e+156>>2]*+u[e+256>>2]*t)}function Jn(e){e=e|0;return+ +u[e+152>>2]}function Xn(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,l=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;s=o[(o[e+68>>2]|0)+56>>2]|0;l=o[(o[e+72>>2]|0)+56>>2]|0;Ff(2912,r);o[r>>2]=i;Ff(2936,r);o[r>>2]=n;Ff(2968,r);o[r>>2]=a[e+61>>0]|0;Ff(3E3,r);o[r>>2]=s;Ff(3040,r);o[r>>2]=l;Ff(3072,r);c[d>>3]=+u[e+152>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(3104,r);o[r>>2]=o[e+56>>2];Ff(3128,r);h=t;return}function qn(e){e=e|0;return}function Yn(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Kn(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0;a=h;o[e+8>>2]=t;o[e+12>>2]=r;s=+u[i>>2]-+u[t+12>>2];l=i+4|0;c=+u[l>>2]-+u[t+16>>2];f=t+24|0;d=+u[f>>2];p=t+20|0;m=+u[p>>2];E=+(s*d+c*m);v=+(d*c-s*m);b=e+20|0;u[b>>2]=E;u[b+4>>2]=v;v=+u[i>>2]-+u[r+12>>2];E=+u[l>>2]-+u[r+16>>2];m=+u[r+24>>2];s=+u[r+20>>2];c=+(v*m+E*s);d=+(m*E-v*s);l=e+28|0;u[l>>2]=c;u[l+4>>2]=d;d=+u[f>>2];c=+u[n>>2];s=+u[p>>2];v=+u[n+4>>2];E=+(d*c+s*v);m=+(d*v-c*s);n=e+36|0;u[n>>2]=E;u[n+4>>2]=m;u[e+44>>2]=+u[r+72>>2]-+u[t+72>>2];h=a;return}function Zn(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0;r=h;Ao(e,t);o[e>>2]=3216;n=e+84|0;a=t+20|0;s=o[a+4>>2]|0;l=e+68|0;o[l>>2]=o[a>>2];o[l+4>>2]=s;s=t+28|0;l=o[s+4>>2]|0;a=e+76|0;o[a>>2]=o[s>>2];o[a+4>>2]=l;l=t+36|0;a=o[l>>2]|0;s=o[l+4>>2]|0;l=n;o[l>>2]=a;o[l+4>>2]=s;c=(o[d>>2]=a,+u[d>>2]);f=(o[d>>2]=s,+u[d>>2]);p=+j(+(c*c+f*f));if(p<1.1920928955078125E-7){m=f;E=c}else{v=1/p;p=c*v;u[n>>2]=p;c=f*v;u[e+88>>2]=c;m=c;E=p}p=+-m;m=+E;n=e+92|0;u[n>>2]=p;u[n+4>>2]=m;u[e+100>>2]=+u[t+44>>2];n=e+104|0;u[e+252>>2]=0;s=t+52|0;o[n+0>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;u[e+120>>2]=+u[s>>2];u[e+124>>2]=+u[t+56>>2];u[e+128>>2]=+u[t+64>>2];u[e+132>>2]=+u[t+68>>2];i[e+136>>0]=i[t+48>>0]|0;i[e+137>>0]=i[t+60>>0]|0;o[e+140>>2]=0;t=e+184|0;o[t+0>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;h=r;return}function Qn(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0;r=h;n=o[e+48>>2]|0;a=o[n+8>>2]|0;s=e+144|0;o[s>>2]=a;l=o[e+52>>2]|0;c=o[l+8>>2]|0;f=e+148|0;o[f>>2]=c;p=n+44|0;m=o[p>>2]|0;E=o[p+4>>2]|0;p=e+152|0;o[p>>2]=m;o[p+4>>2]=E;p=l+44|0;v=o[p>>2]|0;b=o[p+4>>2]|0;p=e+160|0;o[p>>2]=v;o[p+4>>2]=b;p=e+168|0;u[p>>2]=+u[n+136>>2];y=e+172|0;u[y>>2]=+u[l+136>>2];g=+u[n+144>>2];u[e+176>>2]=g;_=+u[l+144>>2];u[e+180>>2]=_;l=o[t+28>>2]|0;n=l+(a*12|0)|0;T=+u[n>>2];w=+u[n+4>>2];R=+u[l+(a*12|0)+8>>2];n=t+32|0;x=o[n>>2]|0;S=x+(a*12|0)|0;M=+u[S>>2];H=+u[S+4>>2];A=+u[x+(a*12|0)+8>>2];a=l+(c*12|0)|0;C=+u[a>>2];P=+u[a+4>>2];F=+u[l+(c*12|0)+8>>2];l=x+(c*12|0)|0;D=+u[l>>2];k=+u[l+4>>2];L=+u[x+(c*12|0)+8>>2];B=+q(+R);O=+X(+R);R=+q(+F);N=+X(+F);F=+u[e+68>>2]-(o[d>>2]=m,+u[d>>2]);I=+u[e+72>>2]-(o[d>>2]=E,+u[d>>2]);V=O*F-B*I;U=B*F+O*I;I=+u[e+76>>2]-(o[d>>2]=v,+u[d>>2]);F=+u[e+80>>2]-(o[d>>2]=b,+u[d>>2]);z=N*I-R*F;G=R*I+N*F;F=C-T+z-V;T=P-w+G-U;w=+u[p>>2];P=+u[y>>2];C=+u[e+84>>2];N=+u[e+88>>2];I=O*C-B*N;R=B*C+O*N;N=+I;C=+R;y=e+184|0;u[y>>2]=N;u[y+4>>2]=C;C=V+F;V=U+T;U=C*R-V*I;u[e+208>>2]=U;N=z*R-G*I;u[e+212>>2]=N;W=w+P;j=g*U;J=_*N;Y=W+U*j+N*J;if(Y>0)K=1/Y;else K=Y;u[e+252>>2]=K;K=+u[e+92>>2];Z=+u[e+96>>2];Q=O*K-B*Z;$=B*K+O*Z;Z=+Q;O=+$;y=e+192|0;u[y>>2]=Z;u[y+4>>2]=O;O=C*$-V*Q;u[e+200>>2]=O;V=z*$-G*Q;u[e+204>>2]=V;G=g*O;z=_*V;C=G+z;Z=G*U+z*N;K=_+g;B=j+J;u[e+216>>2]=W+O*G+V*z;u[e+220>>2]=C;u[e+224>>2]=Z;u[e+228>>2]=C;u[e+232>>2]=K==0?1:K;u[e+236>>2]=B;u[e+240>>2]=Z;u[e+244>>2]=B;u[e+248>>2]=Y;do{if((i[e+136>>0]|0)!=0){Y=F*I+T*R;B=+u[e+124>>2];Z=+u[e+120>>2];K=B-Z;if(K>0)ee=K;else ee=-K;if(ee<.009999999776482582){o[e+140>>2]=3;break}if(Y<=Z){y=e+140|0;if((o[y>>2]|0)==1)break;o[y>>2]=1;u[e+112>>2]=0;break}y=e+140|0;if(!(Y>=B)){o[y>>2]=0;u[e+112>>2]=0;break}if((o[y>>2]|0)!=2){o[y>>2]=2;u[e+112>>2]=0}}else{o[e+140>>2]=0;u[e+112>>2]=0}}while(0);if((i[e+137>>0]|0)==0)u[e+116>>2]=0;y=e+104|0;if((i[t+24>>0]|0)==0){o[y+0>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;o[y+12>>2]=0;te=M;re=H;ie=D;ne=k;oe=A;ae=L;se=o[s>>2]|0;le=o[n>>2]|0;ue=le+(se*12|0)|0;ce=+te;he=+re;fe=ue;de=fe;u[de>>2]=ce;pe=fe+4|0;me=pe;u[me>>2]=he;Ee=o[s>>2]|0;ve=o[n>>2]|0;be=ve+(Ee*12|0)+8|0;u[be>>2]=oe;ye=o[f>>2]|0;ge=ve+(ye*12|0)|0;_e=+ie;Te=+ne;we=ge;Re=we;u[Re>>2]=_e;xe=we+4|0;Se=xe;u[Se>>2]=Te;Me=o[f>>2]|0;He=o[n>>2]|0;Ae=He+(Me*12|0)+8|0;u[Ae>>2]=ae;h=r;return}else{p=t+8|0;ee=+u[p>>2];T=ee*+u[y>>2];u[y>>2]=T;y=e+108|0;F=ee*+u[y>>2];u[y>>2]=F;y=e+112|0;B=ee*+u[y>>2];u[y>>2]=B;y=e+116|0;ee=+u[p>>2]*+u[y>>2];u[y>>2]=ee;Y=ee+B;B=T*Q+I*Y;I=T*$+Y*R;te=M-w*B;re=H-w*I;ie=D+P*B;ne=k+P*I;oe=A-g*(T*O+F+Y*U);ae=L+_*(F+T*V+Y*N);se=o[s>>2]|0;le=o[n>>2]|0;ue=le+(se*12|0)|0;ce=+te;he=+re;fe=ue;de=fe;u[de>>2]=ce;pe=fe+4|0;me=pe;u[me>>2]=he;Ee=o[s>>2]|0;ve=o[n>>2]|0;be=ve+(Ee*12|0)+8|0;u[be>>2]=oe;ye=o[f>>2]|0;ge=ve+(ye*12|0)|0;_e=+ie;Te=+ne;we=ge;Re=we;u[Re>>2]=_e;xe=we+4|0;Se=xe;u[Se>>2]=Te;Me=o[f>>2]|0;He=o[n>>2]|0;Ae=He+(Me*12|0)+8|0;u[Ae>>2]=ae;h=r;return}}function $n(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0,Ce=0,Pe=0,Fe=0,De=0,ke=0,Le=0,Be=0,Oe=0,Ne=0,Ie=0,Ve=0;r=h;h=h+64|0;n=r+44|0;a=r+32|0;s=r+24|0;l=r+16|0;c=r+8|0;f=r;d=e+144|0;p=o[d>>2]|0;m=t+32|0;E=o[m>>2]|0;v=E+(p*12|0)|0;b=+u[v>>2];y=+u[v+4>>2];g=+u[E+(p*12|0)+8>>2];p=e+148|0;v=o[p>>2]|0;_=E+(v*12|0)|0;T=+u[_>>2];w=+u[_+4>>2];R=+u[E+(v*12|0)+8>>2];x=+u[e+168>>2];S=+u[e+172>>2];M=+u[e+176>>2];H=+u[e+180>>2];if((i[e+137>>0]|0)!=0?(o[e+140>>2]|0)!=3:0){A=+u[e+184>>2];C=+u[e+188>>2];P=+u[e+212>>2];F=+u[e+208>>2];v=e+116|0;D=+u[v>>2];k=+u[t>>2]*+u[e+128>>2];L=D+ +u[e+252>>2]*(+u[e+132>>2]-((T-b)*A+(w-y)*C+R*P-g*F));B=-k;O=L<k?L:k;k=O<B?B:O;u[v>>2]=k;O=k-D;D=A*O;A=C*O;N=y-x*A;I=w+S*A;V=b-x*D;U=T+S*D;z=g-M*F*O;G=R+H*P*O}else{N=y;I=w;V=b;U=T;z=g;G=R}R=U-V;g=I-N;v=e+192|0;t=e+196|0;E=e+204|0;_=e+200|0;T=R*+u[v>>2]+g*+u[t>>2]+G*+u[E>>2]-z*+u[_>>2];b=G-z;if((i[e+136>>0]|0)!=0?(W=e+140|0,(o[W>>2]|0)!=0):0){j=e+184|0;J=e+188|0;X=e+212|0;q=e+208|0;Y=e+104|0;w=+u[Y>>2];K=e+108|0;y=+u[K>>2];Z=e+112|0;O=+u[Z>>2];Q=e+216|0;P=-T;F=-b;D=-(R*+u[j>>2]+g*+u[J>>2]+G*+u[X>>2]-z*+u[q>>2]);u[a>>2]=P;u[a+4>>2]=F;u[a+8>>2]=D;_f(n,Q,a);u[Y>>2]=+u[n>>2]+ +u[Y>>2];a=n+4|0;u[K>>2]=+u[a>>2]+ +u[K>>2];$=n+8|0;D=+u[$>>2]+ +u[Z>>2];u[Z>>2]=D;ee=o[W>>2]|0;if((ee|0)==2){g=D<0?D:0;u[Z>>2]=g;te=g}else if((ee|0)==1){g=D>0?D:0;u[Z>>2]=g;te=g}else te=D;D=te-O;te=F-D*+u[e+244>>2];u[s>>2]=P-+u[e+240>>2]*D;u[s+4>>2]=te;Tf(l,Q,s);te=w+ +u[l>>2];D=y+ +u[l+4>>2];u[Y>>2]=te;u[K>>2]=D;P=te-w;w=D-y;y=+u[Z>>2]-O;u[n>>2]=P;u[a>>2]=w;u[$>>2]=y;re=w+P*+u[E>>2]+y*+u[X>>2];ie=P*+u[v>>2]+y*+u[j>>2];ne=P*+u[_>>2]+w+y*+u[q>>2];oe=P*+u[t>>2]+y*+u[J>>2];ae=x*oe;se=x*ie;le=V-se;ue=N-ae;ce=S*ie;he=S*oe;fe=U+ce;de=I+he;pe=M*ne;me=H*re;Ee=z-pe;ve=G+me;be=o[d>>2]|0;ye=o[m>>2]|0;ge=ye+(be*12|0)|0;_e=+le;Te=+ue;we=ge;Re=we;u[Re>>2]=_e;xe=we+4|0;Se=xe;u[Se>>2]=Te;Me=o[d>>2]|0;He=o[m>>2]|0;Ae=He+(Me*12|0)+8|0;u[Ae>>2]=Ee;Ce=o[p>>2]|0;Pe=He+(Ce*12|0)|0;Fe=+fe;De=+de;ke=Pe;Le=ke;u[Le>>2]=Fe;Be=ke+4|0;Oe=Be;u[Oe>>2]=De;Ne=o[p>>2]|0;Ie=o[m>>2]|0;Ve=Ie+(Ne*12|0)+8|0;u[Ve>>2]=ve;h=r;return}u[f>>2]=-T;u[f+4>>2]=-b;Tf(c,e+216|0,f);b=+u[c>>2];f=e+104|0;u[f>>2]=b+ +u[f>>2];T=+u[c+4>>2];c=e+108|0;u[c>>2]=T+ +u[c>>2];re=T+b*+u[E>>2];ie=b*+u[v>>2];ne=b*+u[_>>2]+T;oe=b*+u[t>>2];ae=x*oe;se=x*ie;le=V-se;ue=N-ae;ce=S*ie;he=S*oe;fe=U+ce;de=I+he;pe=M*ne;me=H*re;Ee=z-pe;ve=G+me;be=o[d>>2]|0;ye=o[m>>2]|0;ge=ye+(be*12|0)|0;_e=+le;Te=+ue;we=ge;Re=we;u[Re>>2]=_e;xe=we+4|0;Se=xe;u[Se>>2]=Te;Me=o[d>>2]|0;He=o[m>>2]|0;Ae=He+(Me*12|0)+8|0;u[Ae>>2]=Ee;Ce=o[p>>2]|0;Pe=He+(Ce*12|0)|0;Fe=+fe;De=+de;ke=Pe;Le=ke;u[Le>>2]=Fe;Be=ke+4|0;Oe=Be;u[Oe>>2]=De;Ne=o[p>>2]|0;Ie=o[m>>2]|0;Ve=Ie+(Ne*12|0)+8|0;u[Ve>>2]=ve;h=r;return}function eo(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0;r=h;h=h+64|0;n=r+24|0;a=r+12|0;s=r;l=e+144|0;c=o[l>>2]|0;f=t+28|0;t=o[f>>2]|0;d=t+(c*12|0)|0;p=+u[d>>2];m=+u[d+4>>2];E=+u[t+(c*12|0)+8>>2];c=e+148|0;d=o[c>>2]|0;v=t+(d*12|0)|0;b=+u[v>>2];y=+u[v+4>>2];g=+u[t+(d*12|0)+8>>2];_=+q(+E);T=+X(+E);w=+q(+g);R=+X(+g);x=+u[e+168>>2];S=+u[e+172>>2];M=+u[e+176>>2];H=+u[e+180>>2];A=+u[e+68>>2]-+u[e+152>>2];C=+u[e+72>>2]-+u[e+156>>2];P=T*A-_*C;F=_*A+T*C;C=+u[e+76>>2]-+u[e+160>>2];A=+u[e+80>>2]-+u[e+164>>2];D=R*C-w*A;k=w*C+R*A;A=b+D-p-P;R=y+k-m-F;C=+u[e+84>>2];w=+u[e+88>>2];L=T*C-_*w;B=_*C+T*w;w=P+A;P=F+R;F=B*w-L*P;C=D*B-k*L;O=+u[e+92>>2];N=+u[e+96>>2];I=T*O-_*N;V=_*O+T*N;N=V*w-I*P;P=D*V-k*I;k=I*A+V*R;D=g-E-+u[e+100>>2];if(k>0)U=k;else U=-k;if(D>0)z=D;else z=-D;do{if((i[e+136>>0]|0)!=0){w=L*A+B*R;T=+u[e+124>>2];O=+u[e+120>>2];_=T-O;if(_>0)G=_;else G=-_;if(G<.009999999776482582){_=w<.20000000298023224?w:.20000000298023224;if(w>0)W=w;else W=-w;j=_<-.20000000298023224?-.20000000298023224:_;J=1;Y=U>W?U:W;break}if(w<=O){_=w-O+.004999999888241291;K=_<0?_:0;_=O-w;j=K<-.20000000298023224?-.20000000298023224:K;J=1;Y=U>_?U:_;break}if(w>=T){_=w-T;T=_+-.004999999888241291;w=T<.20000000298023224?T:.20000000298023224;j=w<0?0:w;J=1;Y=U>_?U:_}else{j=0;J=0;Y=U}}else{j=0;J=0;Y=U}}while(0);U=x+S;W=M*N;G=H*P;R=P*G+(U+N*W);A=G+W;if(J){_=C*G+F*W;W=M+H;G=M*F;w=H*C;T=w+G;u[n>>2]=R;u[n+4>>2]=A;u[n+8>>2]=_;u[n+12>>2]=A;u[n+16>>2]=W==0?1:W;u[n+20>>2]=T;u[n+24>>2]=_;u[n+28>>2]=T;u[n+32>>2]=C*w+(U+F*G);u[s>>2]=-k;u[s+4>>2]=-D;u[s+8>>2]=-j;_f(a,n,s);Z=+u[a>>2];Q=+u[a+8>>2];$=+u[a+4>>2]}else{j=M+H;G=j==0?1:j;j=-k;k=-D;D=G*R-A*A;if(D!=0)ee=1/D;else ee=D;Z=(G*j-A*k)*ee;Q=0;$=(R*k-A*j)*ee}ee=L*Q+I*Z;I=B*Q+V*Z;V=+(p-x*ee);p=+(m-x*I);a=(o[f>>2]|0)+((o[l>>2]|0)*12|0)|0;u[a>>2]=V;u[a+4>>2]=p;a=o[f>>2]|0;u[a+((o[l>>2]|0)*12|0)+8>>2]=E-M*(F*Q+($+N*Z));N=+(b+S*ee);ee=+(y+S*I);l=a+((o[c>>2]|0)*12|0)|0;u[l>>2]=N;u[l+4>>2]=ee;u[(o[f>>2]|0)+((o[c>>2]|0)*12|0)+8>>2]=g+H*(C*Q+($+P*Z));if(!(Y<=.004999999888241291)){te=0;h=r;return te|0}te=z<=.03490658849477768;h=r;return te|0}function to(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+48>>2]|0;i=+u[r+24>>2];n=+u[t+68>>2];a=+u[r+20>>2];s=+u[t+72>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function ro(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+76>>2];a=+u[r+20>>2];s=+u[t+80>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function io(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,o=0;i=+u[t+104>>2];n=+u[t+116>>2]+ +u[t+112>>2];o=(i*+u[t+196>>2]+n*+u[t+188>>2])*r;u[e>>2]=(i*+u[t+192>>2]+ +u[t+184>>2]*n)*r;u[e+4>>2]=o;return}function no(e,t){e=e|0;t=+t;return+(+u[e+108>>2]*t)}function oo(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,c=0,h=0,f=0,d=0,p=0;t=o[e+48>>2]|0;r=+u[t+24>>2];i=+u[e+68>>2];n=+u[t+20>>2];a=+u[e+72>>2];s=o[e+52>>2]|0;l=+u[s+24>>2];c=+u[e+76>>2];h=+u[s+20>>2];f=+u[e+80>>2];d=+u[e+84>>2];p=+u[e+88>>2];return+((+u[s+12>>2]+(l*c-h*f)-(+u[t+12>>2]+(r*i-n*a)))*(r*d-n*p)+(c*h+l*f+ +u[s+16>>2]-(i*n+r*a+ +u[t+16>>2]))*(n*d+r*p))}function ao(e){e=e|0;return(i[e+136>>0]|0)!=0|0}function so(e,t){e=e|0;t=t|0;var r=0,l=0,c=0,f=0,d=0;r=h;l=e+136|0;if((t&1|0)==(a[l>>0]|0|0)){h=r;return}c=o[e+48>>2]|0;f=c+4|0;d=s[f>>1]|0;if((d&2|0)==0){n[f>>1]=d|2;u[c+160>>2]=0}c=o[e+52>>2]|0;d=c+4|0;f=s[d>>1]|0;if((f&2|0)==0){n[d>>1]=f|2;u[c+160>>2]=0}i[l>>0]=t&1;u[e+112>>2]=0;h=r;return}function lo(e){e=e|0;return(i[e+137>>0]|0)!=0|0}function uo(e,t){e=e|0;t=t|0;var r=0,a=0,l=0,c=0,f=0,d=0;r=h;a=o[e+48>>2]|0;l=a+4|0;c=s[l>>1]|0;if((c&2|0)==0){n[l>>1]=c|2;u[a+160>>2]=0}a=o[e+52>>2]|0;c=a+4|0;l=s[c>>1]|0;if((l&2|0)!=0){f=e+137|0;d=t&1;i[f>>0]=d;h=r;return}n[c>>1]=l|2;u[a+160>>2]=0;f=e+137|0;d=t&1;i[f>>0]=d;h=r;return}function co(e,t){e=e|0;t=+t;var r=0,i=0,a=0,l=0,c=0;r=h;i=o[e+48>>2]|0;a=i+4|0;l=s[a>>1]|0;if((l&2|0)==0){n[a>>1]=l|2;u[i+160>>2]=0}i=o[e+52>>2]|0;l=i+4|0;a=s[l>>1]|0;if((a&2|0)!=0){c=e+132|0;u[c>>2]=t;h=r;return}n[l>>1]=a|2;u[i+160>>2]=0;c=e+132|0;u[c>>2]=t;h=r;return}function ho(e,t){e=e|0;t=+t;return+(+u[e+116>>2]*t)}function fo(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Ff(3264,r);o[r>>2]=i;Ff(3296,r);o[r>>2]=n;Ff(3328,r);o[r>>2]=a[e+61>>0]|0;Ff(3360,r);s=+u[e+72>>2];c[d>>3]=+u[e+68>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(3400,r);s=+u[e+80>>2];c[d>>3]=+u[e+76>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(3448,r);s=+u[e+88>>2];c[d>>3]=+u[e+84>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(3496,r);c[d>>3]=+u[e+100>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(3536,r);o[r>>2]=a[e+136>>0]|0;Ff(3568,r);c[d>>3]=+u[e+120>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(3600,r);c[d>>3]=+u[e+124>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(3640,r);o[r>>2]=a[e+137>>0]|0;Ff(3680,r);c[d>>3]=+u[e+132>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(3712,r);c[d>>3]=+u[e+128>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(3744,r);o[r>>2]=o[e+56>>2];Ff(3776,r);h=t;return}function po(e){e=e|0;return}function mo(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Eo(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;Ao(e,t);o[e>>2]=3872;i=t+20|0;n=o[i+4>>2]|0;a=e+68|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=t+28|0;a=o[n+4>>2]|0;i=e+76|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;u[e+84>>2]=+u[t+36>>2];u[e+160>>2]=0;u[e+92>>2]=0;o[e+164>>2]=0;u[e+88>>2]=0;h=r;return}function vo(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,Y=0,K=0,Z=0;r=h;n=o[e+48>>2]|0;a=o[n+8>>2]|0;s=e+96|0;o[s>>2]=a;l=o[e+52>>2]|0;c=o[l+8>>2]|0;f=e+100|0;o[f>>2]=c;p=n+44|0;m=o[p>>2]|0;E=o[p+4>>2]|0;p=e+128|0;o[p>>2]=m;o[p+4>>2]=E;p=l+44|0;v=o[p>>2]|0;b=o[p+4>>2]|0;p=e+136|0;o[p>>2]=v;o[p+4>>2]=b;b=e+144|0;u[b>>2]=+u[n+136>>2];p=e+148|0;u[p>>2]=+u[l+136>>2];y=e+152|0;u[y>>2]=+u[n+144>>2];n=e+156|0;u[n>>2]=+u[l+144>>2];l=o[t+28>>2]|0;g=l+(a*12|0)|0;_=+u[g>>2];T=+u[g+4>>2];w=+u[l+(a*12|0)+8>>2];g=t+32|0;R=o[g>>2]|0;x=R+(a*12|0)|0;S=+u[x>>2];M=+u[x+4>>2];H=+u[R+(a*12|0)+8>>2];a=l+(c*12|0)|0;A=+u[a>>2];C=+u[a+4>>2];P=+u[l+(c*12|0)+8>>2];l=R+(c*12|0)|0;F=+u[l>>2];D=+u[l+4>>2];k=+u[R+(c*12|0)+8>>2];L=+q(+w);B=+X(+w);w=+q(+P);O=+X(+P);P=+u[e+68>>2]-(o[d>>2]=m,+u[d>>2]);N=+u[e+72>>2]-(o[d>>2]=E,+u[d>>2]);I=B*P-L*N;V=L*P+B*N;N=+I;B=+V;E=e+112|0;u[E>>2]=N;u[E+4>>2]=B;B=+u[e+76>>2]-(o[d>>2]=v,+u[d>>2]);N=+u[e+80>>2]-+u[e+140>>2];P=O*B-w*N;L=w*B+O*N;N=+P;O=+L;v=e+120|0;u[v>>2]=N;u[v+4>>2]=O;v=e+104|0;O=A+P-_-I;_=C+L-T-V;T=+O;C=+_;E=v;u[E>>2]=T;u[E+4>>2]=C;E=e+108|0;C=+j(+(O*O+_*_));u[e+88>>2]=C;o[e+164>>2]=C-+u[e+84>>2]>0?2:0;if(!(C>.004999999888241291)){u[v>>2]=0;u[E>>2]=0;u[e+160>>2]=0;u[e+92>>2]=0;h=r;return}T=1/C;C=T*O;u[v>>2]=C;O=T*_;u[E>>2]=O;_=I*O-V*C;T=O*P-C*L;A=+u[b>>2];N=+u[y>>2];B=+u[p>>2];w=+u[n>>2];U=B+(A+_*_*N)+T*T*w;if(U!=0)z=1/U;else z=0;u[e+160>>2]=z;if((i[t+24>>0]|0)==0){u[e+92>>2]=0;G=S;W=M;J=F;Y=D;K=H;Z=k}else{n=e+92|0;z=+u[t+8>>2]*+u[n>>2];u[n>>2]=z;U=C*z;C=z*O;G=S-U*A;W=M-C*A;J=F+U*B;Y=D+C*B;K=H-N*(C*I-U*V);Z=k+w*(C*P-U*L)}L=+G;G=+W;n=(o[g>>2]|0)+((o[s>>2]|0)*12|0)|0;u[n>>2]=L;u[n+4>>2]=G;n=o[g>>2]|0;u[n+((o[s>>2]|0)*12|0)+8>>2]=K;K=+J;J=+Y;s=n+((o[f>>2]|0)*12|0)|0;u[s>>2]=K;u[s+4>>2]=J;u[(o[g>>2]|0)+((o[f>>2]|0)*12|0)+8>>2]=Z;h=r;return}function bo(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0;r=h;i=e+96|0;n=o[i>>2]|0;a=t+32|0;s=o[a>>2]|0;l=s+(n*12|0)|0;c=l;f=+u[c>>2];d=+u[c+4>>2];p=+u[s+(n*12|0)+8>>2];n=e+100|0;c=o[n>>2]|0;m=s+(c*12|0)|0;E=+u[m>>2];v=+u[m+4>>2];b=+u[s+(c*12|0)+8>>2];y=+u[e+116>>2];g=+u[e+112>>2];_=+u[e+124>>2];T=+u[e+120>>2];w=+u[e+88>>2]-+u[e+84>>2];R=+u[e+104>>2];x=+u[e+108>>2];S=(E-b*_-(f-p*y))*R+(v+b*T-(d+p*g))*x;if(w<0)M=S+w*+u[t+4>>2];else M=S;t=e+92|0;S=+u[t>>2];w=S-M*+u[e+160>>2];M=w>0?0:w;u[t>>2]=M;w=M-S;S=R*w;R=x*w;w=+u[e+144>>2];x=p-+u[e+152>>2]*(g*R-S*y);y=+u[e+148>>2];g=b+ +u[e+156>>2]*(R*T-S*_);_=+(f-w*S);f=+(d-w*R);e=l;u[e>>2]=_;u[e+4>>2]=f;e=o[a>>2]|0;u[e+((o[i>>2]|0)*12|0)+8>>2]=x;x=+(E+S*y);S=+(v+R*y);i=e+((o[n>>2]|0)*12|0)|0;u[i>>2]=x;u[i+4>>2]=S;u[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=g;h=r;return}function yo(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0;r=h;i=e+96|0;n=o[i>>2]|0;a=t+28|0;t=o[a>>2]|0;s=t+(n*12|0)|0;l=s;c=+u[l>>2];f=+u[l+4>>2];d=+u[t+(n*12|0)+8>>2];n=e+100|0;l=o[n>>2]|0;p=t+(l*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[t+(l*12|0)+8>>2];b=+q(+d);y=+X(+d);g=+q(+v);_=+X(+v);T=+u[e+68>>2]-+u[e+128>>2];w=+u[e+72>>2]-+u[e+132>>2];R=y*T-b*w;x=b*T+y*w;w=+u[e+76>>2]-+u[e+136>>2];y=+u[e+80>>2]-+u[e+140>>2];T=_*w-g*y;b=g*w+_*y;y=m+T-c-R;_=E+b-f-x;w=+j(+(y*y+_*_));if(w<1.1920928955078125E-7){S=0;M=y;H=_}else{g=1/w;S=w;M=y*g;H=_*g}l=e+84|0;g=S-+u[l>>2];_=g<.20000000298023224?g:.20000000298023224;g=-(+u[e+160>>2]*(_<0?0:_));_=M*g;M=H*g;g=+u[e+144>>2];H=d-+u[e+152>>2]*(R*M-x*_);x=+u[e+148>>2];R=v+ +u[e+156>>2]*(T*M-b*_);b=+(c-g*_);c=+(f-g*M);e=s;u[e>>2]=b;u[e+4>>2]=c;e=o[a>>2]|0;u[e+((o[i>>2]|0)*12|0)+8>>2]=H;H=+(m+x*_);_=+(E+x*M);i=e+((o[n>>2]|0)*12|0)|0;u[i>>2]=H;u[i+4>>2]=_;u[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=R;h=r;return S-+u[l>>2]<.004999999888241291|0}function go(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+48>>2]|0;i=+u[r+24>>2];n=+u[t+68>>2];a=+u[r+20>>2];s=+u[t+72>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function _o(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+76>>2];a=+u[r+20>>2];s=+u[t+80>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function To(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+u[t+92>>2]*r;r=i*+u[t+108>>2];u[e>>2]=+u[t+104>>2]*i;u[e+4>>2]=r;return}function wo(e,t){e=e|0;t=+t;return 0}function Ro(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Ff(3920,r);o[r>>2]=i;Ff(3944,r);o[r>>2]=n;Ff(3976,r);o[r>>2]=a[e+61>>0]|0;Ff(4008,r);s=+u[e+72>>2];c[d>>3]=+u[e+68>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(4048,r);s=+u[e+80>>2];c[d>>3]=+u[e+76>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(4096,r);c[d>>3]=+u[e+84>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(4144,r);o[r>>2]=o[e+56>>2];Ff(4176,r);h=t;return}function xo(e){e=e|0;return}function So(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Mo(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0;r=h;do{switch(o[e>>2]|0){case 5:i=yf(t,168)|0;if((i|0)==0)n=0;else{Ch(i,e);n=i}a=n;break;case 2:i=yf(t,256)|0;if((i|0)==0)s=0;else{Zn(i,e);s=i}a=s;break;case 7:i=yf(t,224)|0;if((i|0)==0)l=0;else{Qo(i,e);l=i}a=l;break;case 4:i=yf(t,196)|0;if((i|0)==0)u=0;else{ha(i,e);u=i}a=u;break;case 3:i=yf(t,176)|0;if((i|0)==0)c=0;else{rn(i,e);c=i}a=c;break;case 9:i=yf(t,180)|0;if((i|0)==0)f=0;else{mn(i,e);f=i}a=f;break;case 11:i=yf(t,192)|0;if((i|0)==0)d=0;else{Ui(i,e);d=i}a=d;break;case 1:i=yf(t,228)|0;if((i|0)==0)p=0;else{ko(i,e);p=i}a=p;break;case 8:i=yf(t,208)|0;if((i|0)==0)m=0;else{Mn(i,e);m=i}a=m;break;case 6:i=yf(t,276)|0;if((i|0)==0)E=0;else{Nn(i,e);E=i}a=E;break;case 10:i=yf(t,168)|0;if((i|0)==0)v=0;else{Eo(i,e);v=i}a=v;break;default:a=0}}while(0);h=r;return a|0}function Ho(e,t){e=e|0;t=t|0;var r=0;r=h;fp[o[(o[e>>2]|0)+24>>2]&127](e);do{switch(o[e+4>>2]|0){case 9:gf(t,e,180);break;case 2:gf(t,e,256);break;case 1:gf(t,e,228);break;case 7:gf(t,e,224);break;case 8:gf(t,e,208);break;case 5:gf(t,e,168);break;case 3:gf(t,e,176);break;case 11:gf(t,e,192);break;case 4:gf(t,e,196);break;case 10:gf(t,e,168);break;case 6:gf(t,e,276);break;default:}}while(0);h=r;return}function Ao(e,t){e=e|0;t=t|0;var r=0;r=h;o[e>>2]=4264;o[e+4>>2]=o[t>>2];o[e+8>>2]=0;o[e+12>>2]=0;o[e+48>>2]=o[t+8>>2];o[e+52>>2]=o[t+12>>2];o[e+56>>2]=0;i[e+61>>0]=i[t+16>>0]|0;i[e+60>>0]=0;o[e+64>>2]=o[t+4>>2];t=e+16|0;o[t+0>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;o[t+20>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;h=r;return}function Co(e){e=e|0;e=h;h=h+16|0;Ff(4312,e);h=e;return}function Po(e){e=e|0;return}function Fo(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Do(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0;n=h;o[e+8>>2]=t;o[e+12>>2]=r;a=+u[i>>2]-+u[t+12>>2];s=i+4|0;l=+u[s>>2]-+u[t+16>>2];c=+u[t+24>>2];f=+u[t+20>>2];d=+(a*c+l*f);p=+(c*l-a*f);m=e+20|0;u[m>>2]=d;u[m+4>>2]=p;p=+u[i>>2]-+u[r+12>>2];d=+u[s>>2]-+u[r+16>>2];f=+u[r+24>>2];a=+u[r+20>>2];l=+(p*f+d*a);c=+(f*d-p*a);s=e+28|0;u[s>>2]=l;u[s+4>>2]=c;u[e+36>>2]=+u[r+72>>2]-+u[t+72>>2];h=n;return}function ko(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0;r=h;Ao(e,t);o[e>>2]=4368;n=t+20|0;a=o[n+4>>2]|0;s=e+68|0;o[s>>2]=o[n>>2];o[s+4>>2]=a;a=t+28|0;s=o[a+4>>2]|0;n=e+76|0;o[n>>2]=o[a>>2];o[n+4>>2]=s;u[e+116>>2]=+u[t+36>>2];s=e+84|0;n=t+44|0;o[s+0>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;u[e+120>>2]=+u[n>>2];u[e+124>>2]=+u[t+48>>2];u[e+104>>2]=+u[t+60>>2];u[e+108>>2]=+u[t+56>>2];i[e+112>>0]=i[t+40>>0]|0;i[e+100>>0]=i[t+52>>0]|0;o[e+224>>2]=0;h=r;return}function Lo(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0;r=h;n=o[e+48>>2]|0;a=o[n+8>>2]|0;s=e+128|0;o[s>>2]=a;l=o[e+52>>2]|0;c=o[l+8>>2]|0;f=e+132|0;o[f>>2]=c;p=n+44|0;m=o[p>>2]|0;E=o[p+4>>2]|0;p=e+152|0;o[p>>2]=m;o[p+4>>2]=E;p=l+44|0;v=o[p>>2]|0;b=o[p+4>>2]|0;p=e+160|0;o[p>>2]=v;o[p+4>>2]=b;p=e+168|0;u[p>>2]=+u[n+136>>2];y=+u[l+136>>2];u[e+172>>2]=y;g=+u[n+144>>2];u[e+176>>2]=g;_=+u[l+144>>2];u[e+180>>2]=_;l=o[t+28>>2]|0;T=+u[l+(a*12|0)+8>>2];n=t+32|0;w=o[n>>2]|0;R=w+(a*12|0)|0;x=+u[R>>2];S=+u[R+4>>2];M=+u[w+(a*12|0)+8>>2];H=+u[l+(c*12|0)+8>>2];l=w+(c*12|0)|0;A=+u[l>>2];C=+u[l+4>>2];P=+u[w+(c*12|0)+8>>2];F=+q(+T);D=+X(+T);k=+q(+H);L=+X(+H);c=e+136|0;B=+u[e+68>>2]-(o[d>>2]=m,+u[d>>2]);O=+u[e+72>>2]-(o[d>>2]=E,+u[d>>2]);N=D*B-F*O;I=F*B+D*O;O=+N;D=+I;E=c;u[E>>2]=O;u[E+4>>2]=D;D=+u[e+76>>2]-(o[d>>2]=v,+u[d>>2]);O=+u[e+80>>2]-(o[d>>2]=b,+u[d>>2]);B=L*D-k*O;F=k*D+L*O;O=+B;L=+F;b=e+144|0;u[b>>2]=O;u[b+4>>2]=L;L=+u[p>>2];O=g+_;p=O==0;D=L+y;b=e+140|0;u[e+184>>2]=D+g*I*I+_*F*F;k=-(g*I*N)-_*F*B;u[e+196>>2]=k;V=-(g*I)-_*F;u[e+208>>2]=V;u[e+188>>2]=k;u[e+200>>2]=D+g*N*N+_*B*B;D=g*N+_*B;u[e+212>>2]=D;u[e+192>>2]=V;u[e+204>>2]=D;u[e+216>>2]=O;if(O>0)U=1/O;else U=O;u[e+220>>2]=U;if((i[e+100>>0]|0)==0|p)u[e+96>>2]=0;do{if((i[e+112>>0]|0)==0|p)o[e+224>>2]=0;else{U=H-T-+u[e+116>>2];O=+u[e+124>>2];D=+u[e+120>>2];V=O-D;if(V>0)z=V;else z=-V;if(z<.06981317698955536){o[e+224>>2]=3;break}if(U<=D){v=e+224|0;if((o[v>>2]|0)!=1)u[e+92>>2]=0;o[v>>2]=1;break}v=e+224|0;if(!(U>=O)){o[v>>2]=0;u[e+92>>2]=0;break}if((o[v>>2]|0)!=2)u[e+92>>2]=0;o[v>>2]=2}}while(0);p=e+84|0;if((i[t+24>>0]|0)==0){o[p+0>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;G=x;W=S;j=A;J=C;Y=M;K=P;Z=o[s>>2]|0;Q=o[n>>2]|0;$=Q+(Z*12|0)|0;ee=+G;te=+W;re=$;ie=re;u[ie>>2]=ee;ne=re+4|0;oe=ne;u[oe>>2]=te;ae=o[s>>2]|0;se=o[n>>2]|0;le=se+(ae*12|0)+8|0;u[le>>2]=Y;ue=o[f>>2]|0;ce=se+(ue*12|0)|0;he=+j;fe=+J;de=ce;pe=de;u[pe>>2]=he;me=de+4|0;Ee=me;u[Ee>>2]=fe;ve=o[f>>2]|0;be=o[n>>2]|0;ye=be+(ve*12|0)+8|0;u[ye>>2]=K;h=r;return}else{v=t+8|0;z=+u[v>>2];T=z*+u[p>>2];u[p>>2]=T;p=e+88|0;H=z*+u[p>>2];u[p>>2]=H;p=e+92|0;O=z*+u[p>>2];u[p>>2]=O;p=e+96|0;z=+u[v>>2]*+u[p>>2];u[p>>2]=z;G=x-L*T;W=S-L*H;j=A+y*T;J=C+y*H;Y=M-g*(O+(z+(H*+u[c>>2]-T*+u[b>>2])));K=P+_*(O+(z+(H*B-T*F)));Z=o[s>>2]|0;Q=o[n>>2]|0;$=Q+(Z*12|0)|0;ee=+G;te=+W;re=$;ie=re;u[ie>>2]=ee;ne=re+4|0;oe=ne;u[oe>>2]=te;ae=o[s>>2]|0;se=o[n>>2]|0;le=se+(ae*12|0)+8|0;u[le>>2]=Y;ue=o[f>>2]|0;ce=se+(ue*12|0)|0;he=+j;fe=+J;de=ce;pe=de;u[pe>>2]=he;me=de+4|0;Ee=me;u[Ee>>2]=fe;ve=o[f>>2]|0;be=o[n>>2]|0;ye=be+(ve*12|0)+8|0;u[ye>>2]=K;h=r;return}}function Bo(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0,Ce=0,Pe=0,Fe=0,De=0;r=h;h=h+80|0;n=r+60|0;a=r+48|0;s=r+40|0;l=r+32|0;c=r+24|0;f=r+16|0;d=r+8|0;p=r;m=e+128|0;E=o[m>>2]|0;v=t+32|0;b=o[v>>2]|0;y=b+(E*12|0)|0;g=+u[y>>2];_=+u[y+4>>2];T=+u[b+(E*12|0)+8>>2];E=e+132|0;y=o[E>>2]|0;w=b+(y*12|0)|0;R=+u[w>>2];x=+u[w+4>>2];S=+u[b+(y*12|0)+8>>2];M=+u[e+168>>2];H=+u[e+172>>2];A=+u[e+176>>2];C=+u[e+180>>2];y=A+C==0;if((i[e+100>>0]|0)!=0?!((o[e+224>>2]|0)==3|y):0){b=e+96|0;P=+u[b>>2];F=+u[t>>2]*+u[e+104>>2];D=P-+u[e+220>>2]*(S-T-+u[e+108>>2]);k=-F;L=D<F?D:F;F=L<k?k:L;u[b>>2]=F;L=F-P;B=T-A*L;O=S+C*L}else{B=T;O=S}if((i[e+112>>0]|0)!=0?(b=e+224|0,!((o[b>>2]|0)==0|y)):0){y=e+148|0;t=e+144|0;w=e+140|0;N=e+136|0;S=R-O*+u[y>>2]-g+B*+u[w>>2];T=x+O*+u[t>>2]-_-B*+u[N>>2];u[n>>2]=S;u[n+4>>2]=T;u[n+8>>2]=O-B;I=e+184|0;_f(a,I,n);L=+u[a>>2];P=-L;F=+u[a+4>>2];k=-F;D=+u[a+8>>2];V=-D;a=o[b>>2]|0;do{if((a|0)==2){b=e+84|0;n=e+92|0;U=+u[n>>2];z=U-D;if(z>0){G=U*+u[e+212>>2]-T;u[c>>2]=U*+u[e+208>>2]-S;u[c+4>>2]=G;Tf(f,I,c);G=+u[f>>2];U=+u[f+4>>2];W=-+u[n>>2];u[b>>2]=G+ +u[b>>2];j=e+88|0;u[j>>2]=U+ +u[j>>2];u[n>>2]=0;J=U;X=G;q=W;break}else{u[b>>2]=+u[b>>2]-L;b=e+88|0;u[b>>2]=+u[b>>2]-F;u[n>>2]=z;J=k;X=P;q=V;break}}else if((a|0)==3){n=e+84|0;u[n>>2]=+u[n>>2]-L;n=e+88|0;u[n>>2]=+u[n>>2]-F;n=e+92|0;u[n>>2]=+u[n>>2]-D;J=k;X=P;q=V}else if((a|0)==1){n=e+84|0;b=e+92|0;z=+u[b>>2];W=z-D;if(W<0){G=z*+u[e+212>>2]-T;u[s>>2]=z*+u[e+208>>2]-S;u[s+4>>2]=G;Tf(l,I,s);G=+u[l>>2];z=+u[l+4>>2];U=-+u[b>>2];u[n>>2]=G+ +u[n>>2];j=e+88|0;u[j>>2]=z+ +u[j>>2];u[b>>2]=0;J=z;X=G;q=U;break}else{u[n>>2]=+u[n>>2]-L;n=e+88|0;u[n>>2]=+u[n>>2]-F;u[b>>2]=W;J=k;X=P;q=V;break}}else{J=k;X=P;q=V}}while(0);Y=q+(J*+u[t>>2]-X*+u[y>>2]);K=q+(J*+u[N>>2]-X*+u[w>>2]);Z=J;Q=X;$=H*Q;ee=H*Z;te=M*Q;re=M*Z;ie=R+$;ne=x+ee;oe=g-te;ae=_-re;se=A*K;le=C*Y;ue=B-se;ce=O+le;he=o[m>>2]|0;fe=o[v>>2]|0;de=fe+(he*12|0)|0;pe=+oe;me=+ae;Ee=de;ve=Ee;u[ve>>2]=pe;be=Ee+4|0;ye=be;u[ye>>2]=me;ge=o[m>>2]|0;_e=o[v>>2]|0;Te=_e+(ge*12|0)+8|0;u[Te>>2]=ue;we=o[E>>2]|0;Re=_e+(we*12|0)|0;xe=+ie;Se=+ne;Me=Re;He=Me;u[He>>2]=xe;Ae=Me+4|0;Ce=Ae;u[Ce>>2]=Se;Pe=o[E>>2]|0;Fe=o[v>>2]|0;De=Fe+(Pe*12|0)+8|0;u[De>>2]=ce;h=r;return}w=e+148|0;N=e+144|0;y=e+140|0;t=e+136|0;X=-(x+O*+u[N>>2]-_-B*+u[t>>2]);u[p>>2]=-(R-O*+u[w>>2]-g+B*+u[y>>2]);u[p+4>>2]=X;Tf(d,e+184|0,p);X=+u[d>>2];p=e+84|0;u[p>>2]=X+ +u[p>>2];J=+u[d+4>>2];d=e+88|0;u[d>>2]=J+ +u[d>>2];Y=J*+u[N>>2]-X*+u[w>>2];K=J*+u[t>>2]-X*+u[y>>2];Z=J;Q=X;$=H*Q;ee=H*Z;te=M*Q;re=M*Z;ie=R+$;ne=x+ee;oe=g-te;ae=_-re;se=A*K;le=C*Y;ue=B-se;ce=O+le;he=o[m>>2]|0;fe=o[v>>2]|0;de=fe+(he*12|0)|0;pe=+oe;me=+ae;Ee=de;ve=Ee;u[ve>>2]=pe;be=Ee+4|0;ye=be;u[ye>>2]=me;ge=o[m>>2]|0;_e=o[v>>2]|0;Te=_e+(ge*12|0)+8|0;u[Te>>2]=ue;we=o[E>>2]|0;Re=_e+(we*12|0)|0;xe=+ie;Se=+ne;Me=Re;He=Me;u[He>>2]=xe;Ae=Me+4|0;Ce=Ae;u[Ce>>2]=Se;Pe=o[E>>2]|0;Fe=o[v>>2]|0;De=Fe+(Pe*12|0)+8|0;u[De>>2]=ce;h=r;return}function Oo(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0;r=h;n=e+128|0;a=o[n>>2]|0;s=t+28|0;t=o[s>>2]|0;l=t+(a*12|0)|0;c=l;f=+u[c>>2];d=+u[c+4>>2];p=+u[t+(a*12|0)+8>>2];a=e+132|0;c=o[a>>2]|0;m=t+(c*12|0)|0;E=+u[m>>2];v=+u[m+4>>2];b=+u[t+(c*12|0)+8>>2];c=e+176|0;t=e+180|0;if((i[e+112>>0]|0)!=0){y=+u[t>>2];g=+u[c>>2];m=o[e+224>>2]|0;if((m|0)==0|y+g==0){_=g;T=y;w=p;R=b;x=0}else{S=b-p-+u[e+116>>2];if((m|0)==1){M=S-+u[e+120>>2];H=M+.03490658849477768;A=H<0?H:0;C=-M;P=-(+u[e+220>>2]*(A<-.13962635397911072?-.13962635397911072:A))}else if((m|0)==3){A=S-+u[e+120>>2];M=A<.13962635397911072?A:.13962635397911072;A=M<-.13962635397911072?-.13962635397911072:M;M=-(+u[e+220>>2]*A);if(A>0){C=A;P=M}else{C=-A;P=M}}else if((m|0)==2){M=S-+u[e+124>>2];S=M+-.03490658849477768;A=S<.13962635397911072?S:.13962635397911072;C=M;P=-(+u[e+220>>2]*(A<0?0:A))}else{C=0;P=0}_=g;T=y;w=p-P*g;R=b+P*y;x=C}}else{_=+u[c>>2];T=+u[t>>2];w=p;R=b;x=0}b=+q(+w);p=+X(+w);C=+q(+R);y=+X(+R);P=+u[e+68>>2]-+u[e+152>>2];g=+u[e+72>>2]-+u[e+156>>2];A=p*P-b*g;M=b*P+p*g;g=+u[e+76>>2]-+u[e+160>>2];p=+u[e+80>>2]-+u[e+164>>2];P=y*g-C*p;b=C*g+y*p;p=E+P-f-A;y=v+b-d-M;g=+j(+(p*p+y*y));C=+u[e+168>>2];S=+u[e+172>>2];H=C+S;F=H+M*M*_+b*b*T;D=A*_;k=P*T;L=-(M*D)-b*k;B=H+A*D+P*k;k=F*B-L*L;if(k!=0)O=1/k;else O=k;k=-((p*B-y*L)*O);B=-((y*F-p*L)*O);O=+(f-C*k);f=+(d-C*B);e=l;u[e>>2]=O;u[e+4>>2]=f;e=o[s>>2]|0;u[e+((o[n>>2]|0)*12|0)+8>>2]=w-_*(A*B-M*k);M=+(E+S*k);E=+(v+S*B);n=e+((o[a>>2]|0)*12|0)|0;u[n>>2]=M;u[n+4>>2]=E;u[(o[s>>2]|0)+((o[a>>2]|0)*12|0)+8>>2]=R+T*(P*B-b*k);if(!(g<=.004999999888241291)){N=0;h=r;return N|0}N=x<=.03490658849477768;h=r;return N|0}function No(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+48>>2]|0;i=+u[r+24>>2];n=+u[t+68>>2];a=+u[r+20>>2];s=+u[t+72>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function Io(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+76>>2];a=+u[r+20>>2];s=+u[t+80>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function Vo(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+u[t+88>>2]*r;u[e>>2]=+u[t+84>>2]*r;u[e+4>>2]=i;return}function Uo(e,t){e=e|0;t=+t;return+(+u[e+92>>2]*t)}function zo(e){e=e|0;return+(+u[(o[e+52>>2]|0)+72>>2]-+u[(o[e+48>>2]|0)+72>>2]-+u[e+116>>2])}function Go(e){e=e|0;return(i[e+100>>0]|0)!=0|0}function Wo(e,t){e=e|0;t=t|0;var r=0,a=0,l=0,c=0,f=0,d=0;r=h;a=o[e+48>>2]|0;l=a+4|0;c=s[l>>1]|0;if((c&2|0)==0){n[l>>1]=c|2;u[a+160>>2]=0}a=o[e+52>>2]|0;c=a+4|0;l=s[c>>1]|0;if((l&2|0)!=0){f=e+100|0;d=t&1;i[f>>0]=d;h=r;return}n[c>>1]=l|2;u[a+160>>2]=0;f=e+100|0;d=t&1;i[f>>0]=d;h=r;return}function jo(e,t){e=e|0;t=+t;var r=0,i=0,a=0,l=0,c=0;r=h;i=o[e+48>>2]|0;a=i+4|0;l=s[a>>1]|0;if((l&2|0)==0){n[a>>1]=l|2;u[i+160>>2]=0}i=o[e+52>>2]|0;l=i+4|0;a=s[l>>1]|0;if((a&2|0)!=0){c=e+108|0;u[c>>2]=t;h=r;return}n[l>>1]=a|2;u[i+160>>2]=0;c=e+108|0;u[c>>2]=t;h=r;return}function Jo(e){e=e|0;return(i[e+112>>0]|0)!=0|0}function Xo(e,t){e=e|0;t=t|0;var r=0,l=0,c=0,f=0,d=0;r=h;l=e+112|0;if((t&1|0)==(a[l>>0]|0|0)){h=r;return}c=o[e+48>>2]|0;f=c+4|0;d=s[f>>1]|0;if((d&2|0)==0){n[f>>1]=d|2;u[c+160>>2]=0}c=o[e+52>>2]|0;d=c+4|0;f=s[d>>1]|0;if((f&2|0)==0){n[d>>1]=f|2;u[c+160>>2]=0}i[l>>0]=t&1;u[e+92>>2]=0;h=r;return}function qo(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Ff(4416,r);o[r>>2]=i;Ff(4448,r);o[r>>2]=n;Ff(4480,r);o[r>>2]=a[e+61>>0]|0;Ff(4512,r);s=+u[e+72>>2];c[d>>3]=+u[e+68>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(4552,r);s=+u[e+80>>2];c[d>>3]=+u[e+76>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(4600,r);c[d>>3]=+u[e+116>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(4648,r);o[r>>2]=a[e+112>>0]|0;Ff(4680,r);c[d>>3]=+u[e+120>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(4712,r);c[d>>3]=+u[e+124>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(4744,r);o[r>>2]=a[e+100>>0]|0;Ff(4776,r);c[d>>3]=+u[e+108>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(4808,r);c[d>>3]=+u[e+104>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(4840,r);o[r>>2]=o[e+56>>2];Ff(4872,r);h=t;return}function Yo(e){e=e|0;return}function Ko(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Zo(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0;a=h;o[e+8>>2]=t;o[e+12>>2]=r;s=+u[i>>2]-+u[t+12>>2];l=i+4|0;c=+u[l>>2]-+u[t+16>>2];f=t+24|0;d=+u[f>>2];p=t+20|0;m=+u[p>>2];E=+(s*d+c*m);v=+(d*c-s*m);t=e+20|0;u[t>>2]=E;u[t+4>>2]=v;v=+u[i>>2]-+u[r+12>>2];E=+u[l>>2]-+u[r+16>>2];m=+u[r+24>>2];s=+u[r+20>>2];c=+(v*m+E*s);d=+(m*E-v*s);r=e+28|0;u[r>>2]=c;u[r+4>>2]=d;d=+u[f>>2];c=+u[n>>2];s=+u[p>>2];v=+u[n+4>>2];E=+(d*c+s*v);m=+(d*v-c*s);n=e+36|0;u[n>>2]=E;u[n+4>>2]=m;h=a;return}function Qo(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0;r=h;Ao(e,t);o[e>>2]=4968;n=t+20|0;a=o[n+4>>2]|0;s=e+76|0;o[s>>2]=o[n>>2];o[s+4>>2]=a;a=t+28|0;s=o[a+4>>2]|0;n=e+84|0;o[n>>2]=o[a>>2];o[n+4>>2]=s;s=t+36|0;n=o[s>>2]|0;a=o[s+4>>2]|0;s=e+92|0;o[s>>2]=n;o[s+4>>2]=a;s=e+100|0;u[s>>2]=-(o[d>>2]=a,+u[d>>2]);o[s+4>>2]=n;u[e+204>>2]=0;u[e+108>>2]=0;u[e+208>>2]=0;u[e+112>>2]=0;u[e+212>>2]=0;u[e+116>>2]=0;u[e+120>>2]=+u[t+48>>2];u[e+124>>2]=+u[t+52>>2];i[e+128>>0]=i[t+44>>0]|0;u[e+68>>2]=+u[t+56>>2];u[e+72>>2]=+u[t+60>>2];u[e+216>>2]=0;u[e+220>>2]=0;t=e+172|0;o[t+0>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;h=r;return}function $o(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0;r=h;n=o[e+48>>2]|0;a=o[n+8>>2]|0;s=e+132|0;o[s>>2]=a;l=o[e+52>>2]|0;c=o[l+8>>2]|0;f=e+136|0;o[f>>2]=c;p=n+44|0;m=o[p>>2]|0;E=o[p+4>>2]|0;p=e+140|0;o[p>>2]=m;o[p+4>>2]=E;p=l+44|0;v=o[p>>2]|0;b=o[p+4>>2]|0;p=e+148|0;o[p>>2]=v;o[p+4>>2]=b;y=+u[n+136>>2];p=e+156|0;u[p>>2]=y;g=+u[l+136>>2];_=e+160|0;u[_>>2]=g;T=+u[n+144>>2];n=e+164|0;u[n>>2]=T;w=+u[l+144>>2];l=e+168|0;u[l>>2]=w;R=o[t+28>>2]|0;x=R+(a*12|0)|0;S=+u[x>>2];M=+u[x+4>>2];H=+u[R+(a*12|0)+8>>2];x=t+32|0;A=o[x>>2]|0;C=A+(a*12|0)|0;P=+u[C>>2];F=+u[C+4>>2];D=+u[A+(a*12|0)+8>>2];a=R+(c*12|0)|0;k=+u[a>>2];L=+u[a+4>>2];B=+u[R+(c*12|0)+8>>2];R=A+(c*12|0)|0;O=+u[R>>2];N=+u[R+4>>2];I=+u[A+(c*12|0)+8>>2];V=+q(+H);U=+X(+H);H=+q(+B);z=+X(+B);B=+u[e+76>>2]-(o[d>>2]=m,+u[d>>2]);G=+u[e+80>>2]-(o[d>>2]=E,+u[d>>2]);W=U*B-V*G;j=V*B+U*G;G=+u[e+84>>2]-(o[d>>2]=v,+u[d>>2]);B=+u[e+88>>2]-(o[d>>2]=b,+u[d>>2]);J=z*G-H*B;Y=H*G+z*B;B=k+J-S-W;S=L+Y-M-j;M=+u[e+100>>2];L=+u[e+104>>2];k=U*M-V*L;z=V*M+U*L;L=+k;M=+z;b=e+180|0;u[b>>2]=L;u[b+4>>2]=M;M=W+B;W=j+S;j=z*M-k*W;u[e+196>>2]=j;L=J*z-Y*k;u[e+200>>2]=L;G=y+g;g=G+j*T*j+L*w*L;if(g>0)K=1/g;else K=g;u[e+204>>2]=K;b=e+212|0;u[b>>2]=0;v=e+216|0;u[v>>2]=0;E=e+220|0;u[E>>2]=0;K=+u[e+68>>2];if(K>0){g=+u[e+92>>2];y=+u[e+96>>2];H=U*g-V*y;Z=V*g+U*y;y=+H;U=+Z;m=e+172|0;u[m>>2]=y;u[m+4>>2]=U;U=M*Z-W*H;u[e+188>>2]=U;W=J*Z-Y*H;u[e+192>>2]=W;Y=G+U*T*U+W*w*W;if(Y>0){W=1/Y;u[b>>2]=W;U=K*6.2831854820251465;K=U*W*U;G=+u[t>>2];J=G*(U*W*2*+u[e+72>>2]+G*K);if(J>0)Q=1/J;else Q=J;u[E>>2]=Q;u[v>>2]=(B*H+S*Z)*G*K*Q;K=Y+Q;u[b>>2]=K;if(K>0)u[b>>2]=1/K}}else u[e+116>>2]=0;if((i[e+128>>0]|0)!=0){K=w+T;b=e+208|0;u[b>>2]=K;if(K>0)u[b>>2]=1/K}else{u[e+208>>2]=0;u[e+112>>2]=0}if((i[t+24>>0]|0)==0){u[e+108>>2]=0;u[e+116>>2]=0;u[e+112>>2]=0;$=P;ee=F;te=O;re=N;ie=D;ne=I;oe=o[s>>2]|0;ae=o[x>>2]|0;se=ae+(oe*12|0)|0;le=+$;ue=+ee;ce=se;he=ce;u[he>>2]=le;fe=ce+4|0;de=fe;u[de>>2]=ue;pe=o[s>>2]|0;me=o[x>>2]|0;Ee=me+(pe*12|0)+8|0;u[Ee>>2]=ie;ve=o[f>>2]|0;be=me+(ve*12|0)|0;ye=+te;ge=+re;_e=be;Te=_e;u[Te>>2]=ye;we=_e+4|0;Re=we;u[Re>>2]=ge;xe=o[f>>2]|0;Se=o[x>>2]|0;Me=Se+(xe*12|0)+8|0;u[Me>>2]=ne;h=r;return}else{b=t+8|0;t=e+108|0;K=+u[b>>2]*+u[t>>2];u[t>>2]=K;t=e+116|0;T=+u[b>>2]*+u[t>>2];u[t>>2]=T;t=e+112|0;w=+u[b>>2]*+u[t>>2];u[t>>2]=w;Q=K*k+T*+u[e+172>>2];k=K*z+T*+u[e+176>>2];z=+u[p>>2];Y=+u[_>>2];$=P-Q*z;ee=F-k*z;te=O+Q*Y;re=N+k*Y;ie=D-(w+(K*j+T*+u[e+188>>2]))*+u[n>>2];ne=I+(w+(K*L+T*+u[e+192>>2]))*+u[l>>2];oe=o[s>>2]|0;ae=o[x>>2]|0;se=ae+(oe*12|0)|0;le=+$;ue=+ee;ce=se;he=ce;u[he>>2]=le;fe=ce+4|0;de=fe;u[de>>2]=ue;pe=o[s>>2]|0;me=o[x>>2]|0;Ee=me+(pe*12|0)+8|0;u[Ee>>2]=ie;ve=o[f>>2]|0;be=me+(ve*12|0)|0;ye=+te;ge=+re;_e=be;Te=_e;u[Te>>2]=ye;we=_e+4|0;Re=we;u[Re>>2]=ge;xe=o[f>>2]|0;Se=o[x>>2]|0;Me=Se+(xe*12|0)+8|0;u[Me>>2]=ne;h=r;return}}function ea(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0;r=h;i=+u[e+156>>2];n=+u[e+160>>2];a=+u[e+164>>2];s=+u[e+168>>2];l=e+132|0;c=o[l>>2]|0;f=t+32|0;d=o[f>>2]|0;p=d+(c*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[d+(c*12|0)+8>>2];c=e+136|0;p=o[c>>2]|0;b=d+(p*12|0)|0;y=+u[b>>2];g=+u[b+4>>2];_=+u[d+(p*12|0)+8>>2];T=+u[e+172>>2];w=+u[e+176>>2];R=+u[e+192>>2];x=+u[e+188>>2];p=e+116|0;S=+u[p>>2];M=+u[e+212>>2]*(+u[e+216>>2]+(_*R+(T*(y-m)+w*(g-E))-v*x)+ +u[e+220>>2]*S);H=-M;u[p>>2]=S-M;M=T*H;T=w*H;w=m-i*M;m=E-i*T;E=v-a*x*H;x=y+n*M;M=g+n*T;T=_+s*R*H;p=e+112|0;H=+u[p>>2];R=+u[t>>2]*+u[e+120>>2];_=H-+u[e+208>>2]*(T-E-+u[e+124>>2]);g=-R;y=_<R?_:R;R=y<g?g:y;u[p>>2]=R;y=R-H;H=E-a*y;E=T+s*y;y=+u[e+180>>2];T=+u[e+184>>2];R=+u[e+200>>2];g=+u[e+196>>2];_=+u[e+204>>2]*((x-w)*y+(M-m)*T+R*E-g*H);v=-_;p=e+108|0;u[p>>2]=+u[p>>2]-_;_=y*v;y=T*v;T=+(w-i*_);w=+(m-i*y);p=(o[f>>2]|0)+((o[l>>2]|0)*12|0)|0;u[p>>2]=T;u[p+4>>2]=w;p=o[f>>2]|0;u[p+((o[l>>2]|0)*12|0)+8>>2]=H-a*g*v;g=+(x+n*_);_=+(M+n*y);l=p+((o[c>>2]|0)*12|0)|0;u[l>>2]=g;u[l+4>>2]=_;u[(o[f>>2]|0)+((o[c>>2]|0)*12|0)+8>>2]=E+s*R*v;h=r;return}function ta(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0;r=h;i=e+132|0;n=o[i>>2]|0;a=t+28|0;t=o[a>>2]|0;s=t+(n*12|0)|0;l=+u[s>>2];c=+u[s+4>>2];f=+u[t+(n*12|0)+8>>2];n=e+136|0;s=o[n>>2]|0;d=t+(s*12|0)|0;p=+u[d>>2];m=+u[d+4>>2];E=+u[t+(s*12|0)+8>>2];v=+q(+f);b=+X(+f);y=+q(+E);g=+X(+E);_=+u[e+76>>2]-+u[e+140>>2];T=+u[e+80>>2]-+u[e+144>>2];w=b*_-v*T;R=v*_+b*T;T=+u[e+84>>2]-+u[e+148>>2];_=+u[e+88>>2]-+u[e+152>>2];x=g*T-y*_;S=y*T+g*_;_=p-l+x-w;g=m-c+S-R;T=+u[e+100>>2];y=+u[e+104>>2];M=b*T-v*y;H=v*T+b*y;y=M*_+H*g;b=+u[e+156>>2];T=+u[e+160>>2];v=+u[e+164>>2];A=+u[e+196>>2];C=+u[e+168>>2];P=+u[e+200>>2];F=b+T+A*v*A+P*C*P;if(F!=0)D=-y/F;else D=0;F=M*D;P=H*D;A=+(l-F*b);l=+(c-P*b);e=(o[a>>2]|0)+((o[i>>2]|0)*12|0)|0;u[e>>2]=A;u[e+4>>2]=l;e=o[a>>2]|0;u[e+((o[i>>2]|0)*12|0)+8>>2]=f-(H*(w+_)-M*(R+g))*D*v;v=+(p+F*T);F=+(m+P*T);i=e+((o[n>>2]|0)*12|0)|0;u[i>>2]=v;u[i+4>>2]=F;u[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=E+(x*H-S*M)*D*C;if(y>0){k=y;L=k<=.004999999888241291;h=r;return L|0}k=-y;L=k<=.004999999888241291;h=r;return L|0}function ra(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+48>>2]|0;i=+u[r+24>>2];n=+u[t+76>>2];a=+u[r+20>>2];s=+u[t+80>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function ia(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+84>>2];a=+u[r+20>>2];s=+u[t+88>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function na(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,o=0;i=+u[t+108>>2];n=+u[t+116>>2];o=(i*+u[t+184>>2]+n*+u[t+176>>2])*r;u[e>>2]=(i*+u[t+180>>2]+n*+u[t+172>>2])*r;u[e+4>>2]=o;return}function oa(e,t){e=e|0;t=+t;return+(+u[e+112>>2]*t)}function aa(e,t){e=e|0;t=+t;var r=0,i=0,a=0,l=0,c=0;r=h;i=o[e+48>>2]|0;a=i+4|0;l=s[a>>1]|0;if((l&2|0)==0){n[a>>1]=l|2;u[i+160>>2]=0}i=o[e+52>>2]|0;l=i+4|0;a=s[l>>1]|0;if((a&2|0)!=0){c=e+124|0;u[c>>2]=t;h=r;return}n[l>>1]=a|2;u[i+160>>2]=0;c=e+124|0;u[c>>2]=t;h=r;return}function sa(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Ff(5016,r);o[r>>2]=i;Ff(5040,r);o[r>>2]=n;Ff(5072,r);o[r>>2]=a[e+61>>0]|0;Ff(5104,r);s=+u[e+80>>2];c[d>>3]=+u[e+76>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(5144,r);s=+u[e+88>>2];c[d>>3]=+u[e+84>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(5192,r);s=+u[e+96>>2];c[d>>3]=+u[e+92>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(5240,r);o[r>>2]=a[e+128>>0]|0;Ff(5280,r);c[d>>3]=+u[e+124>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(5312,r);c[d>>3]=+u[e+120>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(5344,r);c[d>>3]=+u[e+68>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(5376,r);c[d>>3]=+u[e+72>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(5408,r);o[r>>2]=o[e+56>>2];Ff(5440,r);h=t;return}function la(e){e=e|0;return}function ua(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ca(e,t,r,i,n,a,s,l){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;s=s|0;l=+l;var c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0;c=h;o[e+8>>2]=t;o[e+12>>2]=r;f=i;d=o[f+4>>2]|0;p=e+20|0;o[p>>2]=o[f>>2];o[p+4>>2]=d;d=n;p=o[d+4>>2]|0;f=e+28|0;o[f>>2]=o[d>>2];o[f+4>>2]=p;m=+u[a>>2]-+u[t+12>>2];p=a+4|0;E=+u[p>>2]-+u[t+16>>2];v=+u[t+24>>2];b=+u[t+20>>2];y=+(m*v+E*b);g=+(v*E-m*b);t=e+36|0;u[t>>2]=y;u[t+4>>2]=g;g=+u[s>>2]-+u[r+12>>2];t=s+4|0;y=+u[t>>2]-+u[r+16>>2];b=+u[r+24>>2];m=+u[r+20>>2];E=+(g*b+y*m);v=+(b*y-g*m);r=e+44|0;u[r>>2]=E;u[r+4>>2]=v;v=+u[a>>2]-+u[i>>2];E=+u[p>>2]-+u[i+4>>2];u[e+52>>2]=+j(+(v*v+E*E));E=+u[s>>2]-+u[n>>2];v=+u[t>>2]-+u[n+4>>2];u[e+56>>2]=+j(+(E*E+v*v));u[e+60>>2]=l;h=c;return}function ha(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0;r=h;Ao(e,t);o[e>>2]=5528;i=t+20|0;n=o[i+4>>2]|0;a=e+68|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=t+28|0;a=o[n+4>>2]|0;i=e+76|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;a=t+36|0;i=o[a+4>>2]|0;n=e+92|0;o[n>>2]=o[a>>2];o[n+4>>2]=i;i=t+44|0;n=o[i+4>>2]|0;a=e+100|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=t+52|0;u[e+84>>2]=+u[n>>2];a=t+56|0;u[e+88>>2]=+u[a>>2];s=+u[t+60>>2];u[e+112>>2]=s;u[e+108>>2]=+u[n>>2]+s*+u[a>>2];u[e+116>>2]=0;h=r;return}function fa(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0;r=h;n=o[e+48>>2]|0;a=o[n+8>>2]|0;s=e+120|0;o[s>>2]=a;l=o[e+52>>2]|0;c=o[l+8>>2]|0;f=e+124|0;o[f>>2]=c;p=n+44|0;m=o[p>>2]|0;E=o[p+4>>2]|0;p=e+160|0;o[p>>2]=m;o[p+4>>2]=E;p=l+44|0;v=o[p>>2]|0;b=o[p+4>>2]|0;p=e+168|0;o[p>>2]=v;o[p+4>>2]=b;b=e+176|0;u[b>>2]=+u[n+136>>2];p=e+180|0;u[p>>2]=+u[l+136>>2];y=e+184|0;u[y>>2]=+u[n+144>>2];n=e+188|0;u[n>>2]=+u[l+144>>2];l=o[t+28>>2]|0;g=l+(a*12|0)|0;_=+u[g>>2];T=+u[g+4>>2];w=+u[l+(a*12|0)+8>>2];g=t+32|0;R=o[g>>2]|0;x=R+(a*12|0)|0;S=+u[x>>2];M=+u[x+4>>2];H=+u[R+(a*12|0)+8>>2];a=l+(c*12|0)|0;A=+u[a>>2];C=+u[a+4>>2];P=+u[l+(c*12|0)+8>>2];l=R+(c*12|0)|0;F=+u[l>>2];D=+u[l+4>>2];k=+u[R+(c*12|0)+8>>2];L=+q(+w);B=+X(+w);w=+q(+P);O=+X(+P);c=e+144|0;P=+u[e+92>>2]-(o[d>>2]=m,+u[d>>2]);N=+u[e+96>>2]-(o[d>>2]=E,+u[d>>2]);I=B*P-L*N;V=L*P+B*N;N=+I;B=+V;E=c;u[E>>2]=N;u[E+4>>2]=B;B=+u[e+100>>2]-(o[d>>2]=v,+u[d>>2]);N=+u[e+104>>2]-+u[e+172>>2];P=O*B-w*N;L=w*B+O*N;N=+P;O=+L;v=e+152|0;u[v>>2]=N;u[v+4>>2]=O;v=e+128|0;O=_+I-+u[e+68>>2];I=T+V-+u[e+72>>2];V=+O;T=+I;E=v;u[E>>2]=V;u[E+4>>2]=T;E=e+136|0;T=A+P-+u[e+76>>2];A=C+L-+u[e+80>>2];C=+T;V=+A;m=E;u[m>>2]=C;u[m+4>>2]=V;V=+j(+(O*O+I*I));C=+j(+(T*T+A*A));if(V>.04999999701976776){_=1/V;V=O*_;u[v>>2]=V;U=_*I;z=V}else{u[v>>2]=0;U=0;z=0}u[e+132>>2]=U;if(C>.04999999701976776){V=1/C;C=V*T;u[E>>2]=C;G=V*A;W=C}else{u[E>>2]=0;G=0;W=0}u[e+140>>2]=G;C=+u[c>>2];A=+u[e+148>>2];V=C*U-A*z;T=P*G-L*W;I=+u[b>>2];_=+u[y>>2];O=+u[p>>2];N=+u[n>>2];B=+u[e+112>>2];w=I+V*V*_+B*B*(O+T*T*N);if(w>0)J=1/w;else J=w;u[e+192>>2]=J;if((i[t+24>>0]|0)==0){u[e+116>>2]=0;Y=S;K=M;Z=F;Q=D;$=H;ee=k;te=o[s>>2]|0;re=o[g>>2]|0;ie=re+(te*12|0)|0;ne=+Y;oe=+K;ae=ie;se=ae;u[se>>2]=ne;le=ae+4|0;ue=le;u[ue>>2]=oe;ce=o[s>>2]|0;he=o[g>>2]|0;fe=he+(ce*12|0)+8|0;u[fe>>2]=$;de=o[f>>2]|0;pe=he+(de*12|0)|0;me=+Z;Ee=+Q;ve=pe;be=ve;u[be>>2]=me;ye=ve+4|0;ge=ye;u[ge>>2]=Ee;_e=o[f>>2]|0;Te=o[g>>2]|0;we=Te+(_e*12|0)+8|0;u[we>>2]=ee;h=r;return}else{n=e+116|0;J=+u[t+8>>2]*+u[n>>2];u[n>>2]=J;w=-J;T=z*w;z=U*w;w=-(J*B);B=W*w;W=G*w;Y=S+T*I;K=M+z*I;Z=F+B*O;Q=D+W*O;$=H+_*(z*C-T*A);ee=k+N*(W*P-B*L);te=o[s>>2]|0;re=o[g>>2]|0;ie=re+(te*12|0)|0;ne=+Y;oe=+K;ae=ie;se=ae;u[se>>2]=ne;le=ae+4|0;ue=le;u[ue>>2]=oe;ce=o[s>>2]|0;he=o[g>>2]|0;fe=he+(ce*12|0)+8|0;u[fe>>2]=$;de=o[f>>2]|0;pe=he+(de*12|0)|0;me=+Z;Ee=+Q;ve=pe;be=ve;u[be>>2]=me;ye=ve+4|0;ge=ye;u[ge>>2]=Ee;_e=o[f>>2]|0;Te=o[g>>2]|0;we=Te+(_e*12|0)+8|0;u[we>>2]=ee;h=r;return}}function da(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0;r=h;i=e+120|0;n=o[i>>2]|0;a=t+32|0;t=o[a>>2]|0;s=t+(n*12|0)|0;l=s;c=+u[l>>2];f=+u[l+4>>2];d=+u[t+(n*12|0)+8>>2];n=e+124|0;l=o[n>>2]|0;p=t+(l*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[t+(l*12|0)+8>>2];b=+u[e+148>>2];y=+u[e+144>>2];g=+u[e+156>>2];_=+u[e+152>>2];T=+u[e+128>>2];w=+u[e+132>>2];R=+u[e+112>>2];x=+u[e+136>>2];S=+u[e+140>>2];M=+u[e+192>>2]*(-((c-d*b)*T+(f+d*y)*w)-R*((m-v*g)*x+(E+v*_)*S));l=e+116|0;u[l>>2]=+u[l>>2]-M;H=T*M;T=w*M;w=R*M;M=x*w;x=w*S;S=+u[e+176>>2];w=d+ +u[e+184>>2]*(T*y-H*b);b=+u[e+180>>2];y=v+ +u[e+188>>2]*(x*_-M*g);g=+(c+H*S);H=+(f+T*S);e=s;u[e>>2]=g;u[e+4>>2]=H;e=o[a>>2]|0;u[e+((o[i>>2]|0)*12|0)+8>>2]=w;w=+(m+M*b);M=+(E+x*b);i=e+((o[n>>2]|0)*12|0)|0;u[i>>2]=w;u[i+4>>2]=M;u[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=y;h=r;return}function pa(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0;r=h;i=e+120|0;n=o[i>>2]|0;a=t+28|0;t=o[a>>2]|0;s=t+(n*12|0)|0;l=s;c=+u[l>>2];f=+u[l+4>>2];d=+u[t+(n*12|0)+8>>2];n=e+124|0;l=o[n>>2]|0;p=t+(l*12|0)|0;m=+u[p>>2];E=+u[p+4>>2];v=+u[t+(l*12|0)+8>>2];b=+q(+d);y=+X(+d);g=+q(+v);_=+X(+v);T=+u[e+92>>2]-+u[e+160>>2];w=+u[e+96>>2]-+u[e+164>>2];R=y*T-b*w;x=b*T+y*w;w=+u[e+100>>2]-+u[e+168>>2];y=+u[e+104>>2]-+u[e+172>>2];T=_*w-g*y;b=g*w+_*y;y=c+R-+u[e+68>>2];_=f+x-+u[e+72>>2];w=m+T-+u[e+76>>2];g=E+b-+u[e+80>>2];S=+j(+(y*y+_*_));M=+j(+(w*w+g*g));if(S>.04999999701976776){H=1/S;A=_*H;C=y*H}else{A=0;C=0}if(M>.04999999701976776){H=1/M;P=g*H;F=w*H}else{P=0;F=0}H=R*A-x*C;w=T*P-b*F;g=+u[e+176>>2];y=+u[e+184>>2];_=+u[e+180>>2];D=+u[e+188>>2];k=+u[e+112>>2];L=g+H*H*y+k*k*(_+w*w*D);if(L>0)B=1/L;else B=L;L=+u[e+108>>2]-S-M*k;if(L>0)O=L;else O=-L;M=B*L;L=C*M;C=A*M;A=M*k;k=F*A;F=P*A;A=+(c+L*g);c=+(f+C*g);e=s;u[e>>2]=A;u[e+4>>2]=c;e=o[a>>2]|0;u[e+((o[i>>2]|0)*12|0)+8>>2]=d+(R*C-x*L)*y;y=+(m+k*_);m=+(E+F*_);i=e+((o[n>>2]|0)*12|0)|0;u[i>>2]=y;u[i+4>>2]=m;u[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=v+D*(T*F-b*k);h=r;return O<.004999999888241291|0}function ma(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+48>>2]|0;i=+u[r+24>>2];n=+u[t+92>>2];a=+u[r+20>>2];s=+u[t+96>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function Ea(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+100>>2];a=+u[r+20>>2];s=+u[t+104>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function va(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0;i=+u[t+116>>2];n=i*+u[t+140>>2]*r;u[e>>2]=i*+u[t+136>>2]*r;u[e+4>>2]=n;return}function ba(e,t){e=e|0;t=+t;return 0}function ya(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=h;h=h+16|0;r=t;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Ff(5576,r);o[r>>2]=i;Ff(5600,r);o[r>>2]=n;Ff(5632,r);o[r>>2]=a[e+61>>0]|0;Ff(5664,r);s=+u[e+72>>2];c[d>>3]=+u[e+68>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(5704,r);s=+u[e+80>>2];c[d>>3]=+u[e+76>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(5752,r);s=+u[e+96>>2];c[d>>3]=+u[e+92>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(5800,r);s=+u[e+104>>2];c[d>>3]=+u[e+100>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];n=r+8|0;c[d>>3]=s;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];Ff(5848,r);c[d>>3]=+u[e+84>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(5896,r);c[d>>3]=+u[e+88>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(5928,r);c[d>>3]=+u[e+112>>2];o[r>>2]=o[d>>2];o[r+4>>2]=o[d+4>>2];Ff(5960,r);o[r>>2]=o[e+56>>2];Ff(5984,r);h=t;return}function ga(e,t){e=e|0;t=t|0;var r=0,i=0;r=e+68|0;u[r>>2]=+u[r>>2]-+u[t>>2];r=t+4|0;i=e+72|0;u[i>>2]=+u[i>>2]-+u[r>>2];i=e+76|0;u[i>>2]=+u[i>>2]-+u[t>>2];t=e+80|0;u[t>>2]=+u[t>>2]-+u[r>>2];return}function _a(e){e=e|0;return}function Ta(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function wa(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0;a=h;s=yf(n,148)|0;if((s|0)==0){l=0;h=a;return l|0}Ca(s,e,t,r,i);o[s>>2]=6072;l=s;h=a;return l|0}function Ra(e,t){e=e|0;t=t|0;var r=0;r=h;fp[o[(o[e>>2]|0)+4>>2]&127](e);gf(t,e,148);h=r;return}function xa(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var a=0,s=0,l=0,c=0;a=h;h=h+48|0;s=a;l=o[(o[e+48>>2]|0)+12>>2]|0;o[s>>2]=488;o[s+4>>2]=1;u[s+8>>2]=.009999999776482582;c=s+28|0;o[c+0>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;n[c+16>>1]=0;zc(l,s,o[e+56>>2]|0);mh(t,s,r,o[(o[e+52>>2]|0)+12>>2]|0,i);h=a;return}function Sa(e){e=e|0;return}function Ma(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Ha(e,t,r,n,a){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;var s=0,l=0,u=0,c=0,f=0;s=h;if((i[6352]|0)==0){o[1540]=6;o[6164>>2]=53;i[6168>>0]=1;o[6256>>2]=7;o[6260>>2]=54;i[6264>>0]=1;o[6184>>2]=7;o[6188>>2]=54;i[6192>>0]=0;o[6280>>2]=8;o[6284>>2]=55;i[6288>>0]=1;o[6208>>2]=9;o[6212>>2]=56;i[6216>>0]=1;o[6172>>2]=9;o[6176>>2]=56;i[6180>>0]=0;o[6232>>2]=10;o[6236>>2]=57;i[6240>>0]=1;o[6268>>2]=10;o[6272>>2]=57;i[6276>>0]=0;o[6304>>2]=11;o[6308>>2]=58;i[6312>>0]=1;o[6196>>2]=11;o[6200>>2]=58;i[6204>>0]=0;o[6328>>2]=12;o[6332>>2]=59;i[6336>>0]=1;o[6292>>2]=12;o[6296>>2]=59;i[6300>>0]=0;i[6352]=1}l=o[(o[e+12>>2]|0)+4>>2]|0;u=o[(o[r+12>>2]|0)+4>>2]|0;c=o[6160+(l*48|0)+(u*12|0)>>2]|0;if((c|0)==0){f=0;h=s;return f|0}if((i[6160+(l*48|0)+(u*12|0)+8>>0]|0)==0){f=Tp[c&15](r,n,e,t,a)|0;h=s;return f|0}else{f=Tp[c&15](e,t,r,n,a)|0;h=s;return f|0}return 0}function Aa(e,t){e=e|0;t=t|0;var r=0,a=0,l=0,c=0,f=0,d=0;r=h;a=o[e+48>>2]|0;l=o[e+52>>2]|0;if(((o[e+124>>2]|0)>0?(i[a+38>>0]|0)==0:0)?(i[l+38>>0]|0)==0:0){c=o[a+8>>2]|0;f=c+4|0;d=s[f>>1]|0;if((d&2|0)==0){n[f>>1]=d|2;u[c+160>>2]=0}c=o[l+8>>2]|0;d=c+4|0;f=s[d>>1]|0;if((f&2|0)==0){n[d>>1]=f|2;u[c+160>>2]=0}}pp[o[6160+((o[(o[a+12>>2]|0)+4>>2]|0)*48|0)+((o[(o[l+12>>2]|0)+4>>2]|0)*12|0)+4>>2]&63](e,t);h=r;return}function Ca(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,c=0;a=h;o[e>>2]=6368;o[e+4>>2]=4;o[e+48>>2]=t;o[e+52>>2]=i;o[e+56>>2]=r;o[e+60>>2]=n;o[e+124>>2]=0;o[e+128>>2]=0;n=t+16|0;r=e+8|0;s=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));u[e+136>>2]=+j(+(+u[n>>2]*+u[i+16>>2]));l=+u[t+20>>2];c=+u[i+20>>2];u[e+140>>2]=l>c?l:c;u[e+144>>2]=0;h=a;return}function Pa(e,t){e=e|0;t=t|0;var r=0,a=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0;r=h;h=h+64|0;a=r;l=e+64|0;c=a+0|0;f=l+0|0;d=c+64|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));f=e+4|0;c=o[f>>2]|0;o[f>>2]=c|4;d=c>>>1;c=o[e+48>>2]|0;p=o[e+52>>2]|0;m=(i[p+38>>0]|i[c+38>>0])<<24>>24!=0;E=o[c+8>>2]|0;v=o[p+8>>2]|0;b=E+12|0;y=v+12|0;if(!m){wp[o[o[e>>2]>>2]&31](e,l,b,y);l=e+124|0;g=(o[l>>2]|0)>0;e:do{if(g){_=o[a+60>>2]|0;if((_|0)>0)T=0;else{w=0;while(1){u[e+(w*20|0)+72>>2]=0;u[e+(w*20|0)+76>>2]=0;w=w+1|0;if((w|0)>=(o[l>>2]|0))break e}}do{w=e+(T*20|0)+72|0;u[w>>2]=0;R=e+(T*20|0)+76|0;u[R>>2]=0;x=o[e+(T*20|0)+80>>2]|0;S=0;while(1){M=S+1|0;if((o[a+(S*20|0)+16>>2]|0)==(x|0)){H=7;break}if((M|0)<(_|0))S=M;else break}if((H|0)==7){H=0;u[w>>2]=+u[a+(S*20|0)+8>>2];u[R>>2]=+u[a+(S*20|0)+12>>2]}T=T+1|0}while((T|0)<(o[l>>2]|0))}}while(0);l=d&1;if(g^(l|0)!=0){T=E+4|0;H=s[T>>1]|0;if((H&2|0)==0){n[T>>1]=H|2;u[E+160>>2]=0}E=v+4|0;H=s[E>>1]|0;if((H&2|0)==0){n[E>>1]=H|2;u[v+160>>2]=0;A=l;C=g}else{A=l;C=g}}else{A=l;C=g}}else{g=gh(o[c+12>>2]|0,o[e+56>>2]|0,o[p+12>>2]|0,o[e+60>>2]|0,b,y)|0;o[e+124>>2]=0;A=d&1;C=g}g=o[f>>2]|0;o[f>>2]=C?g|2:g&-3;g=(A|0)==0;A=C^1;f=(t|0)==0;if(!(g^1|A|f))pp[o[(o[t>>2]|0)+8>>2]&63](t,e);if(!(g|C|f))pp[o[(o[t>>2]|0)+12>>2]&63](t,e);if(m|A|f){h=r;return}Ep[o[(o[t>>2]|0)+32>>2]&7](t,e,a);h=r;return}function Fa(e){e=e|0;return}function Da(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ka(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0;i=h;t=yf(n,148)|0;if((t|0)==0){a=0;h=i;return a|0}Ca(t,e,0,r,0);o[t>>2]=6392;a=t;h=i;return a|0}function La(e,t){e=e|0;t=t|0;var r=0;r=h;fp[o[(o[e>>2]|0)+4>>2]&127](e);gf(t,e,148);h=r;return}function Ba(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=h;rh(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);h=n;return}function Oa(e){e=e|0;return}function Na(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Ia(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0;i=h;t=yf(n,148)|0;if((t|0)==0){a=0;h=i;return a|0}Ca(t,e,0,r,0);o[t>>2]=6464;a=t;h=i;return a|0}function Va(e,t){e=e|0;t=t|0;var r=0;r=h;fp[o[(o[e>>2]|0)+4>>2]&127](e);gf(t,e,148);h=r;return}function Ua(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=h;th(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);h=n;return}function za(e){e=e|0;return}function Ga(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Wa(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0;r=h;o[e+0>>2]=o[t+0>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];n=o[t+44>>2]|0;a=e+36|0;o[a>>2]=n;s=o[t+32>>2]|0;l=e+52|0;o[l>>2]=s;c=e+40|0;o[c>>2]=If(n,s*88|0)|0;s=If(o[a>>2]|0,(o[l>>2]|0)*156|0)|0;a=e+44|0;o[a>>2]=s;o[e+28>>2]=o[t+36>>2];o[e+32>>2]=o[t+40>>2];n=o[t+28>>2]|0;t=e+48|0;o[t>>2]=n;if((o[l>>2]|0)<=0){h=r;return}f=e+24|0;d=e+8|0;e=n;n=s;s=0;while(1){p=o[e+(s<<2)>>2]|0;m=o[p+48>>2]|0;E=o[p+52>>2]|0;v=+u[(o[m+12>>2]|0)+8>>2];b=+u[(o[E+12>>2]|0)+8>>2];y=o[m+8>>2]|0;m=o[E+8>>2]|0;E=o[p+124>>2]|0;u[n+(s*156|0)+136>>2]=+u[p+136>>2];u[n+(s*156|0)+140>>2]=+u[p+140>>2];u[n+(s*156|0)+144>>2]=+u[p+144>>2];g=y+8|0;o[n+(s*156|0)+112>>2]=o[g>>2];_=m+8|0;o[n+(s*156|0)+116>>2]=o[_>>2];T=y+136|0;u[n+(s*156|0)+120>>2]=+u[T>>2];w=m+136|0;u[n+(s*156|0)+124>>2]=+u[w>>2];R=y+144|0;u[n+(s*156|0)+128>>2]=+u[R>>2];x=m+144|0;u[n+(s*156|0)+132>>2]=+u[x>>2];o[n+(s*156|0)+152>>2]=s;o[n+(s*156|0)+148>>2]=E;S=n+(s*156|0)+80|0;o[S+0>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;o[S+12>>2]=0;o[S+16>>2]=0;o[S+20>>2]=0;o[S+24>>2]=0;o[S+28>>2]=0;S=o[c>>2]|0;o[S+(s*88|0)+32>>2]=o[g>>2];o[S+(s*88|0)+36>>2]=o[_>>2];u[S+(s*88|0)+40>>2]=+u[T>>2];u[S+(s*88|0)+44>>2]=+u[w>>2];w=y+44|0;y=o[w+4>>2]|0;T=S+(s*88|0)+48|0;o[T>>2]=o[w>>2];o[T+4>>2]=y;y=m+44|0;m=o[y+4>>2]|0;T=S+(s*88|0)+56|0;o[T>>2]=o[y>>2];o[T+4>>2]=m;u[S+(s*88|0)+64>>2]=+u[R>>2];u[S+(s*88|0)+68>>2]=+u[x>>2];x=p+104|0;R=o[x+4>>2]|0;m=S+(s*88|0)+16|0;o[m>>2]=o[x>>2];o[m+4>>2]=R;R=p+112|0;m=o[R+4>>2]|0;x=S+(s*88|0)+24|0;o[x>>2]=o[R>>2];o[x+4>>2]=m;o[S+(s*88|0)+84>>2]=E;u[S+(s*88|0)+76>>2]=v;u[S+(s*88|0)+80>>2]=b;o[S+(s*88|0)+72>>2]=o[p+120>>2];if((E|0)>0){m=0;do{x=p+(m*20|0)+64|0;if((i[f>>0]|0)==0){u[n+(s*156|0)+(m*36|0)+16>>2]=0;u[n+(s*156|0)+(m*36|0)+20>>2]=0}else{u[n+(s*156|0)+(m*36|0)+16>>2]=+u[d>>2]*+u[p+(m*20|0)+72>>2];u[n+(s*156|0)+(m*36|0)+20>>2]=+u[d>>2]*+u[p+(m*20|0)+76>>2]}R=n+(s*156|0)+(m*36|0)|0;u[n+(s*156|0)+(m*36|0)+24>>2]=0;u[n+(s*156|0)+(m*36|0)+28>>2]=0;u[n+(s*156|0)+(m*36|0)+32>>2]=0;T=S+(s*88|0)+(m<<3)|0;o[R+0>>2]=0;o[R+4>>2]=0;o[R+8>>2]=0;o[R+12>>2]=0;R=x;x=o[R+4>>2]|0;y=T;o[y>>2]=o[R>>2];o[y+4>>2]=x;m=m+1|0}while((m|0)!=(E|0))}E=s+1|0;if((E|0)>=(o[l>>2]|0))break;e=o[t>>2]|0;n=o[a>>2]|0;s=E}h=r;return}function ja(e){e=e|0;var t=0,r=0;t=h;r=e+36|0;Uf(o[r>>2]|0,o[e+44>>2]|0);Uf(o[r>>2]|0,o[e+40>>2]|0);h=t;return}function Ja(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0;t=h;h=h+64|0;r=t+48|0;i=t+32|0;n=t;a=e+52|0;if((o[a>>2]|0)<=0){h=t;return}s=e+44|0;l=e+40|0;c=e+48|0;f=e+28|0;d=e+32|0;e=r+8|0;p=r+12|0;m=i+8|0;E=i+12|0;v=0;do{b=o[s>>2]|0;y=o[l>>2]|0;g=+u[y+(v*88|0)+76>>2];_=+u[y+(v*88|0)+80>>2];T=(o[(o[c>>2]|0)+(o[b+(v*156|0)+152>>2]<<2)>>2]|0)+64|0;w=o[b+(v*156|0)+112>>2]|0;R=o[b+(v*156|0)+116>>2]|0;x=+u[b+(v*156|0)+120>>2];S=+u[b+(v*156|0)+124>>2];M=+u[b+(v*156|0)+128>>2];H=+u[b+(v*156|0)+132>>2];A=y+(v*88|0)+48|0;C=+u[A>>2];P=+u[A+4>>2];A=y+(v*88|0)+56|0;F=+u[A>>2];D=+u[A+4>>2];A=o[f>>2]|0;y=A+(w*12|0)|0;k=+u[y>>2];L=+u[y+4>>2];B=+u[A+(w*12|0)+8>>2];y=o[d>>2]|0;O=y+(w*12|0)|0;N=+u[O>>2];I=+u[O+4>>2];V=+u[y+(w*12|0)+8>>2];w=A+(R*12|0)|0;U=+u[w>>2];z=+u[w+4>>2];G=+u[A+(R*12|0)+8>>2];A=y+(R*12|0)|0;W=+u[A>>2];j=+u[A+4>>2];J=+u[y+(R*12|0)+8>>2];Y=+q(+B);u[e>>2]=Y;K=+X(+B);u[p>>2]=K;B=+q(+G);u[m>>2]=B;Z=+X(+G);u[E>>2]=Z;G=+(k-(C*K-P*Y));Q=+(L-(P*K+C*Y));R=r;u[R>>2]=G;u[R+4>>2]=Q;Q=+(U-(F*Z-D*B));G=+(z-(D*Z+F*B));R=i;u[R>>2]=Q;u[R+4>>2]=G;bh(n,T,r,g,i,_);T=b+(v*156|0)+72|0;R=n;y=o[R+4>>2]|0;A=T;o[A>>2]=o[R>>2];o[A+4>>2]=y;y=b+(v*156|0)+148|0;A=o[y>>2]|0;do{if((A|0)>0){R=b+(v*156|0)+76|0;_=x+S;w=b+(v*156|0)+140|0;O=0;do{$=n+(O<<3)+8|0;g=+u[$>>2]-k;ee=n+(O<<3)+12|0;G=+g;Q=+(+u[ee>>2]-L);te=b+(v*156|0)+(O*36|0)|0;u[te>>2]=G;u[te+4>>2]=Q;Q=+u[$>>2]-U;G=+Q;B=+(+u[ee>>2]-z);ee=b+(v*156|0)+(O*36|0)+8|0;u[ee>>2]=G;u[ee+4>>2]=B;B=+u[R>>2];G=+u[b+(v*156|0)+(O*36|0)+4>>2];F=+u[T>>2];Z=g*B-G*F;D=+u[b+(v*156|0)+(O*36|0)+12>>2];Y=B*Q-F*D;F=_+Z*M*Z+Y*H*Y;if(F>0)re=1/F;else re=0;u[b+(v*156|0)+(O*36|0)+24>>2]=re;F=+u[R>>2];Y=-+u[T>>2];Z=g*Y-F*G;B=Q*Y-F*D;F=_+Z*M*Z+B*H*B;if(F>0)ie=1/F;else ie=0;u[b+(v*156|0)+(O*36|0)+28>>2]=ie;ee=b+(v*156|0)+(O*36|0)+32|0;u[ee>>2]=0;F=+u[T>>2]*(W-J*D-N+V*G)+ +u[R>>2]*(j+J*Q-I-V*g);if(F<-1)u[ee>>2]=-(F*+u[w>>2]);O=O+1|0}while((O|0)!=(A|0));if((o[y>>2]|0)==2){_=+u[b+(v*156|0)+76>>2];F=+u[T>>2];g=+u[b+(v*156|0)>>2]*_-+u[b+(v*156|0)+4>>2]*F;Q=_*+u[b+(v*156|0)+8>>2]-F*+u[b+(v*156|0)+12>>2];G=_*+u[b+(v*156|0)+36>>2]-F*+u[b+(v*156|0)+40>>2];D=_*+u[b+(v*156|0)+44>>2]-F*+u[b+(v*156|0)+48>>2];F=x+S;_=M*g;B=H*Q;Z=F+g*_+Q*B;Q=F+G*M*G+D*H*D;g=F+_*G+B*D;D=Z*Q-g*g;if(!(Z*Z<D*1E3)){o[y>>2]=1;break}u[b+(v*156|0)+96>>2]=Z;u[b+(v*156|0)+100>>2]=g;u[b+(v*156|0)+104>>2]=g;u[b+(v*156|0)+108>>2]=Q;if(D!=0)ne=1/D;else ne=D;D=-(ne*g);u[b+(v*156|0)+80>>2]=Q*ne;u[b+(v*156|0)+84>>2]=D;u[b+(v*156|0)+88>>2]=D;u[b+(v*156|0)+92>>2]=Z*ne}}}while(0);v=v+1|0}while((v|0)<(o[a>>2]|0));h=t;return}function Xa(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0;t=h;r=e+52|0;if((o[r>>2]|0)<=0){h=t;return}i=e+44|0;n=e+32|0;e=o[n>>2]|0;a=0;do{s=o[i>>2]|0;l=o[s+(a*156|0)+112>>2]|0;c=o[s+(a*156|0)+116>>2]|0;f=+u[s+(a*156|0)+120>>2];d=+u[s+(a*156|0)+128>>2];p=+u[s+(a*156|0)+124>>2];m=+u[s+(a*156|0)+132>>2];E=o[s+(a*156|0)+148>>2]|0;v=e+(l*12|0)|0;b=v;y=+u[b>>2];g=+u[b+4>>2];_=+u[e+(l*12|0)+8>>2];b=e+(c*12|0)|0;T=+u[b>>2];w=+u[b+4>>2];R=+u[e+(c*12|0)+8>>2];b=s+(a*156|0)+72|0;x=+u[b>>2];S=+u[b+4>>2];if((E|0)>0){M=y;H=g;A=T;C=w;b=0;P=_;F=R;while(1){D=+u[s+(a*156|0)+(b*36|0)+16>>2];k=+u[s+(a*156|0)+(b*36|0)+20>>2];L=x*D+S*k;B=S*D-x*k;k=P-d*(+u[s+(a*156|0)+(b*36|0)>>2]*B-+u[s+(a*156|0)+(b*36|0)+4>>2]*L);D=M-f*L;O=H-f*B;N=F+m*(B*+u[s+(a*156|0)+(b*36|0)+8>>2]-L*+u[s+(a*156|0)+(b*36|0)+12>>2]);I=A+p*L;L=C+p*B;b=b+1|0;if((b|0)==(E|0)){V=O;U=L;z=I;G=D;W=k;j=N;break}else{M=D;H=O;A=I;C=L;P=k;F=N}}}else{V=g;U=w;z=T;G=y;W=_;j=R}F=+G;P=+V;E=v;u[E>>2]=F;u[E+4>>2]=P;E=o[n>>2]|0;u[E+(l*12|0)+8>>2]=W;P=+z;F=+U;b=E+(c*12|0)|0;u[b>>2]=P;u[b+4>>2]=F;e=o[n>>2]|0;u[e+(c*12|0)+8>>2]=j;a=a+1|0}while((a|0)<(o[r>>2]|0));h=t;return}function qa(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0;t=h;r=e+52|0;if((o[r>>2]|0)<=0){h=t;return}i=e+44|0;n=e+32|0;e=o[n>>2]|0;a=0;do{s=o[i>>2]|0;l=s+(a*156|0)|0;c=o[s+(a*156|0)+112>>2]|0;f=o[s+(a*156|0)+116>>2]|0;d=+u[s+(a*156|0)+120>>2];p=+u[s+(a*156|0)+128>>2];m=+u[s+(a*156|0)+124>>2];E=+u[s+(a*156|0)+132>>2];v=s+(a*156|0)+148|0;b=o[v>>2]|0;y=e+(c*12|0)|0;g=y;_=+u[g>>2];T=+u[g+4>>2];w=+u[e+(c*12|0)+8>>2];g=e+(f*12|0)|0;R=+u[g>>2];x=+u[g+4>>2];S=+u[e+(f*12|0)+8>>2];g=s+(a*156|0)+72|0;M=+u[g>>2];H=+u[g+4>>2];A=-M;C=+u[s+(a*156|0)+136>>2];if((b|0)>0){g=s+(a*156|0)+144|0;P=R;F=x;D=_;k=T;L=0;B=w;O=S;do{N=+u[s+(a*156|0)+(L*36|0)+12>>2];I=+u[s+(a*156|0)+(L*36|0)+8>>2];V=+u[s+(a*156|0)+(L*36|0)+4>>2];U=+u[s+(a*156|0)+(L*36|0)>>2];z=C*+u[s+(a*156|0)+(L*36|0)+16>>2];G=s+(a*156|0)+(L*36|0)+20|0;W=+u[G>>2];j=W-+u[s+(a*156|0)+(L*36|0)+28>>2]*(H*(P-O*N-D+B*V)+(F+O*I-k-B*U)*A-+u[g>>2]);J=-z;X=j<z?j:z;z=X<J?J:X;X=z-W;u[G>>2]=z;z=H*X;W=X*A;D=D-d*z;k=k-d*W;B=B-p*(U*W-V*z);P=P+m*z;F=F+m*W;O=O+E*(I*W-N*z);L=L+1|0}while((L|0)!=(b|0));if((o[v>>2]|0)==1){A=+u[s+(a*156|0)+12>>2];C=+u[s+(a*156|0)+8>>2];z=+u[s+(a*156|0)+4>>2];N=+u[l>>2];b=s+(a*156|0)+16|0;W=+u[b>>2];I=W-+u[s+(a*156|0)+24>>2]*(M*(P-O*A-D+B*z)+H*(F+O*C-k-B*N)-+u[s+(a*156|0)+32>>2]);V=I>0?I:0;I=V-W;u[b>>2]=V;V=M*I;W=H*I;q=D-d*V;Y=k-d*W;K=P+m*V;Z=F+m*W;Q=B-p*(N*W-z*V);$=O+E*(C*W-A*V)}else{ee=k;te=D;re=F;ie=P;ne=B;oe=O;ae=8}}else{ee=T;te=_;re=x;ie=R;ne=w;oe=S;ae=8}do{if((ae|0)==8){ae=0;b=s+(a*156|0)+16|0;V=+u[b>>2];L=s+(a*156|0)+52|0;A=+u[L>>2];W=+u[s+(a*156|0)+12>>2];C=+u[s+(a*156|0)+8>>2];z=+u[s+(a*156|0)+4>>2];N=+u[l>>2];I=+u[s+(a*156|0)+48>>2];U=+u[s+(a*156|0)+44>>2];X=+u[s+(a*156|0)+40>>2];J=+u[s+(a*156|0)+36>>2];j=+u[s+(a*156|0)+104>>2];se=+u[s+(a*156|0)+100>>2];le=M*(ie-oe*W-te+ne*z)+H*(re+oe*C-ee-ne*N)-+u[s+(a*156|0)+32>>2]-(V*+u[s+(a*156|0)+96>>2]+A*j);ue=M*(ie-oe*I-te+ne*X)+H*(re+oe*U-ee-ne*J)-+u[s+(a*156|0)+68>>2]-(V*se+A*+u[s+(a*156|0)+108>>2]);ce=+u[s+(a*156|0)+80>>2]*le+ +u[s+(a*156|0)+88>>2]*ue;he=le*+u[s+(a*156|0)+84>>2]+ue*+u[s+(a*156|0)+92>>2];fe=-ce;de=-he;if(!(!(ce<=-0)|!(he<=-0))){he=fe-V;ce=de-A;pe=M*he;me=H*he;he=M*ce;Ee=H*ce;ce=pe+he;ve=me+Ee;u[b>>2]=fe;u[L>>2]=de;q=te-d*ce;Y=ee-d*ve;K=ie+m*ce;Z=re+m*ve;Q=ne-p*(N*me-z*pe+(J*Ee-X*he));$=oe+E*(C*me-W*pe+(U*Ee-I*he));break}he=le*+u[s+(a*156|0)+24>>2];Ee=-he;if(he<=-0?ue+se*Ee>=0:0){se=Ee-V;he=0-A;pe=M*se;me=H*se;se=M*he;ve=H*he;he=se+pe;ce=ve+me;u[b>>2]=Ee;u[L>>2]=0;q=te-d*he;Y=ee-d*ce;K=ie+m*he;Z=re+m*ce;Q=ne-p*(me*N-pe*z+(ve*J-se*X));$=oe+E*(me*C-pe*W+(ve*U-se*I));break}se=ue*+u[s+(a*156|0)+60>>2];ve=-se;if(se<=-0?le+j*ve>=0:0){j=0-V;se=ve-A;pe=M*j;me=H*j;j=M*se;ce=H*se;se=pe+j;he=me+ce;u[b>>2]=0;u[L>>2]=ve;q=te-d*se;Y=ee-d*he;K=ie+m*se;Z=re+m*he;Q=ne-p*(me*N-pe*z+(ce*J-j*X));$=oe+E*(me*C-pe*W+(ce*U-j*I));break}if(!(le>=0)|!(ue>=0)){q=te;Y=ee;K=ie;Z=re;Q=ne;$=oe}else{ue=0-V;V=0-A;A=M*ue;le=H*ue;ue=M*V;j=H*V;V=A+ue;ce=le+j;u[b>>2]=0;u[L>>2]=0;q=te-d*V;Y=ee-d*ce;K=ie+m*V;Z=re+m*ce;Q=ne-p*(le*N-A*z+(j*J-ue*X));$=oe+E*(le*C-A*W+(j*U-ue*I))}}}while(0);E=+q;p=+Y;s=y;u[s>>2]=E;u[s+4>>2]=p;s=o[n>>2]|0;u[s+(c*12|0)+8>>2]=Q;p=+K;E=+Z;l=s+(f*12|0)|0;u[l>>2]=p;u[l+4>>2]=E;e=o[n>>2]|0;u[e+(f*12|0)+8>>2]=$;a=a+1|0}while((a|0)<(o[r>>2]|0));h=t;return}function Ya(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0;t=h;r=o[e+52>>2]|0;if((r|0)<=0){h=t;return}i=o[e+44>>2]|0;n=o[e+48>>2]|0;e=0;do{a=o[n+(o[i+(e*156|0)+152>>2]<<2)>>2]|0;s=o[i+(e*156|0)+148>>2]|0;if((s|0)>0){l=0;do{u[a+(l*20|0)+72>>2]=+u[i+(e*156|0)+(l*36|0)+16>>2];u[a+(l*20|0)+76>>2]=+u[i+(e*156|0)+(l*36|0)+20>>2];l=l+1|0}while((l|0)<(s|0))}e=e+1|0}while((e|0)<(r|0));h=t;return}function Ka(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0;t=h;h=h+64|0;r=t+40|0;i=t+24|0;n=t;a=e+52|0;if((o[a>>2]|0)<=0){s=0;l=s>=-.014999999664723873;h=t;return l|0}c=e+40|0;f=e+28|0;e=r+8|0;d=r+12|0;p=i+8|0;m=i+12|0;E=n+8|0;v=n+16|0;b=o[f>>2]|0;y=0;g=0;while(1){_=o[c>>2]|0;T=_+(y*88|0)|0;w=o[_+(y*88|0)+32>>2]|0;R=o[_+(y*88|0)+36>>2]|0;x=_+(y*88|0)+48|0;S=+u[x>>2];M=+u[x+4>>2];H=+u[_+(y*88|0)+40>>2];A=+u[_+(y*88|0)+64>>2];x=_+(y*88|0)+56|0;C=+u[x>>2];P=+u[x+4>>2];F=+u[_+(y*88|0)+44>>2];D=+u[_+(y*88|0)+68>>2];x=o[_+(y*88|0)+84>>2]|0;_=b+(w*12|0)|0;k=+u[_>>2];L=+u[_+4>>2];B=+u[b+(w*12|0)+8>>2];_=b+(R*12|0)|0;O=+u[_>>2];N=+u[_+4>>2];I=+u[b+(R*12|0)+8>>2];if((x|0)>0){V=H+F;U=k;z=L;G=O;W=N;j=B;J=I;_=0;Y=g;do{K=+q(+j);u[e>>2]=K;Z=+X(+j);u[d>>2]=Z;Q=+q(+J);u[p>>2]=Q;$=+X(+J);u[m>>2]=$;ee=+(U-(S*Z-M*K));te=+(z-(M*Z+S*K));re=r;u[re>>2]=ee;u[re+4>>2]=te;te=+(G-(C*$-P*Q));ee=+(W-(P*$+C*Q));re=i;u[re>>2]=te;u[re+4>>2]=ee;Za(n,T,r,i,_);re=n;ee=+u[re>>2];te=+u[re+4>>2];re=E;Q=+u[re>>2];$=+u[re+4>>2];K=+u[v>>2];Z=Q-U;ie=$-z;ne=Q-G;Q=$-W;Y=Y<K?Y:K;$=(K+.004999999888241291)*.20000000298023224;K=$<0?$:0;$=te*Z-ee*ie;oe=te*ne-ee*Q;ae=oe*D*oe+(V+$*A*$);if(ae>0)se=-(K<-.20000000298023224?-.20000000298023224:K)/ae;else se=0;ae=ee*se;ee=te*se;U=U-H*ae;z=z-H*ee;j=j-A*(Z*ee-ie*ae);G=G+F*ae;W=W+F*ee;J=J+D*(ne*ee-Q*ae);_=_+1|0}while((_|0)!=(x|0));le=z;ue=U;ce=W;he=G;fe=o[f>>2]|0;de=j;pe=J;me=Y}else{le=L;ue=k;ce=N;he=O;fe=b;de=B;pe=I;me=g}D=+ue;F=+le;x=fe+(w*12|0)|0;u[x>>2]=D;u[x+4>>2]=F;x=o[f>>2]|0;u[x+(w*12|0)+8>>2]=de;F=+he;D=+ce;_=x+(R*12|0)|0;u[_>>2]=F;u[_+4>>2]=D;b=o[f>>2]|0;u[b+(R*12|0)+8>>2]=pe;y=y+1|0;if((y|0)>=(o[a>>2]|0)){s=me;break}else g=me}l=s>=-.014999999664723873;h=t;return l|0}function Za(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0;a=h;s=o[t+72>>2]|0;if((s|0)==2){l=i+12|0;c=+u[l>>2];f=+u[t+16>>2];d=i+8|0;p=+u[d>>2];m=+u[t+20>>2];E=c*f-p*m;v=f*p+c*m;m=+E;c=+v;b=e;u[b>>2]=m;u[b+4>>2]=c;c=+u[l>>2];m=+u[t+24>>2];p=+u[d>>2];f=+u[t+28>>2];y=+u[r+12>>2];g=+u[t+(n<<3)>>2];_=+u[r+8>>2];T=+u[t+(n<<3)+4>>2];w=+u[r>>2]+(y*g-_*T);R=g*_+y*T+ +u[r+4>>2];u[e+16>>2]=E*(w-(+u[i>>2]+(c*m-p*f)))+(R-(m*p+c*f+ +u[i+4>>2]))*v-+u[t+76>>2]-+u[t+80>>2];f=+w;w=+R;d=e+8|0;u[d>>2]=f;u[d+4>>2]=w;w=+-E;E=+-v;d=e;u[d>>2]=w;u[d+4>>2]=E;h=a;return}else if((s|0)==1){d=r+12|0;E=+u[d>>2];w=+u[t+16>>2];l=r+8|0;v=+u[l>>2];f=+u[t+20>>2];R=E*w-v*f;c=w*v+E*f;f=+R;E=+c;b=e;u[b>>2]=f;u[b+4>>2]=E;E=+u[d>>2];f=+u[t+24>>2];v=+u[l>>2];w=+u[t+28>>2];p=+u[i+12>>2];m=+u[t+(n<<3)>>2];T=+u[i+8>>2];y=+u[t+(n<<3)+4>>2];_=+u[i>>2]+(p*m-T*y);g=m*T+p*y+ +u[i+4>>2];u[e+16>>2]=R*(_-(+u[r>>2]+(E*f-v*w)))+(g-(f*v+E*w+ +u[r+4>>2]))*c-+u[t+76>>2]-+u[t+80>>2];c=+_;_=+g;n=e+8|0;u[n>>2]=c;u[n+4>>2]=_;h=a;return}else if((s|0)==0){_=+u[r+12>>2];c=+u[t+24>>2];g=+u[r+8>>2];w=+u[t+28>>2];E=+u[r>>2]+(_*c-g*w);v=c*g+_*w+ +u[r+4>>2];w=+u[i+12>>2];_=+u[t>>2];g=+u[i+8>>2];c=+u[t+4>>2];f=+u[i>>2]+(w*_-g*c);R=_*g+w*c+ +u[i+4>>2];c=f-E;w=R-v;g=+c;_=+w;i=e;u[i>>2]=g;u[i+4>>2]=_;_=+j(+(c*c+w*w));if(_<1.1920928955078125E-7){x=c;S=w}else{g=1/_;_=c*g;u[e>>2]=_;y=w*g;u[e+4>>2]=y;x=_;S=y}y=+((E+f)*.5);f=+((v+R)*.5);i=e+8|0;u[i>>2]=y;u[i+4>>2]=f;u[e+16>>2]=c*x+w*S-+u[t+76>>2]-+u[t+80>>2];h=a;return}else{u[e+16>>2]=0;t=8784;i=o[t+4>>2]|0;r=e;o[r>>2]=o[t>>2];o[r+4>>2]=i;i=8784;r=o[i+4>>2]|0;t=e+8|0;o[t>>2]=o[i>>2];o[t+4>>2]=r;h=a;return}}function Qa(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0;i=h;h=h+64|0;n=i+40|0;a=i+24|0;s=i;l=e+52|0;if((o[l>>2]|0)<=0){c=0;f=c>=-.007499999832361937;h=i;return f|0}d=e+40|0;p=e+28|0;e=n+8|0;m=n+12|0;E=a+8|0;v=a+12|0;b=s+8|0;y=s+16|0;g=0;_=0;while(1){T=o[d>>2]|0;w=T+(g*88|0)|0;R=o[T+(g*88|0)+32>>2]|0;x=o[T+(g*88|0)+36>>2]|0;S=T+(g*88|0)+48|0;M=+u[S>>2];H=+u[S+4>>2];S=T+(g*88|0)+56|0;A=+u[S>>2];C=+u[S+4>>2];S=o[T+(g*88|0)+84>>2]|0;if((R|0)==(t|0)|(R|0)==(r|0)){P=+u[T+(g*88|0)+64>>2];F=+u[T+(g*88|0)+40>>2]}else{P=0;F=0}if((x|0)==(t|0)|(x|0)==(r|0)){D=+u[T+(g*88|0)+68>>2];k=+u[T+(g*88|0)+44>>2]}else{D=0;k=0}T=o[p>>2]|0;L=T+(R*12|0)|0;B=+u[L>>2];O=+u[L+4>>2];N=+u[T+(R*12|0)+8>>2];L=T+(x*12|0)|0;I=+u[L>>2];V=+u[L+4>>2];U=+u[T+(x*12|0)+8>>2];if((S|0)>0){z=F+k;G=I;W=V;j=B;J=O;Y=N;K=U;L=0;Z=_;do{Q=+q(+Y);u[e>>2]=Q;$=+X(+Y);u[m>>2]=$;ee=+q(+K);u[E>>2]=ee;te=+X(+K);u[v>>2]=te;re=+(j-(M*$-H*Q));ie=+(J-(H*$+M*Q));ne=n;u[ne>>2]=re;u[ne+4>>2]=ie;ie=+(G-(A*te-C*ee));re=+(W-(C*te+A*ee));ne=a;u[ne>>2]=ie;u[ne+4>>2]=re;Za(s,w,n,a,L);ne=s;re=+u[ne>>2];ie=+u[ne+4>>2];ne=b;ee=+u[ne>>2];te=+u[ne+4>>2];Q=+u[y>>2];$=ee-j;oe=te-J;ae=ee-G;ee=te-W;Z=Z<Q?Z:Q;te=(Q+.004999999888241291)*.75;Q=te<0?te:0;te=ie*$-re*oe;se=ie*ae-re*ee;le=se*D*se+(z+te*P*te);if(le>0)ue=-(Q<-.20000000298023224?-.20000000298023224:Q)/le;else ue=0;le=re*ue;re=ie*ue;j=j-F*le;J=J-F*re;Y=Y-P*($*re-oe*le);G=G+k*le;W=W+k*re;K=K+D*(ae*re-ee*le);L=L+1|0}while((L|0)!=(S|0));ce=J;he=j;fe=W;de=G;pe=o[p>>2]|0;me=Y;Ee=K;ve=Z}else{ce=O;he=B;fe=V;de=I;pe=T;me=N;Ee=U;ve=_}z=+he;A=+ce;S=pe+(R*12|0)|0;u[S>>2]=z;u[S+4>>2]=A;S=o[p>>2]|0;u[S+(R*12|0)+8>>2]=me;A=+de;z=+fe;L=S+(x*12|0)|0;u[L>>2]=A;u[L+4>>2]=z;u[(o[p>>2]|0)+(x*12|0)+8>>2]=Ee;g=g+1|0;if((g|0)>=(o[l>>2]|0)){c=ve;break}else _=ve}f=c>=-.007499999832361937;h=i;return f|0}function $a(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0;i=h;t=yf(n,148)|0;if((t|0)==0){a=0;h=i;return a|0}Ca(t,e,0,r,0);o[t>>2]=6528;a=t;h=i;return a|0}function es(e,t){e=e|0;t=t|0;var r=0;r=h;fp[o[(o[e>>2]|0)+4>>2]&127](e);gf(t,e,148);h=r;return}function ts(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=h;fh(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);h=n;return}function rs(e){e=e|0;return}function is(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ns(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0;a=h;s=yf(n,148)|0;if((s|0)==0){l=0;h=a;return l|0}Ca(s,e,t,r,i);o[s>>2]=6600;l=s;h=a;return l|0}function os(e,t){e=e|0;t=t|0;var r=0;r=h;fp[o[(o[e>>2]|0)+4>>2]&127](e);gf(t,e,148);h=r;return}function as(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var a=0,s=0,l=0,c=0;a=h;h=h+48|0;s=a;l=o[(o[e+48>>2]|0)+12>>2]|0;o[s>>2]=488;o[s+4>>2]=1;u[s+8>>2]=.009999999776482582;c=s+28|0;o[c+0>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;n[c+16>>1]=0;zc(l,s,o[e+56>>2]|0);fh(t,s,r,o[(o[e+52>>2]|0)+12>>2]|0,i);h=a;return}function ss(e){e=e|0;return}function ls(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function us(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0;i=h;t=yf(n,148)|0;if((t|0)==0){a=0;h=i;return a|0}Ca(t,e,0,r,0);o[t>>2]=6672;a=t;h=i;return a|0}function cs(e,t){e=e|0;t=t|0;var r=0;r=h;fp[o[(o[e>>2]|0)+4>>2]&127](e);gf(t,e,148);h=r;return}function hs(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=h;mh(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);h=n;return}function fs(e){e=e|0;return}function ds(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ps(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0;i=h;t=yf(n,148)|0;if((t|0)==0){a=0;h=i;return a|0}Ca(t,e,0,r,0);o[t>>2]=6744;a=t;h=i;return a|0}function ms(e,t){e=e|0;t=t|0;var r=0;r=h;fp[o[(o[e>>2]|0)+4>>2]&127](e);gf(t,e,148);h=r;return}function Es(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=h;Eh(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);h=n;return}function vs(e){e=e|0;return}function bs(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ys(e){e=e|0;var t=0;t=h;n[e+32>>1]=1;n[e+34>>1]=-1;n[e+36>>1]=0;o[e+40>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[e+0>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;h=t;return}function gs(e,t,r,a){e=e|0;t=t|0;r=r|0;a=a|0;var s=0,l=0,c=0,f=0,d=0,p=0,m=0;s=h;o[e+40>>2]=o[a+4>>2];u[e+16>>2]=+u[a+8>>2];u[e+20>>2]=+u[a+12>>2];o[e+8>>2]=r;o[e+4>>2]=0;r=e+32|0;l=a+22|0;n[r+0>>1]=n[l+0>>1]|0;n[r+2>>1]=n[l+2>>1]|0;n[r+4>>1]=n[l+4>>1]|0;i[e+38>>0]=i[a+20>>0]|0;l=o[a>>2]|0;r=_p[o[(o[l>>2]|0)+8>>2]&31](l,t)|0;o[e+12>>2]=r;l=up[o[(o[r>>2]|0)+12>>2]&7](r)|0;r=yf(t,l*28|0)|0;t=e+24|0;o[t>>2]=r;if((l|0)>0){c=r;f=0}else{d=e+28|0;o[d>>2]=0;p=a+16|0;m=+u[p>>2];u[e>>2]=m;h=s;return}do{o[c+(f*28|0)+16>>2]=0;c=o[t>>2]|0;o[c+(f*28|0)+24>>2]=-1;f=f+1|0}while((f|0)!=(l|0));d=e+28|0;o[d>>2]=0;p=a+16|0;m=+u[p>>2];u[e>>2]=m;h=s;return}function _s(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;i=e+12|0;n=o[i>>2]|0;a=up[o[(o[n>>2]|0)+12>>2]&7](n)|0;n=e+24|0;gf(t,o[n>>2]|0,a*28|0);o[n>>2]=0;n=o[i>>2]|0;a=o[n+4>>2]|0;if((a|0)==1){fp[o[o[n>>2]>>2]&127](n);gf(t,n,48);o[i>>2]=0;h=r;return}else if((a|0)==3){fp[o[o[n>>2]>>2]&127](n);gf(t,n,40);o[i>>2]=0;h=r;return}else if((a|0)==0){fp[o[o[n>>2]>>2]&127](n);gf(t,n,20);o[i>>2]=0;h=r;return}else if((a|0)==2){fp[o[o[n>>2]>>2]&127](n);gf(t,n,152);o[i>>2]=0;h=r;return}else{o[i>>2]=0;h=r;return}}function Ts(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0;i=h;n=e+12|0;a=o[n>>2]|0;s=up[o[(o[a>>2]|0)+12>>2]&7](a)|0;a=e+28|0;o[a>>2]=s;if((s|0)<=0){h=i;return}s=e+24|0;l=0;do{u=o[s>>2]|0;c=u+(l*28|0)|0;f=o[n>>2]|0;wp[o[(o[f>>2]|0)+28>>2]&31](f,c,r,l);o[u+(l*28|0)+24>>2]=Kc(t,c,c)|0;o[u+(l*28|0)+16>>2]=e;o[u+(l*28|0)+20>>2]=l;l=l+1|0}while((l|0)<(o[a>>2]|0));h=i;return}function ws(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;i=e+28|0;if((o[i>>2]|0)<=0){o[i>>2]=0;h=r;return}n=e+24|0;e=0;do{a=(o[n>>2]|0)+(e*28|0)+24|0;Zc(t,o[a>>2]|0);o[a>>2]=-1;e=e+1|0}while((e|0)<(o[i>>2]|0));o[i>>2]=0;h=r;return}function Rs(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0;n=h;h=h+48|0;a=n+24|0;s=n+8|0;l=n;c=e+28|0;if((o[c>>2]|0)<=0){h=n;return}f=e+24|0;d=e+12|0;e=a+4|0;p=s+4|0;m=a+8|0;E=s+8|0;v=a+12|0;b=s+12|0;y=i+4|0;g=r+4|0;_=l+4|0;T=0;do{w=o[f>>2]|0;R=o[d>>2]|0;x=w+(T*28|0)+20|0;wp[o[(o[R>>2]|0)+28>>2]&31](R,a,r,o[x>>2]|0);R=o[d>>2]|0;wp[o[(o[R>>2]|0)+28>>2]&31](R,s,i,o[x>>2]|0);x=w+(T*28|0)|0;S=+u[a>>2];M=+u[s>>2];H=+u[e>>2];A=+u[p>>2];C=+(S<M?S:M);M=+(H<A?H:A);R=x;u[R>>2]=C;u[R+4>>2]=M;M=+u[m>>2];C=+u[E>>2];A=+u[v>>2];H=+u[b>>2];S=+(M>C?M:C);C=+(A>H?A:H);R=w+(T*28|0)+8|0;u[R>>2]=S;u[R+4>>2]=C;C=+u[y>>2]-+u[g>>2];u[l>>2]=+u[i>>2]-+u[r>>2];u[_>>2]=C;Qc(t,o[w+(T*28|0)+24>>2]|0,x,l);T=T+1|0}while((T|0)<(o[c>>2]|0));h=n;return}function xs(e,t){e=e|0;t=t|0;var r=0,n=0,a=0;r=h;vf(e);Of(e+76|0);Fr(e+102880|0);o[e+102992>>2]=0;o[e+102996>>2]=0;n=e+102960|0;a=e+103004|0;o[n+0>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[n+16>>2]=0;i[a>>0]=1;i[e+103005>>0]=1;i[e+103006>>0]=0;i[e+103007>>0]=1;i[e+102988>>0]=1;a=t;t=o[a+4>>2]|0;n=e+102980|0;o[n>>2]=o[a>>2];o[n+4>>2]=t;o[e+102876>>2]=4;u[e+103E3>>2]=0;o[e+102956>>2]=e;o[e+103040>>2]=8792;o[e+103044>>2]=o[2206];t=e+103008|0;o[t+0>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;o[t+20>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;h=r;return}function Ss(e){e=e|0;var t=0;t=h;h=h+e|0;h=h+7&-8;return t|0}function Ms(){return h|0}function Hs(e){e=e|0;h=e}function As(e,t){e=e|0;t=t|0;if((b|0)==0){b=e;y=t}}function Cs(e){e=e|0;i[d>>0]=i[e>>0];i[d+1>>0]=i[e+1>>0];i[d+2>>0]=i[e+2>>0];i[d+3>>0]=i[e+3>>0]}function Ps(e){e=e|0;i[d>>0]=i[e>>0];i[d+1>>0]=i[e+1>>0];i[d+2>>0]=i[e+2>>0];i[d+3>>0]=i[e+3>>0];i[d+4>>0]=i[e+4>>0];i[d+5>>0]=i[e+5>>0];i[d+6>>0]=i[e+6>>0];i[d+7>>0]=i[e+7>>0]}function Fs(e){e=e|0;D=e}function Ds(){return D|0}function ks(e){e=e|0;return+ +(o[e+60>>2]|0)}function Ls(e,t,r,a,s,l,f,d,p,m,E){e=e|0;t=+t;r=+r;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=m|0;E=+E;var v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0;v=h;h=h+1104|0;b=v;y=v+1072|0;g=v+1032|0;_=v+8|0;c[b>>3]=l;o[y>>2]=0;u[y+16>>2]=t;u[y+8>>2]=r;i[y+20>>0]=a!=0&1;u[y+12>>2]=s;o[y+4>>2]=b;n[y+22>>1]=~~f;n[y+26>>1]=~~d;n[y+24>>1]=~~p;o[g>>2]=760;o[g+4>>2]=3;u[g+8>>2]=.009999999776482582;o[g+12>>2]=0;o[g+16>>2]=0;i[g+36>>0]=0;i[g+37>>0]=0;b=~~(E*.5);if(E>0){T=0;w=0}else{Ic(g,_,b);o[y>>2]=g;R=Sr(e,y)|0;Nc(g);h=v;return R|0}while(1){p=+ +u[m+(T<<2)>>2];d=+ +u[m+((T|1)<<2)>>2];x=_+(w<<3)|0;u[x>>2]=p;u[x+4>>2]=d;T=T+2|0;if(!(+(T|0)<E))break;else w=w+1|0}Ic(g,_,b);o[y>>2]=g;R=Sr(e,y)|0;Nc(g);h=v;return R|0}function Bs(e){e=e|0;Be(e|0)|0;Se()}function Os(e,t,r,a,s,l,f,d,p,m,E,v){e=e|0;t=+t;r=+r;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;var b=0,y=0,g=0,_=0;b=h;h=h+64|0;y=b;g=b+28|0;_=b+8|0;c[y>>3]=l;u[g+16>>2]=t;u[g+8>>2]=r;i[g+20>>0]=a!=0&1;u[g+12>>2]=s;o[g+4>>2]=y;n[g+22>>1]=~~f;n[g+26>>1]=~~d;n[g+24>>1]=~~p;o[_>>2]=680;y=_+4|0;o[y+0>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;u[_+12>>2]=m;u[_+16>>2]=E;u[_+8>>2]=v;o[g>>2]=_;_=Sr(e,g)|0;h=b;return _|0}function Ns(e){e=e|0;return}function Is(e,t,r,n,a,s,l,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S,M){e=e|0;t=+t;r=+r;n=+n;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;_=+_;T=+T;w=+w;R=+R;x=+x;S=+S;M=+M;var H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0;H=h;h=h+112|0;A=H;C=H+28|0;P=H+8|0;c[A>>3]=R;F=C+8|0;D=C+20|0;k=C+4|0;L=C+16|0;B=C+28|0;O=C+32|0;N=C+33|0;I=C+34|0;V=C+35|0;U=C+36|0;z=C+40|0;o[z+0>>2]=0;o[z+4>>2]=0;o[z+8>>2]=0;o[z+12>>2]=0;o[z+16>>2]=0;o[z+20>>2]=0;o[z+24>>2]=0;u[L>>2]=t;u[B>>2]=r;i[O>>0]=~~n;i[N>>0]=~~a;i[I>>0]=~~s;i[V>>0]=~~l;o[C>>2]=~~f>>>0;o[C+72>>2]=0;o[k>>2]=~~p>>>0;u[C+64>>2]=m;m=+E;E=+v;k=D;u[k>>2]=m;u[k+4>>2]=E;E=+b;b=+y;k=F;u[k>>2]=E;u[k+4>>2]=b;o[C+60>>2]=0;o[C+56>>2]=~~_;o[C+48>>2]=0;o[C+44>>2]=0;u[U>>2]=T;u[C+52>>2]=w;o[C+68>>2]=A;o[P>>2]=680;o[P+4>>2]=0;w=+x;x=+S;A=P+12|0;u[A>>2]=w;u[A+4>>2]=x;u[P+8>>2]=M;o[z>>2]=P;P=yi(e,C)|0;h=H;return P|0}function Vs(e,t,r,i,n,a,s,l){e=e|0;t=+t;r=+r;i=+i;n=+n;a=+a;s=+s;l=+l;var c=0,f=0,d=0,p=0;c=h;h=h+48|0;f=c+16|0;d=c;o[f>>2]=680;p=f+4|0;o[p+0>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;u[f+12>>2]=t;u[f+16>>2]=r;u[f+8>>2]=i;u[d>>2]=n;u[d+4>>2]=a;u[d+8>>2]=s;u[d+12>>2]=l;l=+(Ei(e,f,d,0)|0);h=c;return+l}function Us(e,t,r,a,s,l,f,d,p,m,E,v,b,y,g,_,T,w,R){e=e|0;t=+t;r=+r;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;_=+_;T=+T;w=+w;R=+R;var x=0,S=0,M=0,H=0;x=h;h=h+96|0;S=x;M=x+56|0;H=x+8|0;c[S>>3]=l;u[M+16>>2]=t;u[M+8>>2]=r;i[M+20>>0]=a!=0&1;u[M+12>>2]=s;o[M+4>>2]=S;n[M+22>>1]=~~f;n[M+26>>1]=~~d;n[M+24>>1]=~~p;o[H>>2]=488;o[H+4>>2]=1;u[H+8>>2]=.009999999776482582;S=H+28|0;o[S+0>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;o[S+12>>2]=0;n[S+16>>1]=0;p=+v;v=+b;S=H+28|0;u[S>>2]=p;u[S+4>>2]=v;v=+y;y=+g;S=H+12|0;u[S>>2]=v;u[S+4>>2]=y;y=+_;_=+T;S=H+20|0;u[S>>2]=y;u[S+4>>2]=_;_=+w;w=+R;S=H+36|0;u[S>>2]=_;u[S+4>>2]=w;i[H+44>>0]=m!=0&1;i[H+45>>0]=E!=0&1;o[M>>2]=H;H=Sr(e,M)|0;h=x;return H|0}function zs(e){e=e|0;return}function Gs(e,t,r,a,s,l,f,d,p,m,E,v,b,y,g){e=e|0;t=+t;r=+r;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;var _=0,T=0,w=0,R=0,x=0;_=h;h=h+224|0;T=_;w=_+184|0;R=_+160|0;x=_+8|0;c[T>>3]=l;u[w+16>>2]=t;u[w+8>>2]=r;i[w+20>>0]=a!=0&1;u[w+12>>2]=s;o[w+4>>2]=T;n[w+22>>1]=~~f;n[w+26>>1]=~~d;n[w+24>>1]=~~p;u[R>>2]=m;u[R+4>>2]=E;u[R+8>>2]=v;u[R+12>>2]=b;u[R+16>>2]=y;u[R+20>>2]=g;o[x>>2]=592;o[x+4>>2]=2;u[x+8>>2]=.009999999776482582;o[x+148>>2]=0;u[x+12>>2]=0;u[x+16>>2]=0;Rc(x,R,3);o[w>>2]=x;x=Sr(e,w)|0;h=_;return x|0}function Ws(e){e=e|0;return}function js(e,t,r,a,s,l,f,d,p,m,E,v,b,y,g,_,T){e=e|0;t=+t;r=+r;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;_=+_;T=+T;var w=0,R=0,x=0,S=0,M=0;w=h;h=h+224|0;R=w;x=w+192|0;S=w+160|0;M=w+8|0;c[R>>3]=l;u[x+16>>2]=t;u[x+8>>2]=r;i[x+20>>0]=a!=0&1;u[x+12>>2]=s;o[x+4>>2]=R;n[x+22>>1]=~~f;n[x+26>>1]=~~d;n[x+24>>1]=~~p;u[S>>2]=m;u[S+4>>2]=E;u[S+8>>2]=v;u[S+12>>2]=b;u[S+16>>2]=y;u[S+20>>2]=g;u[S+24>>2]=_;u[S+28>>2]=T;o[M>>2]=592;o[M+4>>2]=2;u[M+8>>2]=.009999999776482582;o[M+148>>2]=0;u[M+12>>2]=0;u[M+16>>2]=0;Rc(M,S,4);o[x>>2]=M;M=Sr(e,x)|0;h=w;return M|0}function Js(e,t,r,a,s,l,f,d,p,m,E,v,b,y,g,_,T,w,R){e=e|0;t=+t;r=+r;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;_=+_;T=+T;w=+w;R=+R;var x=0,S=0,M=0,H=0,A=0;x=h;h=h+240|0;S=x;M=x+200|0;H=x+160|0;A=x+8|0;c[S>>3]=l;u[M+16>>2]=t;u[M+8>>2]=r;i[M+20>>0]=a!=0&1;u[M+12>>2]=s;o[M+4>>2]=S;n[M+22>>1]=~~f;n[M+26>>1]=~~d;n[M+24>>1]=~~p;u[H>>2]=m;u[H+4>>2]=E;u[H+8>>2]=v;u[H+12>>2]=b;u[H+16>>2]=y;u[H+20>>2]=g;u[H+24>>2]=_;u[H+28>>2]=T;u[H+32>>2]=w;u[H+36>>2]=R;o[A>>2]=592;o[A+4>>2]=2;u[A+8>>2]=.009999999776482582;o[A+148>>2]=0;u[A+12>>2]=0;u[A+16>>2]=0;Rc(A,H,5);o[M>>2]=A;A=Sr(e,M)|0;h=x;return A|0}function Xs(e,t,r,a,s,l,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S){e=e|0;t=+t;r=+r;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;_=+_;T=+T;w=+w;R=+R;x=+x;S=+S;var M=0,H=0,A=0,C=0,P=0;M=h;h=h+240|0;H=M;A=M+208|0;C=M+160|0;P=M+8|0;c[H>>3]=l;u[A+16>>2]=t;u[A+8>>2]=r;i[A+20>>0]=a!=0&1;u[A+12>>2]=s;o[A+4>>2]=H;n[A+22>>1]=~~f;n[A+26>>1]=~~d;n[A+24>>1]=~~p;u[C>>2]=m;u[C+4>>2]=E;u[C+8>>2]=v;u[C+12>>2]=b;u[C+16>>2]=y;u[C+20>>2]=g;u[C+24>>2]=_;u[C+28>>2]=T;u[C+32>>2]=w;u[C+36>>2]=R;u[C+40>>2]=x;u[C+44>>2]=S;o[P>>2]=592;o[P+4>>2]=2;u[P+8>>2]=.009999999776482582;o[P+148>>2]=0;u[P+12>>2]=0;u[P+16>>2]=0;Rc(P,C,6);o[A>>2]=P;P=Sr(e,A)|0;h=M;return P|0}function qs(e,t,r,a,s,l,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S,M,H){e=e|0;t=+t;r=+r;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;_=+_;T=+T;w=+w;R=+R;x=+x;S=+S;M=+M;H=+H;var A=0,C=0,P=0,F=0,D=0;A=h;h=h+256|0;C=A;P=A+216|0;F=A+160|0;D=A+8|0;c[C>>3]=l;u[P+16>>2]=t;u[P+8>>2]=r;i[P+20>>0]=a!=0&1;u[P+12>>2]=s;o[P+4>>2]=C;n[P+22>>1]=~~f;n[P+26>>1]=~~d;n[P+24>>1]=~~p;u[F>>2]=m;u[F+4>>2]=E;u[F+8>>2]=v;u[F+12>>2]=b;u[F+16>>2]=y;u[F+20>>2]=g;u[F+24>>2]=_;u[F+28>>2]=T;u[F+32>>2]=w;u[F+36>>2]=R;u[F+40>>2]=x;u[F+44>>2]=S;u[F+48>>2]=M;u[F+52>>2]=H;o[D>>2]=592;o[D+4>>2]=2;u[D+8>>2]=.009999999776482582;o[D+148>>2]=0;u[D+12>>2]=0;u[D+16>>2]=0;Rc(D,F,7);o[P>>2]=D;D=Sr(e,P)|0;h=A;return D|0}function Ys(e,t,r,a,s,l,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S,M,H,A,C){e=e|0;t=+t;r=+r;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;_=+_;T=+T;w=+w;R=+R;x=+x;S=+S;M=+M;H=+H;A=+A;C=+C;var P=0,F=0,D=0,k=0,L=0;P=h;h=h+256|0;F=P;D=P+224|0;k=P+160|0;L=P+8|0;c[F>>3]=l;u[D+16>>2]=t;u[D+8>>2]=r;i[D+20>>0]=a!=0&1;u[D+12>>2]=s;o[D+4>>2]=F;n[D+22>>1]=~~f;n[D+26>>1]=~~d;n[D+24>>1]=~~p;u[k>>2]=m;u[k+4>>2]=E;u[k+8>>2]=v;u[k+12>>2]=b;u[k+16>>2]=y;u[k+20>>2]=g;u[k+24>>2]=_;u[k+28>>2]=T;u[k+32>>2]=w;u[k+36>>2]=R;u[k+40>>2]=x;u[k+44>>2]=S;u[k+48>>2]=M;u[k+52>>2]=H;u[k+56>>2]=A;u[k+60>>2]=C;o[L>>2]=592;o[L+4>>2]=2;u[L+8>>2]=.009999999776482582;o[L+148>>2]=0;u[L+12>>2]=0;u[L+16>>2]=0;Rc(L,k,8);o[D>>2]=L;L=Sr(e,D)|0;h=P;return L|0}function Ks(e,t,r,n,a,s,l,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S,M,H,A,C,P,F){e=e|0;t=+t;r=+r;n=+n;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;_=+_;T=+T;w=+w;R=+R;x=+x;S=+S;M=+M;H=+H;A=+A;C=+C;P=+P;F=+F;var D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0;D=h;h=h+272|0;k=D;L=D+192|0;B=D+160|0;O=D+8|0;c[k>>3]=R;N=L+8|0;I=L+20|0;V=L+4|0;U=L+16|0;z=L+28|0;G=L+32|0;W=L+33|0;j=L+34|0;J=L+35|0;X=L+36|0;q=L+40|0;o[q+0>>2]=0;o[q+4>>2]=0;o[q+8>>2]=0;o[q+12>>2]=0;o[q+16>>2]=0;o[q+20>>2]=0;o[q+24>>2]=0;u[U>>2]=t;u[z>>2]=r;i[G>>0]=~~n;i[W>>0]=~~a;i[j>>0]=~~s;i[J>>0]=~~l;o[L>>2]=~~f>>>0;o[L+72>>2]=0;o[V>>2]=~~p>>>0;u[L+64>>2]=m;m=+E;E=+v;V=I;u[V>>2]=m;u[V+4>>2]=E;E=+b;b=+y;V=N;u[V>>2]=E;u[V+4>>2]=b;o[L+60>>2]=0;o[L+56>>2]=~~_;o[L+48>>2]=0;o[L+44>>2]=0;u[X>>2]=T;u[L+52>>2]=w;o[L+68>>2]=k;u[B>>2]=x;u[B+4>>2]=S;u[B+8>>2]=M;u[B+12>>2]=H;u[B+16>>2]=A;u[B+20>>2]=C;u[B+24>>2]=P;u[B+28>>2]=F;o[O>>2]=592;o[O+4>>2]=2;u[O+8>>2]=.009999999776482582;o[O+148>>2]=0;u[O+12>>2]=0;u[O+16>>2]=0;Rc(O,B,4);o[q>>2]=O;O=yi(e,L)|0;h=D;return O|0}function Zs(e,t,r,i,n,a,s,l,c,f,d,p,m){e=e|0;t=+t;r=+r;i=+i;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;var E=0,v=0,b=0,y=0;E=h;h=h+208|0;v=E+168|0;b=E+16|0;y=E;u[v>>2]=t;u[v+4>>2]=r;u[v+8>>2]=i;u[v+12>>2]=n;u[v+16>>2]=a;u[v+20>>2]=s;u[v+24>>2]=l;u[v+28>>2]=c;o[b>>2]=592;o[b+4>>2]=2;u[b+8>>2]=.009999999776482582;o[b+148>>2]=0;u[b+12>>2]=0;u[b+16>>2]=0;Rc(b,v,4);u[y>>2]=f;u[y+4>>2]=d;u[y+8>>2]=p;u[y+12>>2]=m;m=+(Ei(e,b,y,0)|0);h=E;return+m}function Qs(e,t,r){e=e|0;t=+t;r=+r;var i=0,a=0,s=0,l=0,c=0,f=0,d=0;i=h;a=t;if((o[e>>2]|0)!=2){h=i;return}s=e+4|0;l=n[s>>1]|0;if((r!=0?(l&2)==0:0)?(c=l&65535,(c&2|0)==0):0){f=(c|2)&65535;n[s>>1]=f;u[e+160>>2]=0;d=f}else d=l;if((d&2)==0){h=i;return}d=e+88|0;u[d>>2]=+u[d>>2]+a*+u[e+144>>2];h=i;return}function $s(e,t,r,i,a,s){e=e|0;t=+t;r=+r;i=+i;a=+a;s=+s;var l=0,c=0,f=0,d=0,p=0,m=0,E=0;l=h;c=t;t=r;r=i;i=a;if((o[e>>2]|0)!=2){h=l;return}f=e+4|0;d=n[f>>1]|0;if((s!=0?(d&2)==0:0)?(p=d&65535,(p&2|0)==0):0){m=(p|2)&65535;n[f>>1]=m;u[e+160>>2]=0;E=m}else E=d;if((E&2)==0){h=l;return}E=e+92|0;u[E>>2]=c+ +u[E>>2];E=e+96|0;u[E>>2]=t+ +u[E>>2];E=e+100|0;u[E>>2]=+u[E>>2]+(t*(r-+u[e+60>>2])-c*(i-+u[e+64>>2]));h=l;return}function el(e,t,r,i){e=e|0;t=+t;r=+r;i=+i;var a=0,s=0,l=0,c=0,f=0,d=0,p=0;a=h;s=t;t=r;if((o[e>>2]|0)!=2){h=a;return}l=e+4|0;c=n[l>>1]|0;if((i!=0?(c&2)==0:0)?(f=c&65535,(f&2|0)==0):0){d=(f|2)&65535;n[l>>1]=d;u[e+160>>2]=0;p=d}else p=c;if((p&2)==0){h=a;return}p=e+92|0;u[p>>2]=s+ +u[p>>2];p=e+96|0;u[p>>2]=t+ +u[p>>2];h=a;return}function tl(e,t,r){e=e|0;t=+t;r=+r;var i=0,a=0,s=0,l=0,c=0,f=0,d=0;i=h;a=t;if((o[e>>2]|0)!=2){h=i;return}s=e+4|0;l=n[s>>1]|0;if((r!=0?(l&2)==0:0)?(c=l&65535,(c&2|0)==0):0){f=(c|2)&65535;n[s>>1]=f;u[e+160>>2]=0;d=f}else d=l;if((d&2)==0){h=i;return}d=e+100|0;u[d>>2]=a+ +u[d>>2];h=i;return}function rl(e,t){e=e|0;t=t|0;var r=0;r=h;Mr(e,t);h=r;return}function il(e){e=e|0;return+ +u[e+72>>2]}function nl(e){e=e|0;return+ +u[e+88>>2]}function ol(e){e=e|0;var t=0,r=0;t=+u[e+44>>2];r=+u[e+48>>2];return+(+u[e+140>>2]+ +u[e+132>>2]*(t*t+r*r))}function al(e,t){e=e|0;t=t|0;var r=0;r=+u[e+84>>2];u[t>>2]=+u[e+80>>2];u[t+4>>2]=r;return}function sl(e,t,r,i){e=e|0;t=+t;r=+r;i=i|0;var n=0,o=0;n=t-+u[e+12>>2];t=r-+u[e+16>>2];r=+u[e+24>>2];o=+u[e+20>>2];u[i>>2]=n*r+t*o;u[i+4>>2]=r*t-n*o;return}function ll(e,t,r,i){e=e|0;t=+t;r=+r;i=i|0;var n=0,o=0;n=t-+u[e+12>>2];t=r-+u[e+16>>2];r=+u[e+24>>2];o=+u[e+20>>2];u[i>>2]=n*r+t*o;u[i+4>>2]=r*t-n*o;return}function ul(e){e=e|0;return+ +u[e+132>>2]}function cl(e,t){e=e|0;t=t|0;var r=0;r=+u[e+16>>2];u[t>>2]=+u[e+12>>2];u[t+4>>2]=r;return}function hl(e,t){e=e|0;t=t|0;u[t>>2]=+u[e+12>>2];u[t+4>>2]=+u[e+16>>2];u[t+8>>2]=+u[e+20>>2];u[t+12>>2]=+u[e+24>>2];return}function fl(e){e=e|0;return+ +((o[e>>2]|0)>>>0)}function dl(e,t){e=e|0;t=t|0;var r=0;r=+u[e+64>>2];u[t>>2]=+u[e+60>>2];u[t+4>>2]=r;return}function pl(e,t,r,i){e=e|0;t=+t;r=+r;i=i|0;var n=0,o=0,a=0;n=t;t=r;r=+u[e+24>>2];o=+u[e+20>>2];a=t*r+n*o+ +u[e+16>>2];u[i>>2]=+u[e+12>>2]+(n*r-t*o);u[i+4>>2]=a;return}function ml(e,t,r,i){e=e|0;t=+t;r=+r;i=i|0;var n=0,o=0,a=0;n=t;t=r;r=+u[e+24>>2];o=+u[e+20>>2];a=t*r+n*o+ +u[e+16>>2];u[i>>2]=+u[e+12>>2]+(n*r-t*o);u[i+4>>2]=a;return}function El(e,t){e=e|0;t=+t;var r=0,i=0,a=0,l=0;r=h;i=e+4|0;a=s[i>>1]|0;if(!(t!=0)){n[i>>1]=a&65533;u[e+160>>2]=0;l=e+80|0;o[l+0>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[l+16>>2]=0;o[l+20>>2]=0;h=r;return}if((a&2|0)!=0){h=r;return}n[i>>1]=a|2;u[e+160>>2]=0;h=r;return}function vl(e,t){e=e|0;t=+t;var r=0,i=0,a=0,l=0;r=h;i=t;if((o[e>>2]|0)==0){h=r;return}if(i*i>0?(a=e+4|0,l=s[a>>1]|0,(l&2|0)==0):0){n[a>>1]=l|2;u[e+160>>2]=0}u[e+88>>2]=i;h=r;return}function bl(e,t,r){e=e|0;t=+t;r=+r;var i=0,a=0,l=0,c=0;i=h;a=t;t=r;if((o[e>>2]|0)==0){h=i;return}if(a*a+t*t>0?(l=e+4|0,c=s[l>>1]|0,(c&2|0)==0):0){n[l>>1]=c|2;u[e+160>>2]=0}r=+a;a=+t;c=e+80|0;u[c>>2]=r;u[c+4>>2]=a;h=i;return}function yl(e,t,r,i,n){e=e|0;t=+t;r=+r;i=+i;n=+n;var o=0,a=0;o=h;h=h+16|0;a=o;u[a>>2]=t;u[a+4>>2]=r;u[a+8>>2]=i;u[a+12>>2]=n;Hr(e,a);h=o;return}function gl(e,t,r,i){e=e|0;t=+t;r=+r;i=+i;var n=0,o=0;n=h;h=h+16|0;o=n;u[o>>2]=t;u[o+4>>2]=r;Cr(e,o,i);h=n;return}function _l(e,t){e=e|0;t=+t;var r=0;r=h;wr(e,~~t>>>0);h=r;return}function Tl(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0,a=0;i=h;h=h+16|0;n=i;u[n>>2]=t;u[n+4>>2]=r;a=o[e+12>>2]|0;r=+((mp[o[(o[a>>2]|0)+16>>2]&15](a,(o[e+8>>2]|0)+12|0,n)|0)&1);h=i;return+r}function wl(e){e=e|0;return}function Rl(e){e=e|0;return}function xl(e){e=e|0;return}function Sl(e,t){e=+e;t=+t;var r=0,i=0,n=0;r=h;h=h+16|0;i=r;n=nd(103048)|0;u[i>>2]=e;u[i+4>>2]=t;xs(n,i);h=r;return n|0}function Ml(e,t,r,n,a,s,l,c,f,d,p,m,E,v,b,y,g){e=e|0;t=+t;r=+r;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=g|0;var _=0,T=0,w=0,R=0,x=0;_=h;h=h+64|0;T=_;w=T+44|0;R=T+4|0;x=T+36|0;o[R+0>>2]=0;o[R+4>>2]=0;o[R+8>>2]=0;o[R+12>>2]=0;o[R+16>>2]=0;o[R+20>>2]=0;i[T+40>>0]=t!=0&1;i[x>>0]=r!=0&1;u[T+12>>2]=n;u[T+24>>2]=a;u[T+32>>2]=s;i[T+37>>0]=l!=0&1;i[T+39>>0]=c!=0&1;i[T+38>>0]=f!=0&1;u[T+48>>2]=d;u[T+28>>2]=p;u[T+16>>2]=m;u[T+20>>2]=E;u[R>>2]=v;u[T+8>>2]=b;o[T>>2]=~~y>>>0;o[w>>2]=g;g=ur(e,T)|0;h=_;return g|0}function Hl(e,t,r,n,a,s,l,c,f,d,p,m,E,v,b,y,g,_){e=e|0;t=+t;r=+r;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;_=+_;var T=0,w=0,R=0;T=h;h=h+96|0;w=T;i[w>>0]=0;u[w+4>>2]=1;u[w+8>>2]=1;o[w+16>>2]=0;u[w+72>>2]=t;u[w+24>>2]=r;i[w+76>>0]=n!=0&1;u[w+56>>2]=a;u[w+28>>2]=s;u[w+80>>2]=l;u[w+52>>2]=c;u[w+20>>2]=f;u[w+12>>2]=d;u[w+48>>2]=p;u[w+32>>2]=m;o[w+68>>2]=~~E;u[w+64>>2]=v;u[w+60>>2]=b;u[w+44>>2]=y;u[w+40>>2]=g;u[w+36>>2]=_;R=dr(e,w)|0;h=T;return R|0}function Al(e){e=e|0;var t=0;t=h;if((e|0)!=0){ar(e);ad(e)}h=t;return}function Cl(e,t){e=e|0;t=t|0;var r=0;r=h;cr(e,t);h=r;return}function Pl(e,t){e=e|0;t=t|0;var r=0;r=h;hr(e,t);h=r;return}function Fl(e,t){e=e|0;t=t|0;var r=0;r=h;sr(e,t);h=r;return}function Dl(e,t,r,i,n){e=e|0;t=+t;r=+r;i=+i;n=+n;var o=0,a=0,s=0,l=0;o=h;h=h+16|0;a=o;s=+t;t=+r;l=a;u[l>>2]=s;u[l+4>>2]=t;t=+i;i=+n;l=a+8|0;u[l>>2]=t;u[l+4>>2]=i;vr(e,16,a);h=o;return}function kl(e,t,r,i,n){e=e|0;t=+t;r=+r;i=+i;n=+n;var o=0,a=0,s=0;o=h;h=h+16|0;a=o+8|0;s=o;u[a>>2]=t;u[a+4>>2]=r;u[s>>2]=i;u[s+4>>2]=n;br(e,24,a,s);h=o;return}function Ll(e){e=e|0;var t=0;t=h;lr(e,8);h=t;return}function Bl(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0,o=0;i=h;n=+t;t=+r;o=e+102980|0;u[o>>2]=n;u[o+4>>2]=t;h=i;return}function Ol(e,t,r,i){e=e|0;t=+t;r=+r;i=+i;var n=0;n=h;Er(e,t,~~r,~~i,3);h=n;return}function Nl(e){e=e|0;return e+64|0}function Il(e){e=e|0;var t=0,r=0,i=0;t=h;r=o[e+48>>2]|0;i=o[e+52>>2]|0;bh(32,e+64|0,(o[r+8>>2]|0)+12|0,+u[(o[r+12>>2]|0)+8>>2],(o[i+8>>2]|0)+12|0,+u[(o[i+12>>2]|0)+8>>2]);h=t;return 32}function Vl(e,t,r,n,a,s,l,c,f,d,p){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;var m=0,E=0,v=0;m=h;h=h+48|0;E=m;o[E+0>>2]=0;o[E+4>>2]=0;o[E+8>>2]=0;o[E+12>>2]=0;o[E>>2]=3;v=E+20|0;o[v>>2]=0;o[v+4>>2]=0;o[E+8>>2]=t;o[E+12>>2]=r;i[E+16>>0]=n!=0&1;u[E+44>>2]=a;u[E+40>>2]=s;u[E+36>>2]=l;l=+c;c=+f;r=E+20|0;u[r>>2]=l;u[r+4>>2]=c;c=+d;d=+p;r=E+28|0;u[r>>2]=c;u[r+4>>2]=d;r=fr(e,E)|0;h=m;return r|0}function Ul(e,t,r,n,a,s,l,c,f,d){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;var p=0,m=0,E=0,v=0,b=0,y=0;p=h;h=h+64|0;m=p+16|0;E=p+8|0;v=p;o[m+0>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m>>2]=3;b=m+20|0;y=m+36|0;o[b+0>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;u[y>>2]=1;i[m+16>>0]=c!=0&1;u[m+44>>2]=f;u[m+40>>2]=d;u[E>>2]=n;u[E+4>>2]=a;u[v>>2]=s;u[v+4>>2]=l;tn(m,t,r,E,v);v=fr(e,m)|0;h=p;return v|0}function zl(e,t,r,n,a,s,l,c,f,d){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;var p=0,m=0,E=0;p=h;h=h+48|0;m=p;o[m+0>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m>>2]=9;E=m+20|0;o[E+0>>2]=0;o[E+4>>2]=0;o[E+8>>2]=0;o[E+12>>2]=0;o[E+16>>2]=0;o[m+8>>2]=t;o[m+12>>2]=r;i[m+16>>0]=n!=0&1;n=+a;a=+s;r=m+20|0;u[r>>2]=n;u[r+4>>2]=a;a=+l;l=+c;r=m+28|0;u[r>>2]=a;u[r+4>>2]=l;u[m+36>>2]=f;u[m+40>>2]=d;r=fr(e,m)|0;h=p;return r|0}function Gl(e,t,r,n,a,s,l,c){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;var f=0,d=0,p=0,m=0;f=h;h=h+64|0;d=f+8|0;p=f;o[d+0>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d>>2]=9;m=d+20|0;o[m+0>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m+16>>2]=0;i[d+16>>0]=s!=0&1;u[d+36>>2]=l;u[d+40>>2]=c;u[p>>2]=n;u[p+4>>2]=a;pn(d,t,r,p);p=fr(e,d)|0;h=f;return p|0}function Wl(e){e=e|0;var t=0,r=0;t=h;r=+Jn(e);h=t;return+r}function jl(e,t,r,n,a,s,l){e=e|0;t=t|0;r=r|0;n=+n;a=a|0;s=s|0;l=+l;var c=0,f=0;c=h;h=h+32|0;f=c;o[f+0>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;o[f>>2]=6;o[f+8>>2]=t;o[f+12>>2]=r;i[f+16>>0]=n!=0&1;o[f+20>>2]=a;o[f+24>>2]=s;u[f+28>>2]=l;s=fr(e,f)|0;h=c;return s|0}function Jl(e){e=e|0;return o[e+48>>2]|0}function Xl(e){e=e|0;return o[e+52>>2]|0}function ql(e,t){e=e|0;t=+t;var r=0;r=h;Ki(e,t);h=r;return}function Yl(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0;i=h;h=h+16|0;n=i;u[n>>2]=t;u[n+4>>2]=r;Yi(e,n);h=i;return}function Kl(e,t,r,n,a,s,l,c,f,d){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;var p=0,m=0;p=h;h=h+48|0;m=p;o[m+0>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m>>2]=11;o[m+8>>2]=t;o[m+12>>2]=r;i[m+16>>0]=n!=0&1;u[m+28>>2]=a;u[m+40>>2]=s;s=+l;l=+c;r=m+20|0;u[r>>2]=s;u[r+4>>2]=l;u[m+32>>2]=f;u[m+36>>2]=d;r=fr(e,m)|0;h=p;return r|0}function Zl(e,t,r,n,a,s,l){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;var c=0,f=0;c=h;h=h+48|0;f=c;o[f+0>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;o[f>>2]=11;u[f+20>>2]=0;u[f+24>>2]=0;u[f+28>>2]=0;i[f+16>>0]=n!=0&1;u[f+40>>2]=a;u[f+32>>2]=s;u[f+36>>2]=l;Gh(f,t,r);r=fr(e,f)|0;h=c;return r|0}function Ql(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0;i=h;h=h+16|0;n=i;u[n>>2]=t;u[n+4>>2]=r;Ph(e,n);h=i;return}function $l(e,t,r,n,a,s,l,c,f){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;var d=0,p=0;d=h;h=h+48|0;p=d;o[p+0>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;o[p>>2]=5;o[p+8>>2]=t;o[p+12>>2]=r;i[p+16>>0]=n!=0&1;u[p+36>>2]=a;u[p+32>>2]=s;u[p+28>>2]=l;l=+c;c=+f;r=p+20|0;u[r>>2]=l;u[r+4>>2]=c;r=fr(e,p)|0;h=d;return r|0}function eu(e,t){e=e|0;t=+t;var r=0;r=h;so(e,t!=0);h=r;return}function tu(e,t){e=e|0;t=+t;var r=0;r=h;uo(e,t!=0);h=r;return}function ru(e){e=e|0;var t=0,r=0;t=h;r=+oo(e);h=t;return+r}function iu(e){e=e|0;return+ +u[e+132>>2]}function nu(e,t){e=e|0;t=+t;var r=0,i=0;r=h;i=+ho(e,t);h=r;return+i}function ou(e){e=e|0;var t=0,r=0;t=h;r=+((ao(e)|0)&1);h=t;return+r}function au(e){e=e|0;var t=0,r=0;t=h;r=+((lo(e)|0)&1);h=t;return+r}function su(e,t){e=e|0;t=+t;var r=0;r=h;co(e,t);h=r;return}function lu(e,t,r,n,a,s,l,c,f,d,p,m,E,v,b,y,g){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;y=+y;g=+g;var _=0,T=0,w=0;_=h;h=h+80|0;T=_;o[T+0>>2]=0;o[T+4>>2]=0;o[T+8>>2]=0;o[T+12>>2]=0;o[T>>2]=2;w=T+20|0;o[w>>2]=0;o[w+4>>2]=0;o[T+8>>2]=t;o[T+12>>2]=r;i[T+16>>0]=n!=0&1;i[T+48>>0]=a!=0&1;i[T+60>>0]=s!=0&1;s=+l;l=+c;r=T+20|0;u[r>>2]=s;u[r+4>>2]=l;l=+f;f=+d;r=T+28|0;u[r>>2]=l;u[r+4>>2]=f;f=+p;p=+m;r=T+36|0;u[r>>2]=f;u[r+4>>2]=p;u[T+52>>2]=E;u[T+64>>2]=v;u[T+68>>2]=b;u[T+44>>2]=y;u[T+56>>2]=g;r=fr(e,T)|0;h=_;return r|0}function uu(e,t,r,n,a,s,l,c,f,d,p,m,E,v){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;var b=0,y=0,g=0,_=0,T=0,w=0;b=h;h=h+96|0;y=b+16|0;g=b+8|0;_=b;o[y+0>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;o[y+12>>2]=0;o[y>>2]=2;T=y+20|0;w=y+36|0;o[T+0>>2]=0;o[T+4>>2]=0;o[T+8>>2]=0;o[T+12>>2]=0;u[w>>2]=1;u[y+40>>2]=0;u[y+44>>2]=0;i[y+16>>0]=c!=0&1;i[y+48>>0]=f!=0&1;i[y+60>>0]=d!=0&1;u[y+52>>2]=p;u[y+64>>2]=m;u[y+68>>2]=E;u[y+56>>2]=v;u[g>>2]=n;u[g+4>>2]=a;u[_>>2]=s;u[_+4>>2]=l;Kn(y,t,r,g,_);_=fr(e,y)|0;h=b;return _|0}function cu(e,t,r,n,a,s,l,c,f,d,p,m,E,v,b){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;var y=0,g=0;y=h;h=h+64|0;g=y;o[g+0>>2]=0;o[g+4>>2]=0;o[g+8>>2]=0;o[g>>2]=4;o[g+8>>2]=t;o[g+12>>2]=r;i[g+16>>0]=n!=0&1;n=+a;a=+s;r=g+20|0;u[r>>2]=n;u[r+4>>2]=a;a=+l;l=+c;r=g+28|0;u[r>>2]=a;u[r+4>>2]=l;u[g+52>>2]=f;u[g+56>>2]=d;d=+p;p=+m;r=g+36|0;u[r>>2]=d;u[r+4>>2]=p;p=+E;E=+v;r=g+44|0;u[r>>2]=p;u[r+4>>2]=E;u[g+60>>2]=b;r=fr(e,g)|0;h=y;return r|0}function hu(e,t,r,n,a,s,l,c,f,d,p,m,E){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;E=+E;var v=0,b=0,y=0,g=0,_=0,T=0;v=h;h=h+96|0;b=v+32|0;y=v+24|0;g=v+16|0;_=v+8|0;T=v;o[b+0>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;o[b>>2]=4;u[b+20>>2]=-1;u[b+24>>2]=1;u[b+28>>2]=1;u[b+32>>2]=1;u[b+36>>2]=-1;u[b+40>>2]=0;u[b+44>>2]=1;u[b+48>>2]=0;u[b+52>>2]=0;u[b+56>>2]=0;u[b+60>>2]=1;i[b+16>>0]=E!=0&1;u[y>>2]=c;u[y+4>>2]=f;u[g>>2]=d;u[g+4>>2]=p;u[_>>2]=n;u[_+4>>2]=a;u[T>>2]=s;u[T+4>>2]=l;ca(b,t,r,y,g,_,T,m);T=fr(e,b)|0;h=v;return T|0}function fu(e,t){e=e|0;t=+t;var r=0;r=h;Xo(e,t!=0);h=r;return}function du(e,t){e=e|0;t=+t;var r=0;r=h;Wo(e,t!=0);h=r;return}function pu(e){e=e|0;var t=0,r=0;t=h;r=+zo(e);h=t;return+r}function mu(e){e=e|0;var t=0,r=0;t=h;r=+((Jo(e)|0)&1);h=t;return+r}function Eu(e){e=e|0;var t=0,r=0;t=h;r=+((Go(e)|0)&1);h=t;return+r}function vu(e,t,r,n,a,s,l,c,f,d,p,m,E,v,b){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;var y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0;y=h;h=h+64|0;g=y;o[g+0>>2]=0;o[g+4>>2]=0;o[g+8>>2]=0;o[g+12>>2]=0;o[g>>2]=1;_=g+20|0;T=g+44|0;w=g+48|0;R=g+60|0;x=g+56|0;S=g+52|0;o[_+0>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[g+8>>2]=t;o[g+12>>2]=r;i[g+16>>0]=n!=0&1;i[g+40>>0]=a!=0&1;i[S>>0]=s!=0&1;s=+c;c=+f;S=g+20|0;u[S>>2]=s;u[S+4>>2]=c;c=+d;d=+p;S=g+28|0;u[S>>2]=c;u[S+4>>2]=d;u[T>>2]=l;u[R>>2]=m;u[x>>2]=E;u[g+36>>2]=v;u[w>>2]=b;w=fr(e,g)|0;h=y;return w|0}function bu(e,t,r,n,a,s,l,c,f,d,p,m){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;var E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0;E=h;h=h+80|0;v=E+8|0;b=E;o[v+0>>2]=0;o[v+4>>2]=0;o[v+8>>2]=0;o[v+12>>2]=0;o[v>>2]=1;y=v+20|0;g=v+44|0;_=v+48|0;T=v+60|0;w=v+56|0;R=v+52|0;o[y+0>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;o[y+12>>2]=0;o[y+16>>2]=0;i[v+16>>0]=s!=0&1;i[v+40>>0]=l!=0&1;i[R>>0]=c!=0&1;u[g>>2]=f;u[T>>2]=d;u[w>>2]=p;u[_>>2]=m;u[b>>2]=n;u[b+4>>2]=a;Do(v,t,r,b);b=fr(e,v)|0;h=E;return b|0}function yu(e,t){e=e|0;t=+t;var r=0;r=h;jo(e,t);h=r;return}function gu(e,t,r,n,a,s,l,c,f){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;var d=0,p=0;d=h;h=h+48|0;p=d;o[p+0>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;o[p>>2]=10;o[p+8>>2]=t;o[p+12>>2]=r;i[p+16>>0]=n!=0&1;n=+a;a=+s;r=p+20|0;u[r>>2]=n;u[r+4>>2]=a;a=+l;l=+c;r=p+28|0;u[r>>2]=a;u[r+4>>2]=l;u[p+36>>2]=f;r=fr(e,p)|0;h=d;return r|0}function _u(e,t,r,n,a,s,l,c,f,d,p){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;var m=0,E=0,v=0;m=h;h=h+48|0;E=m;o[E+0>>2]=0;o[E+4>>2]=0;o[E+8>>2]=0;o[E+12>>2]=0;o[E>>2]=8;v=E+20|0;o[v+0>>2]=0;o[v+4>>2]=0;o[v+8>>2]=0;o[v+12>>2]=0;o[E+8>>2]=t;o[E+12>>2]=r;i[E+16>>0]=n!=0&1;u[E+44>>2]=a;u[E+40>>2]=s;s=+l;l=+c;r=E+20|0;u[r>>2]=s;u[r+4>>2]=l;l=+f;f=+d;r=E+28|0;u[r>>2]=l;u[r+4>>2]=f;u[E+36>>2]=p;r=fr(e,E)|0;h=m;return r|0}function Tu(e,t,r,n,a,s,l,c){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;var f=0,d=0,p=0,m=0;f=h;h=h+64|0;d=f+8|0;p=f;o[d+0>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d>>2]=8;m=d+20|0;o[m+0>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m+16>>2]=0;i[d+16>>0]=s!=0&1;u[d+44>>2]=l;u[d+40>>2]=c;u[p>>2]=n;u[p+4>>2]=a;Sn(d,t,r,p);p=fr(e,d)|0;h=f;return p|0}function wu(e,t){e=e|0;t=+t;var r=0;r=h;aa(e,t);h=r;return}function Ru(e,t){e=e|0;t=+t;u[e+68>>2]=t;return}function xu(e,t,r,n,a,s,l,c,f,d,p,m,E,v,b){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;b=+b;var y=0,g=0,_=0;y=h;h=h+64|0;g=y;o[g+0>>2]=0;o[g+4>>2]=0;o[g+8>>2]=0;o[g+12>>2]=0;o[g>>2]=7;_=g+20|0;o[_>>2]=0;o[_+4>>2]=0;o[g+8>>2]=t;o[g+12>>2]=r;i[g+16>>0]=n!=0&1;u[g+60>>2]=a;i[g+44>>0]=s!=0&1;u[g+56>>2]=l;l=+c;c=+f;r=g+20|0;u[r>>2]=l;u[r+4>>2]=c;c=+d;d=+p;r=g+28|0;u[r>>2]=c;u[r+4>>2]=d;d=+m;m=+E;r=g+36|0;u[r>>2]=d;u[r+4>>2]=m;u[g+48>>2]=v;u[g+52>>2]=b;r=fr(e,g)|0;h=y;return r|0}function Su(e,t,r,n,a,s,l,c,f,d,p,m,E){e=e|0;t=t|0;r=r|0;n=+n;a=+a;s=+s;l=+l;c=+c;f=+f;d=+d;p=+p;m=+m;E=+E;var v=0,b=0,y=0,g=0,_=0,T=0;v=h;h=h+80|0;b=v+16|0;y=v+8|0;g=v;o[b+0>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;o[b>>2]=7;_=b+20|0;T=b+36|0;o[_+0>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;u[T>>2]=1;u[b+40>>2]=0;i[b+16>>0]=c!=0&1;u[b+60>>2]=f;i[b+44>>0]=d!=0&1;u[b+56>>2]=p;u[b+48>>2]=m;u[b+52>>2]=E;u[y>>2]=n;u[y+4>>2]=a;u[g>>2]=s;u[g+4>>2]=l;Zo(b,t,r,y,g);g=fr(e,b)|0;h=v;return g|0}function Mu(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0;i=h;h=h+16|0;n=i;u[n>>2]=t;u[n+4>>2]=r;ri(e,n);h=i;return}function Hu(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0;i=h;h=h+16|0;n=i;u[n>>2]=t;u[n+4>>2]=r;ii(e,n);h=i;return}function Au(e,t){e=e|0;t=+t;var r=0;r=h;ni(e,t!=0);h=r;return}function Cu(e){e=e|0;return+ +(o[e+4>>2]|0)}function Pu(e){e=e|0;return+ +((o[e+8>>2]|0)-(o[e+4>>2]|0)|0)}function Fu(e,t,r,n,a,s,l,f,d,p,m,E,v){e=e|0;t=+t;r=+r;n=+n;a=+a;s=+s;l=+l;f=+f;d=+d;p=+p;m=+m;E=+E;v=+v;var b=0,y=0,g=0,_=0;b=h;h=h+64|0;y=b+8|0;g=b;_=b+16|0;c[y>>3]=l;c[g>>3]=m;i[_+20>>0]=~~t;i[_+21>>0]=~~n;i[_+22>>0]=~~r;i[_+23>>0]=~~a;o[_>>2]=~~s>>>0;o[_+32>>2]=y;u[_+24>>2]=f;f=+d;d=+p;y=_+4|0;u[y>>2]=f;u[y+4>>2]=d;o[_+28>>2]=g;d=+E;E=+v;g=_+12|0;u[g>>2]=d;u[g+4>>2]=E;E=+(ci(e,_)|0);h=b;return+E}function Du(e){e=e|0;var t=0,r=0;t=h;r=li(e)|0;h=t;return r|0}function ku(e){e=e|0;return+ +(o[e+44>>2]|0)}function Lu(e){e=e|0;return o[e+96>>2]|0}function Bu(e){e=e|0;return o[e+104>>2]|0}function Ou(e,t){e=e|0;t=+t;u[e+340>>2]=t;return}function Nu(e,t){e=e|0;t=+t;var r=0;r=t;u[e+320>>2]=r;u[e+28>>2]=1/r;return}function Iu(e,t){e=e|0;t=+t;var r=0;r=t*2;u[e+32>>2]=r;u[e+40>>2]=r*r;u[e+36>>2]=1/r;return}function Vu(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Uu(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=+n;var o=0;e=h;o=+Ve(t|0,+ +u[r>>2],+ +u[r+4>>2],+ +u[i>>2],+ +u[i+4>>2],+n);h=e;return+o}function zu(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=+o;return 0}function Gu(e,t){e=e|0;t=t|0;return 1}function Wu(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ju(e,t){e=e|0;t=t|0;var r=0;e=h;r=Qe(t|0)|0;h=e;return r|0}function Ju(e,t,r){e=e|0;t=t|0;r=r|0;return 0}function Xu(e,t){e=e|0;t=t|0;return 1}function qu(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Yu(e,t){e=e|0;t=t|0;e=h;We(t|0);h=e;return}function Ku(e,t){e=e|0;t=t|0;e=h;Ze(t|0);h=e;return}function Zu(e,t,r){e=e|0;t=t|0;r=r|0;return}function Qu(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return}function $u(e,t,r){e=e|0;t=t|0;r=r|0;return}function ec(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return}function tc(e,t,r){e=e|0;t=t|0;r=r|0;e=h;Me(t|0,r|0);h=e;return}function rc(e,t,r){e=e|0;t=t|0;r=r|0;e=h;$e(t|0,r|0);h=e;return}function ic(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function nc(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function oc(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ac(){o[2]=280;o[4]=176;o[6]=72;return}function sc(e,t){e=e|0;t=t|0;var r=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,W=0,j=0,J=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0,Ce=0,Pe=0,Fe=0,De=0;r=h;h=h+320|0;a=r;s=r+284|0;l=r+248|0;c=r+236|0;f=r+144|0;d=r+120|0;p=r+16|0;m=r+12|0;E=r+8|0;xf(a);o[104]=(o[104]|0)+1;o[e>>2]=0;v=t+128|0;b=e+4|0;u[b>>2]=+u[v>>2];y=t+28|0;g=s+0|0;_=t+56|0;T=g+36|0;do{o[g>>2]=o[_>>2];g=g+4|0;_=_+4|0}while((g|0)<(T|0));g=l+0|0;_=t+92|0;T=g+36|0;do{o[g>>2]=o[_>>2];g=g+4|0;_=_+4|0}while((g|0)<(T|0));_=s+24|0;w=+u[_>>2];R=+G(+(w/6.2831854820251465))*6.2831854820251465;x=w-R;u[_>>2]=x;g=s+28|0;w=+u[g>>2]-R;u[g>>2]=w;T=l+24|0;R=+u[T>>2];S=+G(+(R/6.2831854820251465))*6.2831854820251465;M=R-S;u[T>>2]=M;H=l+28|0;R=+u[H>>2]-S;u[H>>2]=R;S=+u[v>>2];A=+u[t+24>>2]+ +u[t+52>>2]+-.014999999664723873;C=A<.004999999888241291?.004999999888241291:A;n[c+4>>1]=0;o[f+0>>2]=o[t+0>>2];o[f+4>>2]=o[t+4>>2];o[f+8>>2]=o[t+8>>2];o[f+12>>2]=o[t+12>>2];o[f+16>>2]=o[t+16>>2];o[f+20>>2]=o[t+20>>2];o[f+24>>2]=o[t+24>>2];v=f+28|0;o[v+0>>2]=o[y+0>>2];o[v+4>>2]=o[y+4>>2];o[v+8>>2]=o[y+8>>2];o[v+12>>2]=o[y+12>>2];o[v+16>>2]=o[y+16>>2];o[v+20>>2]=o[y+20>>2];o[v+24>>2]=o[y+24>>2];i[f+88>>0]=0;v=s+8|0;P=s+12|0;F=s+16|0;D=s+20|0;k=s+4|0;L=l+8|0;B=l+12|0;O=l+16|0;N=l+20|0;I=l+4|0;V=f+56|0;U=f+64|0;z=f+68|0;W=f+72|0;j=f+80|0;J=f+84|0;Y=d+16|0;A=C+.0012499999720603228;K=C+-.0012499999720603228;Z=x;x=w;w=M;M=R;Q=0;R=0;e:while(1){$=1-R;ee=$*Z+R*x;te=+q(+ee);re=+X(+ee);ee=+u[s>>2];ie=+u[k>>2];ne=$*w+R*M;oe=+q(+ne);ae=+X(+ne);ne=+u[l>>2];se=+u[I>>2];le=$*+u[L>>2]+R*+u[O>>2]-(ae*ne-oe*se);ue=$*+u[B>>2]+R*+u[N>>2]-(oe*ne+ae*se);se=+($*+u[v>>2]+R*+u[F>>2]-(re*ee-te*ie));ne=+($*+u[P>>2]+R*+u[D>>2]-(te*ee+re*ie));ce=V;u[ce>>2]=se;u[ce+4>>2]=ne;u[U>>2]=te;u[z>>2]=re;re=+le;le=+ue;ce=W;u[ce>>2]=re;u[ce+4>>2]=le;u[j>>2]=oe;u[J>>2]=ae;dc(d,c,f);ae=+u[Y>>2];if(ae<=0){he=3;break}if(ae<A){he=5;break}+lc(p,c,t,s,y,l,R);ce=0;ae=S;while(1){oe=+uc(p,m,E,ae);if(oe>A){he=8;break e}if(oe>K){fe=ae;break}de=o[m>>2]|0;pe=o[E>>2]|0;le=+cc(p,de,pe,R);if(le<K){he=11;break e}if(!(le<=A)){me=R;Ee=ae;ve=0;be=le;ye=oe}else{he=13;break e}while(1){if((ve&1|0)==0)ge=(me+Ee)*.5;else ge=me+(C-be)*(Ee-me)/(ye-be);ve=ve+1|0;o[110]=(o[110]|0)+1;oe=+cc(p,de,pe,ge);le=oe-C;if(le>0)_e=le;else _e=-le;if(_e<.0012499999720603228){Te=ge;break}we=oe>C;if((ve|0)==50){Te=ae;break}else{me=we?ge:me;Ee=we?Ee:ge;be=we?oe:be;ye=we?ye:oe}}pe=o[112]|0;o[112]=(pe|0)>(ve|0)?pe:ve;ce=ce+1|0;if((ce|0)==8){fe=R;break}else ae=Te}ce=Q+1|0;o[106]=(o[106]|0)+1;if((ce|0)==20){he=25;break}Z=+u[_>>2];x=+u[g>>2];w=+u[T>>2];M=+u[H>>2];Q=ce;R=fe}if((he|0)==3){o[e>>2]=2;u[b>>2]=0;Re=Q;xe=o[108]|0;Se=(xe|0)>(Re|0);Me=Se?xe:Re;o[108]=Me;He=+Mf(a);Ae=+u[102];Ce=Ae>He;Pe=Ce?Ae:He;u[102]=Pe;Fe=+u[100];De=He+Fe;u[100]=De;h=r;return}else if((he|0)==5){o[e>>2]=3;u[b>>2]=R;Re=Q;xe=o[108]|0;Se=(xe|0)>(Re|0);Me=Se?xe:Re;o[108]=Me;He=+Mf(a);Ae=+u[102];Ce=Ae>He;Pe=Ce?Ae:He;u[102]=Pe;Fe=+u[100];De=He+Fe;u[100]=De;h=r;return}else if((he|0)==8){o[e>>2]=4;u[b>>2]=S}else if((he|0)==11){o[e>>2]=1;u[b>>2]=R}else if((he|0)==13){o[e>>2]=3;u[b>>2]=R}else if((he|0)==25){o[e>>2]=1;u[b>>2]=fe;Re=20;xe=o[108]|0;Se=(xe|0)>(Re|0);Me=Se?xe:Re;o[108]=Me;He=+Mf(a);Ae=+u[102];Ce=Ae>He;Pe=Ce?Ae:He;u[102]=Pe;Fe=+u[100];De=He+Fe;u[100]=De;h=r;return}o[106]=(o[106]|0)+1;Re=Q+1|0;xe=o[108]|0;Se=(xe|0)>(Re|0);Me=Se?xe:Re;o[108]=Me;He=+Mf(a);Ae=+u[102];Ce=Ae>He;Pe=Ce?Ae:He;u[102]=Pe;Fe=+u[100];De=He+Fe;u[100]=De;h=r;return}function lc(e,t,r,s,l,c,f){e=e|0;t=t|0;r=r|0;s=s|0;l=l|0;c=c|0;f=+f;var d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0;d=h;o[e>>2]=r;o[e+4>>2]=l;p=n[t+4>>1]|0;m=e+8|0;E=m+0|0;v=s+0|0;s=E+36|0;do{o[E>>2]=o[v>>2];E=E+4|0;v=v+4|0}while((E|0)<(s|0));b=e+44|0;E=b+0|0;v=c+0|0;s=E+36|0;do{o[E>>2]=o[v>>2];E=E+4|0;v=v+4|0}while((E|0)<(s|0));y=1-f;g=y*+u[e+32>>2]+ +u[e+36>>2]*f;_=+q(+g);T=+X(+g);g=+u[m>>2];w=+u[e+12>>2];R=y*+u[e+16>>2]+ +u[e+24>>2]*f-(T*g-_*w);x=y*+u[e+20>>2]+ +u[e+28>>2]*f-(_*g+T*w);w=y*+u[e+68>>2]+ +u[e+72>>2]*f;g=+q(+w);S=+X(+w);w=+u[b>>2];M=+u[e+48>>2];H=y*+u[e+52>>2]+ +u[e+60>>2]*f-(S*w-g*M);A=y*+u[e+56>>2]+ +u[e+64>>2]*f-(g*w+S*M);if(p<<16>>16==1){o[e+80>>2]=0;p=(o[r+16>>2]|0)+(a[t+6>>0]<<3)|0;M=+u[p>>2];w=+u[p+4>>2];p=(o[l+16>>2]|0)+(a[t+9>>0]<<3)|0;f=+u[p>>2];y=+u[p+4>>2];p=e+92|0;C=H+(S*f-g*y)-(R+(T*M-_*w));P=A+(g*f+S*y)-(x+(_*M+T*w));w=+C;M=+P;b=p;u[b>>2]=w;u[b+4>>2]=M;M=+j(+(C*C+P*P));if(M<1.1920928955078125E-7)F=0;else{w=1/M;u[p>>2]=C*w;u[e+96>>2]=P*w;F=M}p=8784;b=o[p+4>>2]|0;m=e+84|0;o[m>>2]=o[p>>2];o[m+4>>2]=b;D=F;h=d;return+D}b=t+6|0;m=t+7|0;p=e+80|0;if((i[b>>0]|0)==(i[m>>0]|0)){o[p>>2]=2;v=o[l+16>>2]|0;E=v+(a[t+9>>0]<<3)|0;F=+u[E>>2];M=+u[E+4>>2];E=v+(a[t+10>>0]<<3)|0;w=+u[E>>2];P=+u[E+4>>2];E=e+92|0;C=w-F;y=P-M;f=-C;k=+y;L=+f;v=E;u[v>>2]=k;u[v+4>>2]=L;L=+j(+(y*y+C*C));if(L<1.1920928955078125E-7){B=y;O=f}else{C=1/L;L=y*C;u[E>>2]=L;y=C*f;u[e+96>>2]=y;B=L;O=y}y=(F+w)*.5;w=(M+P)*.5;P=+y;M=+w;v=e+84|0;u[v>>2]=P;u[v+4>>2]=M;v=(o[r+16>>2]|0)+(a[b>>0]<<3)|0;M=+u[v>>2];P=+u[v+4>>2];F=(S*B-g*O)*(R+(T*M-_*P)-(H+(S*y-g*w)))+(g*B+S*O)*(x+(_*M+T*P)-(A+(g*y+S*w)));if(!(F<0)){D=F;h=d;return+D}w=+-B;B=+-O;v=E;u[v>>2]=w;u[v+4>>2]=B;D=-F;h=d;return+D}else{o[p>>2]=1;p=o[r+16>>2]|0;r=p+(a[b>>0]<<3)|0;F=+u[r>>2];B=+u[r+4>>2];r=p+(a[m>>0]<<3)|0;w=+u[r>>2];O=+u[r+4>>2];r=e+92|0;y=w-F;P=O-B;M=-y;L=+P;f=+M;m=r;u[m>>2]=L;u[m+4>>2]=f;f=+j(+(P*P+y*y));if(f<1.1920928955078125E-7){N=P;I=M}else{y=1/f;f=P*y;u[r>>2]=f;P=y*M;u[e+96>>2]=P;N=f;I=P}P=(F+w)*.5;w=(B+O)*.5;O=+P;B=+w;m=e+84|0;u[m>>2]=O;u[m+4>>2]=B;m=(o[l+16>>2]|0)+(a[t+9>>0]<<3)|0;B=+u[m>>2];O=+u[m+4>>2];F=(T*N-_*I)*(H+(S*B-g*O)-(R+(T*P-_*w)))+(_*N+T*I)*(A+(g*B+S*O)-(x+(_*P+T*w)));if(!(F<0)){D=F;h=d;return+D}w=+-N;N=+-I;m=r;u[m>>2]=w;u[m+4>>2]=N;D=-F;h=d;return+D}return 0}function uc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=+i;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0;n=h;a=1-i;s=a*+u[e+32>>2]+ +u[e+36>>2]*i;l=+q(+s);c=+X(+s);s=+u[e+8>>2];f=+u[e+12>>2];d=a*+u[e+16>>2]+ +u[e+24>>2]*i-(c*s-l*f);p=a*+u[e+20>>2]+ +u[e+28>>2]*i-(l*s+c*f);f=a*+u[e+68>>2]+ +u[e+72>>2]*i;s=+q(+f);m=+X(+f);f=+u[e+44>>2];E=+u[e+48>>2];v=a*+u[e+52>>2]+ +u[e+60>>2]*i-(m*f-s*E);b=a*+u[e+56>>2]+ +u[e+64>>2]*i-(s*f+m*E);y=o[e+80>>2]|0;if((y|0)==0){E=+u[e+92>>2];f=+u[e+96>>2];i=c*E+l*f;a=c*f-l*E;g=-E;_=-f;T=m*g+s*_;w=m*_-s*g;R=o[e>>2]|0;x=o[R+16>>2]|0;S=o[R+20>>2]|0;if((S|0)>1){R=0;g=a*+u[x+4>>2]+i*+u[x>>2];M=1;while(1){_=i*+u[x+(M<<3)>>2]+a*+u[x+(M<<3)+4>>2];H=_>g;A=H?M:R;M=M+1|0;if((M|0)==(S|0)){C=A;break}else{R=A;g=H?_:g}}}else C=0;o[t>>2]=C;C=o[e+4>>2]|0;R=o[C+16>>2]|0;S=o[C+20>>2]|0;if((S|0)>1){C=0;g=w*+u[R+4>>2]+T*+u[R>>2];M=1;while(1){a=T*+u[R+(M<<3)>>2]+w*+u[R+(M<<3)+4>>2];H=a>g;A=H?M:C;M=M+1|0;if((M|0)==(S|0)){P=A;break}else{C=A;g=H?a:g}}}else P=0;o[r>>2]=P;C=x+(o[t>>2]<<3)|0;g=+u[C>>2];w=+u[C+4>>2];C=R+(P<<3)|0;T=+u[C>>2];a=+u[C+4>>2];F=E*(v+(m*T-s*a)-(d+(c*g-l*w)))+f*(b+(s*T+m*a)-(p+(l*g+c*w)));h=n;return+F}else if((y|0)==1){w=+u[e+92>>2];g=+u[e+96>>2];a=c*w-l*g;T=l*w+c*g;g=+u[e+84>>2];w=+u[e+88>>2];f=d+(c*g-l*w);E=p+(l*g+c*w);w=-a;g=-T;i=m*w+s*g;_=m*g-s*w;o[t>>2]=-1;C=o[e+4>>2]|0;P=o[C+16>>2]|0;R=o[C+20>>2]|0;if((R|0)>1){C=0;w=_*+u[P+4>>2]+i*+u[P>>2];x=1;while(1){g=i*+u[P+(x<<3)>>2]+_*+u[P+(x<<3)+4>>2];S=g>w;M=S?x:C;x=x+1|0;if((x|0)==(R|0)){D=M;break}else{C=M;w=S?g:w}}}else D=0;o[r>>2]=D;C=P+(D<<3)|0;w=+u[C>>2];_=+u[C+4>>2];F=a*(v+(m*w-s*_)-f)+T*(b+(s*w+m*_)-E);h=n;return+F}else if((y|0)==2){E=+u[e+92>>2];_=+u[e+96>>2];w=m*E-s*_;T=s*E+m*_;_=+u[e+84>>2];E=+u[e+88>>2];f=v+(m*_-s*E);v=b+(s*_+m*E);E=-w;m=-T;_=c*E+l*m;s=c*m-l*E;o[r>>2]=-1;y=o[e>>2]|0;e=o[y+16>>2]|0;C=o[y+20>>2]|0;if((C|0)>1){y=0;E=s*+u[e+4>>2]+_*+u[e>>2];D=1;while(1){m=_*+u[e+(D<<3)>>2]+s*+u[e+(D<<3)+4>>2];P=m>E;R=P?D:y;D=D+1|0;if((D|0)==(C|0)){k=R;break}else{y=R;E=P?m:E}}}else k=0;o[t>>2]=k;y=e+(k<<3)|0;E=+u[y>>2];s=+u[y+4>>2];F=w*(d+(c*E-l*s)-f)+T*(p+(l*E+c*s)-v);h=n;return+F}else{o[t>>2]=-1;o[r>>2]=-1;F=0;h=n;return+F}return 0}function cc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=+i;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0;n=h;a=1-i;s=a*+u[e+32>>2]+ +u[e+36>>2]*i;l=+q(+s);c=+X(+s);s=+u[e+8>>2];f=+u[e+12>>2];d=a*+u[e+16>>2]+ +u[e+24>>2]*i-(c*s-l*f);p=a*+u[e+20>>2]+ +u[e+28>>2]*i-(l*s+c*f);f=a*+u[e+68>>2]+ +u[e+72>>2]*i;s=+q(+f);m=+X(+f);f=+u[e+44>>2];E=+u[e+48>>2];v=a*+u[e+52>>2]+ +u[e+60>>2]*i-(m*f-s*E);b=a*+u[e+56>>2]+ +u[e+64>>2]*i-(s*f+m*E);y=o[e+80>>2]|0;if((y|0)==0){g=(o[(o[e>>2]|0)+16>>2]|0)+(t<<3)|0;E=+u[g>>2];f=+u[g+4>>2];g=(o[(o[e+4>>2]|0)+16>>2]|0)+(r<<3)|0;i=+u[g>>2];a=+u[g+4>>2];_=+u[e+92>>2]*(v+(m*i-s*a)-(d+(c*E-l*f)))+ +u[e+96>>2]*(b+(s*i+m*a)-(p+(l*E+c*f)));h=n;return+_}else if((y|0)==1){f=+u[e+92>>2];E=+u[e+96>>2];a=+u[e+84>>2];i=+u[e+88>>2];g=(o[(o[e+4>>2]|0)+16>>2]|0)+(r<<3)|0;T=+u[g>>2];w=+u[g+4>>2];_=(c*f-l*E)*(v+(m*T-s*w)-(d+(c*a-l*i)))+(l*f+c*E)*(b+(s*T+m*w)-(p+(l*a+c*i)));h=n;return+_}else if((y|0)==2){i=+u[e+92>>2];a=+u[e+96>>2];w=+u[e+84>>2];T=+u[e+88>>2];y=(o[(o[e>>2]|0)+16>>2]|0)+(t<<3)|0;E=+u[y>>2];f=+u[y+4>>2];_=(m*i-s*a)*(d+(c*E-l*f)-(v+(m*w-s*T)))+(s*i+m*a)*(p+(l*E+c*f)-(b+(s*w+m*T)));h=n;return+_}else{_=0;h=n;return+_}return 0}function hc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0;i=h;n=o[t+4>>2]|0;if((n|0)==0){o[e+16>>2]=t+12;o[e+20>>2]=1;u[e+24>>2]=+u[t+8>>2];h=i;return}else if((n|0)==2){o[e+16>>2]=t+20;o[e+20>>2]=o[t+148>>2];u[e+24>>2]=+u[t+8>>2];h=i;return}else if((n|0)==1){o[e+16>>2]=t+12;o[e+20>>2]=2;u[e+24>>2]=+u[t+8>>2];h=i;return}else if((n|0)==3){n=t+12|0;a=(o[n>>2]|0)+(r<<3)|0;s=o[a+4>>2]|0;l=e;o[l>>2]=o[a>>2];o[l+4>>2]=s;s=r+1|0;r=e+8|0;l=o[n>>2]|0;if((s|0)<(o[t+16>>2]|0)){n=l+(s<<3)|0;s=o[n+4>>2]|0;a=r;o[a>>2]=o[n>>2];o[a+4>>2]=s}else{s=l;l=o[s+4>>2]|0;a=r;o[a>>2]=o[s>>2];o[a+4>>2]=l}o[e+16>>2]=e;o[e+20>>2]=2;u[e+24>>2]=+u[t+8>>2];h=i;return}else{h=i;return}}function fc(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0;t=h;r=e+16|0;i=+u[r>>2];n=+u[r+4>>2];r=e+36|0;a=e+52|0;s=+u[a>>2];l=+u[a+4>>2];a=e+72|0;c=e+88|0;f=+u[c>>2];d=+u[c+4>>2];p=s-i;m=l-n;E=i*p+n*m;v=s*p+l*m;b=f-i;y=d-n;g=i*b+n*y;_=f*b+d*y;T=f-s;w=d-l;R=s*T+l*w;x=f*T+d*w;w=p*y-m*b;b=(s*d-l*f)*w;m=(n*f-i*d)*w;d=(i*l-n*s)*w;if(!(!(E>=-0)|!(g>=-0))){u[e+24>>2]=1;o[e+108>>2]=1;h=t;return}if(!(!(E<-0)|!(v>0)|!(d<=0))){w=1/(v-E);u[e+24>>2]=v*w;u[e+60>>2]=-(E*w);o[e+108>>2]=2;h=t;return}if(!(!(g<-0)|!(_>0)|!(m<=0))){w=1/(_-g);u[e+24>>2]=_*w;u[e+96>>2]=-(g*w);o[e+108>>2]=2;S=r+0|0;M=a+0|0;H=S+36|0;do{o[S>>2]=o[M>>2];S=S+4|0;M=M+4|0}while((S|0)<(H|0));h=t;return}if(!(!(v<=0)|!(R>=-0))){u[e+60>>2]=1;o[e+108>>2]=1;S=e+0|0;M=r+0|0;H=S+36|0;do{o[S>>2]=o[M>>2];S=S+4|0;M=M+4|0}while((S|0)<(H|0));h=t;return}if(!(!(_<=0)|!(x<=0))){u[e+96>>2]=1;o[e+108>>2]=1;S=e+0|0;M=a+0|0;H=S+36|0;do{o[S>>2]=o[M>>2];S=S+4|0;M=M+4|0}while((S|0)<(H|0));h=t;return}if(!(R<-0)|!(x>0)|!(b<=0)){_=1/(d+(b+m));u[e+24>>2]=b*_;u[e+60>>2]=m*_;u[e+96>>2]=d*_;o[e+108>>2]=3;h=t;return}else{_=1/(x-R);u[e+60>>2]=x*_;u[e+96>>2]=-(R*_);o[e+108>>2]=2;S=e+0|0;M=a+0|0;H=S+36|0;do{o[S>>2]=o[M>>2];S=S+4|0;M=M+4|0}while((S|0)<(H|0));h=t;return}}function dc(e,t,r){e=e|0;t=t|0;r=r|0;var a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0;a=h;h=h+176|0;s=a+152|0;l=a+136|0;c=a;f=a+124|0;p=a+112|0;o[114]=(o[114]|0)+1;m=r+28|0;E=r+56|0;o[s+0>>2]=o[E+0>>2];o[s+4>>2]=o[E+4>>2];o[s+8>>2]=o[E+8>>2];o[s+12>>2]=o[E+12>>2];E=r+72|0;o[l+0>>2]=o[E+0>>2];o[l+4>>2]=o[E+4>>2];o[l+8>>2]=o[E+8>>2];o[l+12>>2]=o[E+12>>2];pc(c,t,r,s,m,l);o[f+0>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[p+0>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;m=c+108|0;v=+u[s+12>>2];b=+u[s+8>>2];E=r+16|0;y=r+20|0;g=+u[s>>2];_=+u[s+4>>2];T=+u[l+12>>2];w=+u[l+8>>2];s=r+44|0;R=r+48|0;x=+u[l>>2];S=+u[l+4>>2];l=c+16|0;M=c+20|0;H=c+52|0;A=c+56|0;C=c+16|0;P=c+36|0;F=c+52|0;D=c+24|0;k=c+60|0;L=o[m>>2]|0;B=0;e:while(1){O=(L|0)>0;if(O){N=0;do{o[f+(N<<2)>>2]=o[c+(N*36|0)+28>>2];o[p+(N<<2)>>2]=o[c+(N*36|0)+32>>2];N=N+1|0}while((N|0)!=(L|0))}do{if((L|0)==2){N=C;I=+u[N>>2];V=+u[N+4>>2];N=F;U=+u[N>>2];z=+u[N+4>>2];G=U-I;W=z-V;J=I*G+V*W;if(J>=-0){u[D>>2]=1;o[m>>2]=1;X=13;break}V=U*G+z*W;if(!(V<=0)){W=1/(V-J);u[D>>2]=V*W;u[k>>2]=-(J*W);o[m>>2]=2;X=14;break}else{u[k>>2]=1;o[m>>2]=1;N=c+0|0;q=P+0|0;Y=N+36|0;do{o[N>>2]=o[q>>2];N=N+4|0;q=q+4|0}while((N|0)<(Y|0));X=13;break}}else if((L|0)==3){fc(c);q=o[m>>2]|0;if((q|0)==3){X=11;break e}else{K=q;X=12}}else{K=L;X=12}}while(0);do{if((X|0)==12){X=0;if((K|0)==1){X=13;break}else if((K|0)==2){X=14;break}q=8784;W=+u[q>>2];Z=W;Q=+u[q+4>>2];$=K}}while(0);do{if((X|0)==13){X=0;Z=-+u[l>>2];Q=-+u[M>>2];$=1}else if((X|0)==14){X=0;W=+u[l>>2];J=+u[H>>2]-W;V=+u[M>>2];z=+u[A>>2]-V;if(W*z-J*V>0){Z=-z;Q=J;$=2;break}else{Z=z;Q=-J;$=2;break}}}while(0);if(Q*Q+Z*Z<1.4210854715202004E-14){ee=$;te=B;X=31;break}q=c+($*36|0)|0;J=-Z;z=-Q;V=v*J+b*z;W=v*z-b*J;N=o[E>>2]|0;Y=o[y>>2]|0;if((Y|0)>1){re=0;J=W*+u[N+4>>2]+V*+u[N>>2];ie=1;while(1){z=V*+u[N+(ie<<3)>>2]+W*+u[N+(ie<<3)+4>>2];ne=z>J;oe=ne?ie:re;ie=ie+1|0;if((ie|0)==(Y|0)){ae=oe;break}else{re=oe;J=ne?z:J}}}else ae=0;o[c+($*36|0)+28>>2]=ae;J=+u[N+(ae<<3)>>2];W=+u[N+(ae<<3)+4>>2];V=g+(v*J-b*W);z=+V;G=+(J*b+v*W+_);re=q;u[re>>2]=z;u[re+4>>2]=G;G=Z*T+Q*w;z=Q*T-Z*w;re=o[s>>2]|0;Y=o[R>>2]|0;if((Y|0)>1){ie=0;W=z*+u[re+4>>2]+G*+u[re>>2];ne=1;while(1){J=G*+u[re+(ne<<3)>>2]+z*+u[re+(ne<<3)+4>>2];oe=J>W;se=oe?ne:ie;ne=ne+1|0;if((ne|0)==(Y|0)){le=se;break}else{ie=se;W=oe?J:W}}}else le=0;o[c+($*36|0)+32>>2]=le;W=+u[re+(le<<3)>>2];z=+u[re+(le<<3)+4>>2];G=x+(T*W-w*z);J=+G;U=+(W*w+T*z+S);ie=c+($*36|0)+8|0;u[ie>>2]=J;u[ie+4>>2]=U;U=+(G-V);G=+(+u[c+($*36|0)+12>>2]-+u[c+($*36|0)+4>>2]);ie=c+($*36|0)+16|0;u[ie>>2]=U;u[ie+4>>2]=G;ue=B+1|0;o[116]=(o[116]|0)+1;if(O){ie=0;do{if((ae|0)==(o[f+(ie<<2)>>2]|0)?(le|0)==(o[p+(ie<<2)>>2]|0):0){X=30;break e}ie=ie+1|0}while((ie|0)<(L|0))}ie=(o[m>>2]|0)+1|0;o[m>>2]=ie;if((ue|0)<20){L=ie;B=ue}else{ee=ie;te=ue;X=31;break}}if((X|0)==11){L=o[118]|0;o[118]=(L|0)>(B|0)?L:B;ce=e+8|0;he=B;X=35}else if((X|0)==30){ee=o[m>>2]|0;te=ue;X=31}do{if((X|0)==31){ue=o[118]|0;o[118]=(ue|0)>(te|0)?ue:te;ue=e+8|0;if((ee|0)==1){m=c;B=o[m>>2]|0;L=o[m+4>>2]|0;m=e;o[m>>2]=B;o[m+4>>2]=L;m=c+8|0;p=o[m>>2]|0;le=o[m+4>>2]|0;m=ue;o[m>>2]=p;o[m+4>>2]=le;S=(o[d>>2]=B,+u[d>>2]);T=(o[d>>2]=p,+u[d>>2]);w=(o[d>>2]=L,+u[d>>2]);fe=T;de=S;pe=(o[d>>2]=le,+u[d>>2]);me=w;Ee=1;ve=ue;be=te;break}else if((ee|0)==2){w=+u[D>>2];S=+u[k>>2];T=w*+u[c>>2]+S*+u[c+36>>2];x=w*+u[c+4>>2]+S*+u[c+40>>2];Z=+T;Q=+x;le=e;u[le>>2]=Z;u[le+4>>2]=Q;Q=w*+u[c+8>>2]+S*+u[c+44>>2];Z=w*+u[c+12>>2]+S*+u[c+48>>2];S=+Q;w=+Z;le=ue;u[le>>2]=S;u[le+4>>2]=w;fe=Q;de=T;pe=Z;me=x;Ee=2;ve=ue;be=te;break}else if((ee|0)==3){ce=ue;he=te;X=35;break}else{fe=+u[ue>>2];de=+u[e>>2];pe=+u[e+12>>2];me=+u[e+4>>2];Ee=ee;ve=ue;be=te;break}}}while(0);if((X|0)==35){x=+u[D>>2];Z=+u[k>>2];T=+u[c+96>>2];Q=x*+u[c>>2]+Z*+u[c+36>>2]+T*+u[c+72>>2];w=x*+u[c+4>>2]+Z*+u[c+40>>2]+T*+u[c+76>>2];T=+Q;Z=+w;k=e;u[k>>2]=T;u[k+4>>2]=Z;k=ce;u[k>>2]=T;u[k+4>>2]=Z;fe=Q;de=Q;pe=w;me=w;Ee=3;ve=ce;be=he}w=de-fe;he=e+4|0;ce=e+12|0;fe=me-pe;k=e+16|0;u[k>>2]=+j(+(w*w+fe*fe));o[e+20>>2]=be;if((Ee|0)==2){fe=+u[l>>2]-+u[H>>2];w=+u[M>>2]-+u[A>>2];ye=+j(+(fe*fe+w*w));X=39}else if((Ee|0)!=3){u[t>>2]=0;n[t+4>>1]=Ee;if((Ee|0)>0){ge=0;X=41}}else{w=+u[l>>2];fe=+u[M>>2];ye=(+u[H>>2]-w)*(+u[c+92>>2]-fe)-(+u[A>>2]-fe)*(+u[c+88>>2]-w);X=39}if((X|0)==39){u[t>>2]=ye;n[t+4>>1]=Ee;ge=0;X=41}if((X|0)==41)while(1){X=0;i[t+ge+6>>0]=o[c+(ge*36|0)+28>>2];i[t+ge+9>>0]=o[c+(ge*36|0)+32>>2];ge=ge+1|0;if((ge|0)>=(Ee|0))break;else X=41}if((i[r+88>>0]|0)==0){h=a;return}ye=+u[r+24>>2];w=+u[r+52>>2];fe=+u[k>>2];pe=ye+w;if(!(fe>pe&fe>1.1920928955078125E-7)){me=+((+u[e>>2]+ +u[ve>>2])*.5);de=+((+u[he>>2]+ +u[ce>>2])*.5);r=e;u[r>>2]=me;u[r+4>>2]=de;r=ve;u[r>>2]=me;u[r+4>>2]=de;u[k>>2]=0;h=a;return}u[k>>2]=fe-pe;pe=+u[ve>>2];fe=+u[e>>2];de=pe-fe;me=+u[ce>>2];Q=+u[he>>2];Z=me-Q;T=+j(+(de*de+Z*Z));if(T<1.1920928955078125E-7){_e=de;Te=Z}else{x=1/T;_e=de*x;Te=Z*x}u[e>>2]=ye*_e+fe;u[he>>2]=ye*Te+Q;u[ve>>2]=pe-w*_e;u[ce>>2]=me-w*Te;h=a;return}function pc(e,t,r,i,s,l){e=e|0;t=t|0;r=r|0;i=i|0;s=s|0;l=l|0;var c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0;c=h;f=n[t+4>>1]|0;d=f&65535;p=e+108|0;o[p>>2]=d;if(f<<16>>16==0)m=d;else{d=r+16|0;f=s+16|0;E=i+12|0;v=i+8|0;b=i+4|0;y=l+12|0;g=l+8|0;_=l+4|0;T=0;do{w=a[t+T+6>>0]|0;o[e+(T*36|0)+28>>2]=w;R=a[t+T+9>>0]|0;o[e+(T*36|0)+32>>2]=R;x=(o[d>>2]|0)+(w<<3)|0;S=+u[x>>2];M=+u[x+4>>2];x=(o[f>>2]|0)+(R<<3)|0;H=+u[x>>2];A=+u[x+4>>2];C=+u[E>>2];P=+u[v>>2];F=+u[i>>2]+(S*C-M*P);D=+F;k=+(C*M+S*P+ +u[b>>2]);x=e+(T*36|0)|0;u[x>>2]=D;u[x+4>>2]=k;k=+u[y>>2];D=+u[g>>2];P=+u[l>>2]+(H*k-A*D);S=+P;M=+(A*k+H*D+ +u[_>>2]);x=e+(T*36|0)+8|0;u[x>>2]=S;u[x+4>>2]=M;M=+(P-F);F=+(+u[e+(T*36|0)+12>>2]-+u[e+(T*36|0)+4>>2]);x=e+(T*36|0)+16|0;u[x>>2]=M;u[x+4>>2]=F;u[e+(T*36|0)+24>>2]=0;T=T+1|0;x=o[p>>2]|0}while((T|0)<(x|0));m=x}do{if((m|0)>1){F=+u[t>>2];if((m|0)==2){M=+u[e+16>>2]-+u[e+52>>2];P=+u[e+20>>2]-+u[e+56>>2];L=+j(+(M*M+P*P))}else if((m|0)==3){P=+u[e+16>>2];M=+u[e+20>>2];L=(+u[e+52>>2]-P)*(+u[e+92>>2]-M)-(+u[e+56>>2]-M)*(+u[e+88>>2]-P)}else L=0;if(!(L<F*.5)?!(F*2<L|L<1.1920928955078125E-7):0){B=11;break}o[p>>2]=0}else B=11}while(0);if((B|0)==11?(m|0)!=0:0){h=c;return}o[e+28>>2]=0;o[e+32>>2]=0;m=o[r+16>>2]|0;L=+u[m>>2];F=+u[m+4>>2];m=o[s+16>>2]|0;P=+u[m>>2];M=+u[m+4>>2];S=+u[i+12>>2];D=+u[i+8>>2];H=+u[i>>2]+(L*S-F*D);k=S*F+L*D+ +u[i+4>>2];D=+H;L=+k;i=e;u[i>>2]=D;u[i+4>>2]=L;L=+u[l+12>>2];D=+u[l+8>>2];F=+u[l>>2]+(P*L-M*D);S=M*L+P*D+ +u[l+4>>2];D=+F;P=+S;l=e+8|0;u[l>>2]=D;u[l+4>>2]=P;P=+(F-H);H=+(S-k);l=e+16|0;u[l>>2]=P;u[l+4>>2]=H;u[e+24>>2]=1;o[p>>2]=1;h=c;return}function mc(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0;r=h;i=yf(t,48)|0;if((i|0)==0)a=0;else{o[i>>2]=488;o[i+4>>2]=1;u[i+8>>2]=.009999999776482582;t=i+28|0;o[t+0>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;n[t+16>>1]=0;a=i}i=e+4|0;t=o[i+4>>2]|0;s=a+4|0;o[s>>2]=o[i>>2];o[s+4>>2]=t;t=a+12|0;s=e+12|0;o[t+0>>2]=o[s+0>>2];o[t+4>>2]=o[s+4>>2];o[t+8>>2]=o[s+8>>2];o[t+12>>2]=o[s+12>>2];o[t+16>>2]=o[s+16>>2];o[t+20>>2]=o[s+20>>2];o[t+24>>2]=o[s+24>>2];o[t+28>>2]=o[s+28>>2];n[t+32>>1]=n[s+32>>1]|0;h=r;return a|0}function Ec(e){e=e|0;return 1}function vc(e,t,r){e=e|0;t=t|0;r=r|0;return 0}function bc(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0;o=h;a=+u[t+12>>2];s=+u[e+12>>2];l=+u[t+8>>2];c=+u[e+16>>2];f=+u[t>>2];d=f+(a*s-l*c);p=+u[t+4>>2];m=s*l+a*c+p;c=+u[e+20>>2];s=+u[e+24>>2];E=f+(a*c-l*s);f=p+(l*c+a*s);s=+u[r>>2];a=s-d;c=+u[r+4>>2];l=c-m;p=E-d;d=f-m;m=a*p+l*d;do{if(m>0){v=p*p+d*d;if(m>v){b=s-E;y=c-f;break}else{g=m/v;b=a-p*g;y=l-d*g;break}}else{b=a;y=l}}while(0);l=+j(+(y*y+b*b));u[i>>2]=l;if(l>0){a=1/l;_=b*a;T=y*a;w=+_;R=+T;x=n;S=x;u[S>>2]=w;M=x+4|0;H=M;u[H>>2]=R;h=o;return}else{i=8784;a=+u[i>>2];_=a;T=+u[i+4>>2];w=+_;R=+T;x=n;S=x;u[S>>2]=w;M=x+4|0;H=M;u[H>>2]=R;h=o;return}}function yc(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var o=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0;n=h;o=+u[i>>2];a=+u[r>>2]-o;s=+u[i+4>>2];l=+u[r+4>>2]-s;c=i+12|0;f=+u[c>>2];d=i+8|0;p=+u[d>>2];m=a*f+l*p;E=f*l-a*p;a=+u[r+8>>2]-o;o=+u[r+12>>2]-s;s=f*a+p*o-m;l=f*o-p*a-E;i=e+12|0;a=+u[i>>2];p=+u[i+4>>2];i=e+20|0;o=+u[i>>2];f=o-a;o=+u[i+4>>2]-p;v=-f;b=f*f+o*o;y=+j(+b);if(y<1.1920928955078125E-7){g=o;_=v}else{T=1/y;g=o*T;_=T*v}v=(p-E)*_+(a-m)*g;T=l*_+s*g;if(T==0){w=0;h=n;return w|0}y=v/T;if(y<0){w=0;h=n;return w|0}if(b==0?1:+u[r+16>>2]<y){w=0;h=n;return w|0}T=(f*(m+s*y-a)+o*(E+l*y-p))/b;if(T<0|T>1){w=0;h=n;return w|0}u[t+8>>2]=y;y=+u[c>>2];T=+u[d>>2];b=g*y-_*T;p=_*y+g*T;if(v>0){v=+-b;T=+-p;d=t;u[d>>2]=v;u[d+4>>2]=T;w=1;h=n;return w|0}else{T=+b;b=+p;d=t;u[d>>2]=T;u[d+4>>2]=b;w=1;h=n;return w|0}return 0}function gc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,o=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0;i=h;n=+u[r+12>>2];o=+u[e+12>>2];a=+u[r+8>>2];s=+u[e+16>>2];l=+u[r>>2];c=l+(n*o-a*s);f=+u[r+4>>2];d=o*a+n*s+f;s=+u[e+20>>2];o=+u[e+24>>2];p=l+(n*s-a*o);l=f+(a*s+n*o);o=+u[e+8>>2];n=+((c<p?c:p)-o);s=+((d<l?d:l)-o);e=t;u[e>>2]=n;u[e+4>>2]=s;s=+(o+(c>p?c:p));p=+(o+(d>l?d:l));e=t+8|0;u[e>>2]=s;u[e+4>>2]=p;h=i;return}function _c(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0;i=h;u[t>>2]=0;r=+((+u[e+12>>2]+ +u[e+20>>2])*.5);n=+((+u[e+16>>2]+ +u[e+24>>2])*.5);e=t+4|0;u[e>>2]=r;u[e+4>>2]=n;u[t+12>>2]=0;h=i;return}function Tc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;i=yf(t,152)|0;if((i|0)==0)n=0;else{o[i>>2]=592;o[i+4>>2]=2;u[i+8>>2]=.009999999776482582;o[i+148>>2]=0;u[i+12>>2]=0;u[i+16>>2]=0;n=i}i=e+4|0;t=o[i+4>>2]|0;a=n+4|0;o[a>>2]=o[i>>2];o[a+4>>2]=t;pd(n+12|0,e+12|0,140)|0;h=r;return n|0}function wc(e){e=e|0;return 1}function Rc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0;i=h;h=h+96|0;n=i+32|0;a=i;if((r|0)<3){o[e+148>>2]=4;u[e+20>>2]=-1;u[e+24>>2]=-1;u[e+28>>2]=1;u[e+32>>2]=-1;u[e+36>>2]=1;u[e+40>>2]=1;u[e+44>>2]=-1;u[e+48>>2]=1;u[e+84>>2]=0;u[e+88>>2]=-1;u[e+92>>2]=1;u[e+96>>2]=0;u[e+100>>2]=0;u[e+104>>2]=1;u[e+108>>2]=-1;u[e+112>>2]=0;u[e+12>>2]=0;u[e+16>>2]=0;h=i;return}s=(r|0)<8?r:8;r=0;l=0;while(1){c=t+(r<<3)|0;f=o[c>>2]|0;p=o[c+4>>2]|0;m=(o[d>>2]=f,+u[d>>2]);E=(o[d>>2]=p,+u[d>>2]);e:do{if((l|0)>0){c=0;while(1){v=m-+u[n+(c<<3)>>2];b=E-+u[n+(c<<3)+4>>2];c=c+1|0;if(v*v+b*b<.0024999999441206455){y=l;break e}if((c|0)>=(l|0)){g=7;break}}}else g=7}while(0);if((g|0)==7){g=0;c=n+(l<<3)|0;o[c>>2]=f;o[c+4>>2]=p;y=l+1|0}r=r+1|0;if((r|0)==(s|0))break;else l=y}if((y|0)<3){o[e+148>>2]=4;u[e+20>>2]=-1;u[e+24>>2]=-1;u[e+28>>2]=1;u[e+32>>2]=-1;u[e+36>>2]=1;u[e+40>>2]=1;u[e+44>>2]=-1;u[e+48>>2]=1;u[e+84>>2]=0;u[e+88>>2]=-1;u[e+92>>2]=1;u[e+96>>2]=0;u[e+100>>2]=0;u[e+104>>2]=1;u[e+108>>2]=-1;u[e+112>>2]=0;u[e+12>>2]=0;u[e+16>>2]=0;h=i;return}l=0;s=1;E=+u[n>>2];while(1){m=+u[n+(s<<3)>>2];if(!(m>E))if(m==E?+u[n+(s<<3)+4>>2]<+u[n+(l<<3)+4>>2]:0)g=22;else{_=l;T=E}else g=22;if((g|0)==22){g=0;_=s;T=m}s=s+1|0;if((s|0)==(y|0)){w=_;R=0;break}else{l=_;E=T}}while(1){o[a+(R<<2)>>2]=w;l=0;s=1;while(1){if((l|0)!=(w|0)){T=+u[n+(w<<3)>>2];E=+u[n+(l<<3)>>2]-T;m=+u[n+(w<<3)+4>>2];b=+u[n+(l<<3)+4>>2]-m;v=+u[n+(s<<3)>>2]-T;T=+u[n+(s<<3)+4>>2]-m;m=E*T-b*v;g=m<0?s:l;if(m==0?v*v+T*T>E*E+b*b:0)x=s;else x=g}else x=s;s=s+1|0;if((s|0)==(y|0))break;else l=x}S=R+1|0;if((x|0)==(_|0))break;else{w=x;R=S}}o[e+148>>2]=S;x=(R|0)>-1;if(x){w=0;do{_=n+(o[a+(w<<2)>>2]<<3)|0;y=o[_+4>>2]|0;l=e+(w<<3)+20|0;o[l>>2]=o[_>>2];o[l+4>>2]=y;w=w+1|0}while((w|0)!=(S|0));if(x){x=0;do{w=x;x=x+1|0;a=(x|0)<(S|0)?x:0;b=+u[e+(a<<3)+24>>2]-+u[e+(w<<3)+24>>2];n=e+(w<<3)+84|0;E=+b;T=+-(+u[e+(a<<3)+20>>2]-+u[e+(w<<3)+20>>2]);a=n;u[a>>2]=E;u[a+4>>2]=T;a=e+(w<<3)+88|0;T=+u[a>>2];E=+j(+(b*b+T*T));if(!(E<1.1920928955078125E-7)){v=1/E;u[n>>2]=b*v;u[a>>2]=T*v}}while((x|0)!=(S|0))}}x=e+12|0;a=e+20|0;if((R|0)>-1){v=0;T=0;b=0;R=0;while(1){n=e+(R<<3)+20|0;E=+u[n>>2];m=+u[n+4>>2];R=R+1|0;if((R|0)<(S|0))M=e+(R<<3)+20|0;else M=a;n=M;H=+u[n>>2];A=+u[n+4>>2];C=(E*A-m*H)*.5;P=b+C;F=C*.3333333432674408;C=v+(E+0+H)*F;H=T+(m+0+A)*F;if((R|0)==(S|0)){D=C;k=H;L=P;break}else{v=C;T=H;b=P}}}else{D=0;k=0;L=0}b=1/L;L=+(D*b);D=+(k*b);S=x;u[S>>2]=L;u[S+4>>2]=D;h=i;return}function xc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0;i=h;n=+u[r>>2]-+u[t>>2];a=+u[r+4>>2]-+u[t+4>>2];s=+u[t+12>>2];l=+u[t+8>>2];c=n*s+a*l;f=s*a-n*l;t=o[e+148>>2]|0;if((t|0)>0)d=0;else{p=1;h=i;return p|0}while(1){if((c-+u[e+(d<<3)+20>>2])*+u[e+(d<<3)+84>>2]+(f-+u[e+(d<<3)+24>>2])*+u[e+(d<<3)+88>>2]>0){p=0;m=4;break}d=d+1|0;if((d|0)>=(t|0)){p=1;m=4;break}}if((m|0)==4){h=i;return p|0}return 0}function Sc(e,t,r,i,n,a){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;var s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0;a=h;s=+u[r>>2]-+u[t>>2];l=+u[r+4>>2]-+u[t+4>>2];r=t+12|0;c=+u[r>>2];f=t+8|0;d=+u[f>>2];p=s*c+l*d;m=c*l-s*d;t=o[e+148>>2]|0;E=(t|0)>0;if(E){d=p;s=m;v=0;l=-3.4028234663852886E38;while(1){b=e+(v<<3)+84|0;c=(p-+u[e+(v<<3)+20>>2])*+u[b>>2]+(m-+u[e+(v<<3)+24>>2])*+u[e+(v<<3)+88>>2];if(c>l){y=b;g=+u[y>>2];_=+u[y+4>>2];T=g;w=c}else{_=s;T=d;w=l}v=v+1|0;if((v|0)>=(t|0))break;else{d=T;s=_;l=w}}if(w>0){l=w*w;if(E){s=_;d=T;E=0;c=l;while(1){g=p-+u[e+(E<<3)+20>>2];R=m-+u[e+(E<<3)+24>>2];x=g*g+R*R;v=c>x;S=v?R:s;R=v?g:d;g=v?x:c;E=E+1|0;if((E|0)>=(t|0)){M=S;H=R;A=g;break}else{s=S;d=R;c=g}}}else{M=_;H=T;A=l}u[i>>2]=+j(+A);A=+u[r>>2];l=+u[f>>2];c=H*A-M*l;d=M*A+H*l;l=+c;H=+d;t=n;u[t>>2]=l;u[t+4>>2]=H;H=+j(+(c*c+d*d));if(H<1.1920928955078125E-7){h=a;return}l=1/H;u[n>>2]=c*l;u[n+4>>2]=d*l;h=a;return}else{C=_;P=T;F=w}}else{C=m;P=p;F=-3.4028234663852886E38}u[i>>2]=F;F=+u[r>>2];p=+u[f>>2];m=+(P*F-C*p);w=+(C*F+P*p);f=n;u[f>>2]=m;u[f+4>>2]=w;h=a;return}function Mc(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0;n=h;a=+u[i>>2];s=+u[r>>2]-a;l=+u[i+4>>2];c=+u[r+4>>2]-l;f=i+12|0;d=+u[f>>2];p=i+8|0;m=+u[p>>2];E=s*d+c*m;v=d*c-s*m;s=+u[r+8>>2]-a;a=+u[r+12>>2]-l;l=d*s+m*a-E;c=d*a-m*s-v;i=o[e+148>>2]|0;if((i|0)<=0){b=0;h=n;return b|0}y=0;g=-1;s=0;m=+u[r+16>>2];e:while(1){a=+u[e+(y<<3)+84>>2];d=+u[e+(y<<3)+88>>2];_=(+u[e+(y<<3)+20>>2]-E)*a+(+u[e+(y<<3)+24>>2]-v)*d;T=l*a+c*d;do{if(T==0)if(_<0){b=0;w=15;break e}else{R=g;x=s;S=m}else{if(T<0?_<s*T:0){R=y;x=_/T;S=m;break}if(T>0?_<m*T:0){R=g;x=s;S=_/T}else{R=g;x=s;S=m}}}while(0);y=y+1|0;if(S<x){b=0;w=15;break}if((y|0)>=(i|0)){w=13;break}else{g=R;s=x;m=S}}if((w|0)==13){if(!((R|0)>-1)){b=0;h=n;return b|0}u[t+8>>2]=x;x=+u[f>>2];S=+u[e+(R<<3)+84>>2];m=+u[p>>2];s=+u[e+(R<<3)+88>>2];c=+(x*S-m*s);l=+(S*m+x*s);R=t;u[R>>2]=c;u[R+4>>2]=l;b=1;h=n;return b|0}else if((w|0)==15){h=n;return b|0}return 0}function Hc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0;i=h;n=+u[r+12>>2];a=+u[e+20>>2];s=+u[r+8>>2];l=+u[e+24>>2];c=+u[r>>2];f=c+(n*a-s*l);d=+u[r+4>>2];p=a*s+n*l+d;r=o[e+148>>2]|0;if((r|0)>1){l=f;a=p;m=f;E=p;v=1;while(1){b=+u[e+(v<<3)+20>>2];y=+u[e+(v<<3)+24>>2];g=c+(n*b-s*y);_=b*s+n*y+d;y=l<g?l:g;b=a<_?a:_;T=m>g?m:g;g=E>_?E:_;v=v+1|0;if((v|0)>=(r|0)){w=b;R=y;x=g;S=T;break}else{l=y;a=b;m=T;E=g}}}else{w=p;R=f;x=p;S=f}f=+u[e+8>>2];p=+(R-f);R=+(w-f);e=t;u[e>>2]=p;u[e+4>>2]=R;R=+(S+f);S=+(x+f);e=t+8|0;u[e>>2]=R;u[e+4>>2]=S;h=i;return}function Ac(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0;i=h;n=o[e+148>>2]|0;a=(n|0)>0;if(a){s=0;l=0;c=0;do{s=s+ +u[e+(c<<3)+20>>2];l=l+ +u[e+(c<<3)+24>>2];c=c+1|0}while((c|0)<(n|0));f=1/+(n|0);d=s*f;s=l*f;if(a){a=e+20|0;c=e+24|0;f=0;l=0;p=0;m=0;E=0;while(1){v=+u[e+(E<<3)+20>>2]-d;b=+u[e+(E<<3)+24>>2]-s;E=E+1|0;y=(E|0)<(n|0);if(y){g=e+(E<<3)+20|0;_=e+(E<<3)+24|0}else{g=a;_=c}T=+u[g>>2]-d;w=+u[_>>2]-s;R=v*w-b*T;x=R*.5;S=m+x;M=x*.3333333432674408;x=f+(v+T)*M;H=l+(b+w)*M;M=p+R*.0833333358168602*(T*T+(v*v+v*T)+(w*w+(b*b+b*w)));if(!y){A=H;C=x;P=d;F=s;D=M;k=S;break}else{f=x;l=H;p=M;m=S}}}else{A=0;C=0;P=d;F=s;D=0;k=0}}else{s=1/+(n|0);A=0;C=0;P=s*0;F=s*0;D=0;k=0}s=k*r;u[t>>2]=s;d=1/k;k=C*d;C=A*d;d=P+k;P=F+C;F=+d;A=+P;n=t+4|0;u[n>>2]=F;u[n+4>>2]=A;u[t+12>>2]=D*r+s*(d*d+P*P-(k*k+C*C));h=i;return}function Cc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0;r=h;i=yf(t,20)|0;if((i|0)==0)n=0;else{o[i>>2]=680;t=i+4|0;o[t+0>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;n=i}i=e+4|0;t=o[i+4>>2]|0;a=n+4|0;o[a>>2]=o[i>>2];o[a+4>>2]=t;t=e+12|0;e=o[t+4>>2]|0;a=n+12|0;o[a>>2]=o[t>>2];o[a+4>>2]=e;h=r;return n|0}function Pc(e){e=e|0;return 1}function Fc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,o=0,a=0,s=0,l=0;i=+u[t+12>>2];n=+u[e+12>>2];o=+u[t+8>>2];a=+u[e+16>>2];s=+u[r>>2]-(+u[t>>2]+(i*n-o*a));l=+u[r+4>>2]-(+u[t+4>>2]+(n*o+i*a));a=+u[e+8>>2];return s*s+l*l<=a*a|0}function Dc(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;var a=0,s=0,l=0,c=0,f=0,d=0;o=h;a=+u[t+12>>2];s=+u[e+12>>2];l=+u[t+8>>2];c=+u[e+16>>2];f=+u[r>>2]-(+u[t>>2]+(a*s-l*c));d=+u[r+4>>2]-(+u[t+4>>2]+(s*l+a*c));c=+j(+(f*f+d*d));u[i>>2]=c-+u[e+8>>2];a=1/c;c=+(f*a);f=+(d*a);e=n;u[e>>2]=c;u[e+4>>2]=f;h=o;return}function kc(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var o=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0;n=h;o=+u[i+12>>2];a=+u[e+12>>2];s=+u[i+8>>2];l=+u[e+16>>2];c=+u[r>>2];f=c-(+u[i>>2]+(o*a-s*l));d=+u[r+4>>2];p=d-(+u[i+4>>2]+(a*s+o*l));l=+u[e+8>>2];o=+u[r+8>>2]-c;c=+u[r+12>>2]-d;d=f*o+p*c;s=o*o+c*c;a=d*d-(f*f+p*p-l*l)*s;if(a<0|s<1.1920928955078125E-7){m=0;h=n;return m|0}l=d+ +j(+a);a=-l;if(!(l<=-0)){m=0;h=n;return m|0}if(!(s*+u[r+16>>2]>=a)){m=0;h=n;return m|0}l=a/s;u[t+8>>2]=l;s=f+o*l;o=p+c*l;l=+s;c=+o;r=t;u[r>>2]=l;u[r+4>>2]=c;c=+j(+(s*s+o*o));if(c<1.1920928955078125E-7){m=1;h=n;return m|0}l=1/c;u[t>>2]=s*l;u[t+4>>2]=o*l;m=1;h=n;return m|0}function Lc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,o=0,a=0,s=0,l=0,c=0;n=+u[r+12>>2];o=+u[e+12>>2];a=+u[r+8>>2];s=+u[e+16>>2];l=+u[r>>2]+(n*o-a*s);c=+u[r+4>>2]+(o*a+n*s);r=e+8|0;s=+u[r>>2];u[t>>2]=l-s;u[t+4>>2]=c-s;s=+u[r>>2];u[t+8>>2]=l+s;u[t+12>>2]=c+s;return}function Bc(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,a=0,s=0,l=0,c=0,h=0,f=0;i=e+8|0;n=+u[i>>2];a=n*r*3.1415927410125732*n;u[t>>2]=a;s=e+12|0;l=s;c=o[l+4>>2]|0;h=t+4|0;o[h>>2]=o[l>>2];o[h+4>>2]=c;n=+u[i>>2];r=+u[s>>2];f=+u[e+16>>2];u[t+12>>2]=a*(n*n*.5+(r*r+f*f));return}function Oc(e){e=e|0;var t=0;t=h;o[e>>2]=760;Pf(o[e+12>>2]|0);ad(e);h=t;return}function Nc(e){e=e|0;var t=0,r=0;t=h;o[e>>2]=760;r=e+12|0;Pf(o[r>>2]|0);o[r>>2]=0;o[e+16>>2]=0;h=t;return}function Ic(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,a=0,s=0;i=h;a=e+16|0;o[a>>2]=r;s=Cf(r<<3)|0;o[e+12>>2]=s;pd(s|0,t|0,o[a>>2]<<3|0)|0;a=e+20|0;o[a+0>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;n[a+16>>1]=0;h=i;return}function Vc(e,t){e=e|0;t=t|0;var r=0,a=0,s=0,l=0,c=0;r=h;a=yf(t,40)|0;if((a|0)==0)s=0;else{o[a>>2]=760;o[a+4>>2]=3;u[a+8>>2]=.009999999776482582;o[a+12>>2]=0;o[a+16>>2]=0;i[a+36>>0]=0;i[a+37>>0]=0;s=a}a=o[e+12>>2]|0;t=o[e+16>>2]|0;l=s+16|0;o[l>>2]=t;c=Cf(t<<3)|0;o[s+12>>2]=c;pd(c|0,a|0,o[l>>2]<<3|0)|0;l=s+20|0;o[l+0>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;n[l+16>>1]=0;l=e+20|0;a=o[l+4>>2]|0;c=s+20|0;o[c>>2]=o[l>>2];o[c+4>>2]=a;a=e+28|0;c=o[a+4>>2]|0;l=s+28|0;o[l>>2]=o[a>>2];o[l+4>>2]=c;i[s+36>>0]=i[e+36>>0]|0;i[s+37>>0]=i[e+37>>0]|0;h=r;return s|0}function Uc(e){e=e|0;return(o[e+16>>2]|0)+-1|0}function zc(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0,s=0,l=0,c=0,f=0;n=h;o[t+4>>2]=1;u[t+8>>2]=+u[e+8>>2];a=e+12|0;s=(o[a>>2]|0)+(r<<3)|0;l=o[s+4>>2]|0;c=t+12|0;o[c>>2]=o[s>>2];o[c+4>>2]=l;l=(o[a>>2]|0)+(r+1<<3)|0;c=o[l+4>>2]|0;s=t+20|0;o[s>>2]=o[l>>2];o[s+4>>2]=c;c=t+28|0;if((r|0)>0){s=(o[a>>2]|0)+(r+-1<<3)|0;l=o[s+4>>2]|0;f=c;o[f>>2]=o[s>>2];o[f+4>>2]=l;i[t+44>>0]=1}else{l=e+20|0;f=o[l+4>>2]|0;s=c;o[s>>2]=o[l>>2];o[s+4>>2]=f;i[t+44>>0]=i[e+36>>0]|0}f=t+36|0;if(((o[e+16>>2]|0)+-2|0)>(r|0)){s=(o[a>>2]|0)+(r+2<<3)|0;r=o[s+4>>2]|0;a=f;o[a>>2]=o[s>>2];o[a+4>>2]=r;i[t+45>>0]=1;h=n;return}else{r=e+28|0;a=o[r+4>>2]|0;s=f;o[s>>2]=o[r>>2];o[s+4>>2]=a;i[t+45>>0]=i[e+37>>0]|0;h=n;return}}function Gc(e,t,r,a,s,l){e=e|0;t=t|0;r=r|0;a=a|0;s=s|0;l=l|0;var c=0,f=0,d=0,p=0,m=0,E=0,v=0;c=h;h=h+48|0;f=c;o[f>>2]=488;d=f+4|0;p=f+8|0;m=f+28|0;o[m+0>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;n[m+16>>1]=0;o[d>>2]=1;u[p>>2]=+u[e+8>>2];p=o[e+12>>2]|0;d=p+(l<<3)|0;m=o[d+4>>2]|0;E=f+12|0;o[E>>2]=o[d>>2];o[E+4>>2]=m;m=p+(l+1<<3)|0;E=o[m+4>>2]|0;d=f+20|0;o[d>>2]=o[m>>2];o[d+4>>2]=E;E=f+28|0;if((l|0)>0){d=p+(l+-1<<3)|0;m=o[d+4>>2]|0;v=E;o[v>>2]=o[d>>2];o[v+4>>2]=m;i[f+44>>0]=1}else{m=e+20|0;v=o[m+4>>2]|0;d=E;o[d>>2]=o[m>>2];o[d+4>>2]=v;i[f+44>>0]=i[e+36>>0]|0}v=f+36|0;if(((o[e+16>>2]|0)+-2|0)>(l|0)){d=p+(l+2<<3)|0;l=o[d+4>>2]|0;p=v;o[p>>2]=o[d>>2];o[p+4>>2]=l;i[f+45>>0]=1;bc(f,t,r,a,s,0);h=c;return}else{l=e+28|0;p=o[l+4>>2]|0;d=v;o[d>>2]=o[l>>2];o[d+4>>2]=p;i[f+45>>0]=i[e+37>>0]|0;bc(f,t,r,a,s,0);h=c;return}}function Wc(e,t,r){e=e|0;t=t|0;r=r|0;return 0}function jc(e,t,r,i,a){e=e|0;t=t|0;r=r|0;i=i|0;a=a|0;var s=0,l=0,c=0,f=0,d=0;s=h;h=h+48|0;l=s;o[l>>2]=488;o[l+4>>2]=1;u[l+8>>2]=.009999999776482582;c=l+28|0;o[c+0>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;n[c+16>>1]=0;c=a+1|0;f=(c|0)==(o[e+16>>2]|0)?0:c;c=o[e+12>>2]|0;e=c+(a<<3)|0;a=o[e+4>>2]|0;d=l+12|0;o[d>>2]=o[e>>2];o[d+4>>2]=a;a=c+(f<<3)|0;f=o[a+4>>2]|0;c=l+20|0;o[c>>2]=o[a>>2];o[c+4>>2]=f;f=yc(l,t,r,i,0)|0;h=s;return f|0}function Jc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0;n=h;a=i+1|0;s=(a|0)==(o[e+16>>2]|0)?0:a;a=o[e+12>>2]|0;l=+u[r+12>>2];c=+u[a+(i<<3)>>2];f=+u[r+8>>2];d=+u[a+(i<<3)+4>>2];p=+u[r>>2];m=p+(l*c-f*d);E=+u[r+4>>2];v=c*f+l*d+E;d=+u[a+(s<<3)>>2];c=+u[a+(s<<3)+4>>2];b=p+(l*d-f*c);p=E+(f*d+l*c);c=+(m<b?m:b);l=+(v<p?v:p);s=t;u[s>>2]=c;u[s+4>>2]=l;l=+(m>b?m:b);b=+(v>p?v:p);s=t+8|0;u[s>>2]=l;u[s+4>>2]=b;h=n;return}function Xc(e,t,r){e=e|0;t=t|0;r=+r;e=h;o[t+0>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;h=e;return}function qc(e){e=e|0;var t=0;t=h;ih(e);o[e+28>>2]=0;o[e+48>>2]=16;o[e+52>>2]=0;o[e+44>>2]=Cf(128)|0;o[e+36>>2]=16;o[e+40>>2]=0;o[e+32>>2]=Cf(64)|0;h=t;return}function Yc(e){e=e|0;var t=0;t=h;Pf(o[e+32>>2]|0);Pf(o[e+44>>2]|0);nh(e);h=t;return}function Kc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0;i=h;n=ah(e,t,r)|0;r=e+28|0;o[r>>2]=(o[r>>2]|0)+1;r=e+40|0;t=o[r>>2]|0;a=e+36|0;s=e+32|0;if((t|0)==(o[a>>2]|0)){e=o[s>>2]|0;o[a>>2]=t<<1;a=Cf(t<<3)|0;o[s>>2]=a;pd(a|0,e|0,o[r>>2]<<2|0)|0;Pf(e);l=o[r>>2]|0}else l=t;o[(o[s>>2]|0)+(l<<2)>>2]=n;o[r>>2]=(o[r>>2]|0)+1;h=i;return n|0}function Zc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0;r=h;i=e+40|0;n=o[i>>2]|0;if((n|0)>0){a=o[e+32>>2]|0;s=n;n=0;while(1){l=a+(n<<2)|0;if((o[l>>2]|0)==(t|0)){o[l>>2]=-1;u=o[i>>2]|0}else u=s;n=n+1|0;if((n|0)>=(u|0))break;else s=u}}u=e+28|0;o[u>>2]=(o[u>>2]|0)+-1;lh(e,t);h=r;return}function Qc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0;n=h;if(!(ch(e,t,r,i)|0)){h=n;return}i=e+40|0;r=o[i>>2]|0;a=e+36|0;s=e+32|0;if((r|0)==(o[a>>2]|0)){e=o[s>>2]|0;o[a>>2]=r<<1;a=Cf(r<<3)|0;o[s>>2]=a;pd(a|0,e|0,o[i>>2]<<2|0)|0;Pf(e);l=o[i>>2]|0}else l=r;o[(o[s>>2]|0)+(l<<2)>>2]=t;o[i>>2]=(o[i>>2]|0)+1;h=n;return}function $c(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=h;i=e+40|0;n=o[i>>2]|0;a=e+36|0;s=e+32|0;if((n|0)==(o[a>>2]|0)){e=o[s>>2]|0;o[a>>2]=n<<1;a=Cf(n<<3)|0;o[s>>2]=a;pd(a|0,e|0,o[i>>2]<<2|0)|0;Pf(e);l=o[i>>2]|0}else l=n;o[(o[s>>2]|0)+(l<<2)>>2]=t;o[i>>2]=(o[i>>2]|0)+1;h=r;return}function eh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0;r=h;i=e+56|0;n=o[i>>2]|0;if((n|0)==(t|0)){h=r;return 1}a=e+52|0;s=o[a>>2]|0;l=e+48|0;u=e+44|0;if((s|0)==(o[l>>2]|0)){e=o[u>>2]|0;o[l>>2]=s<<1;l=Cf(s<<4)|0;o[u>>2]=l;pd(l|0,e|0,o[a>>2]<<3|0)|0;Pf(e);c=o[i>>2]|0;f=o[a>>2]|0}else{c=n;f=s}s=o[u>>2]|0;o[s+(f<<3)>>2]=(c|0)>(t|0)?t:c;c=o[i>>2]|0;o[s+(o[a>>2]<<3)+4>>2]=(c|0)<(t|0)?t:c;o[a>>2]=(o[a>>2]|0)+1;h=r;return 1}function th(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0;a=h;s=e+60|0;o[s>>2]=0;l=t+12|0;c=+u[r+12>>2];f=+u[l>>2];d=+u[r+8>>2];p=+u[t+16>>2];m=i+12|0;E=+u[n+12>>2];v=+u[m>>2];b=+u[n+8>>2];y=+u[i+16>>2];g=+u[n>>2]+(E*v-b*y)-(+u[r>>2]+(c*f-d*p));_=v*b+E*y+ +u[n+4>>2]-(f*d+c*p+ +u[r+4>>2]);p=+u[t+8>>2]+ +u[i+8>>2];if(g*g+_*_>p*p){h=a;return}o[e+56>>2]=0;i=l;l=o[i+4>>2]|0;t=e+48|0;o[t>>2]=o[i>>2];o[t+4>>2]=l;u[e+40>>2]=0;u[e+44>>2]=0;o[s>>2]=1;s=m;m=o[s+4>>2]|0;l=e;o[l>>2]=o[s>>2];o[l+4>>2]=m;o[e+16>>2]=0;h=a;return}function rh(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0;a=h;s=e+60|0;o[s>>2]=0;l=i+12|0;c=+u[n+12>>2];f=+u[l>>2];p=+u[n+8>>2];m=+u[i+16>>2];E=+u[n>>2]+(c*f-p*m)-+u[r>>2];v=f*p+c*m+ +u[n+4>>2]-+u[r+4>>2];m=+u[r+12>>2];c=+u[r+8>>2];p=E*m+v*c;f=m*v-E*c;c=+u[t+8>>2]+ +u[i+8>>2];i=o[t+148>>2]|0;do{if((i|0)>0){r=0;n=0;E=-3.4028234663852886E38;while(1){v=(p-+u[t+(r<<3)+20>>2])*+u[t+(r<<3)+84>>2]+(f-+u[t+(r<<3)+24>>2])*+u[t+(r<<3)+88>>2];if(v>c){b=19;break}y=v>E;E=y?v:E;n=y?r:n;r=r+1|0;if((r|0)>=(i|0)){b=4;break}}if((b|0)==4){g=n;_=E<1.1920928955078125E-7;break}else if((b|0)==19){h=a;return}}else{g=0;_=1}}while(0);b=g+1|0;r=t+(g<<3)+20|0;y=o[r>>2]|0;T=o[r+4>>2]|0;v=(o[d>>2]=y,+u[d>>2]);m=(o[d>>2]=T,+u[d>>2]);r=t+(((b|0)<(i|0)?b:0)<<3)+20|0;b=o[r>>2]|0;i=o[r+4>>2]|0;w=(o[d>>2]=b,+u[d>>2]);R=(o[d>>2]=i,+u[d>>2]);if(_){o[s>>2]=1;o[e+56>>2]=1;_=t+(g<<3)+84|0;r=o[_+4>>2]|0;x=e+40|0;o[x>>2]=o[_>>2];o[x+4>>2]=r;S=+((v+w)*.5);M=+((m+R)*.5);r=e+48|0;u[r>>2]=S;u[r+4>>2]=M;r=l;x=o[r+4>>2]|0;_=e;o[_>>2]=o[r>>2];o[_+4>>2]=x;o[e+16>>2]=0;h=a;return}M=p-v;S=f-m;H=p-w;A=f-R;if(M*(w-v)+S*(R-m)<=0){if(M*M+S*S>c*c){h=a;return}o[s>>2]=1;o[e+56>>2]=1;x=e+40|0;C=+M;P=+S;_=x;u[_>>2]=C;u[_+4>>2]=P;P=+j(+(M*M+S*S));if(!(P<1.1920928955078125E-7)){C=1/P;u[x>>2]=M*C;u[e+44>>2]=S*C}x=e+48|0;o[x>>2]=y;o[x+4>>2]=T;T=l;x=o[T+4>>2]|0;y=e;o[y>>2]=o[T>>2];o[y+4>>2]=x;o[e+16>>2]=0;h=a;return}if(!(H*(v-w)+A*(m-R)<=0)){C=(v+w)*.5;w=(m+R)*.5;x=t+(g<<3)+84|0;if((p-C)*+u[x>>2]+(f-w)*+u[t+(g<<3)+88>>2]>c){h=a;return}o[s>>2]=1;o[e+56>>2]=1;g=x;x=o[g+4>>2]|0;t=e+40|0;o[t>>2]=o[g>>2];o[t+4>>2]=x;f=+C;C=+w;x=e+48|0;u[x>>2]=f;u[x+4>>2]=C;x=l;t=o[x+4>>2]|0;g=e;o[g>>2]=o[x>>2];o[g+4>>2]=t;o[e+16>>2]=0;h=a;return}if(H*H+A*A>c*c){h=a;return}o[s>>2]=1;o[e+56>>2]=1;s=e+40|0;c=+H;C=+A;t=s;u[t>>2]=c;u[t+4>>2]=C;C=+j(+(H*H+A*A));if(!(C<1.1920928955078125E-7)){c=1/C;u[s>>2]=H*c;u[e+44>>2]=A*c}s=e+48|0;o[s>>2]=b;o[s+4>>2]=i;i=l;l=o[i+4>>2]|0;s=e;o[s>>2]=o[i>>2];o[s+4>>2]=l;o[e+16>>2]=0;h=a;return}function ih(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0;t=h;o[e>>2]=-1;r=e+12|0;o[r>>2]=16;o[e+8>>2]=0;i=Cf(576)|0;n=e+4|0;o[n>>2]=i;hd(i|0,0,(o[r>>2]|0)*36|0)|0;i=(o[r>>2]|0)+-1|0;a=o[n>>2]|0;if((i|0)>0){n=0;do{s=n;n=n+1|0;o[a+(s*36|0)+20>>2]=n;o[a+(s*36|0)+32>>2]=-1;s=(o[r>>2]|0)+-1|0}while((n|0)<(s|0));l=s}else l=i;o[a+(l*36|0)+20>>2]=-1;o[a+(((o[r>>2]|0)+-1|0)*36|0)+32>>2]=-1;o[e+16>>2]=0;o[e+20>>2]=0;o[e+24>>2]=0;h=t;return}function nh(e){e=e|0;var t=0;t=h;Pf(o[e+4>>2]|0);h=t;return}function oh(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0;t=h;r=e+16|0;i=o[r>>2]|0;n=e+4|0;a=o[n>>2]|0;if((i|0)==-1){s=e+12|0;l=o[s>>2]|0;o[s>>2]=l<<1;u=Cf(l*72|0)|0;o[n>>2]=u;l=e+8|0;pd(u|0,a|0,(o[l>>2]|0)*36|0)|0;Pf(a);u=o[l>>2]|0;c=(o[s>>2]|0)+-1|0;f=o[n>>2]|0;if((u|0)<(c|0)){n=u;do{u=n;n=n+1|0;o[f+(u*36|0)+20>>2]=n;o[f+(u*36|0)+32>>2]=-1;u=(o[s>>2]|0)+-1|0}while((n|0)<(u|0));d=u}else d=c;o[f+(d*36|0)+20>>2]=-1;o[f+(((o[s>>2]|0)+-1|0)*36|0)+32>>2]=-1;s=o[l>>2]|0;o[r>>2]=s;p=l;m=f;E=s}else{p=e+8|0;m=a;E=i}i=m+(E*36|0)+20|0;o[r>>2]=o[i>>2];o[i>>2]=-1;o[m+(E*36|0)+24>>2]=-1;o[m+(E*36|0)+28>>2]=-1;o[m+(E*36|0)+32>>2]=0;o[m+(E*36|0)+16>>2]=0;o[p>>2]=(o[p>>2]|0)+1;h=t;return E|0}function ah(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0;i=h;n=oh(e)|0;a=e+4|0;s=+(+u[t>>2]+-.10000000149011612);l=+(+u[t+4>>2]+-.10000000149011612);c=(o[a>>2]|0)+(n*36|0)|0;u[c>>2]=s;u[c+4>>2]=l;l=+(+u[t+8>>2]+.10000000149011612);s=+(+u[t+12>>2]+.10000000149011612);t=(o[a>>2]|0)+(n*36|0)+8|0;u[t>>2]=l;u[t+4>>2]=s;o[(o[a>>2]|0)+(n*36|0)+16>>2]=r;o[(o[a>>2]|0)+(n*36|0)+32>>2]=0;sh(e,n);h=i;return n|0}function sh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0;r=h;i=e+24|0;o[i>>2]=(o[i>>2]|0)+1;i=o[e>>2]|0;if((i|0)==-1){o[e>>2]=t;o[(o[e+4>>2]|0)+(t*36|0)+20>>2]=-1;h=r;return}n=e+4|0;a=o[n>>2]|0;s=+u[a+(t*36|0)>>2];l=+u[a+(t*36|0)+4>>2];c=+u[a+(t*36|0)+8>>2];f=+u[a+(t*36|0)+12>>2];d=o[a+(i*36|0)+24>>2]|0;e:do{if((d|0)==-1)p=i;else{m=d;E=i;while(1){v=o[a+(E*36|0)+28>>2]|0;b=+u[a+(E*36|0)+8>>2];y=+u[a+(E*36|0)>>2];g=+u[a+(E*36|0)+12>>2];_=+u[a+(E*36|0)+4>>2];T=((b>c?b:c)-(y<s?y:s)+((g>f?g:f)-(_<l?_:l)))*2;w=T*2;R=(T-(b-y+(g-_))*2)*2;_=+u[a+(m*36|0)>>2];g=s<_?s:_;y=+u[a+(m*36|0)+4>>2];b=l<y?l:y;T=+u[a+(m*36|0)+8>>2];x=c>T?c:T;S=+u[a+(m*36|0)+12>>2];M=f>S?f:S;if((o[a+(m*36|0)+24>>2]|0)==-1)H=(x-g+(M-b))*2;else H=(x-g+(M-b))*2-(T-_+(S-y))*2;y=R+H;S=+u[a+(v*36|0)>>2];_=s<S?s:S;T=+u[a+(v*36|0)+4>>2];b=l<T?l:T;M=+u[a+(v*36|0)+8>>2];g=c>M?c:M;x=+u[a+(v*36|0)+12>>2];A=f>x?f:x;if((o[a+(v*36|0)+24>>2]|0)==-1)C=(g-_+(A-b))*2;else C=(g-_+(A-b))*2-(M-S+(x-T))*2;T=R+C;if(w<y&w<T){p=E;break e}P=y<T?m:v;m=o[a+(P*36|0)+24>>2]|0;if((m|0)==-1){p=P;break}else E=P}}}while(0);i=o[a+(p*36|0)+20>>2]|0;a=oh(e)|0;d=o[n>>2]|0;o[d+(a*36|0)+20>>2]=i;o[d+(a*36|0)+16>>2]=0;d=o[n>>2]|0;C=+u[d+(p*36|0)>>2];H=+u[d+(p*36|0)+4>>2];T=+(s<C?s:C);C=+(l<H?l:H);E=d+(a*36|0)|0;u[E>>2]=T;u[E+4>>2]=C;C=+u[d+(p*36|0)+8>>2];T=+u[d+(p*36|0)+12>>2];H=+(c>C?c:C);C=+(f>T?f:T);E=d+(a*36|0)+8|0;u[E>>2]=H;u[E+4>>2]=C;E=o[n>>2]|0;o[E+(a*36|0)+32>>2]=(o[E+(p*36|0)+32>>2]|0)+1;if((i|0)==-1){o[E+(a*36|0)+24>>2]=p;o[E+(a*36|0)+28>>2]=t;o[E+(p*36|0)+20>>2]=a;d=E+(t*36|0)+20|0;o[d>>2]=a;o[e>>2]=a;F=o[d>>2]|0}else{d=E+(i*36|0)+24|0;if((o[d>>2]|0)==(p|0))o[d>>2]=a;else o[E+(i*36|0)+28>>2]=a;o[E+(a*36|0)+24>>2]=p;o[E+(a*36|0)+28>>2]=t;o[E+(p*36|0)+20>>2]=a;o[E+(t*36|0)+20>>2]=a;F=a}if((F|0)==-1){h=r;return}else D=F;do{F=hh(e,D)|0;a=o[n>>2]|0;t=o[a+(F*36|0)+24>>2]|0;E=o[a+(F*36|0)+28>>2]|0;p=o[a+(t*36|0)+32>>2]|0;i=o[a+(E*36|0)+32>>2]|0;o[a+(F*36|0)+32>>2]=((p|0)>(i|0)?p:i)+1;C=+u[a+(t*36|0)>>2];H=+u[a+(E*36|0)>>2];T=+u[a+(t*36|0)+4>>2];f=+u[a+(E*36|0)+4>>2];c=+(C<H?C:H);H=+(T<f?T:f);i=a+(F*36|0)|0;u[i>>2]=c;u[i+4>>2]=H;H=+u[a+(t*36|0)+8>>2];c=+u[a+(E*36|0)+8>>2];f=+u[a+(t*36|0)+12>>2];T=+u[a+(E*36|0)+12>>2];C=+(H>c?H:c);c=+(f>T?f:T);E=a+(F*36|0)+8|0;u[E>>2]=C;u[E+4>>2]=c;D=o[(o[n>>2]|0)+(F*36|0)+20>>2]|0}while(!((D|0)==-1));h=r;return}function lh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;r=h;uh(e,t);i=e+16|0;n=o[e+4>>2]|0;o[n+(t*36|0)+20>>2]=o[i>>2];o[n+(t*36|0)+32>>2]=-1;o[i>>2]=t;t=e+8|0;o[t>>2]=(o[t>>2]|0)+-1;h=r;return}function uh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0;r=h;if((o[e>>2]|0)==(t|0)){o[e>>2]=-1;h=r;return}i=e+4|0;n=o[i>>2]|0;a=o[n+(t*36|0)+20>>2]|0;s=n+(a*36|0)+20|0;l=o[s>>2]|0;c=o[n+(a*36|0)+24>>2]|0;if((c|0)==(t|0))f=o[n+(a*36|0)+28>>2]|0;else f=c;if((l|0)==-1){o[e>>2]=f;o[n+(f*36|0)+20>>2]=-1;c=e+16|0;o[s>>2]=o[c>>2];o[n+(a*36|0)+32>>2]=-1;o[c>>2]=a;c=e+8|0;o[c>>2]=(o[c>>2]|0)+-1;h=r;return}c=n+(l*36|0)+24|0;if((o[c>>2]|0)==(a|0))o[c>>2]=f;else o[n+(l*36|0)+28>>2]=f;o[n+(f*36|0)+20>>2]=l;f=e+16|0;o[s>>2]=o[f>>2];o[n+(a*36|0)+32>>2]=-1;o[f>>2]=a;a=e+8|0;o[a>>2]=(o[a>>2]|0)+-1;a=l;do{l=hh(e,a)|0;f=o[i>>2]|0;n=o[f+(l*36|0)+24>>2]|0;s=o[f+(l*36|0)+28>>2]|0;d=+u[f+(n*36|0)>>2];p=+u[f+(s*36|0)>>2];m=+u[f+(n*36|0)+4>>2];E=+u[f+(s*36|0)+4>>2];v=+(d<p?d:p);p=+(m<E?m:E);c=f+(l*36|0)|0;u[c>>2]=v;u[c+4>>2]=p;p=+u[f+(n*36|0)+8>>2];v=+u[f+(s*36|0)+8>>2];E=+u[f+(n*36|0)+12>>2];m=+u[f+(s*36|0)+12>>2];d=+(p>v?p:v);v=+(E>m?E:m);c=f+(l*36|0)+8|0;u[c>>2]=d;u[c+4>>2]=v;c=o[i>>2]|0;f=o[c+(n*36|0)+32>>2]|0;n=o[c+(s*36|0)+32>>2]|0;o[c+(l*36|0)+32>>2]=((f|0)>(n|0)?f:n)+1;a=o[c+(l*36|0)+20>>2]|0}while(!((a|0)==-1));h=r;return}function ch(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0;n=h;a=e+4|0;s=o[a>>2]|0;if(((+u[s+(t*36|0)>>2]<=+u[r>>2]?+u[s+(t*36|0)+4>>2]<=+u[r+4>>2]:0)?+u[r+8>>2]<=+u[s+(t*36|0)+8>>2]:0)?+u[r+12>>2]<=+u[s+(t*36|0)+12>>2]:0){l=0;h=n;return l|0}uh(e,t);s=r;c=+u[s>>2];f=+u[s+4>>2];s=r+8|0;d=+u[s>>2];p=c+-.10000000149011612;c=f+-.10000000149011612;f=d+.10000000149011612;d=+u[s+4>>2]+.10000000149011612;m=+u[i>>2]*2;E=+u[i+4>>2]*2;if(m<0){v=p+m;b=f}else{v=p;b=m+f}if(E<0){y=c+E;g=d}else{y=c;g=E+d}i=o[a>>2]|0;d=+v;v=+y;a=i+(t*36|0)|0;u[a>>2]=d;u[a+4>>2]=v;v=+b;b=+g;a=i+(t*36|0)+8|0;u[a>>2]=v;u[a+4>>2]=b;sh(e,t);l=1;h=n;return l|0}function hh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0;r=h;i=o[e+4>>2]|0;n=i+(t*36|0)|0;a=i+(t*36|0)+24|0;s=o[a>>2]|0;if((s|0)==-1){l=t;h=r;return l|0}c=i+(t*36|0)+32|0;if((o[c>>2]|0)<2){l=t;h=r;return l|0}f=i+(t*36|0)+28|0;d=o[f>>2]|0;p=i+(s*36|0)|0;m=i+(d*36|0)|0;E=i+(d*36|0)+32|0;v=i+(s*36|0)+32|0;b=(o[E>>2]|0)-(o[v>>2]|0)|0;if((b|0)>1){y=i+(d*36|0)+24|0;g=o[y>>2]|0;_=i+(d*36|0)+28|0;T=o[_>>2]|0;w=i+(g*36|0)|0;R=i+(T*36|0)|0;o[y>>2]=t;y=i+(t*36|0)+20|0;x=i+(d*36|0)+20|0;o[x>>2]=o[y>>2];o[y>>2]=d;y=o[x>>2]|0;do{if(!((y|0)==-1)){x=i+(y*36|0)+24|0;if((o[x>>2]|0)==(t|0)){o[x>>2]=d;break}else{o[i+(y*36|0)+28>>2]=d;break}}else o[e>>2]=d}while(0);y=i+(g*36|0)+32|0;x=i+(T*36|0)+32|0;if((o[y>>2]|0)>(o[x>>2]|0)){o[_>>2]=g;o[f>>2]=T;o[i+(T*36|0)+20>>2]=t;S=+u[p>>2];M=+u[R>>2];H=S<M?S:M;M=+u[i+(s*36|0)+4>>2];S=+u[i+(T*36|0)+4>>2];A=+H;C=+(M<S?M:S);P=n;u[P>>2]=A;u[P+4>>2]=C;C=+u[i+(s*36|0)+8>>2];A=+u[i+(T*36|0)+8>>2];S=+u[i+(s*36|0)+12>>2];M=+u[i+(T*36|0)+12>>2];F=+(C>A?C:A);A=+(S>M?S:M);P=i+(t*36|0)+8|0;u[P>>2]=F;u[P+4>>2]=A;A=+u[w>>2];F=+u[i+(t*36|0)+4>>2];M=+u[i+(g*36|0)+4>>2];S=+(H<A?H:A);A=+(F<M?F:M);P=m;u[P>>2]=S;u[P+4>>2]=A;A=+u[i+(t*36|0)+8>>2];S=+u[i+(g*36|0)+8>>2];M=+u[i+(t*36|0)+12>>2];F=+u[i+(g*36|0)+12>>2];H=+(A>S?A:S);S=+(M>F?M:F);P=i+(d*36|0)+8|0;u[P>>2]=H;u[P+4>>2]=S;P=o[v>>2]|0;D=o[x>>2]|0;k=((P|0)>(D|0)?P:D)+1|0;o[c>>2]=k;D=o[y>>2]|0;L=(k|0)>(D|0)?k:D}else{o[_>>2]=T;o[f>>2]=g;o[i+(g*36|0)+20>>2]=t;S=+u[p>>2];H=+u[w>>2];F=S<H?S:H;H=+u[i+(s*36|0)+4>>2];S=+u[i+(g*36|0)+4>>2];M=+F;A=+(H<S?H:S);w=n;u[w>>2]=M;u[w+4>>2]=A;A=+u[i+(s*36|0)+8>>2];M=+u[i+(g*36|0)+8>>2];S=+u[i+(s*36|0)+12>>2];H=+u[i+(g*36|0)+12>>2];C=+(A>M?A:M);M=+(S>H?S:H);g=i+(t*36|0)+8|0;u[g>>2]=C;u[g+4>>2]=M;M=+u[R>>2];C=+u[i+(t*36|0)+4>>2];H=+u[i+(T*36|0)+4>>2];S=+(F<M?F:M);M=+(C<H?C:H);R=m;u[R>>2]=S;u[R+4>>2]=M;M=+u[i+(t*36|0)+8>>2];S=+u[i+(T*36|0)+8>>2];H=+u[i+(t*36|0)+12>>2];C=+u[i+(T*36|0)+12>>2];F=+(M>S?M:S);S=+(H>C?H:C);T=i+(d*36|0)+8|0;u[T>>2]=F;u[T+4>>2]=S;T=o[v>>2]|0;R=o[y>>2]|0;y=((T|0)>(R|0)?T:R)+1|0;o[c>>2]=y;R=o[x>>2]|0;L=(y|0)>(R|0)?y:R}o[E>>2]=L+1;l=d;h=r;return l|0}if(!((b|0)<-1)){l=t;h=r;return l|0}b=i+(s*36|0)+24|0;L=o[b>>2]|0;R=i+(s*36|0)+28|0;y=o[R>>2]|0;x=i+(L*36|0)|0;T=i+(y*36|0)|0;o[b>>2]=t;b=i+(t*36|0)+20|0;g=i+(s*36|0)+20|0;o[g>>2]=o[b>>2];o[b>>2]=s;b=o[g>>2]|0;do{if(!((b|0)==-1)){g=i+(b*36|0)+24|0;if((o[g>>2]|0)==(t|0)){o[g>>2]=s;break}else{o[i+(b*36|0)+28>>2]=s;break}}else o[e>>2]=s}while(0);e=i+(L*36|0)+32|0;b=i+(y*36|0)+32|0;if((o[e>>2]|0)>(o[b>>2]|0)){o[R>>2]=L;o[a>>2]=y;o[i+(y*36|0)+20>>2]=t;S=+u[m>>2];F=+u[T>>2];C=S<F?S:F;F=+u[i+(d*36|0)+4>>2];S=+u[i+(y*36|0)+4>>2];H=+C;M=+(F<S?F:S);g=n;u[g>>2]=H;u[g+4>>2]=M;M=+u[i+(d*36|0)+8>>2];H=+u[i+(y*36|0)+8>>2];S=+u[i+(d*36|0)+12>>2];F=+u[i+(y*36|0)+12>>2];A=+(M>H?M:H);H=+(S>F?S:F);g=i+(t*36|0)+8|0;u[g>>2]=A;u[g+4>>2]=H;H=+u[x>>2];A=+u[i+(t*36|0)+4>>2];F=+u[i+(L*36|0)+4>>2];S=+(C<H?C:H);H=+(A<F?A:F);g=p;u[g>>2]=S;u[g+4>>2]=H;H=+u[i+(t*36|0)+8>>2];S=+u[i+(L*36|0)+8>>2];F=+u[i+(t*36|0)+12>>2];A=+u[i+(L*36|0)+12>>2];C=+(H>S?H:S);S=+(F>A?F:A);g=i+(s*36|0)+8|0;u[g>>2]=C;u[g+4>>2]=S;g=o[E>>2]|0;w=o[b>>2]|0;f=((g|0)>(w|0)?g:w)+1|0;o[c>>2]=f;w=o[e>>2]|0;B=(f|0)>(w|0)?f:w}else{o[R>>2]=y;o[a>>2]=L;o[i+(L*36|0)+20>>2]=t;S=+u[m>>2];C=+u[x>>2];A=S<C?S:C;C=+u[i+(d*36|0)+4>>2];S=+u[i+(L*36|0)+4>>2];F=+A;H=+(C<S?C:S);x=n;u[x>>2]=F;u[x+4>>2]=H;H=+u[i+(d*36|0)+8>>2];F=+u[i+(L*36|0)+8>>2];S=+u[i+(d*36|0)+12>>2];C=+u[i+(L*36|0)+12>>2];M=+(H>F?H:F);F=+(S>C?S:C);L=i+(t*36|0)+8|0;u[L>>2]=M;u[L+4>>2]=F;F=+u[T>>2];M=+u[i+(t*36|0)+4>>2];C=+u[i+(y*36|0)+4>>2];S=+(A<F?A:F);F=+(M<C?M:C);T=p;u[T>>2]=S;u[T+4>>2]=F;F=+u[i+(t*36|0)+8>>2];S=+u[i+(y*36|0)+8>>2];C=+u[i+(t*36|0)+12>>2];M=+u[i+(y*36|0)+12>>2];A=+(F>S?F:S);S=+(C>M?C:M);y=i+(s*36|0)+8|0;u[y>>2]=A;u[y+4>>2]=S;y=o[E>>2]|0;E=o[e>>2]|0;e=((y|0)>(E|0)?y:E)+1|0;o[c>>2]=e;c=o[b>>2]|0;B=(e|0)>(c|0)?e:c}o[v>>2]=B+1;l=s;h=r;return l|0}function fh(e,t,r,n,a){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;var s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0;s=h;l=e+60|0;o[l>>2]=0;c=n+12|0;f=+u[a+12>>2];p=+u[c>>2];m=+u[a+8>>2];E=+u[n+16>>2];v=+u[a>>2]+(f*p-m*E)-+u[r>>2];b=p*m+f*E+ +u[a+4>>2]-+u[r+4>>2];E=+u[r+12>>2];f=+u[r+8>>2];m=v*E+b*f;p=E*b-v*f;r=t+12|0;a=o[r>>2]|0;y=o[r+4>>2]|0;f=(o[d>>2]=a,+u[d>>2]);v=(o[d>>2]=y,+u[d>>2]);r=t+20|0;g=o[r>>2]|0;_=o[r+4>>2]|0;b=(o[d>>2]=g,+u[d>>2]);E=(o[d>>2]=_,+u[d>>2]);T=b-f;w=E-v;R=T*(b-m)+w*(E-p);x=m-f;S=p-v;M=x*T+S*w;H=+u[t+8>>2]+ +u[n+8>>2];if(M<=0){if(x*x+S*S>H*H){h=s;return}if((i[t+44>>0]|0)!=0?(n=t+28|0,A=+u[n>>2],(f-m)*(f-A)+(v-p)*(v-+u[n+4>>2])>0):0){h=s;return}o[l>>2]=1;o[e+56>>2]=0;u[e+40>>2]=0;u[e+44>>2]=0;n=e+48|0;o[n>>2]=a;o[n+4>>2]=y;n=e+16|0;o[n>>2]=0;i[n>>0]=0;i[n+1>>0]=0;i[n+2>>0]=0;i[n+3>>0]=0;n=c;r=o[n+4>>2]|0;C=e;o[C>>2]=o[n>>2];o[C+4>>2]=r;h=s;return}if(R<=0){A=m-b;P=p-E;if(A*A+P*P>H*H){h=s;return}if((i[t+45>>0]|0)!=0?(r=t+36|0,F=+u[r>>2],A*(F-b)+P*(+u[r+4>>2]-E)>0):0){h=s;return}o[l>>2]=1;o[e+56>>2]=0;u[e+40>>2]=0;u[e+44>>2]=0;r=e+48|0;o[r>>2]=g;o[r+4>>2]=_;_=e+16|0;o[_>>2]=0;i[_>>0]=1;i[_+1>>0]=0;i[_+2>>0]=0;i[_+3>>0]=0;_=c;r=o[_+4>>2]|0;g=e;o[g>>2]=o[_>>2];o[g+4>>2]=r;h=s;return}P=1/(T*T+w*w);F=m-(f*R+b*M)*P;b=p-(v*R+E*M)*P;if(F*F+b*b>H*H){h=s;return}H=-w;if(T*S+x*H<0){D=w;k=-T}else{D=H;k=T}T=+j(+(k*k+D*D));if(T<1.1920928955078125E-7){L=D;B=k}else{H=1/T;L=D*H;B=k*H}o[l>>2]=1;o[e+56>>2]=1;H=+L;L=+B;l=e+40|0;u[l>>2]=H;u[l+4>>2]=L;l=e+48|0;o[l>>2]=a;o[l+4>>2]=y;y=e+16|0;o[y>>2]=0;i[y>>0]=0;i[y+1>>0]=0;i[y+2>>0]=1;i[y+3>>0]=0;y=c;c=o[y+4>>2]|0;l=e;o[l>>2]=o[y>>2];o[l+4>>2]=c;h=s;return}function dh(e,t,r,n,a,s){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;s=s|0;var l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0,Ce=0;l=h;h=h+144|0;c=l+128|0;f=l+24|0;p=l+72|0;m=l+48|0;E=l;v=e+132|0;b=+u[n+12>>2];y=+u[s+8>>2];g=+u[n+8>>2];_=+u[s+12>>2];T=b*y-g*_;w=y*g+b*_;_=+T;y=+w;R=+u[s>>2]-+u[n>>2];x=+u[s+4>>2]-+u[n+4>>2];S=b*R+g*x;M=b*x-g*R;R=+S;g=+M;n=v;u[n>>2]=R;u[n+4>>2]=g;n=e+140|0;u[n>>2]=_;u[n+4>>2]=y;n=e+144|0;y=+u[a+12>>2];s=e+140|0;_=+u[a+16>>2];g=S+(w*y-T*_);H=e+136|0;S=y*T+w*_+M;M=+g;_=+S;A=e+148|0;u[A>>2]=M;u[A+4>>2]=_;A=r+28|0;C=o[A>>2]|0;P=o[A+4>>2]|0;A=e+156|0;o[A>>2]=C;o[A+4>>2]=P;A=e+164|0;F=r+12|0;D=o[F>>2]|0;k=o[F+4>>2]|0;F=A;o[F>>2]=D;o[F+4>>2]=k;F=e+172|0;L=r+20|0;B=o[L>>2]|0;O=o[L+4>>2]|0;L=F;o[L>>2]=B;o[L+4>>2]=O;L=r+36|0;N=o[L>>2]|0;I=o[L+4>>2]|0;L=e+180|0;o[L>>2]=N;o[L+4>>2]=I;L=(i[r+44>>0]|0)!=0;V=(i[r+45>>0]|0)!=0;_=(o[d>>2]=B,+u[d>>2]);M=(o[d>>2]=D,+u[d>>2]);w=_-M;T=(o[d>>2]=O,+u[d>>2]);O=e+168|0;y=(o[d>>2]=k,+u[d>>2]);R=T-y;x=+j(+(w*w+R*R));b=(o[d>>2]=C,+u[d>>2]);U=(o[d>>2]=P,+u[d>>2]);z=(o[d>>2]=N,+u[d>>2]);G=(o[d>>2]=I,+u[d>>2]);if(x<1.1920928955078125E-7){W=w;J=R}else{X=1/x;W=w*X;J=R*X}I=e+196|0;X=-W;u[I>>2]=J;N=e+200|0;u[N>>2]=X;R=(g-M)*J+(S-y)*X;if(L){X=M-b;M=y-U;y=+j(+(X*X+M*M));if(y<1.1920928955078125E-7){q=X;Y=M}else{w=1/y;q=X*w;Y=M*w}w=-q;u[e+188>>2]=Y;u[e+192>>2]=w;K=J*q-W*Y>=0;Z=(g-b)*Y+(S-U)*w}else{K=0;Z=0}e:do{if(!V){if(!L){P=R>=0;i[e+248>>0]=P&1;C=e+212|0;if(P){Q=C;$=64;break}else{ee=C;$=65;break}}C=Z>=0;if(K){if(!C){P=R>=0;i[e+248>>0]=P&1;k=e+212|0;if(P)te=k;else{w=+-J;U=+W;P=k;u[P>>2]=w;u[P+4>>2]=U;P=I;k=o[P>>2]|0;D=o[P+4>>2]|0;P=e+228|0;o[P>>2]=k;o[P+4>>2]=D;D=e+236|0;u[D>>2]=-(o[d>>2]=k,+u[d>>2]);u[D+4>>2]=U;break}}else{i[e+248>>0]=1;te=e+212|0}D=I;k=o[D+4>>2]|0;P=te;o[P>>2]=o[D>>2];o[P+4>>2]=k;k=e+188|0;P=o[k+4>>2]|0;D=e+228|0;o[D>>2]=o[k>>2];o[D+4>>2]=P;U=+-+u[I>>2];w=+-+u[N>>2];P=e+236|0;u[P>>2]=U;u[P+4>>2]=w;break}else{if(C){C=R>=0;i[e+248>>0]=C&1;P=e+212|0;if(C){C=I;D=o[C>>2]|0;k=o[C+4>>2]|0;C=P;o[C>>2]=D;o[C+4>>2]=k;C=e+228|0;o[C>>2]=D;o[C+4>>2]=k;w=+-(o[d>>2]=D,+u[d>>2]);U=+W;D=e+236|0;u[D>>2]=w;u[D+4>>2]=U;break}else re=P}else{i[e+248>>0]=0;re=e+212|0}U=+-J;w=+W;P=re;u[P>>2]=U;u[P+4>>2]=w;P=I;D=o[P+4>>2]|0;k=e+228|0;o[k>>2]=o[P>>2];o[k+4>>2]=D;w=+-+u[e+188>>2];U=+-+u[e+192>>2];D=e+236|0;u[D>>2]=w;u[D+4>>2]=U;break}}else{U=z-_;w=G-T;Y=+j(+(U*U+w*w));if(Y<1.1920928955078125E-7){ie=U;ne=w}else{b=1/Y;ie=U*b;ne=w*b}b=-ie;D=e+204|0;u[D>>2]=ne;k=e+208|0;u[k>>2]=b;P=W*ne-J*ie>0;w=(g-_)*ne+(S-T)*b;if(!L){C=R>=0;if(!V){i[e+248>>0]=C&1;B=e+212|0;if(C){Q=B;$=64;break}else{ee=B;$=65;break}}if(P){if(!C){B=w>=0;i[e+248>>0]=B&1;r=e+212|0;if(B)oe=r;else{b=+-J;U=+W;B=r;u[B>>2]=b;u[B+4>>2]=U;B=e+228|0;u[B>>2]=b;u[B+4>>2]=U;B=I;r=o[B+4>>2]|0;ae=e+236|0;o[ae>>2]=o[B>>2];o[ae+4>>2]=r;break}}else{i[e+248>>0]=1;oe=e+212|0}r=I;ae=o[r+4>>2]|0;B=oe;o[B>>2]=o[r>>2];o[B+4>>2]=ae;U=+-+u[I>>2];b=+-+u[N>>2];ae=e+228|0;u[ae>>2]=U;u[ae+4>>2]=b;ae=e+204|0;B=o[ae+4>>2]|0;r=e+236|0;o[r>>2]=o[ae>>2];o[r+4>>2]=B;break}else{if(C){C=w>=0;i[e+248>>0]=C&1;B=e+212|0;if(C){C=I;r=o[C>>2]|0;ae=o[C+4>>2]|0;C=B;o[C>>2]=r;o[C+4>>2]=ae;b=+-(o[d>>2]=r,+u[d>>2]);U=+W;C=e+228|0;u[C>>2]=b;u[C+4>>2]=U;C=e+236|0;o[C>>2]=r;o[C+4>>2]=ae;break}else se=B}else{i[e+248>>0]=0;se=e+212|0}U=+-J;b=+W;B=se;u[B>>2]=U;u[B+4>>2]=b;b=+-+u[e+204>>2];U=+-+u[e+208>>2];B=e+228|0;u[B>>2]=b;u[B+4>>2]=U;B=I;ae=o[B+4>>2]|0;C=e+236|0;o[C>>2]=o[B>>2];o[C+4>>2]=ae;break}}if(K&P){if(!(Z>=0)&!(R>=0)){ae=w>=0;i[e+248>>0]=ae&1;C=e+212|0;if(ae)le=C;else{U=+-J;b=+W;ae=C;u[ae>>2]=U;u[ae+4>>2]=b;ae=e+228|0;u[ae>>2]=U;u[ae+4>>2]=b;ae=e+236|0;u[ae>>2]=U;u[ae+4>>2]=b;break}}else{i[e+248>>0]=1;le=e+212|0}ae=I;C=o[ae+4>>2]|0;B=le;o[B>>2]=o[ae>>2];o[B+4>>2]=C;C=e+188|0;B=o[C+4>>2]|0;ae=e+228|0;o[ae>>2]=o[C>>2];o[ae+4>>2]=B;B=e+204|0;ae=o[B+4>>2]|0;C=e+236|0;o[C>>2]=o[B>>2];o[C+4>>2]=ae;break}if(K){do{if(!(Z>=0)){if(R>=0){ae=w>=0;i[e+248>>0]=ae&1;C=e+212|0;if(ae){ue=C;break}else ce=C}else{i[e+248>>0]=0;ce=e+212|0}b=+-J;U=+W;C=ce;u[C>>2]=b;u[C+4>>2]=U;U=+-+u[D>>2];b=+-+u[k>>2];C=e+228|0;u[C>>2]=U;u[C+4>>2]=b;b=+-+u[I>>2];U=+-+u[N>>2];C=e+236|0;u[C>>2]=b;u[C+4>>2]=U;break e}else{i[e+248>>0]=1;ue=e+212|0}}while(0);C=I;ae=o[C+4>>2]|0;B=ue;o[B>>2]=o[C>>2];o[B+4>>2]=ae;ae=e+188|0;B=o[ae+4>>2]|0;C=e+228|0;o[C>>2]=o[ae>>2];o[C+4>>2]=B;B=I;C=o[B+4>>2]|0;ae=e+236|0;o[ae>>2]=o[B>>2];o[ae+4>>2]=C;break}if(!P){if(!(!(Z>=0)|!(R>=0))){C=w>=0;i[e+248>>0]=C&1;ae=e+212|0;if(C){C=I;B=o[C>>2]|0;r=o[C+4>>2]|0;C=ae;o[C>>2]=B;o[C+4>>2]=r;C=e+228|0;o[C>>2]=B;o[C+4>>2]=r;C=e+236|0;o[C>>2]=B;o[C+4>>2]=r;break}else he=ae}else{i[e+248>>0]=0;he=e+212|0}U=+-J;b=+W;ae=he;u[ae>>2]=U;u[ae+4>>2]=b;b=+-+u[D>>2];U=+-+u[k>>2];ae=e+228|0;u[ae>>2]=b;u[ae+4>>2]=U;U=+-+u[e+188>>2];b=+-+u[e+192>>2];ae=e+236|0;u[ae>>2]=U;u[ae+4>>2]=b;break}do{if(!(w>=0)){if(Z>=0){ae=R>=0;i[e+248>>0]=ae&1;r=e+212|0;if(ae){fe=r;break}else de=r}else{i[e+248>>0]=0;de=e+212|0}b=+-J;U=+W;r=de;u[r>>2]=b;u[r+4>>2]=U;U=+-+u[I>>2];b=+-+u[N>>2];r=e+228|0;u[r>>2]=U;u[r+4>>2]=b;b=+-+u[e+188>>2];U=+-+u[e+192>>2];r=e+236|0;u[r>>2]=b;u[r+4>>2]=U;break e}else{i[e+248>>0]=1;fe=e+212|0}}while(0);k=I;D=o[k+4>>2]|0;P=fe;o[P>>2]=o[k>>2];o[P+4>>2]=D;D=I;P=o[D+4>>2]|0;k=e+228|0;o[k>>2]=o[D>>2];o[k+4>>2]=P;P=e+204|0;k=o[P+4>>2]|0;D=e+236|0;o[D>>2]=o[P>>2];o[D+4>>2]=k}}while(0);if(($|0)==64){fe=I;de=o[fe>>2]|0;he=o[fe+4>>2]|0;fe=Q;o[fe>>2]=de;o[fe+4>>2]=he;R=+-(o[d>>2]=de,+u[d>>2]);Z=+W;de=e+228|0;u[de>>2]=R;u[de+4>>2]=Z;de=e+236|0;u[de>>2]=R;u[de+4>>2]=Z}else if(($|0)==65){Z=+-J;J=+W;de=ee;u[de>>2]=Z;u[de+4>>2]=J;de=I;ee=o[de>>2]|0;he=o[de+4>>2]|0;de=e+228|0;o[de>>2]=ee;o[de+4>>2]=he;de=e+236|0;o[de>>2]=ee;o[de+4>>2]=he}he=a+148|0;de=e+128|0;o[de>>2]=o[he>>2];if((o[he>>2]|0)>0){ee=0;do{J=+u[n>>2];Z=+u[a+(ee<<3)+20>>2];W=+u[s>>2];R=+u[a+(ee<<3)+24>>2];T=+(+u[v>>2]+(J*Z-W*R));S=+(Z*W+J*R+ +u[H>>2]);fe=e+(ee<<3)|0;u[fe>>2]=T;u[fe+4>>2]=S;S=+u[n>>2];T=+u[a+(ee<<3)+84>>2];R=+u[s>>2];J=+u[a+(ee<<3)+88>>2];W=+(S*T-R*J);Z=+(T*R+S*J);fe=e+(ee<<3)+64|0;u[fe>>2]=W;u[fe+4>>2]=Z;ee=ee+1|0}while((ee|0)<(o[he>>2]|0))}he=e+244|0;u[he>>2]=.019999999552965164;ee=t+60|0;o[ee>>2]=0;fe=e+248|0;Q=o[de>>2]|0;if((Q|0)<=0){h=l;return}Z=+u[e+164>>2];W=+u[O>>2];J=+u[e+212>>2];S=+u[e+216>>2];R=3.4028234663852886E38;O=0;do{T=J*(+u[e+(O<<3)>>2]-Z)+S*(+u[e+(O<<3)+4>>2]-W);R=T<R?T:R;O=O+1|0}while((O|0)!=(Q|0));if(R>.019999999552965164){h=l;return}ph(c,e);Q=o[c>>2]|0;if((Q|0)!=0){W=+u[c+8>>2];if(W>+u[he>>2]){h=l;return}if(W>R*.9800000190734863+.0010000000474974513){O=o[c+4>>2]|0;c=t+56|0;if((Q|0)==1){pe=f;me=c;$=77}else{o[c>>2]=2;c=A;Q=o[c+4>>2]|0;ue=f;o[ue>>2]=o[c>>2];o[ue+4>>2]=Q;Q=f+8|0;i[Q>>0]=0;ue=O&255;i[Q+1>>0]=ue;i[Q+2>>0]=0;i[Q+3>>0]=1;Q=F;c=o[Q+4>>2]|0;ce=f+12|0;o[ce>>2]=o[Q>>2];o[ce+4>>2]=c;c=f+20|0;i[c>>0]=0;i[c+1>>0]=ue;i[c+2>>0]=0;i[c+3>>0]=1;o[p>>2]=O;c=O+1|0;ue=(c|0)<(o[de>>2]|0)?c:0;o[p+4>>2]=ue;c=e+(O<<3)|0;ce=o[c>>2]|0;Q=o[c+4>>2]|0;c=p+8|0;o[c>>2]=ce;o[c+4>>2]=Q;c=e+(ue<<3)|0;ue=o[c>>2]|0;K=o[c+4>>2]|0;c=p+16|0;o[c>>2]=ue;o[c+4>>2]=K;c=e+(O<<3)+64|0;le=o[c>>2]|0;se=o[c+4>>2]|0;c=p+24|0;o[c>>2]=le;o[c+4>>2]=se;Ee=K;ve=ue;be=Q;ye=ce;ge=le;_e=se;Te=f;we=O;Re=0}}else $=75}else $=75;if(($|0)==75){pe=f;me=t+56|0;$=77}do{if(($|0)==77){o[me>>2]=1;O=o[de>>2]|0;if((O|0)>1){R=+u[e+216>>2];W=+u[e+212>>2];se=0;S=W*+u[e+64>>2]+R*+u[e+68>>2];le=1;while(1){Z=W*+u[e+(le<<3)+64>>2]+R*+u[e+(le<<3)+68>>2];ce=Z<S;Q=ce?le:se;le=le+1|0;if((le|0)>=(O|0)){xe=Q;break}else{se=Q;S=ce?Z:S}}}else xe=0;se=xe+1|0;le=(se|0)<(O|0)?se:0;se=e+(xe<<3)|0;ce=o[se+4>>2]|0;Q=f;o[Q>>2]=o[se>>2];o[Q+4>>2]=ce;ce=f+8|0;i[ce>>0]=0;i[ce+1>>0]=xe;i[ce+2>>0]=1;i[ce+3>>0]=0;ce=e+(le<<3)|0;Q=o[ce+4>>2]|0;se=f+12|0;o[se>>2]=o[ce>>2];o[se+4>>2]=Q;Q=f+20|0;i[Q>>0]=0;i[Q+1>>0]=le;i[Q+2>>0]=1;i[Q+3>>0]=0;if((i[fe>>0]|0)==0){o[p>>2]=1;o[p+4>>2]=0;Q=F;le=o[Q>>2]|0;se=o[Q+4>>2]|0;Q=p+8|0;o[Q>>2]=le;o[Q+4>>2]=se;Q=A;ce=o[Q>>2]|0;ue=o[Q+4>>2]|0;Q=p+16|0;o[Q>>2]=ce;o[Q+4>>2]=ue;Q=(u[d>>2]=-+u[I>>2],o[d>>2]|0);K=(u[d>>2]=-+u[N>>2],o[d>>2]|0);c=p+24|0;o[c>>2]=Q;o[c+4>>2]=K;Ee=ue;ve=ce;be=se;ye=le;ge=Q;_e=K;Te=pe;we=1;Re=1;break}else{o[p>>2]=0;o[p+4>>2]=1;K=A;Q=o[K>>2]|0;le=o[K+4>>2]|0;K=p+8|0;o[K>>2]=Q;o[K+4>>2]=le;K=F;se=o[K>>2]|0;ce=o[K+4>>2]|0;K=p+16|0;o[K>>2]=se;o[K+4>>2]=ce;K=I;ue=o[K>>2]|0;c=o[K+4>>2]|0;K=p+24|0;o[K>>2]=ue;o[K+4>>2]=c;Ee=ce;ve=se;be=le;ye=Q;ge=ue;_e=c;Te=pe;we=0;Re=1;break}}}while(0);S=(o[d>>2]=_e,+u[d>>2]);R=(o[d>>2]=ge,+u[d>>2]);W=(o[d>>2]=ye,+u[d>>2]);Z=(o[d>>2]=be,+u[d>>2]);J=(o[d>>2]=ve,+u[d>>2]);T=(o[d>>2]=Ee,+u[d>>2]);Ee=p+32|0;ve=p+24|0;be=p+28|0;ne=-R;u[Ee>>2]=S;u[p+36>>2]=ne;ye=p+44|0;R=-S;_e=ye;u[_e>>2]=R;o[_e+4>>2]=ge;_e=p+8|0;pe=p+12|0;_=S*W+Z*ne;u[p+40>>2]=_;I=p+52|0;u[I>>2]=J*R+(o[d>>2]=ge,+u[d>>2])*T;if((yh(m,Te,Ee,_,we)|0)<2){h=l;return}if((yh(E,m,ye,+u[I>>2],o[p+4>>2]|0)|0)<2){h=l;return}I=t+40|0;if(Re){Re=ve;ye=o[Re>>2]|0;m=o[Re+4>>2]|0;Re=I;o[Re>>2]=ye;o[Re+4>>2]=m;m=_e;Re=o[m>>2]|0;we=o[m+4>>2]|0;m=t+48|0;o[m>>2]=Re;o[m+4>>2]=we;_=(o[d>>2]=Re,+u[d>>2]);T=(o[d>>2]=ye,+u[d>>2]);R=+u[pe>>2];J=+u[be>>2];ne=+u[E>>2];Z=+u[E+4>>2];W=+u[he>>2];if(!((ne-_)*T+(Z-R)*J<=W)){Se=W;Me=0}else{W=ne-+u[v>>2];ne=Z-+u[H>>2];Z=+u[n>>2];S=+u[s>>2];g=+(W*Z+ne*S);ie=+(Z*ne-W*S);ye=t;u[ye>>2]=g;u[ye+4>>2]=ie;o[t+16>>2]=o[E+8>>2];Se=+u[he>>2];Me=1}ie=+u[E+12>>2];g=+u[E+16>>2];if(!((ie-_)*T+(g-R)*J<=Se))He=Me;else{Se=ie-+u[v>>2];ie=g-+u[H>>2];g=+u[n>>2];J=+u[s>>2];R=+(Se*g+ie*J);T=+(g*ie-Se*J);s=t+(Me*20|0)|0;u[s>>2]=R;u[s+4>>2]=T;o[t+(Me*20|0)+16>>2]=o[E+20>>2];He=Me+1|0}}else{Me=o[p>>2]|0;p=a+(Me<<3)+84|0;s=o[p+4>>2]|0;n=I;o[n>>2]=o[p>>2];o[n+4>>2]=s;s=a+(Me<<3)+20|0;Me=o[s+4>>2]|0;a=t+48|0;o[a>>2]=o[s>>2];o[a+4>>2]=Me;T=+u[_e>>2];R=+u[ve>>2];J=+u[pe>>2];Se=+u[be>>2];ie=+u[he>>2];if(!((+u[E>>2]-T)*R+(+u[E+4>>2]-J)*Se<=ie)){Ae=ie;Ce=0}else{be=E;pe=o[be+4>>2]|0;ve=t;o[ve>>2]=o[be>>2];o[ve+4>>2]=pe;pe=E+8|0;ve=t+16|0;i[ve+2>>0]=i[pe+3>>0]|0;i[ve+3>>0]=i[pe+2>>0]|0;i[ve>>0]=i[pe+1>>0]|0;i[ve+1>>0]=i[pe>>0]|0;Ae=+u[he>>2];Ce=1}he=E+12|0;if(!((+u[he>>2]-T)*R+(+u[E+16>>2]-J)*Se<=Ae))He=Ce;else{pe=he;he=o[pe+4>>2]|0;ve=t+(Ce*20|0)|0;o[ve>>2]=o[pe>>2];o[ve+4>>2]=he;he=E+20|0;E=t+(Ce*20|0)+16|0;i[E+2>>0]=i[he+3>>0]|0;i[E+3>>0]=i[he+2>>0]|0;i[E>>0]=i[he+1>>0]|0;i[E+1>>0]=i[he>>0]|0;He=Ce+1|0}}o[ee>>2]=He;h=l;return}function ph(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0;r=h;o[e>>2]=0;i=e+4|0;o[i>>2]=-1;n=e+8|0;u[n>>2]=-3.4028234663852886E38;a=+u[t+216>>2];s=+u[t+212>>2];l=o[t+128>>2]|0;if((l|0)<=0){h=r;return}c=+u[t+164>>2];f=+u[t+168>>2];d=+u[t+172>>2];p=+u[t+176>>2];m=+u[t+244>>2];E=t+228|0;v=t+232|0;b=t+236|0;y=t+240|0;g=-3.4028234663852886E38;_=0;while(1){T=+u[t+(_<<3)+64>>2];w=-T;R=-+u[t+(_<<3)+68>>2];x=+u[t+(_<<3)>>2];S=+u[t+(_<<3)+4>>2];M=(x-c)*w+(S-f)*R;H=(x-d)*w+(S-p)*R;A=M<H?M:H;if(A>m)break;if(!(a*T+s*R>=0))if(A>g?!((w-+u[E>>2])*s+(R-+u[v>>2])*a<-.03490658849477768):0)C=8;else P=g;else if(A>g?!((w-+u[b>>2])*s+(R-+u[y>>2])*a<-.03490658849477768):0)C=8;else P=g;if((C|0)==8){C=0;o[e>>2]=2;o[i>>2]=_;u[n>>2]=A;P=A}F=_+1|0;if((F|0)<(l|0)){g=P;_=F}else{C=10;break}}if((C|0)==10){h=r;return}o[e>>2]=2;o[i>>2]=_;u[n>>2]=A;h=r;return}function mh(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var o=0;o=h;h=h+256|0;dh(o,e,t,r,i,n);h=o;return}function Eh(e,t,r,n,a){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;var s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,X=0,q=0;s=h;h=h+96|0;l=s+92|0;c=s+88|0;f=s;d=s+80|0;p=s+56|0;m=s+32|0;E=s+24|0;v=e+60|0;o[v>>2]=0;b=+u[t+8>>2]+ +u[n+8>>2];o[l>>2]=0;y=+vh(l,t,r,n,a);if(y>b){h=s;return}o[c>>2]=0;g=+vh(c,n,a,t,r);if(g>b){h=s;return}if(g>y+5.000000237487257E-4){y=+u[a>>2];g=+u[a+4>>2];_=+u[a+8>>2];T=+u[a+12>>2];w=+u[r>>2];R=+u[r+4>>2];x=+u[r+8>>2];S=+u[r+12>>2];M=o[c>>2]|0;o[e+56>>2]=2;H=y;A=g;C=T;P=_;F=S;D=x;k=w;L=R;B=M;O=1;N=n;I=t}else{R=+u[r>>2];w=+u[r+4>>2];x=+u[r+8>>2];S=+u[r+12>>2];_=+u[a>>2];T=+u[a+4>>2];g=+u[a+8>>2];y=+u[a+12>>2];a=o[l>>2]|0;o[e+56>>2]=1;H=R;A=w;C=S;P=x;F=y;D=g;k=_;L=T;B=a;O=0;N=t;I=n}n=o[I+148>>2]|0;T=+u[N+(B<<3)+84>>2];_=+u[N+(B<<3)+88>>2];g=C*T-P*_;y=P*T+C*_;_=F*g+D*y;T=F*y-D*g;if((n|0)>0){t=0;a=0;g=3.4028234663852886E38;while(1){y=_*+u[I+(t<<3)+84>>2]+T*+u[I+(t<<3)+88>>2];l=y<g;r=l?t:a;t=t+1|0;if((t|0)==(n|0)){V=r;break}else{a=r;g=l?y:g}}}else V=0;a=V+1|0;t=(a|0)<(n|0)?a:0;g=+u[I+(V<<3)+20>>2];T=+u[I+(V<<3)+24>>2];_=+(k+(F*g-D*T));y=+(L+(D*g+F*T));a=f;u[a>>2]=_;u[a+4>>2]=y;a=B&255;n=f+8|0;i[n>>0]=a;i[n+1>>0]=V;i[n+2>>0]=1;i[n+3>>0]=0;y=+u[I+(t<<3)+20>>2];_=+u[I+(t<<3)+24>>2];T=+(k+(F*y-D*_));g=+(L+(D*y+F*_));I=f+12|0;u[I>>2]=T;u[I+4>>2]=g;I=f+20|0;i[I>>0]=a;i[I+1>>0]=t;i[I+2>>0]=1;i[I+3>>0]=0;I=B+1|0;t=(I|0)<(o[N+148>>2]|0)?I:0;I=N+(B<<3)+20|0;g=+u[I>>2];T=+u[I+4>>2];I=N+(t<<3)+20|0;_=+u[I>>2];y=+u[I+4>>2];x=_-g;S=y-T;w=+j(+(x*x+S*S));if(w<1.1920928955078125E-7){U=x;z=S}else{R=1/w;U=x*R;z=S*R}R=C*U-P*z;S=C*z+P*U;u[d>>2]=R;u[d+4>>2]=S;x=-R;w=H+(C*g-P*T);G=A+(P*g+C*T);W=w*S+G*x;u[E>>2]=x;u[E+4>>2]=-S;if((yh(p,f,E,b-(w*R+G*S),B)|0)<2){h=s;return}if((yh(m,p,d,b+((H+(C*_-P*y))*R+(A+(P*_+C*y))*S),t)|0)<2){h=s;return}C=+z;z=+-U;t=e+40|0;u[t>>2]=C;u[t+4>>2]=z;z=+((g+_)*.5);_=+((T+y)*.5);t=e+48|0;u[t>>2]=z;u[t+4>>2]=_;_=+u[m>>2];z=+u[m+4>>2];t=!(S*_+z*x-W<=b);if(O<<24>>24==0){if(t)J=0;else{y=_-k;T=z-L;g=+(F*y+D*T);C=+(F*T-D*y);O=e;u[O>>2]=g;u[O+4>>2]=C;o[e+16>>2]=o[m+8>>2];J=1}C=+u[m+12>>2];g=+u[m+16>>2];if(!(S*C+g*x-W<=b))X=J;else{y=C-k;C=g-L;g=+(F*y+D*C);T=+(F*C-D*y);O=e+(J*20|0)|0;u[O>>2]=g;u[O+4>>2]=T;o[e+(J*20|0)+16>>2]=o[m+20>>2];X=J+1|0}}else{if(t)q=0;else{T=_-k;_=z-L;z=+(F*T+D*_);g=+(F*_-D*T);t=e;u[t>>2]=z;u[t+4>>2]=g;t=e+16|0;J=o[m+8>>2]|0;o[t>>2]=J;i[t>>0]=J>>>8;i[t+1>>0]=J;i[t+2>>0]=J>>>24;i[t+3>>0]=J>>>16;q=1}g=+u[m+12>>2];z=+u[m+16>>2];if(!(S*g+z*x-W<=b))X=q;else{b=g-k;k=z-L;L=+(F*b+D*k);z=+(F*k-D*b);J=e+(q*20|0)|0;u[J>>2]=L;u[J+4>>2]=z;J=e+(q*20|0)+16|0;e=o[m+20>>2]|0;o[J>>2]=e;i[J>>0]=e>>>8;i[J+1>>0]=e;i[J+2>>0]=e>>>24;i[J+3>>0]=e>>>16;X=q+1|0}}o[v>>2]=X;h=s;return}function vh(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0;a=h;s=o[t+148>>2]|0;l=o[i+148>>2]|0;c=+u[n+12>>2];f=+u[r+8>>2];d=+u[n+8>>2];p=+u[r+12>>2];m=c*f-d*p;E=f*d+c*p;p=+u[r>>2]-+u[n>>2];f=+u[r+4>>2]-+u[n+4>>2];v=c*p+d*f;b=c*f-d*p;if((s|0)<=0){y=0;g=-3.4028234663852886E38;o[e>>2]=y;h=a;return+g}if((l|0)>0){_=0;T=0;w=-3.4028234663852886E38}else{n=0;r=0;p=-3.4028234663852886E38;while(1){R=p<3.4028234663852886E38;d=R?3.4028234663852886E38:p;x=R?r:n;r=r+1|0;if((r|0)==(s|0)){y=x;g=d;break}else{n=x;p=d}}o[e>>2]=y;h=a;return+g}while(1){p=+u[t+(T<<3)+84>>2];d=+u[t+(T<<3)+88>>2];f=E*p-m*d;c=m*p+E*d;d=+u[t+(T<<3)+20>>2];p=+u[t+(T<<3)+24>>2];S=v+(E*d-m*p);M=b+(m*d+E*p);n=0;p=3.4028234663852886E38;do{d=f*(+u[i+(n<<3)+20>>2]-S)+c*(+u[i+(n<<3)+24>>2]-M);p=d<p?d:p;n=n+1|0}while((n|0)!=(l|0));n=p>w;M=n?p:w;r=n?T:_;T=T+1|0;if((T|0)==(s|0)){y=r;g=M;break}else{_=r;w=M}}o[e>>2]=y;h=a;return+g}function bh(e,t,r,i,n,a){e=e|0;t=t|0;r=r|0;i=+i;n=n|0;a=+a;var s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0;s=h;l=t+60|0;if((o[l>>2]|0)==0){h=s;return}c=o[t+56>>2]|0;if((c|0)==2){f=n+12|0;d=+u[f>>2];p=+u[t+40>>2];m=n+8|0;E=+u[m>>2];v=+u[t+44>>2];b=d*p-E*v;y=p*E+d*v;v=+b;d=+y;g=e;u[g>>2]=v;u[g+4>>2]=d;d=+u[f>>2];v=+u[t+48>>2];E=+u[m>>2];p=+u[t+52>>2];_=+u[n>>2]+(d*v-E*p);T=v*E+d*p+ +u[n+4>>2];if((o[l>>2]|0)>0){m=r+12|0;f=r+8|0;g=r+4|0;w=e+4|0;p=b;d=y;R=0;while(1){E=+u[m>>2];v=+u[t+(R*20|0)>>2];x=+u[f>>2];S=+u[t+(R*20|0)+4>>2];M=+u[r>>2]+(E*v-x*S);H=v*x+E*S+ +u[g>>2];S=a-(p*(M-_)+(H-T)*d);E=M+p*S;x=H+d*S;S=M-p*i;M=H-d*i;H=+((S+E)*.5);v=+((M+x)*.5);A=e+(R<<3)+8|0;u[A>>2]=H;u[A+4>>2]=v;u[e+(R<<2)+24>>2]=+u[e>>2]*(S-E)+ +u[w>>2]*(M-x);R=R+1|0;x=+u[e>>2];M=+u[w>>2];if((R|0)>=(o[l>>2]|0)){C=x;P=M;break}else{p=x;d=M}}}else{C=b;P=y}y=+-C;C=+-P;R=e;u[R>>2]=y;u[R+4>>2]=C;h=s;return}else if((c|0)==0){u[e>>2]=1;R=e+4|0;u[R>>2]=0;C=+u[r+12>>2];y=+u[t+48>>2];P=+u[r+8>>2];b=+u[t+52>>2];d=+u[r>>2]+(C*y-P*b);p=y*P+C*b+ +u[r+4>>2];b=+u[n+12>>2];C=+u[t>>2];P=+u[n+8>>2];y=+u[t+4>>2];T=+u[n>>2]+(b*C-P*y);_=C*P+b*y+ +u[n+4>>2];y=d-T;b=p-_;if(y*y+b*b>1.4210854715202004E-14){b=T-d;y=_-p;P=+b;C=+y;w=e;u[w>>2]=P;u[w+4>>2]=C;C=+j(+(b*b+y*y));if(C<1.1920928955078125E-7){F=b;D=y}else{P=1/C;C=b*P;u[e>>2]=C;b=y*P;u[R>>2]=b;F=C;D=b}}else{F=1;D=0}b=d+F*i;d=p+D*i;p=T-F*a;T=_-D*a;_=+((b+p)*.5);C=+((d+T)*.5);R=e+8|0;u[R>>2]=_;u[R+4>>2]=C;u[e+24>>2]=F*(p-b)+D*(T-d);h=s;return}else if((c|0)==1){c=r+12|0;d=+u[c>>2];T=+u[t+40>>2];R=r+8|0;D=+u[R>>2];b=+u[t+44>>2];p=d*T-D*b;F=T*D+d*b;b=+p;d=+F;w=e;u[w>>2]=b;u[w+4>>2]=d;d=+u[c>>2];b=+u[t+48>>2];D=+u[R>>2];T=+u[t+52>>2];C=+u[r>>2]+(d*b-D*T);_=b*D+d*T+ +u[r+4>>2];if((o[l>>2]|0)<=0){h=s;return}r=n+12|0;R=n+8|0;c=n+4|0;w=e+4|0;T=p;p=F;g=0;while(1){F=+u[r>>2];d=+u[t+(g*20|0)>>2];D=+u[R>>2];b=+u[t+(g*20|0)+4>>2];P=+u[n>>2]+(F*d-D*b);y=d*D+F*b+ +u[c>>2];b=i-(T*(P-C)+(y-_)*p);F=P+T*b;D=y+p*b;b=P-T*a;P=y-p*a;y=+((b+F)*.5);d=+((P+D)*.5);f=e+(g<<3)+8|0;u[f>>2]=y;u[f+4>>2]=d;u[e+(g<<2)+24>>2]=+u[e>>2]*(b-F)+ +u[w>>2]*(P-D);f=g+1|0;if((f|0)>=(o[l>>2]|0))break;T=+u[e>>2];p=+u[w>>2];g=f}h=s;return}else{h=s;return}}function yh(e,t,r,n,a){e=e|0;t=t|0;r=r|0;n=+n;a=a|0;var s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0;s=h;l=+u[r>>2];c=+u[r+4>>2];r=t+4|0;f=l*+u[t>>2]+c*+u[r>>2]-n;d=t+12|0;p=t+16|0;m=l*+u[d>>2]+c*+u[p>>2]-n;if(!(f<=0))E=0;else{o[e+0>>2]=o[t+0>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];E=1}if(!(m<=0))v=E;else{b=E+1|0;y=e+(E*12|0)|0;o[y+0>>2]=o[d+0>>2];o[y+4>>2]=o[d+4>>2];o[y+8>>2]=o[d+8>>2];v=b}if(!(f*m<0)){g=v;h=s;return g|0}n=f/(f-m);m=+u[t>>2];f=+u[r>>2];c=+(m+n*(+u[d>>2]-m));m=+(f+n*(+u[p>>2]-f));p=e+(v*12|0)|0;u[p>>2]=c;u[p+4>>2]=m;p=e+(v*12|0)+8|0;i[p>>0]=a;i[p+1>>0]=i[t+9>>0]|0;i[p+2>>0]=0;i[p+3>>0]=1;g=v+1|0;h=s;return g|0}function gh(e,t,r,a,s,l){e=e|0;t=t|0;r=r|0;a=a|0;s=s|0;l=l|0;var c=0,f=0,d=0,p=0;c=h;h=h+128|0;f=c+36|0;d=c+24|0;p=c;o[f+16>>2]=0;o[f+20>>2]=0;u[f+24>>2]=0;o[f+44>>2]=0;o[f+48>>2]=0;u[f+52>>2]=0;hc(f,e,t);hc(f+28|0,r,a);a=f+56|0;o[a+0>>2]=o[s+0>>2];o[a+4>>2]=o[s+4>>2];o[a+8>>2]=o[s+8>>2];o[a+12>>2]=o[s+12>>2];s=f+72|0;o[s+0>>2]=o[l+0>>2];o[s+4>>2]=o[l+4>>2];o[s+8>>2]=o[l+8>>2];o[s+12>>2]=o[l+12>>2];i[f+88>>0]=1;n[d+4>>1]=0;dc(p,d,f);h=c;return+u[p+16>>2]<1.1920928955078125E-6|0}function _h(e,t,r,i,n,a){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;a=a|0;var s=0,l=0;s=h;l=e+40|0;o[l>>2]=t;o[e+44>>2]=r;o[e+48>>2]=i;o[e+28>>2]=0;o[e+36>>2]=0;o[e+32>>2]=0;o[e>>2]=n;o[e+4>>2]=a;o[e+8>>2]=If(n,t<<2)|0;o[e+12>>2]=If(o[e>>2]|0,r<<2)|0;o[e+16>>2]=If(o[e>>2]|0,i<<2)|0;o[e+24>>2]=If(o[e>>2]|0,(o[l>>2]|0)*12|0)|0;o[e+20>>2]=If(o[e>>2]|0,(o[l>>2]|0)*12|0)|0;h=s;return}function Th(e){e=e|0;var t=0;t=h;Uf(o[e>>2]|0,o[e+20>>2]|0);Uf(o[e>>2]|0,o[e+24>>2]|0);Uf(o[e>>2]|0,o[e+16>>2]|0);Uf(o[e>>2]|0,o[e+12>>2]|0);Uf(o[e>>2]|0,o[e+8>>2]|0);h=t;return}function wh(e,t,r,a,s){e=e|0;t=t|0;r=r|0;a=a|0;s=s|0;var l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,J=0,Y=0,K=0;l=h;h=h+176|0;c=l+148|0;f=l;p=l+112|0;m=l+64|0;E=l+8|0;xf(f);v=+u[r>>2];b=e+28|0;if((o[b>>2]|0)>0){y=e+8|0;g=a+4|0;_=e+20|0;T=e+24|0;w=0;do{R=o[(o[y>>2]|0)+(w<<2)>>2]|0;x=R+60|0;S=o[x>>2]|0;M=o[x+4>>2]|0;H=+u[R+72>>2];x=R+80|0;A=+u[x>>2];C=+u[x+4>>2];P=+u[R+88>>2];x=R+52|0;o[x>>2]=S;o[x+4>>2]=M;u[R+68>>2]=H;if((o[R>>2]|0)==2){F=+u[R+156>>2];D=+u[R+136>>2];k=1/(v*+u[R+148>>2]+1);L=(A+v*(F*+u[a>>2]+D*+u[R+92>>2]))*k;B=(C+v*(F*+u[g>>2]+D*+u[R+96>>2]))*k;O=(P+v*+u[R+144>>2]*+u[R+100>>2])*(1/(v*+u[R+152>>2]+1))}else{L=A;B=C;O=P}R=(o[_>>2]|0)+(w*12|0)|0;o[R>>2]=S;o[R+4>>2]=M;u[(o[_>>2]|0)+(w*12|0)+8>>2]=H;H=+L;P=+B;M=(o[T>>2]|0)+(w*12|0)|0;u[M>>2]=H;u[M+4>>2]=P;u[(o[T>>2]|0)+(w*12|0)+8>>2]=O;w=w+1|0}while((w|0)<(o[b>>2]|0));N=T;I=_}else{N=e+24|0;I=e+20|0}o[p+0>>2]=o[r+0>>2];o[p+4>>2]=o[r+4>>2];o[p+8>>2]=o[r+8>>2];o[p+12>>2]=o[r+12>>2];o[p+16>>2]=o[r+16>>2];o[p+20>>2]=o[r+20>>2];o[p+24>>2]=o[r+24>>2];_=o[I>>2]|0;o[p+28>>2]=_;T=o[N>>2]|0;o[p+32>>2]=T;o[m+0>>2]=o[r+0>>2];o[m+4>>2]=o[r+4>>2];o[m+8>>2]=o[r+8>>2];o[m+12>>2]=o[r+12>>2];o[m+16>>2]=o[r+16>>2];o[m+20>>2]=o[r+20>>2];o[m+24>>2]=o[r+24>>2];w=e+12|0;o[m+28>>2]=o[w>>2];g=e+36|0;o[m+32>>2]=o[g>>2];o[m+36>>2]=_;o[m+40>>2]=T;o[m+44>>2]=o[e>>2];Wa(E,m);Ja(E);if((i[r+24>>0]|0)!=0)Xa(E);m=e+32|0;if((o[m>>2]|0)>0){T=e+16|0;_=0;do{a=o[(o[T>>2]|0)+(_<<2)>>2]|0;pp[o[(o[a>>2]|0)+32>>2]&63](a,p);_=_+1|0}while((_|0)<(o[m>>2]|0))}u[t+12>>2]=+Mf(f);_=r+12|0;if((o[_>>2]|0)>0){T=e+16|0;a=0;do{if((o[m>>2]|0)>0){y=0;do{M=o[(o[T>>2]|0)+(y<<2)>>2]|0;pp[o[(o[M>>2]|0)+36>>2]&63](M,p);y=y+1|0}while((y|0)<(o[m>>2]|0))}qa(E);a=a+1|0}while((a|0)<(o[_>>2]|0))}Ya(E);u[t+16>>2]=+Mf(f);if((o[b>>2]|0)>0){_=o[N>>2]|0;a=0;do{T=o[I>>2]|0;y=T+(a*12|0)|0;M=y;O=+u[M>>2];B=+u[M+4>>2];L=+u[T+(a*12|0)+8>>2];T=_+(a*12|0)|0;P=+u[T>>2];H=+u[T+4>>2];C=+u[_+(a*12|0)+8>>2];A=v*P;k=v*H;D=A*A+k*k;if(D>4){k=2/+j(+D);V=P*k;U=H*k}else{V=P;U=H}H=v*C;if(H*H>2.4674012660980225){if(H>0)z=H;else z=-H;G=C*(1.5707963705062866/z)}else G=C;C=+(O+v*V);O=+(B+v*U);T=y;u[T>>2]=C;u[T+4>>2]=O;u[(o[I>>2]|0)+(a*12|0)+8>>2]=L+v*G;L=+V;O=+U;T=(o[N>>2]|0)+(a*12|0)|0;u[T>>2]=L;u[T+4>>2]=O;_=o[N>>2]|0;u[_+(a*12|0)+8>>2]=G;a=a+1|0}while((a|0)<(o[b>>2]|0))}a=r+16|0;e:do{if((o[a>>2]|0)>0){r=e+16|0;_=0;while(1){T=Ka(E)|0;if((o[m>>2]|0)>0){y=0;M=1;while(1){R=o[(o[r>>2]|0)+(y<<2)>>2]|0;S=M&(_p[o[(o[R>>2]|0)+40>>2]&31](R,p)|0);y=y+1|0;if((y|0)>=(o[m>>2]|0)){W=S;break}else M=S}}else W=1;_=_+1|0;if(T&W){J=0;break e}if((_|0)>=(o[a>>2]|0)){J=1;break}}}else J=1}while(0);if((o[b>>2]|0)>0){a=e+8|0;W=0;do{m=o[(o[a>>2]|0)+(W<<2)>>2]|0;p=(o[I>>2]|0)+(W*12|0)|0;_=o[p>>2]|0;r=o[p+4>>2]|0;p=m+60|0;o[p>>2]=_;o[p+4>>2]=r;G=+u[(o[I>>2]|0)+(W*12|0)+8>>2];u[m+72>>2]=G;p=(o[N>>2]|0)+(W*12|0)|0;M=o[p+4>>2]|0;y=m+80|0;o[y>>2]=o[p>>2];o[y+4>>2]=M;u[m+88>>2]=+u[(o[N>>2]|0)+(W*12|0)+8>>2];U=+q(+G);u[m+20>>2]=U;V=+X(+G);u[m+24>>2]=V;G=+u[m+44>>2];z=+u[m+48>>2];O=(o[d>>2]=_,+u[d>>2])-(V*G-U*z);L=(o[d>>2]=r,+u[d>>2])-(U*G+V*z);z=+O;O=+L;r=m+12|0;u[r>>2]=z;u[r+4>>2]=O;W=W+1|0}while((W|0)<(o[b>>2]|0))}u[t+20>>2]=+Mf(f);f=o[E+44>>2]|0;t=e+4|0;if((o[t>>2]|0)!=0?(o[g>>2]|0)>0:0){W=c+16|0;N=0;do{I=o[(o[w>>2]|0)+(N<<2)>>2]|0;a=o[f+(N*156|0)+148>>2]|0;o[W>>2]=a;if((a|0)>0){r=0;do{u[c+(r<<2)>>2]=+u[f+(N*156|0)+(r*36|0)+16>>2];u[c+(r<<2)+8>>2]=+u[f+(N*156|0)+(r*36|0)+20>>2];r=r+1|0}while((r|0)!=(a|0))}a=o[t>>2]|0;Ep[o[(o[a>>2]|0)+36>>2]&7](a,I,c);N=N+1|0}while((N|0)<(o[g>>2]|0))}if(!s){ja(E);h=l;return}s=o[b>>2]|0;g=(s|0)>0;if(g){N=o[e+8>>2]|0;c=0;O=3.4028234663852886E38;while(1){t=o[N+(c<<2)>>2]|0;do{if((o[t>>2]|0)==0)Y=O;else{if((!((n[t+4>>1]&4)==0)?(z=+u[t+88>>2],!(z*z>.001218469929881394)):0)?(z=+u[t+80>>2],L=+u[t+84>>2],!(z*z+L*L>9.999999747378752E-5)):0){f=t+160|0;L=v+ +u[f>>2];u[f>>2]=L;Y=O<L?O:L;break}u[t+160>>2]=0;Y=0}}while(0);c=c+1|0;if((c|0)>=(s|0)){K=Y;break}else O=Y}}else K=3.4028234663852886E38;if(!(K>=.5)|J|g^1){ja(E);h=l;return}g=e+8|0;e=0;do{J=o[(o[g>>2]|0)+(e<<2)>>2]|0;s=J+4|0;n[s>>1]=n[s>>1]&65533;u[J+160>>2]=0;s=J+80|0;o[s+0>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;o[s+16>>2]=0;o[s+20>>2]=0;e=e+1|0}while((e|0)<(o[b>>2]|0));ja(E);h=l;return}function Rh(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0;n=h;h=h+128|0;a=n+104|0;s=n+56|0;l=n;c=e+28|0;if((o[c>>2]|0)>0){f=e+8|0;d=e+20|0;p=e+24|0;m=0;do{E=o[(o[f>>2]|0)+(m<<2)>>2]|0;v=E+60|0;b=o[v+4>>2]|0;y=(o[d>>2]|0)+(m*12|0)|0;o[y>>2]=o[v>>2];o[y+4>>2]=b;u[(o[d>>2]|0)+(m*12|0)+8>>2]=+u[E+72>>2];b=E+80|0;y=o[b+4>>2]|0;v=(o[p>>2]|0)+(m*12|0)|0;o[v>>2]=o[b>>2];o[v+4>>2]=y;y=o[p>>2]|0;u[y+(m*12|0)+8>>2]=+u[E+88>>2];m=m+1|0}while((m|0)<(o[c>>2]|0));g=d;_=y}else{g=e+20|0;_=o[e+24>>2]|0}d=e+12|0;o[s+28>>2]=o[d>>2];m=e+36|0;o[s+32>>2]=o[m>>2];o[s+44>>2]=o[e>>2];o[s+0>>2]=o[t+0>>2];o[s+4>>2]=o[t+4>>2];o[s+8>>2]=o[t+8>>2];o[s+12>>2]=o[t+12>>2];o[s+16>>2]=o[t+16>>2];o[s+20>>2]=o[t+20>>2];o[s+24>>2]=o[t+24>>2];o[s+36>>2]=o[g>>2];p=e+24|0;o[s+40>>2]=_;Wa(l,s);s=t+16|0;e:do{if((o[s>>2]|0)>0){_=0;do{_=_+1|0;if(Qa(l,r,i)|0)break e}while((_|0)<(o[s>>2]|0))}}while(0);s=e+8|0;_=(o[g>>2]|0)+(r*12|0)|0;f=o[_+4>>2]|0;y=(o[(o[s>>2]|0)+(r<<2)>>2]|0)+52|0;o[y>>2]=o[_>>2];o[y+4>>2]=f;f=o[g>>2]|0;y=o[s>>2]|0;u[(o[y+(r<<2)>>2]|0)+68>>2]=+u[f+(r*12|0)+8>>2];r=f+(i*12|0)|0;f=o[r+4>>2]|0;_=(o[y+(i<<2)>>2]|0)+52|0;o[_>>2]=o[r>>2];o[_+4>>2]=f;u[(o[(o[s>>2]|0)+(i<<2)>>2]|0)+68>>2]=+u[(o[g>>2]|0)+(i*12|0)+8>>2];Ja(l);i=t+12|0;if((o[i>>2]|0)>0){f=0;do{qa(l);f=f+1|0}while((f|0)<(o[i>>2]|0))}T=+u[t>>2];if((o[c>>2]|0)>0){t=0;do{i=o[g>>2]|0;f=i+(t*12|0)|0;_=f;w=+u[_>>2];R=+u[_+4>>2];x=+u[i+(t*12|0)+8>>2];i=o[p>>2]|0;_=i+(t*12|0)|0;S=+u[_>>2];M=+u[_+4>>2];H=+u[i+(t*12|0)+8>>2];A=T*S;C=T*M;P=A*A+C*C;if(P>4){C=2/+j(+P);F=S*C;D=M*C}else{F=S;D=M}M=T*H;if(M*M>2.4674012660980225){if(M>0)k=M;else k=-M;L=H*(1.5707963705062866/k)}else L=H;H=w+T*F;w=R+T*D;R=x+T*L;x=+H;M=+w;i=f;u[i>>2]=x;u[i+4>>2]=M;u[(o[g>>2]|0)+(t*12|0)+8>>2]=R;S=+F;C=+D;i=(o[p>>2]|0)+(t*12|0)|0;u[i>>2]=S;u[i+4>>2]=C;u[(o[p>>2]|0)+(t*12|0)+8>>2]=L;i=o[(o[s>>2]|0)+(t<<2)>>2]|0;f=i+60|0;u[f>>2]=x;u[f+4>>2]=M;u[i+72>>2]=R;f=i+80|0;u[f>>2]=S;u[f+4>>2]=C;u[i+88>>2]=L;C=+q(+R);u[i+20>>2]=C;S=+X(+R);u[i+24>>2]=S;R=+u[i+44>>2];M=+u[i+48>>2];x=+(H-(S*R-C*M));H=+(w-(C*R+S*M));f=i+12|0;u[f>>2]=x;u[f+4>>2]=H;t=t+1|0}while((t|0)<(o[c>>2]|0))}c=o[l+44>>2]|0;t=e+4|0;if((o[t>>2]|0)==0){ja(l);h=n;return}if((o[m>>2]|0)<=0){ja(l);h=n;return}e=a+16|0;s=0;do{p=o[(o[d>>2]|0)+(s<<2)>>2]|0;g=o[c+(s*156|0)+148>>2]|0;o[e>>2]=g;if((g|0)>0){f=0;do{u[a+(f<<2)>>2]=+u[c+(s*156|0)+(f*36|0)+16>>2];u[a+(f<<2)+8>>2]=+u[c+(s*156|0)+(f*36|0)+20>>2];f=f+1|0}while((f|0)!=(g|0))}g=o[t>>2]|0;Ep[o[(o[g>>2]|0)+36>>2]&7](g,p,a);s=s+1|0}while((s|0)<(o[m>>2]|0));ja(l);h=n;return}function xh(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,o=0;e=h;i=n[t+36>>1]|0;if(!(i<<16>>16==0?1:i<<16>>16!=(n[r+36>>1]|0))){o=i<<16>>16>0;h=e;return o|0}if((n[r+32>>1]&n[t+34>>1])<<16>>16==0){o=0;h=e;return o|0}o=(n[r+34>>1]&n[t+32>>1])<<16>>16!=0;h=e;return o|0}function Sh(e){e=e|0;return}function Mh(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Hh(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return 1}function Ah(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return 1}function Ch(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0;r=h;Ao(e,t);o[e>>2]=904;i=t+20|0;n=o[i>>2]|0;a=o[i+4>>2]|0;i=e+76|0;o[i>>2]=n;o[i+4>>2]=a;i=o[e+52>>2]|0;s=(o[d>>2]=n,+u[d>>2])-+u[i+12>>2];l=(o[d>>2]=a,+u[d>>2])-+u[i+16>>2];c=+u[i+24>>2];f=+u[i+20>>2];p=+(s*c+l*f);m=+(c*l-s*f);i=e+68|0;u[i>>2]=p;u[i+4>>2]=m;u[e+104>>2]=+u[t+28>>2];u[e+96>>2]=0;u[e+100>>2]=0;u[e+84>>2]=+u[t+32>>2];u[e+88>>2]=+u[t+36>>2];u[e+92>>2]=0;u[e+108>>2]=0;h=r;return}function Ph(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,l=0;r=h;i=o[e+52>>2]|0;a=i+4|0;s=n[a>>1]|0;if((s&2)==0?(l=s&65535,(l&2|0)==0):0){n[a>>1]=l|2;u[i+160>>2]=0}i=t;t=o[i+4>>2]|0;l=e+76|0;o[l>>2]=o[i>>2];o[l+4>>2]=t;h=r;return}function Fh(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,c=0,f=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0;r=h;n=o[e+52>>2]|0;a=o[n+8>>2]|0;s=e+116|0;o[s>>2]=a;l=n+44|0;c=o[l>>2]|0;f=o[l+4>>2]|0;l=e+128|0;o[l>>2]=c;o[l+4>>2]=f;p=+u[n+136>>2];u[e+136>>2]=p;m=+u[n+144>>2];u[e+140>>2]=m;l=o[t+28>>2]|0;E=l+(a*12|0)|0;v=+u[E>>2];b=+u[E+4>>2];y=+u[l+(a*12|0)+8>>2];l=t+32|0;E=o[l>>2]|0;g=E+(a*12|0)|0;_=+u[g>>2];T=+u[g+4>>2];w=+u[E+(a*12|0)+8>>2];R=+q(+y);x=+X(+y);y=+u[n+132>>2];S=+u[e+84>>2]*6.2831854820251465;M=+u[t>>2];H=M*y*S*S;A=M*(S*y*2*+u[e+88>>2]+H);y=(o[d>>2]=c,+u[d>>2]);S=(o[d>>2]=f,+u[d>>2]);if(A!=0)C=1/A;else C=A;u[e+108>>2]=C;A=H*C;u[e+92>>2]=A;H=+u[e+68>>2]-y;y=+u[e+72>>2]-S;S=x*H-R*y;M=R*H+x*y;y=+S;x=+M;f=e+120|0;u[f>>2]=y;u[f+4>>2]=x;x=C+(p+M*m*M);y=m*S;H=M*y;R=C+(p+S*y);y=x*R-H*H;if(y!=0)P=1/y;else P=y;y=H*P;u[e+144>>2]=R*P;u[e+148>>2]=y;u[e+152>>2]=y;u[e+156>>2]=x*P;f=e+160|0;P=v+S-+u[e+76>>2];v=b+M-+u[e+80>>2];b=+P;x=+v;c=f;u[c>>2]=b;u[c+4>>2]=x;u[f>>2]=A*P;u[e+164>>2]=A*v;v=w*.9800000190734863;f=e+96|0;if((i[t+24>>0]|0)==0){u[f>>2]=0;u[e+100>>2]=0;F=_;D=T;k=v;L=o[l>>2]|0;B=L+(a*12|0)|0;O=+F;N=+D;I=B;V=I;u[V>>2]=O;U=I+4|0;z=U;u[z>>2]=N;G=o[s>>2]|0;W=o[l>>2]|0;j=W+(G*12|0)+8|0;u[j>>2]=k;h=r;return}else{w=+u[t+8>>2];A=w*+u[f>>2];u[f>>2]=A;f=e+100|0;P=w*+u[f>>2];u[f>>2]=P;F=_+p*A;D=T+P*p;k=v+m*(P*S-A*M);L=o[l>>2]|0;B=L+(a*12|0)|0;O=+F;N=+D;I=B;V=I;u[V>>2]=O;U=I+4|0;z=U;u[z>>2]=N;G=o[s>>2]|0;W=o[l>>2]|0;j=W+(G*12|0)+8|0;u[j>>2]=k;h=r;return}}function Dh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0;r=h;i=e+116|0;n=o[i>>2]|0;a=t+32|0;s=o[a>>2]|0;l=s+(n*12|0)|0;c=l;f=+u[c>>2];d=+u[c+4>>2];p=+u[s+(n*12|0)+8>>2];m=+u[e+124>>2];E=+u[e+120>>2];v=+u[e+108>>2];n=e+96|0;b=+u[n>>2];s=e+100|0;y=+u[s>>2];g=-(f-p*m+ +u[e+160>>2]+v*b);_=-(d+p*E+ +u[e+164>>2]+v*y);v=+u[e+148>>2]*g+ +u[e+156>>2]*_;c=n;T=+u[c>>2];w=+u[c+4>>2];R=b+(+u[e+144>>2]*g+ +u[e+152>>2]*_);u[n>>2]=R;_=v+y;u[s>>2]=_;y=+u[t>>2]*+u[e+104>>2];v=_*_+R*R;if(v>y*y){g=y/+j(+v);v=R*g;u[n>>2]=v;y=g*_;u[s>>2]=y;x=v;S=y}else{x=R;S=_}_=x-T;T=S-w;w=+u[e+136>>2];S=p+ +u[e+140>>2]*(T*E-_*m);m=+(f+_*w);_=+(d+T*w);e=l;u[e>>2]=m;u[e+4>>2]=_;u[(o[a>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=S;h=r;return}function kh(e,t){e=e|0;t=t|0;return 1}function Lh(e,t){e=e|0;t=t|0;var r=0,i=0;r=t+76|0;t=o[r+4>>2]|0;i=e;o[i>>2]=o[r>>2];o[i+4>>2]=t;return}function Bh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0;r=o[t+52>>2]|0;i=+u[r+24>>2];n=+u[t+68>>2];a=+u[r+20>>2];s=+u[t+72>>2];l=n*a+i*s+ +u[r+16>>2];u[e>>2]=+u[r+12>>2]+(i*n-a*s);u[e+4>>2]=l;return}function Oh(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+u[t+100>>2]*r;u[e>>2]=+u[t+96>>2]*r;u[e+4>>2]=i;return}function Nh(e,t){e=e|0;t=+t;return+(t*0)}function Ih(e,t){e=e|0;t=t|0;var r=0;r=e+76|0;u[r>>2]=+u[r>>2]-+u[t>>2];r=e+80|0;u[r>>2]=+u[r>>2]-+u[t+4>>2];return}function Vh(e){e=e|0;e=h;h=h+16|0;Ff(1008,e);h=e;return}function Uh(e){e=e|0;return}function zh(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Gh(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,c=0,f=0,d=0;i=h;o[e+8>>2]=t;o[e+12>>2]=r;n=r+12|0;a=+u[n>>2];s=a-+u[t+12>>2];a=+u[n+4>>2]-+u[t+16>>2];l=+u[t+24>>2];c=+u[t+20>>2];f=+(s*l+a*c);d=+(l*a-s*c);n=e+20|0;u[n>>2]=f;u[n+4>>2]=d;u[e+28>>2]=+u[r+72>>2]-+u[t+72>>2];h=i;return}function Wh(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0;n=h;a=e+4|0;s=o[(o[a>>2]|0)+88>>2]|0;l=o[s+(r<<2)>>2]|o[s+(t<<2)>>2]|o[s+(i<<2)>>2];if((l&16|0)==0){h=n;return}s=o[e+8>>2]|0;if(!(yp[o[(o[s>>2]|0)+16>>2]&7](s,t,r,i)|0)){h=n;return}s=o[a>>2]|0;a=o[s+96>>2]|0;e=a+(t<<3)|0;c=+u[e>>2];f=a+(r<<3)|0;d=+u[f>>2];p=c-d;m=a+(t<<3)+4|0;E=+u[m>>2];v=a+(r<<3)+4|0;b=+u[v>>2];y=E-b;g=a+(i<<3)|0;_=+u[g>>2];T=d-_;w=a+(i<<3)+4|0;d=+u[w>>2];R=b-d;b=_-c;c=d-E;E=+u[s+40>>2]*4;if(p*p+y*y>E){h=n;return}if(T*T+R*R>E){h=n;return}if(b*b+c*c>E){h=n;return}a=o[s+144>>2]|0;x=o[a+(t<<2)>>2]|0;S=o[a+(r<<2)>>2]|0;M=o[a+(i<<2)>>2]|0;a=s+264|0;H=s+268|0;A=o[H>>2]|0;C=s+272|0;P=o[C>>2]|0;if((A|0)>=(P|0)?(F=(P|0)==0?256:P<<1,(P|0)<(F|0)):0){P=s+276|0;s=yf(o[P>>2]|0,F*60|0)|0;D=o[a>>2]|0;if((D|0)!=0){pd(s|0,D|0,(o[H>>2]|0)*60|0)|0;gf(o[P>>2]|0,o[a>>2]|0,(o[C>>2]|0)*60|0)}o[C>>2]=F;o[a>>2]=s;k=o[H>>2]|0}else k=A;o[H>>2]=k+1;H=o[a>>2]|0;o[H+(k*60|0)>>2]=t;o[H+(k*60|0)+4>>2]=r;o[H+(k*60|0)+8>>2]=i;o[H+(k*60|0)+12>>2]=l;if((x|0)==0)L=1;else L=+u[x+16>>2];if((S|0)==0)B=1;else B=+u[S+16>>2];E=L<B?L:B;if((M|0)==0)O=1;else O=+u[M+16>>2];u[H+(k*60|0)+16>>2]=E<O?E:O;O=+u[e>>2];E=+u[m>>2];B=(O+ +u[f>>2]+ +u[g>>2])*.3333333432674408;L=(E+ +u[v>>2]+ +u[w>>2])*.3333333432674408;d=+(O-B);O=+(E-L);M=H+(k*60|0)+20|0;u[M>>2]=d;u[M+4>>2]=O;O=+(+u[f>>2]-B);d=+(+u[v>>2]-L);M=H+(k*60|0)+28|0;u[M>>2]=O;u[M+4>>2]=d;d=+(+u[g>>2]-B);B=+(+u[w>>2]-L);M=H+(k*60|0)+36|0;u[M>>2]=d;u[M+4>>2]=B;u[H+(k*60|0)+44>>2]=-(p*b+y*c);u[H+(k*60|0)+48>>2]=-(p*T+y*R);u[H+(k*60|0)+52>>2]=-(T*b+R*c);c=+u[e>>2];R=+u[v>>2];b=+u[m>>2];T=+u[f>>2];y=+u[w>>2];p=+u[g>>2];u[H+(k*60|0)+56>>2]=b*p-c*y+(c*R-b*T+(T*y-R*p));h=n;return}function jh(e){e=e|0;return}function Jh(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Xh(e,t){e=e|0;t=t|0;return(o[(o[e+4>>2]|0)+(t<<2)>>2]&4096|0)!=0|0}function qh(e,t,r){e=e|0;t=t|0;r=r|0;return 1}function Yh(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return 1}function Kh(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Zh(e,t){e=e|0;t=t|0;return 1}function Qh(e){e=e|0;return}function $h(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function ef(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0;i=h;n=o[e+4>>2]|0;e=(n|0)<=(t|0);t=(n|0)>(r|0);if(e|t){h=i;return t&e|0}else{h=i;return 1}return 0}function tf(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0;n=h;a=o[e+4>>2]|0;e=(a|0)>(t|0);t=(a|0)>(r|0);if(e|t|(a|0)>(i|0)){h=n;return(a|0)<=(i|0)|e&t^1|0}else{h=n;return 0}return 0}function rf(e){e=e|0;return}function nf(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function of(e,t){e=e|0;t=t|0;return 0}function af(e){e=e|0;return 1}function sf(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0,u=0;i=h;n=e+16|0;if((o[n>>2]|0)<=0){a=0;h=i;return a|0}s=e+12|0;e=0;while(1){l=o[(o[s>>2]|0)+(e<<2)>>2]|0;e=e+1|0;if(mp[o[(o[l>>2]|0)+16>>2]&15](l,t,r)|0){a=1;u=5;break}if((e|0)>=(o[n>>2]|0)){a=0;u=5;break}}if((u|0)==5){h=i;return a|0}return 0}function lf(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;return}function uf(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;return 0}function cf(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0;i=h;h=h+16|0;n=i;u[t>>2]=3.4028234663852886E38;a=t+4|0;u[a>>2]=3.4028234663852886E38;u[t+8>>2]=-3.4028234663852886E38;s=t+12|0;u[s>>2]=-3.4028234663852886E38;l=e+16|0;if((o[l>>2]|0)<=0){h=i;return}c=e+12|0;e=n+4|0;f=t+8|0;d=n+8|0;p=n+12|0;m=0;do{E=o[(o[c>>2]|0)+(m<<2)>>2]|0;v=up[o[(o[E>>2]|0)+12>>2]&7](E)|0;if((v|0)>0){E=0;do{b=o[(o[c>>2]|0)+(m<<2)>>2]|0;wp[o[(o[b>>2]|0)+28>>2]&31](b,n,r,E);y=+u[t>>2];g=+u[n>>2];_=+u[a>>2];T=+u[e>>2];w=+(y<g?y:g);g=+(_<T?_:T);b=t;u[b>>2]=w;u[b+4>>2]=g;g=+u[f>>2];w=+u[d>>2];T=+u[s>>2];_=+u[p>>2];y=+(g>w?g:w);w=+(T>_?T:_);b=f;u[b>>2]=y;u[b+4>>2]=w;E=E+1|0}while((E|0)!=(v|0))}m=m+1|0}while((m|0)<(o[l>>2]|0));h=i;return}function hf(e,t,r){e=e|0;t=t|0;r=+r;return}function ff(e){e=e|0;return}function df(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function pf(e,t){e=e|0;t=t|0;return 0}function mf(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0,s=0,l=0;n=h;a=e+4|0;if((o[a>>2]|0)!=(t|0)){s=0;h=n;return s|0}l=o[e+8>>2]|0;if(!(mp[o[(o[l>>2]|0)+16>>2]&15](l,e+12|0,(o[t+96>>2]|0)+(r<<3)|0)|0)){s=1;h=n;return s|0}t=o[a>>2]|0;pi(t,r,o[(o[t+88>>2]|0)+(r<<2)>>2]|((i[e+28>>0]|0)!=0?514:2));r=e+32|0;o[r>>2]=(o[r>>2]|0)+1;s=1;h=n;return s|0}function Ef(e,t){e=e|0;t=t|0;var r=0,i=0;r=t+4|0;o[(o[t>>2]|0)+4>>2]=o[r>>2];o[o[r>>2]>>2]=o[t>>2];o[r>>2]=t;o[t>>2]=t;i=e+12|0;o[r>>2]=o[i>>2];o[t>>2]=e+8;o[o[i>>2]>>2]=t;o[i>>2]=t;return}function vf(e){e=e|0;var t=0,r=0,n=0,a=0,s=0,l=0;t=h;r=e+68|0;o[e+72>>2]=r;o[r>>2]=r;r=e+8|0;o[r>>2]=128;o[e+4>>2]=0;n=Cf(1024)|0;o[e>>2]=n;hd(n|0,0,o[r>>2]<<3|0)|0;r=e+12|0;e=r+56|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(e|0));if((i[8776]|0)==0){a=1;s=0}else{h=t;return}while(1){if((a|0)>(o[8072+(s<<2)>>2]|0)){r=s+1|0;i[8128+a>>0]=r;l=r}else{i[8128+a>>0]=s;l=s}a=a+1|0;if((a|0)==641)break;else s=l}i[8776]=1;h=t;return}function bf(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0;t=h;r=e+4|0;i=o[e>>2]|0;if((o[r>>2]|0)>0){n=i;a=0;while(1){Pf(o[n+(a<<3)+4>>2]|0);a=a+1|0;s=o[e>>2]|0;if((a|0)>=(o[r>>2]|0)){l=s;break}else n=s}}else l=i;Pf(l);l=e+68|0;Bf(l);i=e+72|0;o[(o[l>>2]|0)+4>>2]=o[i>>2];o[o[i>>2]>>2]=o[l>>2];o[i>>2]=l;o[l>>2]=l;h=t;return}function yf(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0;r=h;if((t|0)==0){i=0;h=r;return i|0}if((t|0)>640){i=kf(e+68|0,t)|0;h=r;return i|0}n=a[8128+t>>0]|0;t=e+(n<<2)+12|0;s=o[t>>2]|0;if((s|0)!=0){o[t>>2]=o[s>>2];i=s;h=r;return i|0}s=e+4|0;l=o[s>>2]|0;u=e+8|0;if((l|0)==(o[u>>2]|0)){c=o[e>>2]|0;f=l+128|0;o[u>>2]=f;u=Cf(f<<3)|0;o[e>>2]=u;pd(u|0,c|0,o[s>>2]<<3|0)|0;hd((o[e>>2]|0)+(o[s>>2]<<3)|0,0,1024)|0;Pf(c);d=o[s>>2]|0}else d=l;l=o[e>>2]|0;e=Cf(16384)|0;c=l+(d<<3)+4|0;o[c>>2]=e;u=o[8072+(n<<2)>>2]|0;o[l+(d<<3)>>2]=u;d=(16384/(u|0)|0)+-1|0;if((d|0)>0){l=e;n=0;while(1){f=n;n=n+1|0;o[l+(ie(f,u)|0)>>2]=l+(ie(n,u)|0);f=o[c>>2]|0;if((n|0)==(d|0)){p=f;break}else l=f}}else p=e;o[p+(ie(d,u)|0)>>2]=0;o[t>>2]=o[o[c>>2]>>2];o[s>>2]=(o[s>>2]|0)+1;i=o[c>>2]|0;h=r;return i|0}function gf(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0;i=h;if((r|0)==0){h=i;return}if((r|0)>640){Lf(e+68|0,t);h=i;return}else{n=e+((a[8128+r>>0]|0)<<2)+12|0;o[t>>2]=o[n>>2];o[n>>2]=t;h=i;return}}function _f(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,o=0,a=0,s=0,l=0,c=0,h=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0;i=+u[t+16>>2];n=+u[t+32>>2];o=+u[t+20>>2];a=+u[t+28>>2];s=i*n-o*a;l=+u[t+24>>2];c=+u[t+12>>2];h=o*l-n*c;f=a*c-i*l;d=+u[t>>2];p=+u[t+4>>2];m=+u[t+8>>2];E=s*d+p*h+f*m;if(E!=0)v=1/E;else v=E;E=+u[r>>2];b=+u[r+4>>2];y=+u[r+8>>2];u[e>>2]=v*(s*E+b*h+f*y);u[e+4>>2]=v*((b*n-y*a)*d+p*(y*l-n*E)+(a*E-b*l)*m);u[e+8>>2]=v*((i*y-o*b)*d+p*(o*E-y*c)+(b*c-i*E)*m);return}function Tf(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,o=0,a=0,s=0,l=0,c=0;i=+u[t>>2];n=+u[t+12>>2];o=+u[t+4>>2];a=+u[t+16>>2];s=i*a-n*o;if(s!=0)l=1/s;else l=s;s=+u[r>>2];c=+u[r+4>>2];u[e>>2]=l*(a*s-n*c);u[e+4>>2]=l*(i*c-o*s);return}function wf(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,s=0,l=0,c=0;r=h;i=+u[e>>2];n=+u[e+12>>2];a=+u[e+4>>2];s=+u[e+16>>2];l=i*s-n*a;if(l!=0)c=1/l;else c=l;u[t>>2]=s*c;s=-c;u[t+12>>2]=n*s;u[t+8>>2]=0;u[t+4>>2]=a*s;u[t+16>>2]=i*c;e=t+20|0;o[e+0>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;h=r;return}function Rf(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,o=0,a=0,s=0,l=0,c=0,h=0,f=0,d=0,p=0;r=+u[e+16>>2];i=+u[e+32>>2];n=r*i;o=+u[e+20>>2];a=+u[e+28>>2];s=+u[e+24>>2];l=+u[e+12>>2];c=i*l;h=a*l-r*s;f=+u[e>>2];d=(n-o*a)*f+ +u[e+4>>2]*(o*s-c)+h*+u[e+8>>2];if(d!=0)p=1/d;else p=d;u[t>>2]=p*(n-a*a);n=p*(s*a-c);u[t+4>>2]=n;c=p*h;u[t+8>>2]=c;u[t+12>>2]=n;u[t+16>>2]=p*(f*i-s*s);i=p*(l*s-f*a);u[t+20>>2]=i;u[t+24>>2]=c;u[t+28>>2]=i;u[t+32>>2]=p*(f*r-l*l);return}function xf(e){e=e|0;return}function Sf(e){e=e|0;return}function Mf(e){e=e|0;return 0}function Hf(e,t){e=e|0;t=t|0;var r=0;t=h;r=rd(e)|0;h=t;return r|0}function Af(e,t){e=e|0;t=t|0;t=h;id(e);h=t;return}function Cf(e){e=e|0;var t=0,r=0;t=h;o[2214]=(o[2214]|0)+1;r=_p[o[2208]&31](e,o[2212]|0)|0;h=t;return r|0}function Pf(e){e=e|0;var t=0;t=h;o[2214]=(o[2214]|0)+-1;pp[o[2210]&63](e,o[2212]|0);h=t;return}function Ff(e,t){e=e|0;t=t|0;return}function Df(e){e=e|0;return e+43&-32|0}function kf(e,t){e=e|0;t=t|0;var r=0,i=0;r=h;i=Cf(t+44|0)|0;o[i>>2]=i;t=i+43&-32;o[t+-4>>2]=i;o[i+4>>2]=e;o[i>>2]=o[e>>2];o[(o[e>>2]|0)+4>>2]=i;o[e>>2]=i;h=r;return t|0}function Lf(e,t){e=e|0;t=t|0;var r=0;e=h;r=o[t+-4>>2]|0;t=r+4|0;o[(o[r>>2]|0)+4>>2]=o[t>>2];o[o[t>>2]>>2]=o[r>>2];o[t>>2]=r;o[r>>2]=r;Pf(r);h=e;return}function Bf(e){e=e|0;var t=0,r=0,i=0,n=0;t=h;r=e+4|0;i=o[r>>2]|0;if((i|0)==(e|0)){h=t;return}else n=i;do{i=n+4|0;o[(o[n>>2]|0)+4>>2]=o[i>>2];o[o[i>>2]>>2]=o[n>>2];o[i>>2]=n;o[n>>2]=n;Pf(n);n=o[r>>2]|0}while((n|0)!=(e|0));h=t;return}function Of(e){e=e|0;o[e+102400>>2]=0;o[e+102404>>2]=0;o[e+102408>>2]=0;o[e+102796>>2]=0;return}function Nf(e){e=e|0;return}function If(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,u=0;r=h;n=t+3&-4;t=e+102796|0;a=o[t>>2]|0;s=e+(a*12|0)+102412|0;o[e+(a*12|0)+102416>>2]=n;l=e+102400|0;u=o[l>>2]|0;if((u+n|0)>102400){o[s>>2]=Cf(n)|0;i[e+(a*12|0)+102420>>0]=1}else{o[s>>2]=e+u;i[e+(a*12|0)+102420>>0]=0;o[l>>2]=(o[l>>2]|0)+n}l=e+102404|0;a=(o[l>>2]|0)+n|0;o[l>>2]=a;l=e+102408|0;e=o[l>>2]|0;o[l>>2]=(e|0)>(a|0)?e:a;o[t>>2]=(o[t>>2]|0)+1;h=r;return o[s>>2]|0}function Vf(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0;t=h;n=(o[e+102796>>2]|0)+-1|0;a=e+(n*12|0)+102412|0;s=e+(n*12|0)+102416|0;l=r-(o[s>>2]|0)|0;if((l|0)<=0){u=o[a>>2]|0;h=t;return u|0}c=e+(n*12|0)+102420|0;do{if((i[c>>0]|0)==0){n=e+102400|0;f=(o[n>>2]|0)+l|0;if((f|0)>102400){d=Cf(r)|0;pd(d|0,o[a>>2]|0,o[s>>2]|0)|0;o[n>>2]=(o[n>>2]|0)-(o[s>>2]|0);o[a>>2]=d;i[c>>0]=1;break}else{o[n>>2]=f;f=e+102404|0;n=(o[f>>2]|0)+l|0;o[f>>2]=n;f=e+102408|0;d=o[f>>2]|0;o[f>>2]=(d|0)>(n|0)?d:n;break}}else{n=Cf(r)|0;pd(n|0,o[a>>2]|0,o[s>>2]|0)|0;Pf(o[a>>2]|0);o[a>>2]=n}}while(0);o[s>>2]=r;u=o[a>>2]|0;h=t;return u|0}function Uf(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0;r=h;n=e+102796|0;a=o[n>>2]|0;s=a+-1|0;if((i[e+(s*12|0)+102420>>0]|0)==0){l=e+(s*12|0)+102416|0;u=e+102400|0;o[u>>2]=(o[u>>2]|0)-(o[l>>2]|0);c=l;f=a}else{Pf(t);c=e+(s*12|0)+102416|0;f=o[n>>2]|0}s=e+102404|0;o[s>>2]=(o[s>>2]|0)-(o[c>>2]|0);o[n>>2]=f+-1;h=r;return}function zf(e){e=e|0;return}function Gf(e){e=e|0;return}function Wf(e){e=e|0;return}function jf(e){e=e|0;return}function Jf(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function Xf(e){e=e|0;var t=0;t=h;ad(e);h=t;return}function qf(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,a=0,s=0,l=0;i=h;h=h+64|0;n=i;if((e|0)==(t|0)){a=1;h=i;return a|0}if((t|0)==0){a=0;h=i;return a|0}s=Zf(t,8928,8984,0)|0;if((s|0)==0){a=0;h=i;return a|0}t=n+0|0;l=t+56|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(l|0));o[n>>2]=s;o[n+8>>2]=e;o[n+12>>2]=-1;o[n+48>>2]=1;wp[o[(o[s>>2]|0)+28>>2]&31](s,n,o[r>>2]|0,1);if((o[n+24>>2]|0)!=1){a=0;h=i;return a|0}o[r>>2]=o[n+16>>2];a=1;h=i;return a|0}function Yf(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,s=0;a=h;if((o[t+8>>2]|0)!=(e|0)){h=a;return}e=t+16|0;s=o[e>>2]|0;if((s|0)==0){o[e>>2]=r;o[t+24>>2]=n;o[t+36>>2]=1;h=a;return}if((s|0)!=(r|0)){r=t+36|0;o[r>>2]=(o[r>>2]|0)+1;o[t+24>>2]=2;i[t+54>>0]=1;h=a;return}r=t+24|0;if((o[r>>2]|0)!=2){h=a;return}o[r>>2]=n;h=a;return}function Kf(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,s=0;a=h;if((e|0)!=(o[t+8>>2]|0)){s=o[e+8>>2]|0;wp[o[(o[s>>2]|0)+28>>2]&31](s,t,r,n);h=a;return}s=t+16|0;e=o[s>>2]|0;if((e|0)==0){o[s>>2]=r;o[t+24>>2]=n;o[t+36>>2]=1;h=a;return}if((e|0)!=(r|0)){r=t+36|0;o[r>>2]=(o[r>>2]|0)+1;o[t+24>>2]=2;i[t+54>>0]=1;h=a;return}r=t+24|0;if((o[r>>2]|0)!=2){h=a;return}o[r>>2]=n;h=a;return}function Zf(e,t,r,a){e=e|0;t=t|0;r=r|0;a=a|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0;s=h;h=h+64|0;l=s;u=o[e>>2]|0;c=e+(o[u+-8>>2]|0)|0;f=o[u+-4>>2]|0;o[l>>2]=r;o[l+4>>2]=e;o[l+8>>2]=t;o[l+12>>2]=a;a=l+16|0;t=l+20|0;e=l+24|0;u=l+28|0;d=l+32|0;p=l+40|0;m=(f|0)==(r|0);r=a+0|0;E=r+36|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(E|0));n[a+36>>1]=0;i[a+38>>0]=0;if(m){o[l+48>>2]=1;gp[o[(o[f>>2]|0)+20>>2]&7](f,l,c,c,1,0);v=(o[e>>2]|0)==1?c:0;h=s;return v|0}cp[o[(o[f>>2]|0)+24>>2]&3](f,l,c,1,0);c=o[l+36>>2]|0;if((c|0)==1){if((o[e>>2]|0)!=1){if((o[p>>2]|0)!=0){v=0;h=s;return v|0}if((o[u>>2]|0)!=1){v=0;h=s;return v|0}if((o[d>>2]|0)!=1){v=0;h=s;return v|0}}v=o[a>>2]|0;h=s;return v|0}else if((c|0)==0){if((o[p>>2]|0)!=1){v=0;h=s;return v|0}if((o[u>>2]|0)!=1){v=0;h=s;return v|0}v=(o[d>>2]|0)==1?o[t>>2]|0:0;h=s;return v|0}else{v=0;h=s;return v|0}return 0}function Qf(e,t,r,n,a){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;var s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0;s=h;if((e|0)==(o[t+8>>2]|0)){if((o[t+4>>2]|0)!=(r|0)){h=s;return}l=t+28|0;if((o[l>>2]|0)==1){h=s;return}o[l>>2]=n;h=s;return}if((e|0)!=(o[t>>2]|0)){l=o[e+8>>2]|0;cp[o[(o[l>>2]|0)+24>>2]&3](l,t,r,n,a);h=s;return}if((o[t+16>>2]|0)!=(r|0)?(l=t+20|0,(o[l>>2]|0)!=(r|0)):0){o[t+32>>2]=n;u=t+44|0;if((o[u>>2]|0)==4){h=s;return}c=t+52|0;i[c>>0]=0;f=t+53|0;i[f>>0]=0;d=o[e+8>>2]|0;gp[o[(o[d>>2]|0)+20>>2]&7](d,t,r,r,1,a);if((i[f>>0]|0)!=0){if((i[c>>0]|0)==0){p=1;m=13}}else{p=0;m=13}do{if((m|0)==13){o[l>>2]=r;c=t+40|0;o[c>>2]=(o[c>>2]|0)+1;if((o[t+36>>2]|0)==1?(o[t+24>>2]|0)==2:0){i[t+54>>0]=1;if(p)break}else m=16;if((m|0)==16?p:0)break;o[u>>2]=4;h=s;return}}while(0);o[u>>2]=3;h=s;return}if((n|0)!=1){h=s;return}o[t+32>>2]=1;h=s;return}function $f(e,t,r,n,a){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;var s=0;a=h;if((o[t+8>>2]|0)==(e|0)){if((o[t+4>>2]|0)!=(r|0)){h=a;return}s=t+28|0;if((o[s>>2]|0)==1){h=a;return}o[s>>2]=n;h=a;return}if((o[t>>2]|0)!=(e|0)){h=a;return}if((o[t+16>>2]|0)!=(r|0)?(e=t+20|0,(o[e>>2]|0)!=(r|0)):0){o[t+32>>2]=n;o[e>>2]=r;r=t+40|0;o[r>>2]=(o[r>>2]|0)+1;if((o[t+36>>2]|0)==1?(o[t+24>>2]|0)==2:0)i[t+54>>0]=1;o[t+44>>2]=4;h=a;return}if((n|0)!=1){h=a;return}o[t+32>>2]=1;h=a;return}function ed(e,t,r,n,a,s){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;s=s|0;var l=0,u=0,c=0;l=h;if((e|0)!=(o[t+8>>2]|0)){u=o[e+8>>2]|0;gp[o[(o[u>>2]|0)+20>>2]&7](u,t,r,n,a,s);h=l;return}i[t+53>>0]=1;if((o[t+4>>2]|0)!=(n|0)){h=l;return}i[t+52>>0]=1;n=t+16|0;s=o[n>>2]|0;if((s|0)==0){o[n>>2]=r;o[t+24>>2]=a;o[t+36>>2]=1;if(!((a|0)==1?(o[t+48>>2]|0)==1:0)){h=l;return}i[t+54>>0]=1;h=l;return}if((s|0)!=(r|0)){r=t+36|0;o[r>>2]=(o[r>>2]|0)+1;i[t+54>>0]=1;h=l;return}r=t+24|0;s=o[r>>2]|0;if((s|0)==2){o[r>>2]=a;c=a}else c=s;if(!((c|0)==1?(o[t+48>>2]|0)==1:0)){h=l;return}i[t+54>>0]=1;h=l;return}function td(e,t,r,n,a,s){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;s=s|0;var l=0;s=h;if((o[t+8>>2]|0)!=(e|0)){h=s;return}i[t+53>>0]=1;if((o[t+4>>2]|0)!=(n|0)){h=s;return}i[t+52>>0]=1;n=t+16|0;e=o[n>>2]|0;if((e|0)==0){o[n>>2]=r;o[t+24>>2]=a;o[t+36>>2]=1;if(!((a|0)==1?(o[t+48>>2]|0)==1:0)){h=s;return}i[t+54>>0]=1;h=s;return}if((e|0)!=(r|0)){r=t+36|0;o[r>>2]=(o[r>>2]|0)+1;i[t+54>>0]=1;h=s;return}r=t+24|0;e=o[r>>2]|0;if((e|0)==2){o[r>>2]=a;l=a}else l=e;if(!((l|0)==1?(o[t+48>>2]|0)==1:0)){h=s;return}i[t+54>>0]=1;h=s;return}function rd(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0,z=0,G=0,W=0,j=0,J=0,X=0,q=0,Y=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,he=0,fe=0,de=0,pe=0,me=0,Ee=0,ve=0,be=0,ye=0,ge=0,_e=0,Te=0,we=0,Re=0,xe=0,Se=0,Me=0,He=0,Ae=0,Ce=0,Pe=0,De=0,ke=0,Be=0,Oe=0;t=h;do{if(e>>>0<245){if(e>>>0<11)r=16;else r=e+11&-8;i=r>>>3;n=o[2284]|0;a=n>>>i;if((a&3|0)!=0){s=(a&1^1)+i|0;l=s<<1;u=9176+(l<<2)|0;c=9176+(l+2<<2)|0;l=o[c>>2]|0;f=l+8|0;d=o[f>>2]|0;do{if((u|0)!=(d|0)){if(d>>>0<(o[9152>>2]|0)>>>0)Ye();p=d+12|0;if((o[p>>2]|0)==(l|0)){o[p>>2]=u;o[c>>2]=d;break}else Ye()}else o[2284]=n&~(1<<s)}while(0);d=s<<3;o[l+4>>2]=d|3;c=l+(d|4)|0;o[c>>2]=o[c>>2]|1;m=f;h=t;return m|0}if(r>>>0>(o[9144>>2]|0)>>>0){if((a|0)!=0){c=2<<i;d=a<<i&(c|0-c);c=(d&0-d)+-1|0;d=c>>>12&16;u=c>>>d;c=u>>>5&8;p=u>>>c;u=p>>>2&4;E=p>>>u;p=E>>>1&2;v=E>>>p;E=v>>>1&1;b=(c|d|u|p|E)+(v>>>E)|0;E=b<<1;v=9176+(E<<2)|0;p=9176+(E+2<<2)|0;E=o[p>>2]|0;u=E+8|0;d=o[u>>2]|0;do{if((v|0)!=(d|0)){if(d>>>0<(o[9152>>2]|0)>>>0)Ye();c=d+12|0;if((o[c>>2]|0)==(E|0)){o[c>>2]=v;o[p>>2]=d;break}else Ye()}else o[2284]=n&~(1<<b)}while(0);n=b<<3;d=n-r|0;o[E+4>>2]=r|3;p=E+r|0;o[E+(r|4)>>2]=d|1;o[E+n>>2]=d;n=o[9144>>2]|0;if((n|0)!=0){v=o[9156>>2]|0;i=n>>>3;n=i<<1;a=9176+(n<<2)|0;f=o[2284]|0;l=1<<i;if((f&l|0)!=0){i=9176+(n+2<<2)|0;s=o[i>>2]|0;if(s>>>0<(o[9152>>2]|0)>>>0)Ye();else{y=i;g=s}}else{o[2284]=f|l;y=9176+(n+2<<2)|0;g=a}o[y>>2]=v;o[g+12>>2]=v;o[v+8>>2]=g;o[v+12>>2]=a}o[9144>>2]=d;o[9156>>2]=p;m=u;h=t;return m|0}p=o[9140>>2]|0;if((p|0)!=0){d=(p&0-p)+-1|0;p=d>>>12&16;a=d>>>p;d=a>>>5&8;v=a>>>d;a=v>>>2&4;n=v>>>a;v=n>>>1&2;l=n>>>v;n=l>>>1&1;f=o[9440+((d|p|a|v|n)+(l>>>n)<<2)>>2]|0;n=(o[f+4>>2]&-8)-r|0;l=f;v=f;while(1){f=o[l+16>>2]|0;if((f|0)==0){a=o[l+20>>2]|0;if((a|0)==0)break;else _=a}else _=f;f=(o[_+4>>2]&-8)-r|0;a=f>>>0<n>>>0;n=a?f:n;l=_;v=a?_:v}l=o[9152>>2]|0;if(v>>>0<l>>>0)Ye();u=v+r|0;if(!(v>>>0<u>>>0))Ye();E=o[v+24>>2]|0;b=o[v+12>>2]|0;do{if((b|0)==(v|0)){a=v+20|0;f=o[a>>2]|0;if((f|0)==0){p=v+16|0;d=o[p>>2]|0;if((d|0)==0){T=0;break}else{w=d;R=p}}else{w=f;R=a}while(1){a=w+20|0;f=o[a>>2]|0;if((f|0)!=0){w=f;R=a;continue}a=w+16|0;f=o[a>>2]|0;if((f|0)==0)break;else{w=f;R=a}}if(R>>>0<l>>>0)Ye();else{o[R>>2]=0;T=w;break}}else{a=o[v+8>>2]|0;if(a>>>0<l>>>0)Ye();f=a+12|0;if((o[f>>2]|0)!=(v|0))Ye();p=b+8|0;if((o[p>>2]|0)==(v|0)){o[f>>2]=b;o[p>>2]=a;T=b;break}else Ye()}}while(0);do{if((E|0)!=0){b=o[v+28>>2]|0;l=9440+(b<<2)|0;if((v|0)==(o[l>>2]|0)){o[l>>2]=T;if((T|0)==0){o[9140>>2]=o[9140>>2]&~(1<<b);break}}else{if(E>>>0<(o[9152>>2]|0)>>>0)Ye();b=E+16|0;if((o[b>>2]|0)==(v|0))o[b>>2]=T;else o[E+20>>2]=T;if((T|0)==0)break}if(T>>>0<(o[9152>>2]|0)>>>0)Ye();o[T+24>>2]=E;b=o[v+16>>2]|0;do{if((b|0)!=0)if(b>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[T+16>>2]=b;o[b+24>>2]=T;break}}while(0);b=o[v+20>>2]|0;if((b|0)!=0)if(b>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[T+20>>2]=b;o[b+24>>2]=T;break}}}while(0);if(n>>>0<16){E=n+r|0;o[v+4>>2]=E|3;b=v+(E+4)|0;o[b>>2]=o[b>>2]|1}else{o[v+4>>2]=r|3;o[v+(r|4)>>2]=n|1;o[v+(n+r)>>2]=n;b=o[9144>>2]|0;if((b|0)!=0){E=o[9156>>2]|0;l=b>>>3;b=l<<1;a=9176+(b<<2)|0;p=o[2284]|0;f=1<<l;if((p&f|0)!=0){l=9176+(b+2<<2)|0;d=o[l>>2]|0;if(d>>>0<(o[9152>>2]|0)>>>0)Ye();else{x=l;S=d}}else{o[2284]=p|f;x=9176+(b+2<<2)|0;S=a}o[x>>2]=E;o[S+12>>2]=E;o[E+8>>2]=S;o[E+12>>2]=a}o[9144>>2]=n;o[9156>>2]=u}m=v+8|0;h=t;return m|0}else M=r}else M=r}else if(!(e>>>0>4294967231)){a=e+11|0;E=a&-8;b=o[9140>>2]|0;if((b|0)!=0){f=0-E|0;p=a>>>8;if((p|0)!=0)if(E>>>0>16777215)H=31;else{a=(p+1048320|0)>>>16&8;d=p<<a;p=(d+520192|0)>>>16&4;l=d<<p;d=(l+245760|0)>>>16&2;s=14-(p|a|d)+(l<<d>>>15)|0;H=E>>>(s+7|0)&1|s<<1}else H=0;s=o[9440+(H<<2)>>2]|0;e:do{if((s|0)==0){A=f;C=0;P=0}else{if((H|0)==31)F=0;else F=25-(H>>>1)|0;d=f;l=0;a=E<<F;p=s;i=0;while(1){c=o[p+4>>2]&-8;D=c-E|0;if(D>>>0<d>>>0)if((c|0)==(E|0)){A=D;C=p;P=p;break e}else{k=D;L=p}else{k=d;L=i}D=o[p+20>>2]|0;p=o[p+(a>>>31<<2)+16>>2]|0;c=(D|0)==0|(D|0)==(p|0)?l:D;if((p|0)==0){A=k;C=c;P=L;break}else{d=k;l=c;a=a<<1;i=L}}}}while(0);if((C|0)==0&(P|0)==0){s=2<<H;f=b&(s|0-s);if((f|0)==0){M=E;break}s=(f&0-f)+-1|0;f=s>>>12&16;v=s>>>f;s=v>>>5&8;u=v>>>s;v=u>>>2&4;n=u>>>v;u=n>>>1&2;i=n>>>u;n=i>>>1&1;B=o[9440+((s|f|v|u|n)+(i>>>n)<<2)>>2]|0}else B=C;if((B|0)==0){O=A;N=P}else{n=A;i=B;u=P;while(1){v=(o[i+4>>2]&-8)-E|0;f=v>>>0<n>>>0;s=f?v:n;v=f?i:u;f=o[i+16>>2]|0;if((f|0)!=0){n=s;i=f;u=v;continue}i=o[i+20>>2]|0;if((i|0)==0){O=s;N=v;break}else{n=s;u=v}}}if((N|0)!=0?O>>>0<((o[9144>>2]|0)-E|0)>>>0:0){u=o[9152>>2]|0;if(N>>>0<u>>>0)Ye();n=N+E|0;if(!(N>>>0<n>>>0))Ye();i=o[N+24>>2]|0;b=o[N+12>>2]|0;do{if((b|0)==(N|0)){v=N+20|0;s=o[v>>2]|0;if((s|0)==0){f=N+16|0;a=o[f>>2]|0;if((a|0)==0){I=0;break}else{V=a;U=f}}else{V=s;U=v}while(1){v=V+20|0;s=o[v>>2]|0;if((s|0)!=0){V=s;U=v;continue}v=V+16|0;s=o[v>>2]|0;if((s|0)==0)break;else{V=s;U=v}}if(U>>>0<u>>>0)Ye();else{o[U>>2]=0;I=V;break}}else{v=o[N+8>>2]|0;if(v>>>0<u>>>0)Ye();s=v+12|0;if((o[s>>2]|0)!=(N|0))Ye();f=b+8|0;if((o[f>>2]|0)==(N|0)){o[s>>2]=b;o[f>>2]=v;I=b;break}else Ye()}}while(0);do{if((i|0)!=0){b=o[N+28>>2]|0;u=9440+(b<<2)|0;if((N|0)==(o[u>>2]|0)){o[u>>2]=I;if((I|0)==0){o[9140>>2]=o[9140>>2]&~(1<<b);break}}else{if(i>>>0<(o[9152>>2]|0)>>>0)Ye();b=i+16|0;if((o[b>>2]|0)==(N|0))o[b>>2]=I;else o[i+20>>2]=I;if((I|0)==0)break}if(I>>>0<(o[9152>>2]|0)>>>0)Ye();o[I+24>>2]=i;b=o[N+16>>2]|0;do{if((b|0)!=0)if(b>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[I+16>>2]=b;o[b+24>>2]=I;break}}while(0);b=o[N+20>>2]|0;if((b|0)!=0)if(b>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[I+20>>2]=b;o[b+24>>2]=I;break}}}while(0);e:do{if(!(O>>>0<16)){o[N+4>>2]=E|3;o[N+(E|4)>>2]=O|1;o[N+(O+E)>>2]=O;i=O>>>3;if(O>>>0<256){b=i<<1;u=9176+(b<<2)|0;v=o[2284]|0;f=1<<i;do{if((v&f|0)==0){o[2284]=v|f;z=9176+(b+2<<2)|0;G=u}else{i=9176+(b+2<<2)|0;s=o[i>>2]|0;if(!(s>>>0<(o[9152>>2]|0)>>>0)){z=i;G=s;break}Ye()}}while(0);o[z>>2]=n;o[G+12>>2]=n;o[N+(E+8)>>2]=G;o[N+(E+12)>>2]=u;break}b=O>>>8;if((b|0)!=0)if(O>>>0>16777215)W=31;else{f=(b+1048320|0)>>>16&8;v=b<<f;b=(v+520192|0)>>>16&4;s=v<<b;v=(s+245760|0)>>>16&2;i=14-(b|f|v)+(s<<v>>>15)|0;W=O>>>(i+7|0)&1|i<<1}else W=0;i=9440+(W<<2)|0;o[N+(E+28)>>2]=W;o[N+(E+20)>>2]=0;o[N+(E+16)>>2]=0;v=o[9140>>2]|0;s=1<<W;if((v&s|0)==0){o[9140>>2]=v|s;o[i>>2]=n;o[N+(E+24)>>2]=i;o[N+(E+12)>>2]=n;o[N+(E+8)>>2]=n;break}s=o[i>>2]|0;if((W|0)==31)j=0;else j=25-(W>>>1)|0;t:do{if((o[s+4>>2]&-8|0)!=(O|0)){i=O<<j;v=s;while(1){J=v+(i>>>31<<2)+16|0;f=o[J>>2]|0;if((f|0)==0)break;if((o[f+4>>2]&-8|0)==(O|0)){X=f;break t}else{i=i<<1;v=f}}if(J>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[J>>2]=n;o[N+(E+24)>>2]=v;o[N+(E+12)>>2]=n;o[N+(E+8)>>2]=n;break e}}else X=s}while(0);s=X+8|0;u=o[s>>2]|0;i=o[9152>>2]|0;if(X>>>0<i>>>0)Ye();if(u>>>0<i>>>0)Ye();else{o[u+12>>2]=n;o[s>>2]=n;o[N+(E+8)>>2]=u;o[N+(E+12)>>2]=X;o[N+(E+24)>>2]=0;break}}else{u=O+E|0;o[N+4>>2]=u|3;s=N+(u+4)|0;o[s>>2]=o[s>>2]|1}}while(0);m=N+8|0;h=t;return m|0}else M=E}else M=E}else M=-1}while(0);N=o[9144>>2]|0;if(!(M>>>0>N>>>0)){O=N-M|0;X=o[9156>>2]|0;if(O>>>0>15){o[9156>>2]=X+M;o[9144>>2]=O;o[X+(M+4)>>2]=O|1;o[X+N>>2]=O;o[X+4>>2]=M|3}else{o[9144>>2]=0;o[9156>>2]=0;o[X+4>>2]=N|3;O=X+(N+4)|0;o[O>>2]=o[O>>2]|1}m=X+8|0;h=t;return m|0}X=o[9148>>2]|0;if(M>>>0<X>>>0){O=X-M|0;o[9148>>2]=O;X=o[9160>>2]|0;o[9160>>2]=X+M;o[X+(M+4)>>2]=O|1;o[X+4>>2]=M|3;m=X+8|0;h=t;return m|0}do{if((o[2402]|0)==0){X=qe(30)|0;if((X+-1&X|0)==0){o[9616>>2]=X;o[9612>>2]=X;o[9620>>2]=-1;o[9624>>2]=-1;o[9628>>2]=0;o[9580>>2]=0;o[2402]=(Fe(0)|0)&-16^1431655768;break}else Ye()}}while(0);X=M+48|0;O=o[9616>>2]|0;N=M+47|0;J=O+N|0;j=0-O|0;O=J&j;if(!(O>>>0>M>>>0)){m=0;h=t;return m|0}W=o[9576>>2]|0;if((W|0)!=0?(G=o[9568>>2]|0,z=G+O|0,z>>>0<=G>>>0|z>>>0>W>>>0):0){m=0;h=t;return m|0}e:do{if((o[9580>>2]&4|0)==0){W=o[9160>>2]|0;t:do{if((W|0)!=0){z=9584|0;while(1){G=o[z>>2]|0;if(!(G>>>0>W>>>0)?(q=z+4|0,(G+(o[q>>2]|0)|0)>>>0>W>>>0):0)break;G=o[z+8>>2]|0;if((G|0)==0){Y=182;break t}else z=G}if((z|0)!=0){G=J-(o[9148>>2]|0)&j;if(G>>>0<2147483647){I=Le(G|0)|0;V=(I|0)==((o[z>>2]|0)+(o[q>>2]|0)|0);K=I;Z=G;Q=V?I:-1;$=V?G:0;Y=191}else ee=0}else Y=182}else Y=182}while(0);do{if((Y|0)==182){W=Le(0)|0;if((W|0)!=(-1|0)){E=W;G=o[9612>>2]|0;V=G+-1|0;if((V&E|0)==0)te=O;else te=O-E+(V+E&0-G)|0;G=o[9568>>2]|0;E=G+te|0;if(te>>>0>M>>>0&te>>>0<2147483647){V=o[9576>>2]|0;if((V|0)!=0?E>>>0<=G>>>0|E>>>0>V>>>0:0){ee=0;break}V=Le(te|0)|0;E=(V|0)==(W|0);K=V;Z=te;Q=E?W:-1;$=E?te:0;Y=191}else ee=0}else ee=0}}while(0);t:do{if((Y|0)==191){E=0-Z|0;if((Q|0)!=(-1|0)){re=Q;ie=$;Y=202;break e}do{if((K|0)!=(-1|0)&Z>>>0<2147483647&Z>>>0<X>>>0?(W=o[9616>>2]|0,V=N-Z+W&0-W,V>>>0<2147483647):0)if((Le(V|0)|0)==(-1|0)){Le(E|0)|0;ee=$;break t}else{ne=V+Z|0;break}else ne=Z}while(0);if((K|0)==(-1|0))ee=$;else{re=K;ie=ne;Y=202;break e}}}while(0);o[9580>>2]=o[9580>>2]|4;oe=ee;Y=199}else{oe=0;Y=199}}while(0);if((((Y|0)==199?O>>>0<2147483647:0)?(ee=Le(O|0)|0,O=Le(0)|0,(O|0)!=(-1|0)&(ee|0)!=(-1|0)&ee>>>0<O>>>0):0)?(ne=O-ee|0,O=ne>>>0>(M+40|0)>>>0,O):0){re=ee;ie=O?ne:oe;Y=202}if((Y|0)==202){oe=(o[9568>>2]|0)+ie|0;o[9568>>2]=oe;if(oe>>>0>(o[9572>>2]|0)>>>0)o[9572>>2]=oe;oe=o[9160>>2]|0;e:do{if((oe|0)!=0){ne=9584|0;while(1){ae=o[ne>>2]|0;se=ne+4|0;le=o[se>>2]|0;if((re|0)==(ae+le|0)){Y=214;break}O=o[ne+8>>2]|0;if((O|0)==0)break;else ne=O}if(((Y|0)==214?(o[ne+12>>2]&8|0)==0:0)?oe>>>0>=ae>>>0&oe>>>0<re>>>0:0){o[se>>2]=le+ie;O=(o[9148>>2]|0)+ie|0;ee=oe+8|0;if((ee&7|0)==0)ue=0;else ue=0-ee&7;ee=O-ue|0;o[9160>>2]=oe+ue;o[9148>>2]=ee;o[oe+(ue+4)>>2]=ee|1;o[oe+(O+4)>>2]=40;o[9164>>2]=o[9624>>2];break}if(re>>>0<(o[9152>>2]|0)>>>0)o[9152>>2]=re;O=re+ie|0;ee=9584|0;while(1){if((o[ee>>2]|0)==(O|0)){Y=224;break}K=o[ee+8>>2]|0;if((K|0)==0)break;else ee=K}if((Y|0)==224?(o[ee+12>>2]&8|0)==0:0){o[ee>>2]=re;O=ee+4|0;o[O>>2]=(o[O>>2]|0)+ie;O=re+8|0;if((O&7|0)==0)ce=0;else ce=0-O&7;O=re+(ie+8)|0;if((O&7|0)==0)he=0;else he=0-O&7;O=re+(he+ie)|0;ne=ce+M|0;K=re+ne|0;$=O-(re+ce)-M|0;o[re+(ce+4)>>2]=M|3;t:do{if((O|0)!=(o[9160>>2]|0)){if((O|0)==(o[9156>>2]|0)){Z=(o[9144>>2]|0)+$|0;o[9144>>2]=Z;o[9156>>2]=K;o[re+(ne+4)>>2]=Z|1;o[re+(Z+ne)>>2]=Z;break}Z=ie+4|0;N=o[re+(Z+he)>>2]|0;if((N&3|0)==1){X=N&-8;Q=N>>>3;r:do{if(!(N>>>0<256)){te=o[re+((he|24)+ie)>>2]|0;q=o[re+(ie+12+he)>>2]|0;do{if((q|0)==(O|0)){j=he|16;J=re+(Z+j)|0;E=o[J>>2]|0;if((E|0)==0){z=re+(j+ie)|0;j=o[z>>2]|0;if((j|0)==0){fe=0;break}else{de=j;pe=z}}else{de=E;pe=J}while(1){J=de+20|0;E=o[J>>2]|0;if((E|0)!=0){de=E;pe=J;continue}J=de+16|0;E=o[J>>2]|0;if((E|0)==0)break;else{de=E;pe=J}}if(pe>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[pe>>2]=0;fe=de;break}}else{J=o[re+((he|8)+ie)>>2]|0;if(J>>>0<(o[9152>>2]|0)>>>0)Ye();E=J+12|0;if((o[E>>2]|0)!=(O|0))Ye();z=q+8|0;if((o[z>>2]|0)==(O|0)){o[E>>2]=q;o[z>>2]=J;fe=q;break}else Ye()}}while(0);if((te|0)==0)break;q=o[re+(ie+28+he)>>2]|0;v=9440+(q<<2)|0;do{if((O|0)!=(o[v>>2]|0)){if(te>>>0<(o[9152>>2]|0)>>>0)Ye();J=te+16|0;if((o[J>>2]|0)==(O|0))o[J>>2]=fe;else o[te+20>>2]=fe;if((fe|0)==0)break r}else{o[v>>2]=fe;if((fe|0)!=0)break;o[9140>>2]=o[9140>>2]&~(1<<q);break r}}while(0);if(fe>>>0<(o[9152>>2]|0)>>>0)Ye();o[fe+24>>2]=te;q=he|16;v=o[re+(q+ie)>>2]|0;do{if((v|0)!=0)if(v>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[fe+16>>2]=v;o[v+24>>2]=fe;break}}while(0);v=o[re+(Z+q)>>2]|0;if((v|0)==0)break;if(v>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[fe+20>>2]=v;o[v+24>>2]=fe;break}}else{v=o[re+((he|8)+ie)>>2]|0;te=o[re+(ie+12+he)>>2]|0;J=9176+(Q<<1<<2)|0;do{if((v|0)!=(J|0)){if(v>>>0<(o[9152>>2]|0)>>>0)Ye();if((o[v+12>>2]|0)==(O|0))break;Ye()}}while(0);if((te|0)==(v|0)){o[2284]=o[2284]&~(1<<Q);break}do{if((te|0)==(J|0))me=te+8|0;else{if(te>>>0<(o[9152>>2]|0)>>>0)Ye();q=te+8|0;if((o[q>>2]|0)==(O|0)){me=q;break}Ye()}}while(0);o[v+12>>2]=te;o[me>>2]=v}}while(0);Ee=re+((X|he)+ie)|0;ve=X+$|0}else{Ee=O;ve=$}Q=Ee+4|0;o[Q>>2]=o[Q>>2]&-2;o[re+(ne+4)>>2]=ve|1;o[re+(ve+ne)>>2]=ve;Q=ve>>>3;if(ve>>>0<256){Z=Q<<1;N=9176+(Z<<2)|0;J=o[2284]|0;q=1<<Q;do{if((J&q|0)==0){o[2284]=J|q;be=9176+(Z+2<<2)|0;ye=N}else{Q=9176+(Z+2<<2)|0;z=o[Q>>2]|0;if(!(z>>>0<(o[9152>>2]|0)>>>0)){be=Q;ye=z;break}Ye()}}while(0);o[be>>2]=K;o[ye+12>>2]=K;o[re+(ne+8)>>2]=ye;o[re+(ne+12)>>2]=N;break}Z=ve>>>8;do{if((Z|0)==0)ge=0;else{if(ve>>>0>16777215){ge=31;break}q=(Z+1048320|0)>>>16&8;J=Z<<q;X=(J+520192|0)>>>16&4;z=J<<X;J=(z+245760|0)>>>16&2;Q=14-(X|q|J)+(z<<J>>>15)|0;ge=ve>>>(Q+7|0)&1|Q<<1}}while(0);Z=9440+(ge<<2)|0;o[re+(ne+28)>>2]=ge;o[re+(ne+20)>>2]=0;o[re+(ne+16)>>2]=0;N=o[9140>>2]|0;Q=1<<ge;if((N&Q|0)==0){o[9140>>2]=N|Q;o[Z>>2]=K;o[re+(ne+24)>>2]=Z;o[re+(ne+12)>>2]=K;o[re+(ne+8)>>2]=K;break}Q=o[Z>>2]|0;if((ge|0)==31)_e=0;else _e=25-(ge>>>1)|0;r:do{if((o[Q+4>>2]&-8|0)!=(ve|0)){Z=ve<<_e;N=Q;while(1){Te=N+(Z>>>31<<2)+16|0;J=o[Te>>2]|0;if((J|0)==0)break;if((o[J+4>>2]&-8|0)==(ve|0)){we=J;break r}else{Z=Z<<1;N=J}}if(Te>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[Te>>2]=K;o[re+(ne+24)>>2]=N;o[re+(ne+12)>>2]=K;o[re+(ne+8)>>2]=K;break t}}else we=Q}while(0);Q=we+8|0;Z=o[Q>>2]|0;v=o[9152>>2]|0;if(we>>>0<v>>>0)Ye();if(Z>>>0<v>>>0)Ye();else{o[Z+12>>2]=K;o[Q>>2]=K;o[re+(ne+8)>>2]=Z;o[re+(ne+12)>>2]=we;o[re+(ne+24)>>2]=0;break}}else{Z=(o[9148>>2]|0)+$|0;o[9148>>2]=Z;o[9160>>2]=K;o[re+(ne+4)>>2]=Z|1}}while(0);m=re+(ce|8)|0;h=t;return m|0}ne=9584|0;while(1){Re=o[ne>>2]|0;if(!(Re>>>0>oe>>>0)?(xe=o[ne+4>>2]|0,Se=Re+xe|0,Se>>>0>oe>>>0):0)break;ne=o[ne+8>>2]|0}ne=Re+(xe+-39)|0;if((ne&7|0)==0)Me=0;else Me=0-ne&7;ne=Re+(xe+-47+Me)|0;K=ne>>>0<(oe+16|0)>>>0?oe:ne;ne=K+8|0;$=re+8|0;if(($&7|0)==0)He=0;else He=0-$&7;$=ie+-40-He|0;o[9160>>2]=re+He;o[9148>>2]=$;o[re+(He+4)>>2]=$|1;o[re+(ie+-36)>>2]=40;o[9164>>2]=o[9624>>2];o[K+4>>2]=27;o[ne+0>>2]=o[9584>>2];o[ne+4>>2]=o[9588>>2];o[ne+8>>2]=o[9592>>2];o[ne+12>>2]=o[9596>>2];o[9584>>2]=re;o[9588>>2]=ie;o[9596>>2]=0;o[9592>>2]=ne;ne=K+28|0;o[ne>>2]=7;if((K+32|0)>>>0<Se>>>0){$=ne;do{ne=$;$=$+4|0;o[$>>2]=7}while((ne+8|0)>>>0<Se>>>0)}if((K|0)!=(oe|0)){$=K-oe|0;ne=oe+($+4)|0;o[ne>>2]=o[ne>>2]&-2;o[oe+4>>2]=$|1;o[oe+$>>2]=$;ne=$>>>3;if($>>>0<256){O=ne<<1;ee=9176+(O<<2)|0;Z=o[2284]|0;Q=1<<ne;do{if((Z&Q|0)==0){o[2284]=Z|Q;Ae=9176+(O+2<<2)|0;Ce=ee}else{ne=9176+(O+2<<2)|0;v=o[ne>>2]|0;if(!(v>>>0<(o[9152>>2]|0)>>>0)){Ae=ne;Ce=v;break}Ye()}}while(0);o[Ae>>2]=oe;o[Ce+12>>2]=oe;o[oe+8>>2]=Ce;o[oe+12>>2]=ee;break}O=$>>>8;if((O|0)!=0)if($>>>0>16777215)Pe=31;else{Q=(O+1048320|0)>>>16&8;Z=O<<Q;O=(Z+520192|0)>>>16&4;K=Z<<O;Z=(K+245760|0)>>>16&2;v=14-(O|Q|Z)+(K<<Z>>>15)|0;Pe=$>>>(v+7|0)&1|v<<1}else Pe=0;v=9440+(Pe<<2)|0;o[oe+28>>2]=Pe;o[oe+20>>2]=0;o[oe+16>>2]=0;Z=o[9140>>2]|0;K=1<<Pe;if((Z&K|0)==0){o[9140>>2]=Z|K;o[v>>2]=oe;o[oe+24>>2]=v;o[oe+12>>2]=oe;o[oe+8>>2]=oe;break}K=o[v>>2]|0;if((Pe|0)==31)De=0;else De=25-(Pe>>>1)|0;t:do{if((o[K+4>>2]&-8|0)!=($|0)){v=$<<De;Z=K;while(1){ke=Z+(v>>>31<<2)+16|0;Q=o[ke>>2]|0;if((Q|0)==0)break;if((o[Q+4>>2]&-8|0)==($|0)){Be=Q;break t}else{v=v<<1;Z=Q}}if(ke>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[ke>>2]=oe;o[oe+24>>2]=Z;o[oe+12>>2]=oe;o[oe+8>>2]=oe;break e}}else Be=K}while(0);K=Be+8|0;$=o[K>>2]|0;ee=o[9152>>2]|0;if(Be>>>0<ee>>>0)Ye();if($>>>0<ee>>>0)Ye();else{o[$+12>>2]=oe;o[K>>2]=oe;o[oe+8>>2]=$;o[oe+12>>2]=Be;o[oe+24>>2]=0;break}}}else{$=o[9152>>2]|0;if(($|0)==0|re>>>0<$>>>0)o[9152>>2]=re;o[9584>>2]=re;o[9588>>2]=ie;o[9596>>2]=0;o[9172>>2]=o[2402];o[9168>>2]=-1;$=0;do{K=$<<1;ee=9176+(K<<2)|0;o[9176+(K+3<<2)>>2]=ee;o[9176+(K+2<<2)>>2]=ee;$=$+1|0}while(($|0)!=32);$=re+8|0;if(($&7|0)==0)Oe=0;else Oe=0-$&7;$=ie+-40-Oe|0;o[9160>>2]=re+Oe;o[9148>>2]=$;o[re+(Oe+4)>>2]=$|1;o[re+(ie+-36)>>2]=40;o[9164>>2]=o[9624>>2]}}while(0);ie=o[9148>>2]|0;if(ie>>>0>M>>>0){re=ie-M|0;o[9148>>2]=re;ie=o[9160>>2]|0;o[9160>>2]=ie+M;o[ie+(M+4)>>2]=re|1;o[ie+4>>2]=M|3;m=ie+8|0;h=t;return m|0}}o[(je()|0)>>2]=12;m=0;h=t;return m|0}function id(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0,D=0,k=0,L=0,B=0;t=h;if((e|0)==0){h=t;return}r=e+-8|0;i=o[9152>>2]|0;if(r>>>0<i>>>0)Ye();n=o[e+-4>>2]|0;a=n&3;if((a|0)==1)Ye();s=n&-8;l=e+(s+-8)|0;do{if((n&1|0)==0){u=o[r>>2]|0;if((a|0)==0){h=t;return}c=-8-u|0;f=e+c|0;d=u+s|0;if(f>>>0<i>>>0)Ye();if((f|0)==(o[9156>>2]|0)){p=e+(s+-4)|0;if((o[p>>2]&3|0)!=3){m=f;E=d;break}o[9144>>2]=d;o[p>>2]=o[p>>2]&-2;o[e+(c+4)>>2]=d|1;o[l>>2]=d;h=t;return}p=u>>>3;if(u>>>0<256){u=o[e+(c+8)>>2]|0;v=o[e+(c+12)>>2]|0;b=9176+(p<<1<<2)|0;if((u|0)!=(b|0)){if(u>>>0<i>>>0)Ye();if((o[u+12>>2]|0)!=(f|0))Ye()}if((v|0)==(u|0)){o[2284]=o[2284]&~(1<<p);m=f;E=d;break}if((v|0)!=(b|0)){if(v>>>0<i>>>0)Ye();b=v+8|0;if((o[b>>2]|0)==(f|0))y=b;else Ye()}else y=v+8|0;o[u+12>>2]=v;o[y>>2]=u;m=f;E=d;break}u=o[e+(c+24)>>2]|0;v=o[e+(c+12)>>2]|0;do{if((v|0)==(f|0)){b=e+(c+20)|0;p=o[b>>2]|0;if((p|0)==0){g=e+(c+16)|0;_=o[g>>2]|0;if((_|0)==0){T=0;break}else{w=_;R=g}}else{w=p;R=b}while(1){b=w+20|0;p=o[b>>2]|0;if((p|0)!=0){w=p;R=b;continue}b=w+16|0;p=o[b>>2]|0;if((p|0)==0)break;else{w=p;R=b}}if(R>>>0<i>>>0)Ye();else{o[R>>2]=0;T=w;break}}else{b=o[e+(c+8)>>2]|0;if(b>>>0<i>>>0)Ye();p=b+12|0;if((o[p>>2]|0)!=(f|0))Ye();g=v+8|0;if((o[g>>2]|0)==(f|0)){o[p>>2]=v;o[g>>2]=b;T=v;break}else Ye()}}while(0);if((u|0)!=0){v=o[e+(c+28)>>2]|0;b=9440+(v<<2)|0;if((f|0)==(o[b>>2]|0)){o[b>>2]=T;if((T|0)==0){o[9140>>2]=o[9140>>2]&~(1<<v);m=f;E=d;break}}else{if(u>>>0<(o[9152>>2]|0)>>>0)Ye();v=u+16|0;if((o[v>>2]|0)==(f|0))o[v>>2]=T;else o[u+20>>2]=T;if((T|0)==0){m=f;E=d;break}}if(T>>>0<(o[9152>>2]|0)>>>0)Ye();o[T+24>>2]=u;v=o[e+(c+16)>>2]|0;do{if((v|0)!=0)if(v>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[T+16>>2]=v;o[v+24>>2]=T;break}}while(0);v=o[e+(c+20)>>2]|0;if((v|0)!=0)if(v>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[T+20>>2]=v;o[v+24>>2]=T;m=f;E=d;break}else{m=f;E=d}}else{m=f;E=d}}else{m=r;E=s}}while(0);if(!(m>>>0<l>>>0))Ye();r=e+(s+-4)|0;T=o[r>>2]|0;if((T&1|0)==0)Ye();if((T&2|0)==0){if((l|0)==(o[9160>>2]|0)){i=(o[9148>>2]|0)+E|0;o[9148>>2]=i;o[9160>>2]=m;o[m+4>>2]=i|1;if((m|0)!=(o[9156>>2]|0)){h=t;return}o[9156>>2]=0;o[9144>>2]=0;h=t;return}if((l|0)==(o[9156>>2]|0)){i=(o[9144>>2]|0)+E|0;o[9144>>2]=i;o[9156>>2]=m;o[m+4>>2]=i|1;o[m+i>>2]=i;h=t;return}i=(T&-8)+E|0;w=T>>>3;do{if(!(T>>>0<256)){R=o[e+(s+16)>>2]|0;y=o[e+(s|4)>>2]|0;do{if((y|0)==(l|0)){a=e+(s+12)|0;n=o[a>>2]|0;if((n|0)==0){v=e+(s+8)|0;u=o[v>>2]|0;if((u|0)==0){x=0;break}else{S=u;M=v}}else{S=n;M=a}while(1){a=S+20|0;n=o[a>>2]|0;if((n|0)!=0){S=n;M=a;continue}a=S+16|0;n=o[a>>2]|0;if((n|0)==0)break;else{S=n;M=a}}if(M>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[M>>2]=0;x=S;break}}else{a=o[e+s>>2]|0;if(a>>>0<(o[9152>>2]|0)>>>0)Ye();n=a+12|0;if((o[n>>2]|0)!=(l|0))Ye();v=y+8|0;if((o[v>>2]|0)==(l|0)){o[n>>2]=y;o[v>>2]=a;x=y;break}else Ye()}}while(0);if((R|0)!=0){y=o[e+(s+20)>>2]|0;d=9440+(y<<2)|0;if((l|0)==(o[d>>2]|0)){o[d>>2]=x;if((x|0)==0){o[9140>>2]=o[9140>>2]&~(1<<y);break}}else{if(R>>>0<(o[9152>>2]|0)>>>0)Ye();y=R+16|0;if((o[y>>2]|0)==(l|0))o[y>>2]=x;else o[R+20>>2]=x;if((x|0)==0)break}if(x>>>0<(o[9152>>2]|0)>>>0)Ye();o[x+24>>2]=R;y=o[e+(s+8)>>2]|0;do{if((y|0)!=0)if(y>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[x+16>>2]=y;o[y+24>>2]=x;break}}while(0);y=o[e+(s+12)>>2]|0;if((y|0)!=0)if(y>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[x+20>>2]=y;o[y+24>>2]=x;break}}}else{y=o[e+s>>2]|0;R=o[e+(s|4)>>2]|0;d=9176+(w<<1<<2)|0;if((y|0)!=(d|0)){if(y>>>0<(o[9152>>2]|0)>>>0)Ye();if((o[y+12>>2]|0)!=(l|0))Ye()}if((R|0)==(y|0)){o[2284]=o[2284]&~(1<<w);break}if((R|0)!=(d|0)){if(R>>>0<(o[9152>>2]|0)>>>0)Ye();d=R+8|0;if((o[d>>2]|0)==(l|0))H=d;else Ye()}else H=R+8|0;o[y+12>>2]=R;o[H>>2]=y}}while(0);o[m+4>>2]=i|1;o[m+i>>2]=i;if((m|0)==(o[9156>>2]|0)){o[9144>>2]=i;h=t;return}else A=i}else{o[r>>2]=T&-2;o[m+4>>2]=E|1;o[m+E>>2]=E;A=E}E=A>>>3;if(A>>>0<256){T=E<<1;r=9176+(T<<2)|0;i=o[2284]|0;H=1<<E;if((i&H|0)!=0){E=9176+(T+2<<2)|0;l=o[E>>2]|0;if(l>>>0<(o[9152>>2]|0)>>>0)Ye();else{C=E;P=l}}else{o[2284]=i|H;C=9176+(T+2<<2)|0;P=r}o[C>>2]=m;o[P+12>>2]=m;o[m+8>>2]=P;o[m+12>>2]=r;h=t;return}r=A>>>8;if((r|0)!=0)if(A>>>0>16777215)F=31;else{P=(r+1048320|0)>>>16&8;C=r<<P;r=(C+520192|0)>>>16&4;T=C<<r;C=(T+245760|0)>>>16&2;H=14-(r|P|C)+(T<<C>>>15)|0;F=A>>>(H+7|0)&1|H<<1}else F=0;H=9440+(F<<2)|0;o[m+28>>2]=F;o[m+20>>2]=0;o[m+16>>2]=0;C=o[9140>>2]|0;T=1<<F;e:do{if((C&T|0)!=0){P=o[H>>2]|0;if((F|0)==31)D=0;else D=25-(F>>>1)|0;t:do{if((o[P+4>>2]&-8|0)!=(A|0)){r=A<<D;i=P;while(1){k=i+(r>>>31<<2)+16|0;l=o[k>>2]|0;if((l|0)==0)break;if((o[l+4>>2]&-8|0)==(A|0)){L=l;break t}else{r=r<<1;i=l}}if(k>>>0<(o[9152>>2]|0)>>>0)Ye();else{o[k>>2]=m;o[m+24>>2]=i;o[m+12>>2]=m;o[m+8>>2]=m;break e}}else L=P}while(0);P=L+8|0;r=o[P>>2]|0;l=o[9152>>2]|0;if(L>>>0<l>>>0)Ye();if(r>>>0<l>>>0)Ye();else{o[r+12>>2]=m;o[P>>2]=m;o[m+8>>2]=r;o[m+12>>2]=L;o[m+24>>2]=0;break}}else{o[9140>>2]=C|T;o[H>>2]=m;o[m+24>>2]=H;o[m+12>>2]=m;o[m+8>>2]=m}}while(0);m=(o[9168>>2]|0)+-1|0;o[9168>>2]=m;if((m|0)==0)B=9592|0;else{h=t;return}while(1){m=o[B>>2]|0;if((m|0)==0)break;else B=m+8|0}o[9168>>2]=-1;h=t;return}function nd(e){e=e|0;var t=0,r=0,i=0,n=0;t=h;r=(e|0)==0?1:e;while(1){i=rd(r)|0;if((i|0)!=0){n=6;break}e=o[2410]|0;o[2410]=e+0;if((e|0)==0){n=5;break}vp[e&1]()}if((n|0)==5){r=Ae(4)|0;o[r>>2]=9656;Xe(r|0,9704,92)}else if((n|0)==6){h=t;return i|0}return 0}function od(e,t){e=e|0;t=t|0;var r=0;t=h;r=nd(e)|0;h=t;return r|0}function ad(e){e=e|0;var t=0;t=h;if((e|0)!=0)id(e);h=t;return}function sd(e){e=e|0;var t=0;t=h;Je(e|0);ad(e);h=t;return}function ld(e){e=e|0;var t=0;t=h;Je(e|0);h=t;return}function ud(e){e=e|0;return 9672}function cd(){o[2428]=v}function hd(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0,s=0,l=0;n=e+r|0;if((r|0)>=20){t=t&255;a=e&3;s=t|t<<8|t<<16|t<<24;l=n&~3;if(a){a=e+4-a|0;while((e|0)<(a|0)){i[e>>0]=t;e=e+1|0}}while((e|0)<(l|0)){o[e>>2]=s;e=e+4|0}}while((e|0)<(n|0)){i[e>>0]=t;e=e+1|0}return e-r|0}function fd(e){e=e|0;var t=0;t=e;while(i[t>>0]|0)t=t+1|0;return t-e|0}function dd(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=e+r>>>0;return(D=t+i+(n>>>0<e>>>0|0)>>>0,n|0)|0}function pd(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if((r|0)>=4096)return Ue(e|0,t|0,r|0)|0;n=e|0;if((e&3)==(t&3)){while(e&3){if((r|0)==0)return n|0;i[e>>0]=i[t>>0]|0;e=e+1|0;t=t+1|0;r=r-1|0}while((r|0)>=4){o[e>>2]=o[t>>2];e=e+4|0;t=t+4|0;r=r-4|0}}while((r|0)>0){i[e>>0]=i[t>>0]|0;e=e+1|0;t=t+1|0;r=r-1|0}return n|0}function md(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if((t|0)<(e|0)&(e|0)<(t+r|0)){n=e;t=t+r|0;e=e+r|0;while((r|0)>0){e=e-1|0;t=t-1|0;r=r-1|0;i[e>>0]=i[t>>0]|0}e=n}else pd(e,t,r)|0;return e|0}function Ed(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=t-i>>>0;n=t-i-(r>>>0>e>>>0|0)>>>0;return(D=n,e-r>>>0|0)|0}function vd(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){D=t<<r|(e&(1<<r)-1<<32-r)>>>32-r;return e<<r}D=e<<r-32;return 0}function bd(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){D=t>>>r;return e>>>r|(t&(1<<r)-1)<<32-r}D=0;return t>>>r-32|0}function yd(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){D=t>>r;return e>>>r|(t&(1<<r)-1)<<32-r}D=(t|0)<0?-1:0;return t>>r-32|0}function gd(e){e=e|0;var t=0;t=i[E+(e>>>24)>>0]|0;if((t|0)<8)return t|0;t=i[E+(e>>16&255)>>0]|0;if((t|0)<8)return t+8|0;t=i[E+(e>>8&255)>>0]|0;if((t|0)<8)return t+16|0;return(i[E+(e&255)>>0]|0)+24|0}function _d(e){e=e|0;var t=0;t=i[m+(e&255)>>0]|0;if((t|0)<8)return t|0;t=i[m+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=i[m+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(i[m+(e>>>24)>>0]|0)+24|0}function Td(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,o=0;r=e&65535;i=t&65535;n=ie(i,r)|0;o=e>>>16;e=(n>>>16)+(ie(i,o)|0)|0;i=t>>>16;t=ie(i,r)|0;return(D=(e>>>16)+(ie(i,o)|0)+(((e&65535)+t|0)>>>16)|0,e+t<<16|n&65535|0)|0}function wd(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,o=0,a=0,s=0,l=0;n=t>>31|((t|0)<0?-1:0)<<1;o=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;a=i>>31|((i|0)<0?-1:0)<<1;s=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;l=Ed(n^e,o^t,n,o)|0;t=D;e=a^n;n=s^o;o=Ed((Hd(l,t,Ed(a^r,s^i,a,s)|0,D,0)|0)^e,D^n,e,n)|0;return o|0}function Rd(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,u=0,c=0,f=0;n=h;h=h+8|0;a=n|0;s=t>>31|((t|0)<0?-1:0)<<1;l=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;u=i>>31|((i|0)<0?-1:0)<<1;c=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;f=Ed(s^e,l^t,s,l)|0;t=D;Hd(f,t,Ed(u^r,c^i,u,c)|0,D,a)|0;c=Ed(o[a>>2]^s,o[a+4>>2]^l,s,l)|0;l=D;h=n;return(D=l,c)|0}function xd(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,o=0;n=e;e=r;r=Td(n,e)|0;o=D;return(D=(ie(t,e)|0)+(ie(i,n)|0)+o|o&0,r|0|0)|0}function Sd(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=Hd(e,t,r,i,0)|0;return n|0}function Md(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0;n=h;h=h+8|0;a=n|0;Hd(e,t,r,i,a)|0;h=n;return(D=o[a+4>>2]|0,o[a>>2]|0)|0}function Hd(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var a=0,s=0,l=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0,E=0,v=0,b=0,y=0,g=0,_=0,T=0,w=0,R=0,x=0,S=0,M=0,H=0,A=0,C=0,P=0,F=0;a=e;s=t;l=s;u=r;c=i;h=c;if((l|0)==0){f=(n|0)!=0;if((h|0)==0){if(f){o[n>>2]=(a>>>0)%(u>>>0);o[n+4>>2]=0}d=0;p=(a>>>0)/(u>>>0)>>>0;return(D=d,p)|0}else{if(!f){d=0;p=0;return(D=d,p)|0}o[n>>2]=e|0;o[n+4>>2]=t&0;d=0;p=0;return(D=d,p)|0}}f=(h|0)==0;do{if((u|0)!=0){if(!f){m=(gd(h|0)|0)-(gd(l|0)|0)|0;if(m>>>0<=31){E=m+1|0;v=31-m|0;b=m-31>>31;y=E;g=a>>>(E>>>0)&b|l<<v;_=l>>>(E>>>0)&b;T=0;w=a<<v;break}if((n|0)==0){d=0;p=0;return(D=d,p)|0}o[n>>2]=e|0;o[n+4>>2]=s|t&0;d=0;p=0;return(D=d,p)|0}v=u-1|0;if((v&u|0)!=0){b=(gd(u|0)|0)+33-(gd(l|0)|0)|0;E=64-b|0;m=32-b|0;R=m>>31;x=b-32|0;S=x>>31;y=b;g=m-1>>31&l>>>(x>>>0)|(l<<m|a>>>(b>>>0))&S;_=S&l>>>(b>>>0);T=a<<E&R;w=(l<<E|a>>>(x>>>0))&R|a<<m&b-33>>31;break}if((n|0)!=0){o[n>>2]=v&a;o[n+4>>2]=0}if((u|0)==1){d=s|t&0;p=e|0|0;return(D=d,p)|0}else{v=_d(u|0)|0;d=l>>>(v>>>0)|0;p=l<<32-v|a>>>(v>>>0)|0;return(D=d,p)|0}}else{if(f){if((n|0)!=0){o[n>>2]=(l>>>0)%(u>>>0);o[n+4>>2]=0}d=0;p=(l>>>0)/(u>>>0)>>>0;return(D=d,p)|0}if((a|0)==0){if((n|0)!=0){o[n>>2]=0;o[n+4>>2]=(l>>>0)%(h>>>0)}d=0;p=(l>>>0)/(h>>>0)>>>0;return(D=d,p)|0}v=h-1|0;if((v&h|0)==0){if((n|0)!=0){o[n>>2]=e|0;o[n+4>>2]=v&l|t&0}d=0;p=l>>>((_d(h|0)|0)>>>0);return(D=d,p)|0}v=(gd(h|0)|0)-(gd(l|0)|0)|0;if(v>>>0<=30){b=v+1|0;m=31-v|0;y=b;g=l<<m|a>>>(b>>>0);_=l>>>(b>>>0);T=0;w=a<<m;break}if((n|0)==0){d=0;p=0;return(D=d,p)|0}o[n>>2]=e|0;o[n+4>>2]=s|t&0;d=0;p=0;return(D=d,p)|0}}while(0);if((y|0)==0){M=w;H=T;A=_;C=g;P=0;F=0}else{t=r|0|0;r=c|i&0;i=dd(t,r,-1,-1)|0;c=D;s=w;w=T;T=_;_=g;g=y;y=0;do{e=s;s=w>>>31|s<<1;w=y|w<<1;a=_<<1|e>>>31|0;e=_>>>31|T<<1|0;Ed(i,c,a,e)|0;l=D;h=l>>31|((l|0)<0?-1:0)<<1;y=h&1;_=Ed(a,e,h&t,(((l|0)<0?-1:0)>>31|((l|0)<0?-1:0)<<1)&r)|0;T=D;g=g-1|0}while((g|0)!=0);M=s;H=w;A=T;C=_;P=0;F=y}y=H;H=0;if((n|0)!=0){o[n>>2]=C;o[n+4>>2]=A}d=(y|0)>>>31|(M|H)<<1|(H<<1|y>>>31)&0|P;p=(y<<1|0>>>31)&-2|F;return(D=d,p)|0}function Ad(e,t,r,i,n,o,a){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;a=+a;return+lp[e&1](t|0,r|0,i|0,n|0,o|0,+a)}function Cd(e,t){e=e|0;t=t|0;return up[e&7](t|0)|0}function Pd(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;cp[e&3](t|0,r|0,i|0,n|0,o|0)}function Fd(e,t,r){e=e|0;t=t|0;r=+r;return+hp[e&15](t|0,+r)}function Dd(e,t){e=e|0;t=t|0;fp[e&127](t|0)}function kd(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=+o;return+dp[e&1](t|0,r|0,i|0,n|0,+o)}function Ld(e,t,r){e=e|0;t=t|0;r=r|0;pp[e&63](t|0,r|0)}function Bd(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return mp[e&15](t|0,r|0,i|0)|0}function Od(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;Ep[e&7](t|0,r|0,i|0)}function Nd(e){e=e|0;vp[e&1]()}function Id(e,t,r,i){e=e|0;t=t|0;r=r|0;i=+i;bp[e&31](t|0,r|0,+i)}function Vd(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;return yp[e&7](t|0,r|0,i|0,n|0)|0}function Ud(e,t,r,i,n,o,a){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;a=a|0;gp[e&7](t|0,r|0,i|0,n|0,o|0,a|0)}function zd(e,t,r){e=e|0;t=t|0;r=r|0;return _p[e&31](t|0,r|0)|0}function Gd(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;return Tp[e&15](t|0,r|0,i|0,n|0,o|0)|0}function Wd(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;wp[e&31](t|0,r|0,i|0,n|0)}function jd(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=+o;ne(0);return 0}function Jd(e){e=e|0;ne(1);return 0}function Xd(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;ne(2)}function qd(e,t){e=e|0;t=+t;ne(3);return 0}function Yd(e){e=e|0;ne(4)}function Kd(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=+n;ne(5);return 0}function Zd(e,t){e=e|0;t=t|0;ne(6)}function Qd(e,t,r){e=e|0;t=t|0;r=r|0;ne(7);return 0}function $d(e,t,r){e=e|0;t=t|0;r=r|0;ne(8)}function ep(){ne(9)}function tp(){tt()}function rp(e,t,r){e=e|0;t=t|0;r=+r;ne(10)}function ip(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;ne(11);return 0}function np(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;ne(12)}function op(e,t){e=e|0;t=t|0;ne(13);return 0}function ap(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;ne(14);return 0}function sp(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;ne(15)}var lp=[jd,zu];var up=[Jd,Ec,wc,Pc,Uc,af,ud,Jd];var cp=[Xd,$f,Qf,Xd];var hp=[qd,Nh,qi,cn,Tn,kn,jn,no,wo,Uo,oa,ba,qd,qd,qd,qd];var fp=[Yd,xl,Vu,Rl,Wu,wl,qu,zs,nc,Ws,ic,Ns,oc,Nc,Oc,Sh,Mh,Vh,Uh,zh,Zi,$i,en,hn,fn,dn,wn,Rn,xn,Ln,Bn,On,Xn,qn,Yn,fo,po,mo,Ro,xo,So,Co,Po,Fo,qo,Yo,Ko,sa,la,ua,ya,_a,Ta,Sa,Ma,Fa,Da,Oa,Na,za,Ga,rs,is,ss,ls,fs,ds,vs,bs,Pr,Wr,Kt,Zt,tr,rr,nr,or,jh,Jh,wi,Kh,Qh,$h,rf,nf,ff,df,Gf,Jf,Wf,jf,Xf,ld,sd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd,Yd];var dp=[Kd,Uu];var pp=[Zd,Yu,Ku,Lh,Bh,Ih,Fh,Dh,ji,Ji,Qi,zi,Gi,sn,ln,nn,on,yn,gn,En,vn,Pn,Fn,Hn,An,zn,Gn,In,Vn,to,ro,Qn,$n,go,_o,vo,bo,No,Io,Lo,Bo,ra,ia,$o,ea,ma,Ea,ga,fa,da,jr,Jr,Af,Va,La,ms,es,cs,os,Ra,Zd,Zd,Zd,Zd];var mp=[Qd,Ju,vc,xc,Fc,Wc,xh,qh,ef,sf,mf,qf,Qd,Qd,Qd,Qd];var Ep=[$d,Zu,$u,tc,rc,Xr,qr,$d];var vp=[ep,tp];var bp=[rp,_c,Ac,Bc,Xc,Oh,Xi,un,_n,Dn,Wn,io,To,Vo,na,va,hf,rp,rp,rp,rp,rp,rp,rp,rp,rp,rp,rp,rp,rp,rp,rp];var yp=[ip,Hh,Ah,Yh,tf,ip,ip,ip];var gp=[np,bc,Sc,Dc,Gc,lf,td,ed];var _p=[op,Gu,ju,Xu,mc,Tc,Cc,Vc,kh,Wi,an,bn,Cn,Un,eo,yo,Oo,ta,pa,Qt,$t,Xh,Zh,of,pf,Hf,Ir,Ri,xi,Bi,Li,Vi];var Tp=[ap,yc,Mc,kc,jc,uf,Ia,ka,ps,$a,us,ns,wa,ap,ap,ap];var wp=[sp,Qu,ec,gc,Hc,Lc,Jc,xa,Ba,Ua,ts,as,hs,Es,er,ir,Wh,cf,Yf,Kf,sp,sp,sp,sp,sp,sp,sp,sp,sp,sp,sp,sp];return{_b2PrismaticJoint_IsMotorEnabled:au,_b2Body_GetWorldVector:ml,_strlen:fd,_b2Body_GetLocalVector:ll,_b2PrismaticJoint_GetMotorSpeed:iu,_b2RopeJointDef_Create:gu,_b2World_CreateParticleSystem:Hl,_b2ParticleSystem_SetRadius:Iu,_b2FrictionJointDef_Create:zl,_b2World_RayCast:kl,_b2MotorJointDef_InitializeAndCreate:Zl,_b2GearJoint_GetRatio:Wl,_b2Body_GetLocalPoint:sl,_memcpy:pd,_b2RevoluteJoint_EnableLimit:fu,_b2Body_DestroyFixture:rl,_b2World_Create:Sl,_b2PolygonShape_CreateFixture_3:Gs,_b2PolygonShape_CreateFixture_6:Xs,_b2PolygonShape_CreateFixture_7:qs,_b2PolygonShape_CreateFixture_4:js,_b2PolygonShape_CreateFixture_5:Js,_b2Body_SetAwake:El,_b2Body_GetWorldCenter:dl,_b2ParticleGroup_DestroyParticles:Au,_b2PrismaticJoint_EnableLimit:eu,_b2Fixture_TestPoint:Tl,_b2MotorJoint_SetLinearOffset:Yl,_free:id,_b2ParticleSystem_CreateParticle:Fu,_b2Body_SetLinearVelocity:bl,_b2CircleShape_CreateParticleGroup:Is,_b2WeldJointDef_Create:_u,_b2Body_GetAngularVelocity:nl,_b2Body_ApplyForceToCenter:el,_b2DistanceJointDef_InitializeAndCreate:Ul,_b2Body_ApplyForce:$s,_b2RevoluteJoint_SetMotorSpeed:yu,_b2Body_GetPosition:cl,_b2World_CreateBody:Ml,_b2Body_GetLinearVelocity:al,_b2Body_SetMassData:yl,_b2MouseJointDef_Create:$l,_b2ParticleSystem_GetColorBuffer:Du,_b2DistanceJointDef_Create:Vl,_b2ParticleSystem_GetPositionBuffer:Lu,_b2CircleShape_DestroyParticlesInShape:Vs,_b2World_QueryAABB:Dl,_b2PolygonShape_DestroyParticlesInShape_4:Zs,_b2RevoluteJointDef_InitializeAndCreate:bu,_b2GearJointDef_Create:jl,_b2PrismaticJoint_IsLimitEnabled:ou,_b2Contact_GetWorldManifold:Il,_b2WheelJoint_SetSpringFrequencyHz:Ru,_b2Body_ApplyTorque:tl,_b2ParticleGroup_ApplyLinearImpulse:Hu,_b2PrismaticJointDef_InitializeAndCreate:uu,_memset:hd,_b2MotorJointDef_Create:Kl,_b2World_DestroyBody:Cl,_b2RevoluteJointDef_Create:vu,_b2ParticleGroup_GetParticleCount:Pu,_b2World_SetGravity:Bl,_b2PrismaticJoint_EnableMotor:tu,_b2PolygonShape_CreateParticleGroup_4:Ks,_b2PolygonShape_CreateFixture_8:Ys,_b2Body_SetAngularVelocity:vl,_b2Body_GetWorldPoint:pl,_b2WheelJoint_SetMotorSpeed:wu,_b2FrictionJointDef_InitializeAndCreate:Gl,_b2World_SetContactListener:Ll,_b2ParticleSystem_SetDamping:Ou,_b2Body_SetType:_l,_b2Body_SetTransform:gl,_b2CircleShape_CreateFixture:Os,_b2RevoluteJoint_GetJointAngle:pu,_b2ParticleGroup_ApplyForce:Mu,_malloc:rd,_b2Contact_GetManifold:Nl,_b2RevoluteJoint_IsMotorEnabled:Eu,_b2ParticleSystem_GetVelocityBuffer:Bu,_b2RevoluteJoint_IsLimitEnabled:mu,_b2World_DestroyParticleSystem:Fl,_b2RevoluteJoint_EnableMotor:du,_b2Body_GetTransform:hl,_b2WeldJointDef_InitializeAndCreate:Tu,_b2EdgeShape_CreateFixture:Us,_b2Body_GetType:fl,_b2Manifold_GetPointCount:ks,_b2ParticleSystem_SetDensity:Nu,_b2PrismaticJoint_GetMotorForce:nu,_b2Joint_GetBodyA:Jl,_b2PulleyJointDef_InitializeAndCreate:hu,_b2Joint_GetBodyB:Xl,_b2ParticleSystem_GetParticleCount:ku,_b2MouseJoint_SetTarget:Ql,_b2Body_ApplyAngularImpulse:Qs,_b2ChainShape_CreateFixture:Ls,_b2World_DestroyJoint:Pl,_b2MotorJoint_SetAngularOffset:ql,_b2World_Delete:Al,_b2PrismaticJoint_GetJointTranslation:ru,_i64Add:dd,_b2Body_GetMass:ul,_b2Body_GetAngle:il,_b2ParticleGroup_GetBufferIndex:Cu,_b2WheelJointDef_InitializeAndCreate:Su,_b2World_Step:Ol,_b2PrismaticJointDef_Create:lu,_b2WheelJointDef_Create:xu,_b2PulleyJointDef_Create:cu,_b2Body_GetInertia:ol,_memmove:md,_b2PrismaticJoint_SetMotorSpeed:su,__GLOBAL__I_a:ac,runPostSets:cd,stackAlloc:Ss,stackSave:Ms,stackRestore:Hs,setThrew:As,setTempRet0:Fs,getTempRet0:Ds,dynCall_diiiiid:Ad,dynCall_ii:Cd,dynCall_viiiii:Pd,dynCall_did:Fd,dynCall_vi:Dd,dynCall_diiiid:kd,dynCall_vii:Ld,dynCall_iiii:Bd,dynCall_viii:Od,dynCall_v:Nd,dynCall_viid:Id,dynCall_iiiii:Vd,dynCall_viiiiii:Ud,dynCall_iii:zd,dynCall_iiiiii:Gd,dynCall_viiii:Wd}}({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array},{abort:abort,assert:assert,asmPrintInt:asmPrintInt,asmPrintFloat:asmPrintFloat,min:Math_min,invoke_diiiiid:invoke_diiiiid,invoke_ii:invoke_ii,invoke_viiiii:invoke_viiiii,invoke_did:invoke_did,invoke_vi:invoke_vi,invoke_diiiid:invoke_diiiid,invoke_vii:invoke_vii,invoke_iiii:invoke_iiii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_iiiiii:invoke_iiiiii,invoke_viiii:invoke_viiii,_cosf:_cosf,__ZSt9terminatev:__ZSt9terminatev,_b2WorldPreSolve:_b2WorldPreSolve,___cxa_is_number_type:___cxa_is_number_type,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_find_matching_catch:___cxa_find_matching_catch,_fflush:_fflush,_time:_time,__exit:__exit,___setErrNo:___setErrNo,_sbrk:_sbrk,___cxa_begin_catch:___cxa_begin_catch,_sinf:_sinf,___resumeException:___resumeException,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_b2WorldRayCastCallback:_b2WorldRayCastCallback,_emscripten_memcpy_big:_emscripten_memcpy_big,_floorf:_floorf,_sqrtf:_sqrtf,_b2WorldBeginContactBody:_b2WorldBeginContactBody,___errno_location:___errno_location,__ZNSt9exceptionD2Ev:__ZNSt9exceptionD2Ev,___cxa_throw:___cxa_throw,_sysconf:_sysconf,_abort:_abort,___cxa_does_inherit:___cxa_does_inherit,_b2WorldEndContactBody:_b2WorldEndContactBody,_b2WorldQueryAABB:_b2WorldQueryAABB,_b2WorldPostSolve:_b2WorldPostSolve,_exit:_exit,___cxa_pure_virtual:___cxa_pure_virtual,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8,ctlz_i8:ctlz_i8,NaN:NaN,Infinity:1/0,__ZTISt9exception:__ZTISt9exception},buffer),_b2PrismaticJoint_IsMotorEnabled=Module._b2PrismaticJoint_IsMotorEnabled=asm._b2PrismaticJoint_IsMotorEnabled,_b2Body_GetWorldVector=Module._b2Body_GetWorldVector=asm._b2Body_GetWorldVector,_strlen=Module._strlen=asm._strlen,_b2Body_GetLocalVector=Module._b2Body_GetLocalVector=asm._b2Body_GetLocalVector,_b2PrismaticJoint_GetMotorSpeed=Module._b2PrismaticJoint_GetMotorSpeed=asm._b2PrismaticJoint_GetMotorSpeed,_b2RopeJointDef_Create=Module._b2RopeJointDef_Create=asm._b2RopeJointDef_Create,_b2World_CreateParticleSystem=Module._b2World_CreateParticleSystem=asm._b2World_CreateParticleSystem,_b2ParticleSystem_SetRadius=Module._b2ParticleSystem_SetRadius=asm._b2ParticleSystem_SetRadius,_b2FrictionJointDef_Create=Module._b2FrictionJointDef_Create=asm._b2FrictionJointDef_Create,_b2World_RayCast=Module._b2World_RayCast=asm._b2World_RayCast,_b2MotorJointDef_InitializeAndCreate=Module._b2MotorJointDef_InitializeAndCreate=asm._b2MotorJointDef_InitializeAndCreate,_b2GearJoint_GetRatio=Module._b2GearJoint_GetRatio=asm._b2GearJoint_GetRatio,_b2Body_GetLocalPoint=Module._b2Body_GetLocalPoint=asm._b2Body_GetLocalPoint,_memcpy=Module._memcpy=asm._memcpy,_b2RevoluteJoint_EnableLimit=Module._b2RevoluteJoint_EnableLimit=asm._b2RevoluteJoint_EnableLimit,_b2Body_DestroyFixture=Module._b2Body_DestroyFixture=asm._b2Body_DestroyFixture,_b2World_Create=Module._b2World_Create=asm._b2World_Create,_b2PolygonShape_CreateFixture_3=Module._b2PolygonShape_CreateFixture_3=asm._b2PolygonShape_CreateFixture_3,_b2PolygonShape_CreateFixture_6=Module._b2PolygonShape_CreateFixture_6=asm._b2PolygonShape_CreateFixture_6,_b2PolygonShape_CreateFixture_7=Module._b2PolygonShape_CreateFixture_7=asm._b2PolygonShape_CreateFixture_7,_b2PolygonShape_CreateFixture_4=Module._b2PolygonShape_CreateFixture_4=asm._b2PolygonShape_CreateFixture_4,_b2PolygonShape_CreateFixture_5=Module._b2PolygonShape_CreateFixture_5=asm._b2PolygonShape_CreateFixture_5,_b2Body_SetAwake=Module._b2Body_SetAwake=asm._b2Body_SetAwake,_b2Body_GetWorldCenter=Module._b2Body_GetWorldCenter=asm._b2Body_GetWorldCenter,_b2ParticleGroup_DestroyParticles=Module._b2ParticleGroup_DestroyParticles=asm._b2ParticleGroup_DestroyParticles,_b2PrismaticJoint_EnableLimit=Module._b2PrismaticJoint_EnableLimit=asm._b2PrismaticJoint_EnableLimit,_b2Fixture_TestPoint=Module._b2Fixture_TestPoint=asm._b2Fixture_TestPoint,_b2MotorJoint_SetLinearOffset=Module._b2MotorJoint_SetLinearOffset=asm._b2MotorJoint_SetLinearOffset,_free=Module._free=asm._free,_b2ParticleSystem_CreateParticle=Module._b2ParticleSystem_CreateParticle=asm._b2ParticleSystem_CreateParticle,_b2Body_SetLinearVelocity=Module._b2Body_SetLinearVelocity=asm._b2Body_SetLinearVelocity,_b2CircleShape_CreateParticleGroup=Module._b2CircleShape_CreateParticleGroup=asm._b2CircleShape_CreateParticleGroup,_b2WeldJointDef_Create=Module._b2WeldJointDef_Create=asm._b2WeldJointDef_Create,_b2Body_GetAngularVelocity=Module._b2Body_GetAngularVelocity=asm._b2Body_GetAngularVelocity,_b2Body_ApplyForceToCenter=Module._b2Body_ApplyForceToCenter=asm._b2Body_ApplyForceToCenter,_b2DistanceJointDef_InitializeAndCreate=Module._b2DistanceJointDef_InitializeAndCreate=asm._b2DistanceJointDef_InitializeAndCreate,_b2Body_ApplyForce=Module._b2Body_ApplyForce=asm._b2Body_ApplyForce,_b2RevoluteJoint_SetMotorSpeed=Module._b2RevoluteJoint_SetMotorSpeed=asm._b2RevoluteJoint_SetMotorSpeed,_b2Body_GetPosition=Module._b2Body_GetPosition=asm._b2Body_GetPosition,_b2World_CreateBody=Module._b2World_CreateBody=asm._b2World_CreateBody,_b2Body_GetLinearVelocity=Module._b2Body_GetLinearVelocity=asm._b2Body_GetLinearVelocity,_b2Body_SetMassData=Module._b2Body_SetMassData=asm._b2Body_SetMassData,_b2MouseJointDef_Create=Module._b2MouseJointDef_Create=asm._b2MouseJointDef_Create,_b2ParticleSystem_GetColorBuffer=Module._b2ParticleSystem_GetColorBuffer=asm._b2ParticleSystem_GetColorBuffer,_b2DistanceJointDef_Create=Module._b2DistanceJointDef_Create=asm._b2DistanceJointDef_Create,_b2ParticleSystem_GetPositionBuffer=Module._b2ParticleSystem_GetPositionBuffer=asm._b2ParticleSystem_GetPositionBuffer,_b2CircleShape_DestroyParticlesInShape=Module._b2CircleShape_DestroyParticlesInShape=asm._b2CircleShape_DestroyParticlesInShape,_b2World_QueryAABB=Module._b2World_QueryAABB=asm._b2World_QueryAABB,_b2PolygonShape_DestroyParticlesInShape_4=Module._b2PolygonShape_DestroyParticlesInShape_4=asm._b2PolygonShape_DestroyParticlesInShape_4,_b2RevoluteJointDef_InitializeAndCreate=Module._b2RevoluteJointDef_InitializeAndCreate=asm._b2RevoluteJointDef_InitializeAndCreate,_b2GearJointDef_Create=Module._b2GearJointDef_Create=asm._b2GearJointDef_Create,_b2PrismaticJoint_IsLimitEnabled=Module._b2PrismaticJoint_IsLimitEnabled=asm._b2PrismaticJoint_IsLimitEnabled,_b2Contact_GetWorldManifold=Module._b2Contact_GetWorldManifold=asm._b2Contact_GetWorldManifold,_b2WheelJoint_SetSpringFrequencyHz=Module._b2WheelJoint_SetSpringFrequencyHz=asm._b2WheelJoint_SetSpringFrequencyHz,_b2Body_ApplyTorque=Module._b2Body_ApplyTorque=asm._b2Body_ApplyTorque,_b2ParticleGroup_ApplyLinearImpulse=Module._b2ParticleGroup_ApplyLinearImpulse=asm._b2ParticleGroup_ApplyLinearImpulse,_b2PrismaticJointDef_InitializeAndCreate=Module._b2PrismaticJointDef_InitializeAndCreate=asm._b2PrismaticJointDef_InitializeAndCreate,_memset=Module._memset=asm._memset,_b2MotorJointDef_Create=Module._b2MotorJointDef_Create=asm._b2MotorJointDef_Create,_b2World_DestroyBody=Module._b2World_DestroyBody=asm._b2World_DestroyBody,_b2RevoluteJointDef_Create=Module._b2RevoluteJointDef_Create=asm._b2RevoluteJointDef_Create,_b2ParticleGroup_GetParticleCount=Module._b2ParticleGroup_GetParticleCount=asm._b2ParticleGroup_GetParticleCount,_b2World_SetGravity=Module._b2World_SetGravity=asm._b2World_SetGravity,_b2PrismaticJoint_EnableMotor=Module._b2PrismaticJoint_EnableMotor=asm._b2PrismaticJoint_EnableMotor,_b2PolygonShape_CreateParticleGroup_4=Module._b2PolygonShape_CreateParticleGroup_4=asm._b2PolygonShape_CreateParticleGroup_4,_b2PolygonShape_CreateFixture_8=Module._b2PolygonShape_CreateFixture_8=asm._b2PolygonShape_CreateFixture_8,_b2Body_SetAngularVelocity=Module._b2Body_SetAngularVelocity=asm._b2Body_SetAngularVelocity,_b2Body_GetWorldPoint=Module._b2Body_GetWorldPoint=asm._b2Body_GetWorldPoint,_b2WheelJoint_SetMotorSpeed=Module._b2WheelJoint_SetMotorSpeed=asm._b2WheelJoint_SetMotorSpeed,_b2FrictionJointDef_InitializeAndCreate=Module._b2FrictionJointDef_InitializeAndCreate=asm._b2FrictionJointDef_InitializeAndCreate,_b2World_SetContactListener=Module._b2World_SetContactListener=asm._b2World_SetContactListener,_b2ParticleSystem_SetDamping=Module._b2ParticleSystem_SetDamping=asm._b2ParticleSystem_SetDamping,_b2Body_SetType=Module._b2Body_SetType=asm._b2Body_SetType,_b2Body_SetTransform=Module._b2Body_SetTransform=asm._b2Body_SetTransform,_b2CircleShape_CreateFixture=Module._b2CircleShape_CreateFixture=asm._b2CircleShape_CreateFixture,_b2RevoluteJoint_GetJointAngle=Module._b2RevoluteJoint_GetJointAngle=asm._b2RevoluteJoint_GetJointAngle,_b2ParticleGroup_ApplyForce=Module._b2ParticleGroup_ApplyForce=asm._b2ParticleGroup_ApplyForce,_malloc=Module._malloc=asm._malloc,_b2Contact_GetManifold=Module._b2Contact_GetManifold=asm._b2Contact_GetManifold,_b2RevoluteJoint_IsMotorEnabled=Module._b2RevoluteJoint_IsMotorEnabled=asm._b2RevoluteJoint_IsMotorEnabled,_b2ParticleSystem_GetVelocityBuffer=Module._b2ParticleSystem_GetVelocityBuffer=asm._b2ParticleSystem_GetVelocityBuffer,_b2RevoluteJoint_IsLimitEnabled=Module._b2RevoluteJoint_IsLimitEnabled=asm._b2RevoluteJoint_IsLimitEnabled,_b2World_DestroyParticleSystem=Module._b2World_DestroyParticleSystem=asm._b2World_DestroyParticleSystem,_b2RevoluteJoint_EnableMotor=Module._b2RevoluteJoint_EnableMotor=asm._b2RevoluteJoint_EnableMotor,_b2Body_GetTransform=Module._b2Body_GetTransform=asm._b2Body_GetTransform,_b2WeldJointDef_InitializeAndCreate=Module._b2WeldJointDef_InitializeAndCreate=asm._b2WeldJointDef_InitializeAndCreate,_b2EdgeShape_CreateFixture=Module._b2EdgeShape_CreateFixture=asm._b2EdgeShape_CreateFixture,_b2Body_GetType=Module._b2Body_GetType=asm._b2Body_GetType,_b2Manifold_GetPointCount=Module._b2Manifold_GetPointCount=asm._b2Manifold_GetPointCount,_b2ParticleSystem_SetDensity=Module._b2ParticleSystem_SetDensity=asm._b2ParticleSystem_SetDensity,_b2PrismaticJoint_GetMotorForce=Module._b2PrismaticJoint_GetMotorForce=asm._b2PrismaticJoint_GetMotorForce,_b2Joint_GetBodyA=Module._b2Joint_GetBodyA=asm._b2Joint_GetBodyA,_b2PulleyJointDef_InitializeAndCreate=Module._b2PulleyJointDef_InitializeAndCreate=asm._b2PulleyJointDef_InitializeAndCreate,_b2Joint_GetBodyB=Module._b2Joint_GetBodyB=asm._b2Joint_GetBodyB,_b2ParticleSystem_GetParticleCount=Module._b2ParticleSystem_GetParticleCount=asm._b2ParticleSystem_GetParticleCount,_b2MouseJoint_SetTarget=Module._b2MouseJoint_SetTarget=asm._b2MouseJoint_SetTarget,_b2Body_ApplyAngularImpulse=Module._b2Body_ApplyAngularImpulse=asm._b2Body_ApplyAngularImpulse,_b2ChainShape_CreateFixture=Module._b2ChainShape_CreateFixture=asm._b2ChainShape_CreateFixture,_b2World_DestroyJoint=Module._b2World_DestroyJoint=asm._b2World_DestroyJoint,_b2MotorJoint_SetAngularOffset=Module._b2MotorJoint_SetAngularOffset=asm._b2MotorJoint_SetAngularOffset,_b2World_Delete=Module._b2World_Delete=asm._b2World_Delete,_b2PrismaticJoint_GetJointTranslation=Module._b2PrismaticJoint_GetJointTranslation=asm._b2PrismaticJoint_GetJointTranslation,_i64Add=Module._i64Add=asm._i64Add,_b2Body_GetMass=Module._b2Body_GetMass=asm._b2Body_GetMass,_b2Body_GetAngle=Module._b2Body_GetAngle=asm._b2Body_GetAngle,_b2ParticleGroup_GetBufferIndex=Module._b2ParticleGroup_GetBufferIndex=asm._b2ParticleGroup_GetBufferIndex,_b2WheelJointDef_InitializeAndCreate=Module._b2WheelJointDef_InitializeAndCreate=asm._b2WheelJointDef_InitializeAndCreate,_b2World_Step=Module._b2World_Step=asm._b2World_Step,_b2PrismaticJointDef_Create=Module._b2PrismaticJointDef_Create=asm._b2PrismaticJointDef_Create,_b2WheelJointDef_Create=Module._b2WheelJointDef_Create=asm._b2WheelJointDef_Create,_b2PulleyJointDef_Create=Module._b2PulleyJointDef_Create=asm._b2PulleyJointDef_Create,_b2Body_GetInertia=Module._b2Body_GetInertia=asm._b2Body_GetInertia,_memmove=Module._memmove=asm._memmove,_b2PrismaticJoint_SetMotorSpeed=Module._b2PrismaticJoint_SetMotorSpeed=asm._b2PrismaticJoint_SetMotorSpeed,__GLOBAL__I_a=Module.__GLOBAL__I_a=asm.__GLOBAL__I_a,runPostSets=Module.runPostSets=asm.runPostSets,dynCall_diiiiid=Module.dynCall_diiiiid=asm.dynCall_diiiiid,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_did=Module.dynCall_did=asm.dynCall_did,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_diiiid=Module.dynCall_diiiid=asm.dynCall_diiiid,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0;var i64Math=function(){var e={math:{}};e.math.Long=function(e,t){this.low_=0|e,this.high_=0|t},e.math.Long.IntCache_={},e.math.Long.fromInt=function(t){if(-128<=t&&t<128){var r=e.math.Long.IntCache_[t];if(r)return r}var i=new e.math.Long(0|t,t<0?-1:0);return-128<=t&&t<128&&(e.math.Long.IntCache_[t]=i),i},e.math.Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.math.Long.ZERO:t<=-e.math.Long.TWO_PWR_63_DBL_?e.math.Long.MIN_VALUE:t+1>=e.math.Long.TWO_PWR_63_DBL_?e.math.Long.MAX_VALUE:t<0?e.math.Long.fromNumber(-t).negate():new e.math.Long(t%e.math.Long.TWO_PWR_32_DBL_|0,t/e.math.Long.TWO_PWR_32_DBL_|0)},e.math.Long.fromBits=function(t,r){return new e.math.Long(t,r)},e.math.Long.fromString=function(t,r){if(0==t.length)throw Error("number format error: empty string");var i=r||10;if(i<2||36<i)throw Error("radix out of range: "+i);if("-"==t.charAt(0))return e.math.Long.fromString(t.substring(1),i).negate();if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+t);for(var n=e.math.Long.fromNumber(Math.pow(i,8)),o=e.math.Long.ZERO,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),l=parseInt(t.substring(a,a+s),i);if(s<8){var u=e.math.Long.fromNumber(Math.pow(i,s));o=o.multiply(u).add(e.math.Long.fromNumber(l))}else o=(o=o.multiply(n)).add(e.math.Long.fromNumber(l))}return o},e.math.Long.TWO_PWR_16_DBL_=65536,e.math.Long.TWO_PWR_24_DBL_=1<<24,e.math.Long.TWO_PWR_32_DBL_=e.math.Long.TWO_PWR_16_DBL_*e.math.Long.TWO_PWR_16_DBL_,e.math.Long.TWO_PWR_31_DBL_=e.math.Long.TWO_PWR_32_DBL_/2,e.math.Long.TWO_PWR_48_DBL_=e.math.Long.TWO_PWR_32_DBL_*e.math.Long.TWO_PWR_16_DBL_,e.math.Long.TWO_PWR_64_DBL_=e.math.Long.TWO_PWR_32_DBL_*e.math.Long.TWO_PWR_32_DBL_,e.math.Long.TWO_PWR_63_DBL_=e.math.Long.TWO_PWR_64_DBL_/2,e.math.Long.ZERO=e.math.Long.fromInt(0),e.math.Long.ONE=e.math.Long.fromInt(1),e.math.Long.NEG_ONE=e.math.Long.fromInt(-1),e.math.Long.MAX_VALUE=e.math.Long.fromBits(-1,2147483647),e.math.Long.MIN_VALUE=e.math.Long.fromBits(0,-2147483648),e.math.Long.TWO_PWR_24_=e.math.Long.fromInt(1<<24),e.math.Long.prototype.toInt=function(){return this.low_},e.math.Long.prototype.toNumber=function(){return this.high_*e.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},e.math.Long.prototype.toString=function(t){var r=t||10;if(r<2||36<r)throw Error("radix out of range: "+r);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(e.math.Long.MIN_VALUE)){var i=e.math.Long.fromNumber(r),n=this.div(i),o=n.multiply(i).subtract(this);return n.toString(r)+o.toInt().toString(r)}return"-"+this.negate().toString(r)}for(var a=e.math.Long.fromNumber(Math.pow(r,6)),s=(o=this,"");;){var l=o.div(a),u=o.subtract(l.multiply(a)).toInt().toString(r);if((o=l).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},e.math.Long.prototype.getHighBits=function(){return this.high_},e.math.Long.prototype.getLowBits=function(){return this.low_},e.math.Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:e.math.Long.TWO_PWR_32_DBL_+this.low_},e.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high_?r+33:r+1},e.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},e.math.Long.prototype.isNegative=function(){return this.high_<0},e.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},e.math.Long.prototype.equals=function(e){return this.high_==e.high_&&this.low_==e.low_},e.math.Long.prototype.notEquals=function(e){return this.high_!=e.high_||this.low_!=e.low_},e.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},e.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},e.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},e.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.subtract(e).isNegative()?-1:1},e.math.Long.prototype.negate=function(){return this.equals(e.math.Long.MIN_VALUE)?e.math.Long.MIN_VALUE:this.not().add(e.math.Long.ONE)},e.math.Long.prototype.add=function(t){var r=this.high_>>>16,i=65535&this.high_,n=this.low_>>>16,o=65535&this.low_,a=t.high_>>>16,s=65535&t.high_,l=t.low_>>>16,u=0,c=0,h=0,f=0;return h+=(f+=o+(65535&t.low_))>>>16,f&=65535,c+=(h+=n+l)>>>16,h&=65535,u+=(c+=i+s)>>>16,c&=65535,u+=r+a,u&=65535,e.math.Long.fromBits(h<<16|f,u<<16|c)},e.math.Long.prototype.subtract=function(e){return this.add(e.negate())},e.math.Long.prototype.multiply=function(t){if(this.isZero())return e.math.Long.ZERO;if(t.isZero())return e.math.Long.ZERO;if(this.equals(e.math.Long.MIN_VALUE))return t.isOdd()?e.math.Long.MIN_VALUE:e.math.Long.ZERO;if(t.equals(e.math.Long.MIN_VALUE))return this.isOdd()?e.math.Long.MIN_VALUE:e.math.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(e.math.Long.TWO_PWR_24_)&&t.lessThan(e.math.Long.TWO_PWR_24_))return e.math.Long.fromNumber(this.toNumber()*t.toNumber());var r=this.high_>>>16,i=65535&this.high_,n=this.low_>>>16,o=65535&this.low_,a=t.high_>>>16,s=65535&t.high_,l=t.low_>>>16,u=65535&t.low_,c=0,h=0,f=0,d=0;return f+=(d+=o*u)>>>16,d&=65535,h+=(f+=n*u)>>>16,f&=65535,h+=(f+=o*l)>>>16,f&=65535,c+=(h+=i*u)>>>16,h&=65535,c+=(h+=n*l)>>>16,h&=65535,c+=(h+=o*s)>>>16,h&=65535,c+=r*u+i*l+n*s+o*a,c&=65535,e.math.Long.fromBits(f<<16|d,c<<16|h)},e.math.Long.prototype.div=function(t){if(t.isZero())throw Error("division by zero");if(this.isZero())return e.math.Long.ZERO;if(this.equals(e.math.Long.MIN_VALUE)){if(t.equals(e.math.Long.ONE)||t.equals(e.math.Long.NEG_ONE))return e.math.Long.MIN_VALUE;if(t.equals(e.math.Long.MIN_VALUE))return e.math.Long.ONE;if((n=this.shiftRight(1).div(t).shiftLeft(1)).equals(e.math.Long.ZERO))return t.isNegative()?e.math.Long.ONE:e.math.Long.NEG_ONE;var r=this.subtract(t.multiply(n));return n.add(r.div(t))}if(t.equals(e.math.Long.MIN_VALUE))return e.math.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var i=e.math.Long.ZERO;for(r=this;r.greaterThanOrEqual(t);){for(var n=Math.max(1,Math.floor(r.toNumber()/t.toNumber())),o=Math.ceil(Math.log(n)/Math.LN2),a=o<=48?1:Math.pow(2,o-48),s=e.math.Long.fromNumber(n),l=s.multiply(t);l.isNegative()||l.greaterThan(r);)n-=a,l=(s=e.math.Long.fromNumber(n)).multiply(t);s.isZero()&&(s=e.math.Long.ONE),i=i.add(s),r=r.subtract(l)}return i},e.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},e.math.Long.prototype.not=function(){return e.math.Long.fromBits(~this.low_,~this.high_)},e.math.Long.prototype.and=function(t){return e.math.Long.fromBits(this.low_&t.low_,this.high_&t.high_)},e.math.Long.prototype.or=function(t){return e.math.Long.fromBits(this.low_|t.low_,this.high_|t.high_)},e.math.Long.prototype.xor=function(t){return e.math.Long.fromBits(this.low_^t.low_,this.high_^t.high_)},e.math.Long.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var r=this.low_;if(t<32){var i=this.high_;return e.math.Long.fromBits(r<<t,i<<t|r>>>32-t)}return e.math.Long.fromBits(0,r<<t-32)},e.math.Long.prototype.shiftRight=function(t){if(0==(t&=63))return this;var r=this.high_;if(t<32){var i=this.low_;return e.math.Long.fromBits(i>>>t|r<<32-t,r>>t)}return e.math.Long.fromBits(r>>t-32,r>=0?0:-1)},e.math.Long.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var r=this.high_;if(t<32){var i=this.low_;return e.math.Long.fromBits(i>>>t|r<<32-t,r>>>t)}return 32==t?e.math.Long.fromBits(r,0):e.math.Long.fromBits(r>>>t-32,0)};var t,r="Modern Browser";function i(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new i(null)}"Microsoft Internet Explorer"==r?(i.prototype.am=function(e,t,r,i,n,o){for(var a=32767&t,s=t>>15;--o>=0;){var l=32767&this[e],u=this[e++]>>15,c=s*l+u*a;n=((l=a*l+((32767&c)<<15)+r[i]+(1073741823&n))>>>30)+(c>>>15)+s*u+(n>>>30),r[i++]=1073741823&l}return n},t=30):"Netscape"!=r?(i.prototype.am=function(e,t,r,i,n,o){for(;--o>=0;){var a=t*this[e++]+r[i]+n;n=Math.floor(a/67108864),r[i++]=67108863&a}return n},t=26):(i.prototype.am=function(e,t,r,i,n,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this[e],u=this[e++]>>14,c=s*l+u*a;n=((l=a*l+((16383&c)<<14)+r[i]+n)>>28)+(c>>14)+s*u,r[i++]=268435455&l}return n},t=28),i.prototype.DB=t,i.prototype.DM=(1<<t)-1,i.prototype.DV=1<<t;i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-t,i.prototype.F2=2*t-52;var o,a,s="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array;for(o="0".charCodeAt(0),a=0;a<=9;++a)l[o++]=a;for(o="a".charCodeAt(0),a=10;a<36;++a)l[o++]=a;for(o="A".charCodeAt(0),a=10;a<36;++a)l[o++]=a;function u(e){return s.charAt(e)}function c(e,t){var r=l[e.charCodeAt(t)];return null==r?-1:r}function h(e){var t=n();return t.fromInt(e),t}function f(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function d(e){this.m=e}function p(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}d.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},d.prototype.revert=function(e){return e},d.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},d.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},d.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p.prototype.convert=function(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(i.ZERO)>0&&this.m.subTo(t,t),t},p.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},p.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],i=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},p.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},i.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},i.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0},i.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,o=!1,a=0;--n>=0;){var s=8==r?255&e[n]:c(e,n);s<0?"-"==e.charAt(n)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},i.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},i.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},i.prototype.lShiftTo=function(e,t){var r,i=e%this.DB,n=this.DB-i,o=(1<<n)-1,a=Math.floor(e/this.DB),s=this.s<<i&this.DM;for(r=this.t-1;r>=0;--r)t[r+a+1]=this[r]>>n|s,s=(this[r]&o)<<i;for(r=a-1;r>=0;--r)t[r]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},i.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var i=e%this.DB,n=this.DB-i,o=(1<<i)-1;t[0]=this[r]>>i;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<n,t[a-r]=this[a]>>i;i>0&&(t[this.t-r-1]|=(this.s&o)<<n),t.t=this.t-r,t.clamp()}},i.prototype.subTo=function(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this[r]-e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i-=e[r],t[r++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[r++]=this.DV+i:i>0&&(t[r++]=i),t.t=r,t.clamp()},i.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),o=r.t;for(t.t=o+n.t;--o>=0;)t[o]=0;for(o=0;o<n.t;++o)t[o+r.t]=r.am(0,n[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&i.ZERO.subTo(t,t)},i.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var i=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,i,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},i.prototype.divRemTo=function(e,t,r){var o=e.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=n());var s=n(),l=this.s,u=e.s,c=this.DB-f(o[o.t-1]);c>0?(o.lShiftTo(c,s),a.lShiftTo(c,r)):(o.copyTo(s),a.copyTo(r));var h=s.t,d=s[h-1];if(0!=d){var p=d*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),m=this.FV/p,E=(1<<this.F1)/p,v=1<<this.F2,b=r.t,y=b-h,g=null==t?n():t;for(s.dlShiftTo(y,g),r.compareTo(g)>=0&&(r[r.t++]=1,r.subTo(g,r)),i.ONE.dlShiftTo(h,g),g.subTo(s,s);s.t<h;)s[s.t++]=0;for(;--y>=0;){var _=r[--b]==d?this.DM:Math.floor(r[b]*m+(r[b-1]+v)*E);if((r[b]+=s.am(0,_,r,y,0,h))<_)for(s.dlShiftTo(y,g),r.subTo(g,r);r[b]<--_;)r.subTo(g,r)}null!=t&&(r.drShiftTo(h,t),l!=u&&i.ZERO.subTo(t,t)),r.t=h,r.clamp(),c>0&&r.rShiftTo(c,r),l<0&&i.ZERO.subTo(r,r)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},i.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},i.prototype.exp=function(e,t){if(e>4294967295||e<1)return i.ONE;var r=n(),o=n(),a=t.convert(this),s=f(e)-1;for(a.copyTo(r);--s>=0;)if(t.sqrTo(r,o),(e&1<<s)>0)t.mulTo(o,a,r);else{var l=r;r=o,o=l}return t.revert(r)},i.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,i=(1<<t)-1,n=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(n=!0,o=u(r));a>=0;)s<t?(r=(this[a]&(1<<s)-1)<<t-s,r|=this[--a]>>(s+=this.DB-t)):(r=this[a]>>(s-=t)&i,s<=0&&(s+=this.DB,--a)),r>0&&(n=!0),n&&(o+=u(r));return n?o:"0"},i.prototype.negate=function(){var e=n();return i.ZERO.subTo(this,e),e},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},i.prototype.mod=function(e){var t=n();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(i.ZERO)>0&&e.subTo(t,t),t},i.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new d(t):new p(t),this.exp(e,r)},i.ZERO=h(0),i.ONE=h(1),i.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),o=!1,a=0,s=0,l=0;l<e.length;++l){var u=c(e,l);u<0?"-"==e.charAt(l)&&0==this.signum()&&(o=!0):(s=t*s+u,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),o&&i.ZERO.subTo(this,this)},i.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},i.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},i.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},i.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},i.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=h(r),o=n(),a=n(),s="";for(this.divRemTo(i,o,a);o.signum()>0;)s=(r+a.intValue()).toString(e).substr(1)+s,o.divRemTo(i,o,a);return a.intValue().toString(e)+s},i.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},i.prototype.addTo=function(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this[r]+e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i+=e[r],t[r++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[r++]=i:i<-1&&(t[r++]=this.DV+i),t.t=r,t.clamp()};var m={abs:function(t,r){var i,n=new e.math.Long(t,r);i=n.isNegative()?n.negate():n,HEAP32[tempDoublePtr>>2]=i.low_,HEAP32[tempDoublePtr+4>>2]=i.high_},ensureTemps:function(){m.ensuredTemps||(m.ensuredTemps=!0,m.two32=new i,m.two32.fromString("4294967296",10),m.two64=new i,m.two64.fromString("18446744073709551616",10),m.temp1=new i,m.temp2=new i)},lh2bignum:function(e,t){var r=new i;r.fromString(t.toString(),10);var n=new i;r.multiplyTo(m.two32,n);var o=new i;o.fromString(e.toString(),10);var a=new i;return o.addTo(n,a),a},stringify:function(t,r,n){var o=new e.math.Long(t,r).toString();if(n&&"-"==o[0]){m.ensureTemps();var a=new i;a.fromString(o,10),o=new i,m.two64.addTo(a,o),o=o.toString(10)}return o},fromString:function(t,r,n,o,a){m.ensureTemps();var s=new i;s.fromString(t,r);var l=new i;l.fromString(n,10);var u=new i;if(u.fromString(o,10),a&&s.compareTo(i.ZERO)<0){var c=new i;s.addTo(m.two64,c),s=c}var h=!1;s.compareTo(l)<0?(s=l,h=!0):s.compareTo(u)>0&&(s=u,h=!0);var f=e.math.Long.fromString(s.toString());if(HEAP32[tempDoublePtr>>2]=f.low_,HEAP32[tempDoublePtr+4>>2]=f.high_,h)throw"range error"}};return m}(),initialStackTop;if(memoryInitializer)if(ENVIRONMENT_IS_NODE||ENVIRONMENT_IS_SHELL){var data=Module.readBinary(memoryInitializer);HEAPU8.set(data,STATIC_BASE)}else addRunDependency("memory initializer"),Browser.asyncLoad(memoryInitializer,function(e){HEAPU8.set(e,STATIC_BASE),removeRunDependency("memory initializer")},function(e){throw"could not load memory initializer "+memoryInitializer});function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var preloadStartTime=null,calledMain=!1;function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ensureInitRuntime(),preMain(),ENVIRONMENT_IS_WEB&&null!==preloadStartTime&&Module.printErr("pre-main prep time: "+(Date.now()-preloadStartTime)+" ms"),Module._main&&shouldRunNow&&Module.callMain(e),postRun())}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0?Module.printErr("run() called, but dependencies remain, so not running"):(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),ABORT||t()},1)):t()))}function exit(e){throw ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),new ExitStatus(e)}function abort(e){e&&(Module.print(e),Module.printErr(e)),ABORT=!0,EXITSTATUS=1;throw"abort() at "+stackTrace()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information."}if(dependenciesFulfilled=function e(){!Module.calledRun&&shouldRunNow&&run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var t=e.length+1;function r(){for(var e=0;e<3;e++)i.push(0)}var i=[allocate(intArrayFromString("/bin/this.program"),"i8",ALLOC_NORMAL)];r();for(var n=0;n<t-1;n+=1)i.push(allocate(intArrayFromString(e[n]),"i8",ALLOC_NORMAL)),r();i.push(0),i=allocate(i,"i32",ALLOC_NORMAL),initialStackTop=STACKTOP;try{var o=Module._main(t,i,0);Module.noExitRuntime||exit(o)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);throw e&&"object"==typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit,Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();var Offsets={b2Body:{type:0,islandIndex:8,xf:12,xf0:28,sweep:44,linearVelocity:80,angularVelocity:88,force:92,torque:100,world:104,prev:108,next:112,fixtureList:116,fixtureCount:120,jointList:124,contactList:128,mass:132,invMass:136,I:140,invI:144,linearDamping:148,angularDamping:152,gravityScale:156,sleepTime:160,userData:164},b2Contact:{flags:4,prev:8,next:12,nodeA:16,nodeB:32,fixtureA:48,fixtureB:52,indexA:56,indexB:60,manifold:64,toiCount:128,toi:132,friction:136,restitution:140,tangentSpeed:144},b2Fixture:{density:0,next:4,body:8,shape:12,friction:16,restitution:20,proxies:24,proxyCount:28,filter:32,isSensor:38,userData:40},b2ParticleGroup:{system:0,firstIndex:4,lastIndex:8,groupFlags:12,strength:16,prev:20,next:24,timestamp:28,mass:32,inertia:36,center:40,linearVelocity:48,angularVelocity:56,transform:60,userData:76},b2WorldManifold:{normal:0,points:8,separations:24},b2World:{bodyList:102960}},FLT_EPSILON=1.1920929e-7;function b2Max(e,t){return new b2Vec2(Math.max(e.x,t.x),Math.max(e.y,t.y))}function b2Min(e,t){return new b2Vec2(Math.min(e.x,t.x),Math.min(e.y,t.y))}function b2Clamp(e,t,r){return b2Max(t,b2Min(e,r))}function b2Vec2(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}function b2Rot(e){void 0===e&&(e=0),this.s=Math.sin(e),this.c=Math.cos(e)}function b2Transform(e,t){void 0===e&&(e=new b2Vec2),void 0===t&&(t=new b2Rot),this.p=e,this.q=t}function b2AABB(){this.lowerBound=new b2Vec2,this.upperBound=new b2Vec2}b2Vec2.Add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},b2Vec2.CrossScalar=function(e,t,r){e.x=-r*t.y,e.y=r*t.x},b2Vec2.Cross=function(e,t){return e.x*t.y-e.y*t.x},b2Vec2.MulScalar=function(e,t,r){e.x=t.x*r,e.y=t.y*r},b2Vec2.Mul=function(e,t,r){var i=t.p,n=t.q.c,o=t.q.s,a=r.x,s=r.y;e.x=n*a-o*s+i.x,e.y=o*a+n*s+i.y},b2Vec2.Normalize=function(e,t){var r=t.Length();if(r<FLT_EPSILON)return e.x=0,void(e.y=0);var i=1/r;e.x=t.x*i,e.y=t.y*i},b2Vec2.Sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},b2Vec2.prototype.Clone=function(){return new b2Vec2(this.x,this.y)},b2Vec2.prototype.Set=function(e,t){this.x=e,this.y=t},b2Vec2.prototype.Length=function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},b2Vec2.prototype.LengthSquared=function(){var e=this.x,t=this.y;return e*e+t*t},b2Rot.prototype.Set=function(e){this.s=Math.sin(e),this.c=Math.cos(e)},b2Rot.prototype.SetIdentity=function(){this.s=0,this.c=1},b2Rot.prototype.GetXAxis=function(){return new b2Vec2(this.c,this.s)},b2Transform.prototype.FromFloat64Array=function(e){var t=this.p,r=this.q;t.x=e[0],t.y=e[1],r.s=e[2],r.c=e[3]},b2Transform.prototype.SetIdentity=function(){this.p.Set(0,0),this.q.SetIdentity()},b2AABB.prototype.GetCenter=function(){var e=new b2Vec2;b2Vec2.Add(e,this.lowerBound,this.upperBound),b2Vec2.MulScalar(e,e,.5)};var b2Manifold_GetPointCount=Module.cwrap("b2Manifold_GetPointCount","number",["number"]);function b2Manifold(e){this.ptr=e}b2Manifold.prototype.GetPointCount=function(){return b2Manifold_GetPointCount(this.ptr)};var b2WorldManifold_points_offset=Offsets.b2WorldManifold.points;function b2WorldManifold(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e}b2WorldManifold.prototype.GetPoint=function(e){var t=new b2Vec2;return t.x=this.buffer.getFloat32(2*e+b2WorldManifold_points_offset,!0),t.y=this.buffer.getFloat32(2*e+4+b2WorldManifold_points_offset,!0),t};var b2EdgeShape_CreateFixture=Module.cwrap("b2EdgeShape_CreateFixture","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2EdgeShape(){this.hasVertex0=!1,this.hasVertex3=!1,this.vertex0=new b2Vec2,this.vertex1=new b2Vec2,this.vertex2=new b2Vec2,this.vertex3=new b2Vec2,this.type=b2Shape_Type_e_edge}b2EdgeShape.prototype.Set=function(e,t){this.vertex1=e,this.vertex2=t,this.hasVertex0=!1,this.hasVertex3=!1},b2EdgeShape.prototype._CreateFixture=function(e,t){return b2EdgeShape_CreateFixture(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,this.hasVertex0,this.hasVertex3,this.vertex0.x,this.vertex0.y,this.vertex1.x,this.vertex1.y,this.vertex2.x,this.vertex2.y,this.vertex3.x,this.vertex3.y)};var b2PolygonShape_CreateFixture_3=Module.cwrap("b2PolygonShape_CreateFixture_3","number",["number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_4=Module.cwrap("b2PolygonShape_CreateFixture_4","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_5=Module.cwrap("b2PolygonShape_CreateFixture_5","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_6=Module.cwrap("b2PolygonShape_CreateFixture_6","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_7=Module.cwrap("b2PolygonShape_CreateFixture_7","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_8=Module.cwrap("b2PolygonShape_CreateFixture_8","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateParticleGroup_4=Module.cwrap("b2PolygonShape_CreateParticleGroup_4","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_DestroyParticlesInShape_4=Module.cwrap("b2PolygonShape_DestroyParticlesInShape_4","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2PolygonShape(){this.position=new b2Vec2,this.vertices=[],this.type=b2Shape_Type_e_polygon}b2PolygonShape.prototype.SetAsBoxXY=function(e,t){this.vertices[0]=new b2Vec2(-e,-t),this.vertices[1]=new b2Vec2(e,-t),this.vertices[2]=new b2Vec2(e,t),this.vertices[3]=new b2Vec2(-e,t)},b2PolygonShape.prototype.SetAsBoxXYCenterAngle=function(e,t,r,i){this.vertices[0]=new b2Vec2(-e,-t),this.vertices[1]=new b2Vec2(e,-t),this.vertices[2]=new b2Vec2(e,t),this.vertices[3]=new b2Vec2(-e,t);var n=new b2Transform;n.p=r,n.q.Set(i);for(var o=0;o<4;o++)b2Vec2.Mul(this.vertices[o],n,this.vertices[o])},b2PolygonShape.prototype._CreateFixture=function(e,t){var r=this.vertices;switch(r.length){case 3:var i=r[0],n=r[1],o=r[2];return b2PolygonShape_CreateFixture_3(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y);case 4:i=r[0],n=r[1],o=r[2];var a=r[3];return b2PolygonShape_CreateFixture_4(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y);case 5:i=r[0],n=r[1],o=r[2],a=r[3];var s=r[4];return b2PolygonShape_CreateFixture_5(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y,s.x,s.y);case 6:i=r[0],n=r[1],o=r[2],a=r[3],s=r[4];var l=r[5];return b2PolygonShape_CreateFixture_6(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y,s.x,s.y,l.x,l.y);case 7:i=r[0],n=r[1],o=r[2],a=r[3],s=r[4],l=r[5];var u=r[6];return b2PolygonShape_CreateFixture_7(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y,s.x,s.y,l.x,l.y,u.x,u.y);case 8:i=r[0],n=r[1],o=r[2],a=r[3],s=r[4],l=r[5],u=r[6];var c=r[7];return b2PolygonShape_CreateFixture_8(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y,s.x,s.y,l.x,l.y,u.x,u.y,u.x,c.y)}},b2PolygonShape.prototype._CreateParticleGroup=function(e,t){var r=this.vertices;switch(r.length){case 3:break;case 4:return b2PolygonShape_CreateParticleGroup_4(e.ptr,t.angle,t.angularVelocity,t.color.r,t.color.g,t.color.b,t.color.a,t.flags,t.group.ptr,t.groupFlags,t.lifetime,t.linearVelocity.x,t.linearVelocity.y,t.position.x,t.position.y,t.positionData,t.particleCount,t.strength,t.stride,t.userData,r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y)}},b2PolygonShape.prototype._DestroyParticlesInShape=function(e,t){var r=this.vertices;switch(r.length){case 3:break;case 4:return b2PolygonShape_DestroyParticlesInShape_4(e.ptr,r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,t.p.x,t.p.y,t.q.s,t.q.c)}},b2PolygonShape.prototype.Validate=function(){for(var e=0,t=this.vertices.length;e<t;++e){var r=e,i=e<t-1?r+1:0,n=this.vertices[r],o=this.vertices[i],a=new b2Vec2;b2Vec2.Sub(a,o,n);for(var s=0;s<t;++s)if(s!=r&&s!=i){var l=new b2Vec2;if(b2Vec2.Sub(l,this.vertices[s],n),b2Vec2.Cross(a,l)<0)return!1}}return!0};var b2Shape_Type_e_circle=0,b2Shape_Type_e_edge=1,b2Shape_Type_e_polygon=2,b2Shape_Type_e_chain=3,b2Shape_Type_e_typeCount=4,b2_linearSlop=.005,b2_polygonRadius=2*b2_linearSlop,b2_maxPolygonVertices=8;function b2MassData(e,t,r){this.mass=e,this.center=t,this.I=r}var b2ChainShape_CreateFixture=Module.cwrap("b2ChainShape_CreateFixture","number",["number","number","number","number","number","number","number","number"]);function b2ChainShape(){this.radius=b2_polygonRadius,this.vertices=[],this.type=b2Shape_Type_e_chain}b2ChainShape.prototype.CreateLoop=function(){this.vertices.push(this.vertices[0])},b2ChainShape.prototype._CreateFixture=function(e,t){for(var r=this.vertices,i=2*r.length,n=new Float32Array(i),o=0,a=0;o<i;o+=2,a++)n[o]=r[a].x,n[o+1]=r[a].y;var s=n.length*n.BYTES_PER_ELEMENT,l=Module._malloc(s),u=new Uint8Array(Module.HEAPU8.buffer,l,s);u.set(new Uint8Array(n.buffer));var c=b2ChainShape_CreateFixture(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,u.byteOffset,n.length);return Module._free(u.byteOffset),c};var b2CircleShape_CreateFixture=Module.cwrap("b2CircleShape_CreateFixture","number",["number","number","number","number","number","number","number","number","number"]),b2CircleShape_CreateParticleGroup=Module.cwrap("b2CircleShape_CreateParticleGroup","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2CircleShape_DestroyParticlesInShape=Module.cwrap("b2CircleShape_DestroyParticlesInShape","number",["number","number","number","number","number","number","number","number"]);function b2CircleShape(){this.position=new b2Vec2,this.radius=0,this.type=b2Shape_Type_e_circle}b2CircleShape.prototype._CreateFixture=function(e,t){return b2CircleShape_CreateFixture(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,this.position.x,this.position.y,this.radius)},b2CircleShape.prototype._CreateParticleGroup=function(e,t){return b2CircleShape_CreateParticleGroup(e.ptr,t.angle,t.angularVelocity,t.color.r,t.color.g,t.color.b,t.color.a,t.flags,t.group.ptr,t.groupFlags,t.lifetime,t.linearVelocity.x,t.linearVelocity.y,t.position.x,t.position.y,t.positionData,t.particleCount,t.strength,t.stride,t.userData,this.position.x,this.position.y,this.radius)},b2CircleShape.prototype._DestroyParticlesInShape=function(e,t){return b2CircleShape_DestroyParticlesInShape(e.ptr,this.position.x,this.position.y,this.radius,t.p.x,t.p.y,t.q.s,t.q.c)};var b2Body_ApplyAngularImpulse=Module.cwrap("b2Body_ApplyAngularImpulse","null",["number","number","number"]),b2Body_ApplyForce=Module.cwrap("b2Body_ApplyForce","number",["number","number","number","number","number","number"]),b2Body_ApplyForceToCenter=Module.cwrap("b2Body_ApplyForceToCenter","number",["number","number","number","number"]),b2Body_ApplyTorque=Module.cwrap("b2Body_ApplyTorque","number",["number","number","number"]),b2Body_DestroyFixture=Module.cwrap("b2Body_DestroyFixture","null",["number","number"]),b2Body_GetAngle=Module.cwrap("b2Body_GetAngle","number",["number"]),b2Body_GetAngularVelocity=Module.cwrap("b2Body_GetAngularVelocity","number",["number"]),b2Body_GetInertia=Module.cwrap("b2Body_GetInertia","number",["number"]),b2Body_GetLinearVelocity=Module.cwrap("b2Body_GetLinearVelocity","null",["number","number"]),b2Body_GetLocalPoint=Module.cwrap("b2Body_GetLocalPoint","null",["number","number","number","number"]),b2Body_GetLocalVector=Module.cwrap("b2Body_GetLocalVector","null",["number","number","number","number"]),b2Body_GetMass=Module.cwrap("b2Body_GetMass","number",["number"]),b2Body_GetPosition=Module.cwrap("b2Body_GetPosition","null",["number","number"]),b2Body_GetTransform=Module.cwrap("b2Body_GetTransform","null",["number","number"]),b2Body_GetType=Module.cwrap("b2Body_GetType","number",["number"]),b2Body_GetWorldCenter=Module.cwrap("b2Body_GetWorldCenter","null",["number","number"]),b2Body_GetWorldPoint=Module.cwrap("b2Body_GetWorldPoint","null",["number","number","number","number"]),b2Body_GetWorldVector=Module.cwrap("b2Body_GetWorldVector","null",["number","number","number","number"]),b2Body_SetAngularVelocity=Module.cwrap("b2Body_SetAngularVelocity","null",["number","number"]),b2Body_SetAwake=Module.cwrap("b2Body_SetAwake","number",["number","number"]),b2Body_SetLinearVelocity=Module.cwrap("b2Body_SetLinearVelocity","null",["number","number","number"]),b2Body_SetMassData=Module.cwrap("b2Body_SetMassData","null",["number","number","number","number","number"]),b2Body_SetTransform=Module.cwrap("b2Body_SetTransform","null",["number","number","number"]),b2Body_SetType=Module.cwrap("b2Body_SetType","null",["number","number"]),b2Body_xf_offset=Offsets.b2Body.xf,b2Body_userData_offset=Offsets.b2Body.userData;function b2Body(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e,this.fixtures=[]}b2Body.prototype.ApplyAngularImpulse=function(e,t){b2Body_ApplyAngularImpulse(this.ptr,e,t)},b2Body.prototype.ApplyForce=function(e,t,r){b2Body_ApplyForce(this.ptr,e.x,e.y,t.x,t.y,r)},b2Body.prototype.ApplyForceToCenter=function(e,t){b2Body_ApplyForceToCenter(this.ptr,e.x,e.y,t)},b2Body.prototype.ApplyTorque=function(e,t){b2Body_ApplyTorque(this.ptr,e,t)},b2Body.prototype.CreateFixtureFromDef=function(e){var t=new b2Fixture;return t.FromFixtureDef(e),t._SetPtr(e.shape._CreateFixture(this,e)),t.body=this,b2World._Push(t,this.fixtures),world.fixturesLookup[t.ptr]=t,t},b2Body.prototype.CreateFixtureFromShape=function(e,t){var r=new b2FixtureDef;return r.shape=e,r.density=t,this.CreateFixtureFromDef(r)},b2Body.prototype.DestroyFixture=function(e){b2Body_DestroyFixture(this.ptr,e.ptr),b2World._RemoveItem(e,this.fixtures)},b2Body.prototype.GetAngle=function(){return b2Body_GetAngle(this.ptr)},b2Body.prototype.GetAngularVelocity=function(){return b2Body_GetAngularVelocity(this.ptr)},b2Body.prototype.GetInertia=function(){return b2Body_GetInertia(this.ptr)},b2Body.prototype.GetMass=function(){return b2Body_GetMass(this.ptr)},b2Body.prototype.GetLinearVelocity=function(){b2Body_GetLinearVelocity(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Body.prototype.GetLocalPoint=function(e){b2Body_GetLocalPoint(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var t=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(t[0],t[1])},b2Body.prototype.GetLocalVector=function(e){b2Body_GetLocalVector(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var t=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(t[0],t[1])},b2Body.prototype.GetPosition=function(){b2Body_GetPosition(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Body.prototype.GetTransform=function(){var e=new b2Transform;return e.p.x=this.buffer.getFloat32(b2Body_xf_offset,!0),e.p.y=this.buffer.getFloat32(b2Body_xf_offset+4,!0),e.q.s=this.buffer.getFloat32(b2Body_xf_offset+8,!0),e.q.c=this.buffer.getFloat32(b2Body_xf_offset+12,!0),e},b2Body.prototype.GetType=function(){return b2Body_GetType(this.ptr)},b2Body.prototype.GetUserData=function(){return this.buffer.getUint32(b2Body_userData_offset,!0)},b2Body.prototype.GetWorldCenter=function(){b2Body_GetWorldCenter(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Body.prototype.GetWorldPoint=function(e){b2Body_GetWorldPoint(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var t=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(t[0],t[1])},b2Body.prototype.GetWorldVector=function(e){b2Body_GetWorldVector(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var t=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(t[0],t[1])},b2Body.prototype.SetAngularVelocity=function(e){b2Body_SetAngularVelocity(this.ptr,e)},b2Body.prototype.SetAwake=function(e){b2Body_SetAwake(this.ptr,e)},b2Body.prototype.SetLinearVelocity=function(e){b2Body_SetLinearVelocity(this.ptr,e.x,e.y)},b2Body.prototype.SetMassData=function(e){b2Body_SetMassData(this.ptr,e.mass,e.center.x,e.center.y,e.I)},b2Body.prototype.SetTransform=function(e,t){b2Body_SetTransform(this.ptr,e.x,e.y,t)},b2Body.prototype.SetType=function(e){b2Body_SetType(this.ptr,e)};var b2_staticBody=0,b2_kinematicBody=1,b2_dynamicBody=2;function b2BodyDef(){this.active=!0,this.allowSleep=!0,this.angle=0,this.angularVelocity=0,this.angularDamping=0,this.awake=!0,this.bullet=!1,this.fixedRotation=!1,this.gravityScale=1,this.linearDamping=0,this.linearVelocity=new b2Vec2,this.position=new b2Vec2,this.type=b2_staticBody,this.userData=null}b2World.BeginContactBody=function(e){if(void 0!==world.listener.BeginContactBody){var t=new b2Contact(e);world.listener.BeginContactBody(t)}},b2World.EndContactBody=function(e){if(void 0!==world.listener.EndContactBody){var t=new b2Contact(e);world.listener.EndContactBody(t)}},b2World.PreSolve=function(e,t){void 0!==world.listener.PreSolve&&world.listener.PreSolve(new b2Contact(e),new b2Manifold(t))},b2World.PostSolve=function(e,t){void 0!==world.listener.PostSolve&&world.listener.PostSolve(new b2Contact(e),new b2ContactImpulse(t))},b2World.QueryAABB=function(e){return world.queryAABBCallback.ReportFixture(world.fixturesLookup[e])},b2World.RayCast=function(e,t,r,i,n,o){return world.rayCastCallback.ReportFixture(world.fixturesLookup[e],new b2Vec2(t,r),new b2Vec2(i,n),o)};var b2World_Create=Module.cwrap("b2World_Create","number",["number","number"]),b2World_CreateBody=Module.cwrap("b2World_CreateBody","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2World_CreateParticleSystem=Module.cwrap("b2World_CreateParticleSystem","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2World_DestroyBody=Module.cwrap("b2World_DestroyBody","null",["number","number"]),b2World_DestroyJoint=Module.cwrap("b2World_DestroyJoint","null",["number","number"]),b2World_DestroyParticleSystem=Module.cwrap("b2World_DestroyParticleSystem","null",["number","number"]),b2World_QueryAABB=Module.cwrap("b2World_QueryAABB","null",["number","number","number","number","number"]),b2World_RayCast=Module.cwrap("b2World_RayCast","null",["number","number","number","number","number"]),b2World_SetContactListener=Module.cwrap("b2World_SetContactListener","null",["number"]),b2World_SetGravity=Module.cwrap("b2World_SetGravity","null",["number","number","number"]),b2World_Step=Module.cwrap("b2World_Step","null",["number","number","number"]),_transBuf=null,_vec2Buf=null;function b2World(e){this.bodies=[],this.bodiesLookup={},this.fixturesLookup={},this.joints=[],this.listener=null,this.particleSystems=[],this.ptr=b2World_Create(e.x,e.y),this.queryAABBCallback=null,this.rayCastCallback=null,this.buffer=new DataView(Module.HEAPU8.buffer,this.ptr);var t=4*Float32Array.BYTES_PER_ELEMENT,r=Module._malloc(t);_transBuf=new Uint8Array(Module.HEAPU8.buffer,r,t),t=2*Float32Array.BYTES_PER_ELEMENT,r=Module._malloc(t),_vec2Buf=new Uint8Array(Module.HEAPU8.buffer,r,t)}b2World._Push=function(e,t){e.lindex=t.length,t.push(e)},b2World._RemoveItem=function(e,t){var r=t.length,i=e.lindex;r>1&&(t[i]=t[r-1],t[i].lindex=i),t.pop()},b2World.prototype.CreateBody=function(e){var t=new b2Body(b2World_CreateBody(this.ptr,e.active,e.allowSleep,e.angle,e.angularVelocity,e.angularDamping,e.awake,e.bullet,e.fixedRotation,e.gravityScale,e.linearDamping,e.linearVelocity.x,e.linearVelocity.y,e.position.x,e.position.y,e.type,e.userData));return b2World._Push(t,this.bodies),this.bodiesLookup[t.ptr]=t,t},b2World.prototype.CreateJoint=function(e){var t=e.Create(this);return b2World._Push(t,this.joints),t},b2World.prototype.CreateParticleSystem=function(e){var t=new b2ParticleSystem(b2World_CreateParticleSystem(this.ptr,e.colorMixingStrength,e.dampingStrength,e.destroyByAge,e.ejectionStrength,e.elasticStrength,e.lifetimeGranularity,e.powderStrength,e.pressureStrength,e.radius,e.repulsiveStrength,e.springStrength,e.staticPressureIterations,e.staticPressureRelaxation,e.staticPressureStrength,e.surfaceTensionNormalStrength,e.surfaceTensionPressureStrength,e.viscousStrength));return b2World._Push(t,this.particleSystems),t.dampingStrength=e.dampingStrength,t.radius=e.radius,t},b2World.prototype.DestroyBody=function(e){b2World_DestroyBody(this.ptr,e.ptr),b2World._RemoveItem(e,this.bodies)},b2World.prototype.DestroyJoint=function(e){b2World_DestroyJoint(this.ptr,e.ptr),b2World._RemoveItem(e,this.joints)},b2World.prototype.DestroyParticleSystem=function(e){b2World_DestroyParticleSystem(this.ptr,e.ptr),b2World._RemoveItem(e,this.particleSystems)},b2World.prototype.QueryAABB=function(e,t){this.queryAABBCallback=e,b2World_QueryAABB(this.ptr,t.lowerBound.x,t.lowerBound.y,t.upperBound.x,t.upperBound.y)},b2World.prototype.RayCast=function(e,t,r){this.rayCastCallback=e,b2World_RayCast(this.ptr,t.x,t.y,r.x,r.y)},b2World.prototype.SetContactListener=function(e){this.listener=e,b2World_SetContactListener(this.ptr)},b2World.prototype.SetGravity=function(e){b2World_SetGravity(this.ptr,e.x,e.y)},b2World.prototype.Step=function(e,t,r){b2World_Step(this.ptr,e,t,r)};var b2WheelJoint_SetMotorSpeed=Module.cwrap("b2WheelJoint_SetMotorSpeed","null",["number","number"]),b2WheelJoint_SetSpringFrequencyHz=Module.cwrap("b2WheelJoint_SetSpringFrequencyHz","null",["number","number"]);function b2WheelJoint(e){this.next=null,this.ptr=null}b2WheelJoint.prototype.SetMotorSpeed=function(e){b2WheelJoint_SetMotorSpeed(this.ptr,e)},b2WheelJoint.prototype.SetSpringFrequencyHz=function(e){b2WheelJoint_SetSpringFrequencyHz(this.ptr,e)};var b2WheelJointDef_Create=Module.cwrap("b2WheelJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2WheelJointDef_InitializeAndCreate=Module.cwrap("b2WheelJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2WheelJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=.7,this.enableMotor=!1,this.frequencyHz=2,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.localAxisA=new b2Vec2(1,0),this.maxMotorTorque=0,this.motorSpeed=0}b2WheelJointDef.prototype.Create=function(e){var t=new b2WheelJoint(this);return t.ptr=b2WheelJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.enableMotor,this.frequencyHz,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.localAxisA.x,this.localAxisA.y,this.maxMotorTorque,this.motorSpeed),t},b2WheelJointDef.prototype.InitializeAndCreate=function(e,t,r,i){this.bodyA=e,this.bodyB=t;var n=new b2WheelJoint(this);return n.ptr=b2WheelJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,i.x,i.y,this.collideConnected,this.dampingRatio,this.enableMotor,this.frequencyHz,this.maxMotorTorque,this.motorSpeed),b2World._Push(n,world.joints),n};var b2WeldJointDef_Create=Module.cwrap("b2WeldJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number"]),b2WeldJointDef_InitializeAndCreate=Module.cwrap("b2WeldJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number"]);function b2WeldJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=0,this.frequencyHz=0,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.referenceAngle=0}function b2WeldJoint(e){this.bodyA=e.bodyA,this.bodyB=e.bodyB,this.next=null,this.ptr=null}b2WeldJointDef.prototype.Create=function(e){var t=new b2WeldJoint(this);return t.ptr=b2WeldJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.frequencyHz,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.referenceAngle),t},b2WeldJointDef.prototype.InitializeAndCreate=function(e,t,r){this.bodyA=e,this.bodyB=t;var i=new b2WeldJoint(this);return i.ptr=b2WeldJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,this.collideConnected,this.dampingRatio,this.frequencyHz),b2World._Push(i,world.joints),i};var b2GearJoint_GetRatio=Module.cwrap("b2GearJoint_GetRatio","number",["number"]);function b2GearJoint(e){this.ptr=null,this.next=null}b2GearJoint.prototype.GetRatio=function(){return b2GearJoint_GetRatio(this.ptr)};var b2GearJointDef_Create=Module.cwrap("b2GearJointDef_Create","number",["number","number","number","number","number","number","number"]);function b2GearJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.joint1=null,this.joint2=null,this.ratio=0}b2GearJointDef.prototype.Create=function(e){var t=new b2GearJoint(this);return t.ptr=b2GearJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.joint1.ptr,this.joint2.ptr,this.ratio),t};var e_unknownJoint=0,e_revoluteJoint=1,e_prismaticJoint=2,e_distanceJoint=3,e_pulleyJoint=4,e_mouseJoint=5,e_gearJoint=6,e_wheelJoint=7,e_weldJoint=8,e_frictionJoint=9,e_ropeJoint=10,e_motorJoint=11,b2Joint_GetBodyA=Module.cwrap("b2Joint_GetBodyA","number",["number"]),b2Joint_GetBodyB=Module.cwrap("b2Joint_GetBodyB","number",["number"]);function b2Joint(){}b2Joint.prototype.GetBodyA=function(){return world.bodiesLookup[b2Joint_GetBodyA(this.ptr)]},b2Joint.prototype.GetBodyB=function(){return world.bodiesLookup[b2Joint_GetBodyB(this.ptr)]};var b2FrictionJointDef_Create=Module.cwrap("b2FrictionJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number"]),b2FrictionJointDef_InitializeAndCreate=Module.cwrap("b2FrictionJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number"]);function b2FrictionJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.maxForce=0,this.maxTorque=0,this.userData=null}function b2FrictionJoint(e){this.bodyA=e.bodyA,this.bodyB=e.bodyB,this.ptr=null,this.next=null}b2FrictionJointDef.prototype.Create=function(e){var t=new b2FrictionJoint(this);return t.ptr=b2FrictionJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.maxForce,this.maxTorque),t},b2FrictionJointDef.prototype.InitializeAndCreate=function(e,t,r){this.bodyA=e,this.bodyB=t;var i=new b2FrictionJoint(this);return i.ptr=b2FrictionJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,this.collideConnected,this.maxForce,this.maxTorque),b2World._Push(i,world.joints),i};var b2RevoluteJoint_EnableLimit=Module.cwrap("b2RevoluteJoint_EnableLimit","number",["number","number"]),b2RevoluteJoint_EnableMotor=Module.cwrap("b2RevoluteJoint_EnableMotor","number",["number","number"]),b2RevoluteJoint_GetJointAngle=Module.cwrap("b2RevoluteJoint_GetJointAngle","number",["number"]),b2RevoluteJoint_IsLimitEnabled=Module.cwrap("b2RevoluteJoint_IsLimitEnabled","number",["number"]),b2RevoluteJoint_IsMotorEnabled=Module.cwrap("b2RevoluteJoint_IsMotorEnabled","number",["number"]),b2RevoluteJoint_SetMotorSpeed=Module.cwrap("b2RevoluteJoint_SetMotorSpeed","number",["number","number"]);function b2RevoluteJoint(e){this.collideConnected=e.collideConnected,this.enableLimit=e.enableLimit,this.enableMotor=e.enableMotor,this.lowerAngle=e.lowerAngle,this.maxMotorTorque=e.maxMotorTorque,this.motorSpeed=e.motorSpeed,this.next=null,this.ptr=null,this.upperAngle=e.upperAngle,this.userData=e.userData}b2RevoluteJoint.prototype=new b2Joint,b2RevoluteJoint.prototype.EnableLimit=function(e){b2RevoluteJoint_EnableLimit(this.ptr,e)},b2RevoluteJoint.prototype.EnableMotor=function(e){b2RevoluteJoint_EnableMotor(this.ptr,e)},b2RevoluteJoint.prototype.GetJointAngle=function(e){return b2RevoluteJoint_GetJointAngle(this.ptr)},b2RevoluteJoint.prototype.IsLimitEnabled=function(){return b2RevoluteJoint_IsLimitEnabled(this.ptr)},b2RevoluteJoint.prototype.IsMotorEnabled=function(){return b2RevoluteJoint_IsMotorEnabled(this.ptr)},b2RevoluteJoint.prototype.SetMotorSpeed=function(e){b2RevoluteJoint_SetMotorSpeed(this.ptr,e),this.motorSpeed=e};var b2RevoluteJointDef_Create=Module.cwrap("b2RevoluteJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2RevoluteJointDef_InitializeAndCreate=Module.cwrap("b2RevoluteJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number"]);function b2RevoluteJointDef(){this.collideConnected=!1,this.enableLimit=!1,this.enableMotor=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.lowerAngle=0,this.maxMotorTorque=0,this.motorSpeed=0,this.referenceAngle=0,this.upperAngle=0,this.userData=null}b2RevoluteJointDef.prototype.Create=function(e){var t=new b2RevoluteJoint(this);return t.ptr=b2RevoluteJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.enableLimit,this.enableMotor,this.lowerAngle,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.maxMotorTorque,this.motorSpeed,this.referenceAngle,this.upperAngle),t},b2RevoluteJointDef.prototype.InitializeAndCreate=function(e,t,r){this.bodyA=e,this.bodyB=t;var i=new b2RevoluteJoint(this);return i.ptr=b2RevoluteJointDef_InitializeAndCreate(world.ptr,e.ptr,t.ptr,r.x,r.y,this.collideConnected,this.enableLimit,this.enableMotor,this.lowerAngle,this.maxMotorTorque,this.motorSpeed,this.upperAngle),b2World._Push(i,world.joints),i};var b2MotorJoint_SetAngularOffset=Module.cwrap("b2MotorJoint_SetAngularOffset","null",["number","number"]),b2MotorJoint_SetLinearOffset=Module.cwrap("b2MotorJoint_SetLinearOffset","null",["number","number","number"]);function b2MotorJoint(e){this.bodyA=e.bodyA,this.bodyB=e.bodyB,this.ptr=null,this.next=null}b2MotorJoint.prototype.SetAngularOffset=function(e){b2MotorJoint_SetAngularOffset(this.ptr,e)},b2MotorJoint.prototype.SetLinearOffset=function(e){b2MotorJoint_SetLinearOffset(this.ptr,e.x,e.y)};var b2MotorJointDef_Create=Module.cwrap("b2MotorJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number"]),b2MotorJointDef_InitializeAndCreate=Module.cwrap("b2MotorJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number"]);function b2MotorJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.angularOffset=0,this.correctionFactor=.3,this.linearOffset=new b2Vec2,this.maxForce=0,this.maxTorque=0}function b2PulleyJoint(e){this.ptr=null,this.next=null}b2MotorJointDef.prototype.Create=function(e){var t=new b2MotorJoint(this);return t.ptr=b2MotorJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.angularOffset,this.correctionFactor,this.linearOffset.x,this.linearOffset.y,this.maxForce,this.maxTorque),t},b2MotorJointDef.prototype.InitializeAndCreate=function(e,t){this.bodyA=e,this.bodyB=t;var r=new b2MotorJoint(this);return r.ptr=b2MotorJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.correctionFactor,this.maxForce,this.maxTorque),b2World._Push(r,world.joints),r};var b2PulleyJointDef_Create=Module.cwrap("b2PulleyJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PulleyJointDef_InitializeAndCreate=Module.cwrap("b2PulleyJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2PulleyJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!0,this.groundAnchorA=new b2Vec2,this.groundAnchorB=new b2Vec2,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.lengthA=0,this.lengthB=0,this.ratio=1}function b2DistanceJoint(e){this.bodyA=e.bodyA,this.bodyB=e.bodyB,this.ptr=null,this.next=null}b2PulleyJointDef.prototype.Create=function(e){var t=new b2PulleyJoint(this);return t.ptr=b2PulleyJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.groundAnchorA.x,this.groundAnchorA.y,this.groundAnchorB.x,this.groundAnchorB.y,this.lengthA,this.lengthB,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.ratio),t},b2PulleyJointDef.prototype.InitializeAndCreate=function(e,t,r,i,n,o,a){this.bodyA=e,this.bodyB=t;var s=new b2PulleyJoint(this);return s.ptr=b2PulleyJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,n.x,n.y,o.x,o.y,r.x,r.y,i.x,i.y,a,this.collideConnected),b2World._Push(s,world.joints),s};var b2DistanceJointDef_Create=Module.cwrap("b2DistanceJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number"]),b2DistanceJointDef_InitializeAndCreate=Module.cwrap("b2DistanceJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number"]);function b2DistanceJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=0,this.length=1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.frequencyHz=0}b2DistanceJointDef.prototype.Create=function(e){var t=new b2DistanceJoint(this);return t.ptr=b2DistanceJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.frequencyHz,this.length,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y),t},b2DistanceJointDef.prototype.InitializeAndCreate=function(e,t,r,i){this.bodyA=e,this.bodyB=t;var n=new b2DistanceJoint(this);return n.ptr=b2DistanceJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,i.x,i.y,this.collideConnected,this.dampingRatio,this.frequencyHz),b2World._Push(n,world.joints),n};var b2PrismaticJoint_EnableLimit=Module.cwrap("b2PrismaticJoint_EnableLimit","number",["number","number"]),b2PrismaticJoint_EnableMotor=Module.cwrap("b2PrismaticJoint_EnableMotor","number",["number","number"]),b2PrismaticJoint_GetJointTranslation=Module.cwrap("b2PrismaticJoint_GetJointTranslation","number",["number"]),b2PrismaticJoint_GetMotorSpeed=Module.cwrap("b2PrismaticJoint_GetMotorSpeed","number",["number"]),b2PrismaticJoint_GetMotorForce=Module.cwrap("b2PrismaticJoint_GetMotorForce","number",["number","number"]),b2PrismaticJoint_IsLimitEnabled=Module.cwrap("b2PrismaticJoint_IsLimitEnabled","number",["number"]),b2PrismaticJoint_IsMotorEnabled=Module.cwrap("b2PrismaticJoint_IsMotorEnabled","number",["number"]),b2PrismaticJoint_SetMotorSpeed=Module.cwrap("b2PrismaticJoint_SetMotorSpeed","number",["number","number"]);function b2PrismaticJoint(e){this.ptr=null,this.next=null}b2PrismaticJoint.prototype=new b2Joint,b2PrismaticJoint.prototype.EnableLimit=function(e){return b2PrismaticJoint_EnableLimit(this.ptr,e)},b2PrismaticJoint.prototype.EnableMotor=function(e){return b2PrismaticJoint_EnableMotor(this.ptr,e)},b2PrismaticJoint.prototype.GetJointTranslation=function(){return b2PrismaticJoint_GetJointTranslation(this.ptr)},b2PrismaticJoint.prototype.GetMotorSpeed=function(){return b2PrismaticJoint_GetMotorSpeed(this.ptr)},b2PrismaticJoint.prototype.GetMotorForce=function(e){return b2PrismaticJoint_GetMotorForce(this.ptr,e)},b2PrismaticJoint.prototype.IsLimitEnabled=function(){return b2PrismaticJoint_IsLimitEnabled(this.ptr)},b2PrismaticJoint.prototype.IsMotorEnabled=function(){return b2PrismaticJoint_IsMotorEnabled(this.ptr)},b2PrismaticJoint.prototype.GetMotorEnabled=function(){return b2PrismaticJoint_IsMotorEnabled(this.ptr)},b2PrismaticJoint.prototype.SetMotorSpeed=function(e){return b2PrismaticJoint_SetMotorSpeed(this.ptr,e)};var b2PrismaticJointDef_Create=Module.cwrap("b2PrismaticJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PrismaticJointDef_InitializeAndCreate=Module.cwrap("b2PrismaticJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2PrismaticJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.enableLimit=!1,this.enableMotor=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.localAxisA=new b2Vec2(1,0),this.lowerTranslation=0,this.maxMotorForce=0,this.motorSpeed=0,this.referenceAngle=0,this.upperTranslation=0}function b2RopeJoint(e){this.next=null,this.ptr=null}b2PrismaticJointDef.prototype.Create=function(e){var t=new b2PrismaticJoint(this);return t.ptr=b2PrismaticJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.enableLimit,this.enableMotor,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.localAxisA.x,this.localAxisA.y,this.lowerTranslation,this.maxMotorForce,this.motorSpeed,this.referenceAngle,this.upperTranslation),t},b2PrismaticJointDef.prototype.InitializeAndCreate=function(e,t,r,i){this.bodyA=e,this.bodyB=t;var n=new b2PrismaticJoint(this);return n.ptr=b2PrismaticJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,i.x,i.y,this.collideConnected,this.enableLimit,this.enableMotor,this.lowerTranslation,this.maxMotorForce,this.motorSpeed,this.upperTranslation),b2World._Push(n,world.joints),n};var b2RopeJointDef_Create=Module.cwrap("b2RopeJointDef_Create","number",["number","number","number","number","number","number","number","number","number"]);function b2RopeJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.maxLength=0}b2RopeJointDef.prototype.Create=function(e){var t=new b2RopeJoint(this);return t.ptr=b2RopeJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.maxLength),t};var b2MouseJoint_SetTarget=Module.cwrap("b2MouseJoint_SetTarget","null",["number","number","number"]);function b2MouseJoint(e){this.ptr=null,this.next=null}b2MouseJoint.prototype.SetTarget=function(e){b2MouseJoint_SetTarget(this.ptr,e.x,e.y)};var b2MouseJointDef_Create=Module.cwrap("b2MouseJointDef_Create","number",["number","number","number","number","number","number","number","number","number"]);function b2MouseJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=.7,this.frequencyHz=5,this.maxForce=0,this.target=new b2Vec2}b2MouseJointDef.prototype.Create=function(e){var t=new b2MouseJoint(this);return t.ptr=b2MouseJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.frequencyHz,this.maxForce,this.target.x,this.target.y),t};var b2Contact_fixtureA_offset=Offsets.b2Contact.fixtureA,b2Contact_fixtureB_offset=Offsets.b2Contact.fixtureB,b2Contact_tangentSpeed_offset=Offsets.b2Contact.tangentSpeed,b2Contact_GetManifold=Module.cwrap("b2Contact_GetManifold","number",["number"]),b2Contact_GetWorldManifold=Module.cwrap("b2Contact_GetWorldManifold","number",["number"]);function b2Contact(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e}function b2Filter(){this.categoryBits=1,this.groupIndex=0,this.maskBits=65535}b2Contact.prototype.GetFixtureA=function(){var e=this.buffer.getUint32(b2Contact_fixtureA_offset,!0);return world.fixturesLookup[e]},b2Contact.prototype.GetFixtureB=function(){var e=this.buffer.getUint32(b2Contact_fixtureB_offset,!0);return world.fixturesLookup[e]},b2Contact.prototype.GetManifold=function(){return new b2Manifold(b2Contact_GetManifold(this.ptr))},b2Contact.prototype.GetWorldManifold=function(){return new b2WorldManifold(b2Contact_GetWorldManifold(this.ptr))},b2Contact.prototype.SetTangentSpeed=function(e){this.buffer.setFloat32(b2Contact_tangentSpeed_offset,e,!0)};var b2Fixture_isSensor_offset=Offsets.b2Fixture.isSensor,b2Fixture_userData_offset=Offsets.b2Fixture.userData;function b2Fixture(){this.body=null,this.buffer=null,this.ptr=null,this.shape=null}var b2Fixture_TestPoint=Module.cwrap("b2Fixture_TestPoint","number",["number","number","number"]);function b2FixtureDef(){this.density=0,this.friction=.2,this.isSensor=!1,this.restitution=0,this.shape=null,this.userData=null,this.filter=new b2Filter}function b2ContactImpulse(e){this.ptr=e,this.buffer=new DataView(Module.HEAPU8.buffer,e)}function b2ParticleSystemDef(){this.colorMixingStrength=.5,this.dampingStrength=1,this.destroyByAge=!0,this.ejectionStrength=.5,this.elasticStrength=.25,this.lifetimeGranularity=1/60,this.powderStrength=.5,this.pressureStrength=.05,this.radius=1,this.repulsiveStrength=1,this.springStrength=.25,this.staticPressureIterations=8,this.staticPressureRelaxation=.2,this.staticPressureStrength=.2,this.surfaceTensionNormalStrength=.2,this.surfaceTensionPressureStrength=.2,this.viscousStrength=.25}b2Fixture.prototype._SetPtr=function(e){this.ptr=e,this.buffer=new DataView(Module.HEAPU8.buffer,e)},b2Fixture.prototype.FromFixtureDef=function(e){this.density=e.density,this.friction=e.friction,this.isSensor=e.isSensor,this.restitution=e.restitution,this.shape=e.shape,this.userData=e.userData,this.vertices=[]},b2Fixture.prototype.GetUserData=function(){return this.buffer.getUint32(b2Fixture_userData_offset,!0)},b2Fixture.prototype.SetSensor=function(e){this.buffer.setUint32(b2Fixture_isSensor_offset,e,!0)},b2Fixture.prototype.TestPoint=function(e){return b2Fixture_TestPoint(this.ptr,e.x,e.y)},b2ContactImpulse.prototype.GetNormalImpulse=function(e){return this.buffer.getFloat32(4*e,!0)},b2ContactImpulse.prototype.GetTangentImpulse=function(e){return this.buffer.getFloat32(4*e+8,!0)},b2ContactImpulse.prototype.GetCount=function(e){console.log(this.buffer.getInt32(16,!0))};var b2ParticleSystem_CreateParticle=Module.cwrap("b2ParticleSystem_CreateParticle","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2ParticleSystem_GetColorBuffer=Module.cwrap("b2ParticleSystem_GetColorBuffer","number",["number"]),b2ParticleSystem_GetParticleCount=Module.cwrap("b2ParticleSystem_GetParticleCount","number",["number"]),b2ParticleSystem_GetPositionBuffer=Module.cwrap("b2ParticleSystem_GetPositionBuffer","number",["number"]),b2ParticleSystem_GetVelocityBuffer=Module.cwrap("b2ParticleSystem_GetVelocityBuffer","number",["number"]),b2ParticleSystem_SetDamping=Module.cwrap("b2ParticleSystem_SetDamping","null",["number","number"]),b2ParticleSystem_SetDensity=Module.cwrap("b2ParticleSystem_SetDensity","null",["number","number"]),b2ParticleSystem_SetRadius=Module.cwrap("b2ParticleSystem_SetRadius","null",["number","number"]);function b2ParticleSystem(e){this.dampingStrength=1,this.density=1,this.ptr=e,this.particleGroups=[],this.radius=1}b2ParticleSystem.prototype.CreateParticle=function(e){return b2ParticleSystem_CreateParticle(this.ptr,e.color.r,e.color.g,e.color.b,e.color.a,e.flags,e.group,e.lifetime,e.position.x,e.position.y,e.userData,e.velocity.x,e.velocity.y)},b2ParticleSystem.prototype.CreateParticleGroup=function(e){var t=new b2ParticleGroup(e.shape._CreateParticleGroup(this,e));return this.particleGroups.push(t),t},b2ParticleSystem.prototype.DestroyParticlesInShape=function(e,t){return e._DestroyParticlesInShape(this,t)},b2ParticleSystem.prototype.GetColorBuffer=function(){var e=4*b2ParticleSystem_GetParticleCount(this.ptr),t=b2ParticleSystem_GetColorBuffer(this.ptr);return new Uint8Array(Module.HEAPU8.buffer,t,e)},b2ParticleSystem.prototype.GetParticleCount=function(){return 2*b2ParticleSystem_GetParticleCount(this.ptr)},b2ParticleSystem.prototype.GetPositionBuffer=function(){var e=2*b2ParticleSystem_GetParticleCount(this.ptr),t=b2ParticleSystem_GetPositionBuffer(this.ptr);return new Float32Array(Module.HEAPU8.buffer,t,e)},b2ParticleSystem.prototype.GetVelocityBuffer=function(){var e=2*b2ParticleSystem_GetParticleCount(this.ptr),t=b2ParticleSystem_GetVelocityBuffer(this.ptr);return new Float32Array(Module.HEAPU8.buffer,t,e)},b2ParticleSystem.prototype.SetDamping=function(e){this.dampingStrength=e,b2ParticleSystem_SetDamping(this.ptr,e)},b2ParticleSystem.prototype.SetDensity=function(e){this.density=e,b2ParticleSystem_SetDensity(this.ptr,e)},b2ParticleSystem.prototype.SetRadius=function(e){this.radius=e,b2ParticleSystem_SetRadius(this.ptr,e)};var b2_solidParticleGroup=1,b2_rigidParticleGroup=2,b2_particleGroupCanBeEmpty=4,b2_particleGroupWillBeDestroyed=8,b2_particleGroupNeedsUpdateDepth=16,b2_particleGroupInternalMask=b2_particleGroupWillBeDestroyed|b2_particleGroupNeedsUpdateDepth,b2ParticleGroup_ApplyForce=Module.cwrap("b2ParticleGroup_ApplyForce","null",["number","number","number"]),b2ParticleGroup_ApplyLinearImpulse=Module.cwrap("b2ParticleGroup_ApplyLinearImpulse","null",["number","number","number"]),b2ParticleGroup_DestroyParticles=Module.cwrap("b2ParticleGroup_DestroyParticles","null",["number","number"]),b2ParticleGroup_GetBufferIndex=Module.cwrap("b2ParticleGroup_GetBufferIndex","number",["number"]),b2ParticleGroup_GetParticleCount=Module.cwrap("b2ParticleGroup_GetParticleCount","number",["number"]),b2ParticleGroup_groupFlags_offset=Offsets.b2ParticleGroup.groupFlags;function b2ParticleGroup(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e}function b2ParticleGroupDef(){this.angle=0,this.angularVelocity=0,this.color=new b2ParticleColor(0,0,0,0),this.flags=0,this.group=new b2ParticleGroup(null),this.groupFlags=0,this.lifetime=0,this.linearVelocity=new b2Vec2,this.position=new b2Vec2,this.positionData=null,this.particleCount=0,this.shape=null,this.strength=1,this.stride=0,this.userData=null}b2ParticleGroup.prototype.ApplyForce=function(e){b2ParticleGroup_ApplyForce(this.ptr,e.x,e.y)},b2ParticleGroup.prototype.ApplyLinearImpulse=function(e){b2ParticleGroup_ApplyLinearImpulse(this.ptr,e.x,e.y)},b2ParticleGroup.prototype.DestroyParticles=function(e){b2ParticleGroup_DestroyParticles(this.ptr,e)},b2ParticleGroup.prototype.GetBufferIndex=function(){return b2ParticleGroup_GetBufferIndex(this.ptr)},b2ParticleGroup.prototype.GetGroupFlags=function(){return this.buffer.getUint32(b2ParticleGroup_groupFlags_offset,!0)},b2ParticleGroup.prototype.GetParticleCount=function(){return b2ParticleGroup_GetParticleCount(this.ptr)},b2ParticleGroup.prototype.SetGroupFlags=function(e){this.buffer.setUint32(b2ParticleGroup_groupFlags_offset,e,!0)};var b2_waterParticle=0,b2_zombieParticle=2,b2_wallParticle=4,b2_springParticle=8,b2_elasticParticle=16,b2_viscousParticle=32,b2_powderParticle=64,b2_tensileParticle=128,b2_colorMixingParticle=256,b2_destructionListenerParticle=512,b2_barrierParticle=1024,b2_staticPressureParticle=2048,b2_reactiveParticle=4096,b2_repulsiveParticle=8192,b2_fixtureContactListenerParticle=16384,b2_particleContactListenerParticle=32768,b2_fixtureContactFilterParticle=65536,b2_particleContactFilterParticle=1<<17;function b2ParticleColor(e,t,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),this.r=e,this.g=t,this.b=r,this.a=i}function b2ParticleDef(){this.color=new b2Vec2,this.flags=0,this.group=0,this.lifetime=0,this.position=new b2Vec2,this.userData=0,this.velocity=new b2Vec2}b2ParticleColor.prototype.Set=function(e,t,r,i){this.r=e,this.g=t,this.b=r,this.a=i};var THREE={REVISION:"66"};self.console=self.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}},function(){for(var e=0,t=["ms","moz","webkit","o"],r=0;r<t.length&&!self.requestAnimationFrame;++r)self.requestAnimationFrame=self[t[r]+"RequestAnimationFrame"],self.cancelAnimationFrame=self[t[r]+"CancelAnimationFrame"]||self[t[r]+"CancelRequestAnimationFrame"];void 0===self.requestAnimationFrame&&void 0!==self.setTimeout&&(self.requestAnimationFrame=function(t){var r=Date.now(),i=Math.max(0,16-(r-e)),n=self.setTimeout(function(){t(r+i)},i);return e=r+i,n}),void 0===self.cancelAnimationFrame&&void 0!==self.clearTimeout&&(self.cancelAnimationFrame=function(e){self.clearTimeout(e)})}(),THREE.CullFaceNone=0,THREE.CullFaceBack=1,THREE.CullFaceFront=2,THREE.CullFaceFrontBack=3,THREE.FrontFaceDirectionCW=0,THREE.FrontFaceDirectionCCW=1,THREE.BasicShadowMap=0,THREE.PCFShadowMap=1,THREE.PCFSoftShadowMap=2,THREE.FrontSide=0,THREE.BackSide=1,THREE.DoubleSide=2,THREE.NoShading=0,THREE.FlatShading=1,THREE.SmoothShading=2,THREE.NoColors=0,THREE.FaceColors=1,THREE.VertexColors=2,THREE.NoBlending=0,THREE.NormalBlending=1,THREE.AdditiveBlending=2,THREE.SubtractiveBlending=3,THREE.MultiplyBlending=4,THREE.CustomBlending=5,THREE.AddEquation=100,THREE.SubtractEquation=101,THREE.ReverseSubtractEquation=102,THREE.ZeroFactor=200,THREE.OneFactor=201,THREE.SrcColorFactor=202,THREE.OneMinusSrcColorFactor=203,THREE.SrcAlphaFactor=204,THREE.OneMinusSrcAlphaFactor=205,THREE.DstAlphaFactor=206,THREE.OneMinusDstAlphaFactor=207,THREE.DstColorFactor=208,THREE.OneMinusDstColorFactor=209,THREE.SrcAlphaSaturateFactor=210,THREE.MultiplyOperation=0,THREE.MixOperation=1,THREE.AddOperation=2,THREE.UVMapping=function(){},THREE.CubeReflectionMapping=function(){},THREE.CubeRefractionMapping=function(){},THREE.SphericalReflectionMapping=function(){},THREE.SphericalRefractionMapping=function(){},THREE.RepeatWrapping=1e3,THREE.ClampToEdgeWrapping=1001,THREE.MirroredRepeatWrapping=1002,THREE.NearestFilter=1003,THREE.NearestMipMapNearestFilter=1004,THREE.NearestMipMapLinearFilter=1005,THREE.LinearFilter=1006,THREE.LinearMipMapNearestFilter=1007,THREE.LinearMipMapLinearFilter=1008,THREE.UnsignedByteType=1009,THREE.ByteType=1010,THREE.ShortType=1011,THREE.UnsignedShortType=1012,THREE.IntType=1013,THREE.UnsignedIntType=1014,THREE.FloatType=1015,THREE.UnsignedShort4444Type=1016,THREE.UnsignedShort5551Type=1017,THREE.UnsignedShort565Type=1018,THREE.AlphaFormat=1019,THREE.RGBFormat=1020,THREE.RGBAFormat=1021,THREE.LuminanceFormat=1022,THREE.LuminanceAlphaFormat=1023,THREE.RGB_S3TC_DXT1_Format=2001,THREE.RGBA_S3TC_DXT1_Format=2002,THREE.RGBA_S3TC_DXT3_Format=2003,THREE.RGBA_S3TC_DXT5_Format=2004,THREE.Color=function(e){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(e)},THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(e){return e instanceof THREE.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){if(0===t)this.r=this.g=this.b=r;else{var i=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e},n=r<=.5?r*(1+t):r+t-r*t,o=2*r-n;this.r=i(o,n,e+1/3),this.g=i(o,n,e),this.b=i(o,n,e-1/3)}return this},setStyle:function(e){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(e)){var t=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(e);return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,this}if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(e)){t=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(e);return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(e)){t=/^\#([0-9a-f]{6})$/i.exec(e);return this.setHex(parseInt(t[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)){t=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e);return this.setHex(parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3],16)),this}if(/^(\w+)$/i.test(e))return this.setHex(THREE.ColorKeywords[e]),this},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e){return this.r=e.r*e.r,this.g=e.g*e.g,this.b=e.b*e.b,this},copyLinearToGamma:function(e){return this.r=Math.sqrt(e.r),this.g=Math.sqrt(e.g),this.b=Math.sqrt(e.b),this},convertGammaToLinear:function(){var e=this.r,t=this.g,r=this.b;return this.r=e*e,this.g=t*t,this.b=r*r,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,r,i=e||{h:0,s:0,l:0},n=this.r,o=this.g,a=this.b,s=Math.max(n,o,a),l=Math.min(n,o,a),u=(l+s)/2;if(l===s)t=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case n:t=(o-a)/c+(o<a?6:0);break;case o:t=(a-n)/c+2;break;case a:t=(n-o)/c+4}t/=6}return i.h=t,i.s=r,i.l=u,i},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){var i=this.getHSL();return i.h+=e,i.s+=t,i.l+=r,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e){return this.r=e[0],this.g=e[1],this.b=e[2],this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}},THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},THREE.Quaternion=function(e,t,r,i){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==i?i:1},THREE.Quaternion.prototype={constructor:THREE.Quaternion,_x:0,_y:0,_z:0,_w:0,_euler:void 0,_updateEuler:function(e){void 0!==this._euler&&this._euler.setFromQuaternion(this,void 0,!1)},get x(){return this._x},set x(e){this._x=e,this._updateEuler()},get y(){return this._y},set y(e){this._y=e,this._updateEuler()},get z(){return this._z},set z(e){this._z=e,this._updateEuler()},get w(){return this._w},set w(e){this._w=e,this._updateEuler()},set:function(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._updateEuler(),this},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._w=e._w,this._updateEuler(),this},setFromEuler:function(e,t){if(e instanceof THREE.Euler==!1)throw new Error("ERROR: Quaternion's .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");var r=Math.cos(e._x/2),i=Math.cos(e._y/2),n=Math.cos(e._z/2),o=Math.sin(e._x/2),a=Math.sin(e._y/2),s=Math.sin(e._z/2);return"XYZ"===e.order?(this._x=o*i*n+r*a*s,this._y=r*a*n-o*i*s,this._z=r*i*s+o*a*n,this._w=r*i*n-o*a*s):"YXZ"===e.order?(this._x=o*i*n+r*a*s,this._y=r*a*n-o*i*s,this._z=r*i*s-o*a*n,this._w=r*i*n+o*a*s):"ZXY"===e.order?(this._x=o*i*n-r*a*s,this._y=r*a*n+o*i*s,this._z=r*i*s+o*a*n,this._w=r*i*n-o*a*s):"ZYX"===e.order?(this._x=o*i*n-r*a*s,this._y=r*a*n+o*i*s,this._z=r*i*s-o*a*n,this._w=r*i*n+o*a*s):"YZX"===e.order?(this._x=o*i*n+r*a*s,this._y=r*a*n+o*i*s,this._z=r*i*s-o*a*n,this._w=r*i*n-o*a*s):"XZY"===e.order&&(this._x=o*i*n-r*a*s,this._y=r*a*n-o*i*s,this._z=r*i*s+o*a*n,this._w=r*i*n+o*a*s),!1!==t&&this._updateEuler(),this},setFromAxisAngle:function(e,t){var r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._updateEuler(),this},setFromRotationMatrix:function(e){var t,r=e.elements,i=r[0],n=r[4],o=r[8],a=r[1],s=r[5],l=r[9],u=r[2],c=r[6],h=r[10],f=i+s+h;return f>0?(t=.5/Math.sqrt(f+1),this._w=.25/t,this._x=(c-l)*t,this._y=(o-u)*t,this._z=(a-n)*t):i>s&&i>h?(t=2*Math.sqrt(1+i-s-h),this._w=(c-l)/t,this._x=.25*t,this._y=(n+a)/t,this._z=(o+u)/t):s>h?(t=2*Math.sqrt(1+s-i-h),this._w=(o-u)/t,this._x=(n+a)/t,this._y=.25*t,this._z=(l+c)/t):(t=2*Math.sqrt(1+h-i-s),this._w=(a-n)/t,this._x=(o+u)/t,this._y=(l+c)/t,this._z=.25*t),this._updateEuler(),this},inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._updateEuler(),this},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Quaternion's .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var r=e._x,i=e._y,n=e._z,o=e._w,a=t._x,s=t._y,l=t._z,u=t._w;return this._x=r*u+o*a+i*l-n*s,this._y=i*u+o*s+n*a-r*l,this._z=n*u+o*l+r*s-i*a,this._w=o*u-r*a-i*s-n*l,this._updateEuler(),this},multiplyVector3:function(e){return console.warn("DEPRECATED: Quaternion's .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){var r=this._x,i=this._y,n=this._z,o=this._w,a=o*e._w+r*e._x+i*e._y+n*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=n,this;var s=Math.acos(a),l=Math.sqrt(1-a*a);if(Math.abs(l)<.001)return this._w=.5*(o+this._w),this._x=.5*(r+this._x),this._y=.5*(i+this._y),this._z=.5*(n+this._z),this;var u=Math.sin((1-t)*s)/l,c=Math.sin(t*s)/l;return this._w=o*u+this._w*c,this._x=r*u+this._x*c,this._y=i*u+this._y*c,this._z=n*u+this._z*c,this._updateEuler(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],this._w=e[3],this._updateEuler(),this},toArray:function(){return[this._x,this._y,this._z,this._w]},clone:function(){return new THREE.Quaternion(this._x,this._y,this._z,this._w)}},THREE.Quaternion.slerp=function(e,t,r,i){return r.copy(e).slerp(t,i)},THREE.Vector2=function(e,t){this.x=e||0,this.y=t||0},THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScalar:function(e){return this.x+=e,this.y+=e,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t}else this.x=0,this.y=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new THREE.Vector2,t=new THREE.Vector2),e.set(r,r),t.set(i,i),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e){return this.x=e[0],this.y=e[1],this},toArray:function(){return[this.x,this.y]},clone:function(){return new THREE.Vector2(this.x,this.y)}},THREE.Vector3=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return t instanceof THREE.Euler==!1&&console.error("ERROR: Vector3's .applyEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code."),void 0===e&&(e=new THREE.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,r){return void 0===e&&(e=new THREE.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,r)),this}}(),applyMatrix3:function(e){var t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6]*i,this.y=n[1]*t+n[4]*r+n[7]*i,this.z=n[2]*t+n[5]*r+n[8]*i,this},applyMatrix4:function(e){var t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[4]*r+n[8]*i+n[12],this.y=n[1]*t+n[5]*r+n[9]*i+n[13],this.z=n[2]*t+n[6]*r+n[10]*i+n[14],this},applyProjection:function(e){var t=this.x,r=this.y,i=this.z,n=e.elements,o=1/(n[3]*t+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*t+n[4]*r+n[8]*i+n[12])*o,this.y=(n[1]*t+n[5]*r+n[9]*i+n[13])*o,this.z=(n[2]*t+n[6]*r+n[10]*i+n[14])*o,this},applyQuaternion:function(e){var t=this.x,r=this.y,i=this.z,n=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*i-a*r,u=s*r+a*t-n*i,c=s*i+n*r-o*t,h=-n*t-o*r-a*i;return this.x=l*s+h*-n+u*-a-c*-o,this.y=u*s+h*-o+c*-n-l*-a,this.z=c*s+h*-a+l*-o-u*-n,this},transformDirection:function(e){var t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[4]*r+n[8]*i,this.y=n[1]*t+n[5]*r+n[9]*i,this.z=n[2]*t+n[6]*r+n[10]*i,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t}else this.x=0,this.y=0,this.z=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new THREE.Vector3,t=new THREE.Vector3),e.set(r,r,r),t.set(i,i,i),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var r=this.x,i=this.y,n=this.z;return this.x=i*e.z-n*e.y,this.y=n*e.x-r*e.z,this.z=r*e.y-i*e.x,this},crossVectors:function(e,t){var r=e.x,i=e.y,n=e.z,o=t.x,a=t.y,s=t.z;return this.x=i*s-n*a,this.y=n*o-r*s,this.z=r*a-i*o,this},projectOnVector:function(){var e,t;return function(r){return void 0===e&&(e=new THREE.Vector3),e.copy(r).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new THREE.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new THREE.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/(this.length()*e.length());return Math.acos(THREE.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i},setEulerFromRotationMatrix:function(e,t){console.error("REMOVED: Vector3's setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code.")},setEulerFromQuaternion:function(e,t){console.error("REMOVED: Vector3's setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code.")},getPositionFromMatrix:function(e){return console.warn("DEPRECATED: Vector3's .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("DEPRECATED: Vector3's .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("DEPRECATED: Vector3's .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code."),this.setFromMatrixColumn(e,t)},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),r=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),i=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=r,this.z=i,this},setFromMatrixColumn:function(e,t){var r=4*e,i=t.elements;return this.x=i[r],this.y=i[r+1],this.z=i[r+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}},THREE.Vector4=function(e,t,r,i){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==i?i:1},THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,r=this.y,i=this.z,n=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*n,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*n,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*n,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*n,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t,this.w*=t}else this.x=0,this.y=0,this.z=0,this.w=1;return this},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,r,i,n,o=e.elements,a=o[0],s=o[4],l=o[8],u=o[1],c=o[5],h=o[9],f=o[2],d=o[6],p=o[10];if(Math.abs(s-u)<.01&&Math.abs(l-f)<.01&&Math.abs(h-d)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+f)<.1&&Math.abs(h+d)<.1&&Math.abs(a+c+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,E=(c+1)/2,v=(p+1)/2,b=(s+u)/4,y=(l+f)/4,g=(h+d)/4;return m>E&&m>v?m<.01?(r=0,i=.707106781,n=.707106781):(i=b/(r=Math.sqrt(m)),n=y/r):E>v?E<.01?(r=.707106781,i=0,n=.707106781):(r=b/(i=Math.sqrt(E)),n=g/i):v<.01?(r=.707106781,i=.707106781,n=0):(r=y/(n=Math.sqrt(v)),i=g/n),this.set(r,i,n,t),this}var _=Math.sqrt((d-h)*(d-h)+(l-f)*(l-f)+(u-s)*(u-s));return Math.abs(_)<.001&&(_=1),this.x=(d-h)/_,this.y=(l-f)/_,this.z=(u-s)/_,this.w=Math.acos((a+c+p-1)/2),this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this.w>e.w&&(this.w=e.w),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this.w<e.w&&(this.w=e.w),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this.w<e.w?this.w=e.w:this.w>t.w&&(this.w=t.w),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new THREE.Vector4,t=new THREE.Vector4),e.set(r,r,r,r),t.set(i,i,i,i),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3],this},toArray:function(){return[this.x,this.y,this.z,this.w]},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}},THREE.Euler=function(e,t,r,i){this._x=e||0,this._y=t||0,this._z=r||0,this._order=i||THREE.Euler.DefaultOrder},THREE.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],THREE.Euler.DefaultOrder="XYZ",THREE.Euler.prototype={constructor:THREE.Euler,_x:0,_y:0,_z:0,_order:THREE.Euler.DefaultOrder,_quaternion:void 0,_updateQuaternion:function(){void 0!==this._quaternion&&this._quaternion.setFromEuler(this,!1)},get x(){return this._x},set x(e){this._x=e,this._updateQuaternion()},get y(){return this._y},set y(e){this._y=e,this._updateQuaternion()},get z(){return this._z},set z(e){this._z=e,this._updateQuaternion()},get order(){return this._order},set order(e){this._order=e,this._updateQuaternion()},set:function(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._order=i||this._order,this._updateQuaternion(),this},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._updateQuaternion(),this},setFromRotationMatrix:function(e,t){function r(e){return Math.min(Math.max(e,-1),1)}var i=e.elements,n=i[0],o=i[4],a=i[8],s=i[1],l=i[5],u=i[9],c=i[2],h=i[6],f=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(a)),Math.abs(a)<.99999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,n)):(this._x=Math.atan2(h,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(u)),Math.abs(u)<.99999?(this._y=Math.atan2(a,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,n),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h)),Math.abs(h)<.99999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,n))):"ZYX"===t?(this._y=Math.asin(-r(c)),Math.abs(c)<.99999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,n)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===t?(this._z=Math.asin(r(s)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,n)):(this._x=0,this._y=Math.atan2(a,f))):"XZY"===t?(this._z=Math.asin(-r(o)),Math.abs(o)<.99999?(this._x=Math.atan2(h,l),this._y=Math.atan2(a,n)):(this._x=Math.atan2(-u,f),this._y=0)):console.warn("WARNING: Euler.setFromRotationMatrix() given unsupported order: "+t),this._order=t,this._updateQuaternion(),this},setFromQuaternion:function(e,t,r){function i(e){return Math.min(Math.max(e,-1),1)}var n=e.x*e.x,o=e.y*e.y,a=e.z*e.z,s=e.w*e.w;return"XYZ"===(t=t||this._order)?(this._x=Math.atan2(2*(e.x*e.w-e.y*e.z),s-n-o+a),this._y=Math.asin(i(2*(e.x*e.z+e.y*e.w))),this._z=Math.atan2(2*(e.z*e.w-e.x*e.y),s+n-o-a)):"YXZ"===t?(this._x=Math.asin(i(2*(e.x*e.w-e.y*e.z))),this._y=Math.atan2(2*(e.x*e.z+e.y*e.w),s-n-o+a),this._z=Math.atan2(2*(e.x*e.y+e.z*e.w),s-n+o-a)):"ZXY"===t?(this._x=Math.asin(i(2*(e.x*e.w+e.y*e.z))),this._y=Math.atan2(2*(e.y*e.w-e.z*e.x),s-n-o+a),this._z=Math.atan2(2*(e.z*e.w-e.x*e.y),s-n+o-a)):"ZYX"===t?(this._x=Math.atan2(2*(e.x*e.w+e.z*e.y),s-n-o+a),this._y=Math.asin(i(2*(e.y*e.w-e.x*e.z))),this._z=Math.atan2(2*(e.x*e.y+e.z*e.w),s+n-o-a)):"YZX"===t?(this._x=Math.atan2(2*(e.x*e.w-e.z*e.y),s-n+o-a),this._y=Math.atan2(2*(e.y*e.w-e.x*e.z),s+n-o-a),this._z=Math.asin(i(2*(e.x*e.y+e.z*e.w)))):"XZY"===t?(this._x=Math.atan2(2*(e.x*e.w+e.y*e.z),s-n+o-a),this._y=Math.atan2(2*(e.x*e.z+e.y*e.w),s+n-o-a),this._z=Math.asin(i(2*(e.z*e.w-e.x*e.y)))):console.warn("WARNING: Euler.setFromQuaternion() given unsupported order: "+t),this._order=t,!1!==r&&this._updateQuaternion(),this},reorder:function(){var e=new THREE.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._updateQuaternion(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},clone:function(){return new THREE.Euler(this._x,this._y,this._z,this._order)}},THREE.Line3=function(e,t){this.start=void 0!==e?e:new THREE.Vector3,this.end=void 0!==t?t:new THREE.Vector3},THREE.Line3.prototype={constructor:THREE.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){return(e||new THREE.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new THREE.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var r=t||new THREE.Vector3;return this.delta(r).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r,i){e.subVectors(r,this.start),t.subVectors(this.end,this.start);var n=t.dot(t),o=t.dot(e)/n;return i&&(o=THREE.Math.clamp(o,0,1)),o}}(),closestPointToPoint:function(e,t,r){var i=this.closestPointToPointParameter(e,t),n=r||new THREE.Vector3;return this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}},THREE.Box2=function(e,t){this.min=void 0!==e?e:new THREE.Vector2(1/0,1/0),this.max=void 0!==t?t:new THREE.Vector2(-1/0,-1/0)},THREE.Box2.prototype={constructor:THREE.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){if(e.length>0){var t=e[0];this.min.copy(t),this.max.copy(t);for(var r=1,i=e.length;r<i;r++)(t=e[r]).x<this.min.x?this.min.x=t.x:t.x>this.max.x&&(this.max.x=t.x),t.y<this.min.y?this.min.y=t.y:t.y>this.max.y&&(this.max.y=t.y)}else this.makeEmpty();return this},setFromCenterAndSize:function(){var e=new THREE.Vector2;return function(t,r){var i=e.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){return(e||new THREE.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new THREE.Vector2).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new THREE.Vector2).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new THREE.Vector2).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector2;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}},THREE.Box3=function(e,t){this.min=void 0!==e?e:new THREE.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new THREE.Vector3(-1/0,-1/0,-1/0)},THREE.Box3.prototype={constructor:THREE.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},addPoint:function(e){e.x<this.min.x?this.min.x=e.x:e.x>this.max.x&&(this.max.x=e.x),e.y<this.min.y?this.min.y=e.y:e.y>this.max.y&&(this.max.y=e.y),e.z<this.min.z?this.min.z=e.z:e.z>this.max.z&&(this.max.z=e.z)},setFromPoints:function(e){if(e.length>0){var t=e[0];this.min.copy(t),this.max.copy(t);for(var r=1,i=e.length;r<i;r++)this.addPoint(e[r])}else this.makeEmpty();return this},setFromCenterAndSize:function(){var e=new THREE.Vector3;return function(t,r){var i=e.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),setFromObject:function(){var e=new THREE.Vector3;return function(t){var r=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse(function(t){if(void 0!==t.geometry&&void 0!==t.geometry.vertices)for(var i=t.geometry.vertices,n=0,o=i.length;n<o;n++)e.copy(i[n]),e.applyMatrix4(t.matrixWorld),r.expandByPoint(e)}),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){return(e||new THREE.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new THREE.Vector3).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new THREE.Vector3).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},clampPoint:function(e,t){return(t||new THREE.Vector3).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector3;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new THREE.Vector3;return function(t){var r=t||new THREE.Sphere;return r.center=this.center(),r.radius=.5*this.size(e).length(),r}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}},THREE.Matrix3=function(e,t,r,i,n,o,a,s,l){this.elements=new Float32Array(9),this.set(void 0!==e?e:1,t||0,r||0,i||0,void 0!==n?n:1,o||0,a||0,s||0,void 0!==l?l:1)},THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(e,t,r,i,n,o,a,s,l){var u=this.elements;return u[0]=e,u[3]=t,u[6]=r,u[1]=i,u[4]=n,u[7]=o,u[2]=a,u[5]=s,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix3's .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){var e=new THREE.Vector3;return function(t){for(var r=0,i=t.length;r<i;r+=3)e.x=t[r],e.y=t[r+1],e.z=t[r+2],e.applyMatrix3(this),t[r]=e.x,t[r+1]=e.y,t[r+2]=e.z;return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-r*n*u+r*a*s+i*n*l-i*o*s},getInverse:function(e,t){var r=e.elements,i=this.elements;i[0]=r[10]*r[5]-r[6]*r[9],i[1]=-r[10]*r[1]+r[2]*r[9],i[2]=r[6]*r[1]-r[2]*r[5],i[3]=-r[10]*r[4]+r[6]*r[8],i[4]=r[10]*r[0]-r[2]*r[8],i[5]=-r[6]*r[0]+r[2]*r[4],i[6]=r[9]*r[4]-r[5]*r[8],i[7]=-r[9]*r[0]+r[1]*r[8],i[8]=r[5]*r[0]-r[1]*r[4];var n=r[0]*i[0]+r[1]*i[3]+r[2]*i[6];if(0===n){var o="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/n),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.getInverse(e).transpose(),this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},clone:function(){var e=this.elements;return new THREE.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}},THREE.Matrix4=function(e,t,r,i,n,o,a,s,l,u,c,h,f,d,p,m){this.elements=new Float32Array(16);var E=this.elements;E[0]=void 0!==e?e:1,E[4]=t||0,E[8]=r||0,E[12]=i||0,E[1]=n||0,E[5]=void 0!==o?o:1,E[9]=a||0,E[13]=s||0,E[2]=l||0,E[6]=u||0,E[10]=void 0!==c?c:1,E[14]=h||0,E[3]=f||0,E[7]=d||0,E[11]=p||0,E[15]=void 0!==m?m:1},THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(e,t,r,i,n,o,a,s,l,u,c,h,f,d,p,m){var E=this.elements;return E[0]=e,E[4]=t,E[8]=r,E[12]=i,E[1]=n,E[5]=o,E[9]=a,E[13]=s,E[2]=l,E[6]=u,E[10]=c,E[14]=h,E[3]=f,E[7]=d,E[11]=p,E[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){return this.elements.set(e.elements),this},extractPosition:function(e){return console.warn("DEPRECATED: Matrix4's .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},copyPosition:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractRotation:function(){var e=new THREE.Vector3;return function(t){var r=this.elements,i=t.elements,n=1/e.set(i[0],i[1],i[2]).length(),o=1/e.set(i[4],i[5],i[6]).length(),a=1/e.set(i[8],i[9],i[10]).length();return r[0]=i[0]*n,r[1]=i[1]*n,r[2]=i[2]*n,r[4]=i[4]*o,r[5]=i[5]*o,r[6]=i[6]*o,r[8]=i[8]*a,r[9]=i[9]*a,r[10]=i[10]*a,this}}(),makeRotationFromEuler:function(e){e instanceof THREE.Euler==!1&&console.error("ERROR: Matrix's .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");var t=this.elements,r=e.x,i=e.y,n=e.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(i),l=Math.sin(i),u=Math.cos(n),c=Math.sin(n);if("XYZ"===e.order){var h=o*u,f=o*c,d=a*u,p=a*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=f+d*l,t[5]=h-p*l,t[9]=-a*s,t[2]=p-h*l,t[6]=d+f*l,t[10]=o*s}else if("YXZ"===e.order){var m=s*u,E=s*c,v=l*u,b=l*c;t[0]=m+b*a,t[4]=v*a-E,t[8]=o*l,t[1]=o*c,t[5]=o*u,t[9]=-a,t[2]=E*a-v,t[6]=b+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*u,E=s*c,v=l*u,b=l*c;t[0]=m-b*a,t[4]=-o*c,t[8]=v+E*a,t[1]=E+v*a,t[5]=o*u,t[9]=b-m*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){h=o*u,f=o*c,d=a*u,p=a*c;t[0]=s*u,t[4]=d*l-f,t[8]=h*l+p,t[1]=s*c,t[5]=p*l+h,t[9]=f*l-d,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var y=o*s,g=o*l,_=a*s,T=a*l;t[0]=s*u,t[4]=T-y*c,t[8]=_*c+g,t[1]=c,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=g*c+_,t[10]=y-T*c}else if("XZY"===e.order){y=o*s,g=o*l,_=a*s,T=a*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=y*c+T,t[5]=o*u,t[9]=g*c-_,t[2]=_*c-g,t[6]=a*u,t[10]=T*c+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},setRotationFromQuaternion:function(e){return console.warn("DEPRECATED: Matrix4's .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code."),this.makeRotationFromQuaternion(e)},makeRotationFromQuaternion:function(e){var t=this.elements,r=e.x,i=e.y,n=e.z,o=e.w,a=r+r,s=i+i,l=n+n,u=r*a,c=r*s,h=r*l,f=i*s,d=i*l,p=n*l,m=o*a,E=o*s,v=o*l;return t[0]=1-(f+p),t[4]=c-v,t[8]=h+E,t[1]=c+v,t[5]=1-(u+p),t[9]=d-m,t[2]=h-E,t[6]=d+m,t[10]=1-(u+f),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(i,n,o){var a=this.elements;return r.subVectors(i,n).normalize(),0===r.length()&&(r.z=1),e.crossVectors(o,r).normalize(),0===e.length()&&(r.x+=1e-4,e.crossVectors(o,r).normalize()),t.crossVectors(r,e),a[0]=e.x,a[4]=t.x,a[8]=r.x,a[1]=e.y,a[5]=t.y,a[9]=r.y,a[2]=e.z,a[6]=t.z,a[10]=r.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var r=e.elements,i=t.elements,n=this.elements,o=r[0],a=r[4],s=r[8],l=r[12],u=r[1],c=r[5],h=r[9],f=r[13],d=r[2],p=r[6],m=r[10],E=r[14],v=r[3],b=r[7],y=r[11],g=r[15],_=i[0],T=i[4],w=i[8],R=i[12],x=i[1],S=i[5],M=i[9],H=i[13],A=i[2],C=i[6],P=i[10],F=i[14],D=i[3],k=i[7],L=i[11],B=i[15];return n[0]=o*_+a*x+s*A+l*D,n[4]=o*T+a*S+s*C+l*k,n[8]=o*w+a*M+s*P+l*L,n[12]=o*R+a*H+s*F+l*B,n[1]=u*_+c*x+h*A+f*D,n[5]=u*T+c*S+h*C+f*k,n[9]=u*w+c*M+h*P+f*L,n[13]=u*R+c*H+h*F+f*B,n[2]=d*_+p*x+m*A+E*D,n[6]=d*T+p*S+m*C+E*k,n[10]=d*w+p*M+m*P+E*L,n[14]=d*R+p*H+m*F+E*B,n[3]=v*_+b*x+y*A+g*D,n[7]=v*T+b*S+y*C+g*k,n[11]=v*w+b*M+y*P+g*L,n[15]=v*R+b*H+y*F+g*B,this},multiplyToArray:function(e,t,r){var i=this.elements;return this.multiplyMatrices(e,t),r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){var e=new THREE.Vector3;return function(t){for(var r=0,i=t.length;r<i;r+=3)e.x=t[r],e.y=t[r+1],e.z=t[r+2],e.applyProjection(this),t[r]=e.x,t[r+1]=e.y,t[r+2]=e.z;return t}}(),rotateAxis:function(e){console.warn("DEPRECATED: Matrix4's .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("DEPRECATED: Matrix4's .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},determinant:function(){var e=this.elements,t=e[0],r=e[4],i=e[8],n=e[12],o=e[1],a=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+n*s*c-i*l*c-n*a*h+r*l*h+i*a*f-r*s*f)+e[7]*(+t*s*f-t*l*h+n*o*h-i*o*f+i*l*u-n*s*u)+e[11]*(+t*l*c-t*a*f-n*o*c+r*o*f+n*a*u-r*l*u)+e[15]*(-i*a*u-t*s*c+t*a*h+i*o*c-r*o*h+r*s*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},flattenToArrayOffset:function(e,t){var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e},getPosition:function(){var e=new THREE.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var r=this.elements,i=e.elements,n=i[0],o=i[4],a=i[8],s=i[12],l=i[1],u=i[5],c=i[9],h=i[13],f=i[2],d=i[6],p=i[10],m=i[14],E=i[3],v=i[7],b=i[11],y=i[15];r[0]=c*m*v-h*p*v+h*d*b-u*m*b-c*d*y+u*p*y,r[4]=s*p*v-a*m*v-s*d*b+o*m*b+a*d*y-o*p*y,r[8]=a*h*v-s*c*v+s*u*b-o*h*b-a*u*y+o*c*y,r[12]=s*c*d-a*h*d-s*u*p+o*h*p+a*u*m-o*c*m,r[1]=h*p*E-c*m*E-h*f*b+l*m*b+c*f*y-l*p*y,r[5]=a*m*E-s*p*E+s*f*b-n*m*b-a*f*y+n*p*y,r[9]=s*c*E-a*h*E-s*l*b+n*h*b+a*l*y-n*c*y,r[13]=a*h*f-s*c*f+s*l*p-n*h*p-a*l*m+n*c*m,r[2]=u*m*E-h*d*E+h*f*v-l*m*v-u*f*y+l*d*y,r[6]=s*d*E-o*m*E-s*f*v+n*m*v+o*f*y-n*d*y,r[10]=o*h*E-s*u*E+s*l*v-n*h*v-o*l*y+n*u*y,r[14]=s*u*f-o*h*f-s*l*d+n*h*d+o*l*m-n*u*m,r[3]=c*d*E-u*p*E-c*f*v+l*p*v+u*f*b-l*d*b,r[7]=o*p*E-a*d*E+a*f*v-n*p*v-o*f*b+n*d*b,r[11]=a*u*E-o*c*E-a*l*v+n*c*v+o*l*b-n*u*b,r[15]=o*c*f-a*u*f+a*l*d-n*c*d-o*l*p+n*u*p;var g=n*r[0]+l*r[4]+f*r[8]+E*r[12];if(0==g){var _="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(_);return console.warn(_),this.identity(),this}return this.multiplyScalar(1/g),this},translate:function(e){console.warn("DEPRECATED: Matrix4's .translate() has been removed.")},rotateX:function(e){console.warn("DEPRECATED: Matrix4's .rotateX() has been removed.")},rotateY:function(e){console.warn("DEPRECATED: Matrix4's .rotateY() has been removed.")},rotateZ:function(e){console.warn("DEPRECATED: Matrix4's .rotateZ() has been removed.")},rotateByAxis:function(e,t){console.warn("DEPRECATED: Matrix4's .rotateByAxis() has been removed.")},scale:function(e){var t=this.elements,r=e.x,i=e.y,n=e.z;return t[0]*=r,t[4]*=i,t[8]*=n,t[1]*=r,t[5]*=i,t[9]*=n,t[2]*=r,t[6]*=i,t[10]*=n,t[3]*=r,t[7]*=i,t[11]*=n,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,Math.max(r,i)))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t),i=Math.sin(t),n=1-r,o=e.x,a=e.y,s=e.z,l=n*o,u=n*a;return this.set(l*o+r,l*a-i*s,l*s+i*a,0,l*a+i*s,u*a+r,u*s-i*o,0,l*s-i*a,u*s+i*o,n*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},compose:function(e,t,r){return this.makeRotationFromQuaternion(t),this.scale(r),this.setPosition(e),this},decompose:function(){var e=new THREE.Vector3,t=new THREE.Matrix4;return function(r,i,n){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),l=e.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),r.x=o[12],r.y=o[13],r.z=o[14],t.elements.set(this.elements);var u=1/a,c=1/s,h=1/l;return t.elements[0]*=u,t.elements[1]*=u,t.elements[2]*=u,t.elements[4]*=c,t.elements[5]*=c,t.elements[6]*=c,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,i.setFromRotationMatrix(t),n.x=a,n.y=s,n.z=l,this}}(),makeFrustum:function(e,t,r,i,n,o){var a=this.elements,s=2*n/(t-e),l=2*n/(i-r),u=(t+e)/(t-e),c=(i+r)/(i-r),h=-(o+n)/(o-n),f=-2*o*n/(o-n);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,r,i){var n=r*Math.tan(THREE.Math.degToRad(.5*e)),o=-n,a=o*t,s=n*t;return this.makeFrustum(a,s,o,n,r,i)},makeOrthographic:function(e,t,r,i,n,o){var a=this.elements,s=t-e,l=r-i,u=o-n,c=(t+e)/s,h=(r+i)/l,f=(o+n)/u;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2/l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2/u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},clone:function(){var e=this.elements;return new THREE.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])}},THREE.Ray=function(e,t){this.origin=void 0!==e?e:new THREE.Vector3,this.direction=void 0!==t?t:new THREE.Vector3},THREE.Ray.prototype={constructor:THREE.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new THREE.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new THREE.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var r=t||new THREE.Vector3;r.subVectors(e,this.origin);var i=r.dot(this.direction);return i<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(){var e=new THREE.Vector3;return function(t){var r=e.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceTo(t):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceTo(t))}}(),distanceSqToSegment:function(e,t,r,i){var n,o,a,s,l=e.clone().add(t).multiplyScalar(.5),u=t.clone().sub(e).normalize(),c=.5*e.distanceTo(t),h=this.origin.clone().sub(l),f=-this.direction.dot(u),d=h.dot(this.direction),p=-h.dot(u),m=h.lengthSq(),E=Math.abs(1-f*f);if(E>=0)if(o=f*d-p,s=c*E,(n=f*p-d)>=0)if(o>=-s)if(o<=s){var v=1/E;a=(n*=v)*(n+f*(o*=v)+2*d)+o*(f*n+o+2*p)+m}else o=c,a=-(n=Math.max(0,-(f*o+d)))*n+o*(o+2*p)+m;else o=-c,a=-(n=Math.max(0,-(f*o+d)))*n+o*(o+2*p)+m;else o<=-s?a=-(n=Math.max(0,-(-f*c+d)))*n+(o=n>0?-c:Math.min(Math.max(-c,-p),c))*(o+2*p)+m:o<=s?(n=0,a=(o=Math.min(Math.max(-c,-p),c))*(o+2*p)+m):a=-(n=Math.max(0,-(f*c+d)))*n+(o=n>0?c:Math.min(Math.max(-c,-p),c))*(o+2*p)+m;else o=f>0?-c:c,a=-(n=Math.max(0,-(f*o+d)))*n+o*(o+2*p)+m;return r&&r.copy(this.direction.clone().multiplyScalar(n).add(this.origin)),i&&i.copy(u.clone().multiplyScalar(o).add(l)),a},isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0==t)return 0==e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null},intersectPlane:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)},isIntersectionBox:function(){var e=new THREE.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectBox:function(e,t){var r,i,n,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(r=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(r=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),u>=0?(n=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(n=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),r>o||n>i?null:((n>r||r!=r)&&(r=n),(o<i||i!=i)&&(i=o),c>=0?(a=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(a=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),r>s||a>i?null:((a>r||r!=r)&&(r=a),(s<i||i!=i)&&(i=s),i<0?null:this.at(r>=0?r:i,t)))},intersectTriangle:function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Vector3;return function(n,o,a,s,l){t.subVectors(o,n),r.subVectors(a,n),i.crossVectors(t,r);var u,c=this.direction.dot(i);if(c>0){if(s)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}e.subVectors(this.origin,n);var h=u*this.direction.dot(r.crossVectors(e,r));if(h<0)return null;var f=u*this.direction.dot(t.cross(e));if(f<0)return null;if(h+f>c)return null;var d=-u*e.dot(i);return d<0?null:this.at(d/c,l)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new THREE.Ray).copy(this)}},THREE.Sphere=function(e,t){this.center=void 0!==e?e:new THREE.Vector3,this.radius=void 0!==t?t:0},THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new THREE.Box3;return function(t,r){var i=this.center;void 0!==r?i.copy(r):e.setFromPoints(t).center(i);for(var n=0,o=0,a=t.length;o<a;o++)n=Math.max(n,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(n),this}}(),copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var r=this.center.distanceToSquared(e),i=t||new THREE.Vector3;return i.copy(e),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(e){var t=e||new THREE.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}},THREE.Frustum=function(e,t,r,i,n,o){this.planes=[void 0!==e?e:new THREE.Plane,void 0!==t?t:new THREE.Plane,void 0!==r?r:new THREE.Plane,void 0!==i?i:new THREE.Plane,void 0!==n?n:new THREE.Plane,void 0!==o?o:new THREE.Plane]},THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(e,t,r,i,n,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(n),a[5].copy(o),this},copy:function(e){for(var t=this.planes,r=0;r<6;r++)t[r].copy(e.planes[r]);return this},setFromMatrix:function(e){var t=this.planes,r=e.elements,i=r[0],n=r[1],o=r[2],a=r[3],s=r[4],l=r[5],u=r[6],c=r[7],h=r[8],f=r[9],d=r[10],p=r[11],m=r[12],E=r[13],v=r[14],b=r[15];return t[0].setComponents(a-i,c-s,p-h,b-m).normalize(),t[1].setComponents(a+i,c+s,p+h,b+m).normalize(),t[2].setComponents(a+n,c+l,p+f,b+E).normalize(),t[3].setComponents(a-n,c-l,p-f,b-E).normalize(),t[4].setComponents(a-o,c-u,p-d,b-v).normalize(),t[5].setComponents(a+o,c+u,p+d,b+v).normalize(),this},intersectsObject:function(){var e=new THREE.Sphere;return function(t){var r=t.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),e.copy(r.boundingSphere),e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,r=e.center,i=-e.radius,n=0;n<6;n++){if(t[n].distanceToPoint(r)<i)return!1}return!0},intersectsBox:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r){for(var i=this.planes,n=0;n<6;n++){var o=i[n];e.x=o.normal.x>0?r.min.x:r.max.x,t.x=o.normal.x>0?r.max.x:r.min.x,e.y=o.normal.y>0?r.min.y:r.max.y,t.y=o.normal.y>0?r.max.y:r.min.y,e.z=o.normal.z>0?r.min.z:r.max.z,t.z=o.normal.z>0?r.max.z:r.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0},clone:function(){return(new THREE.Frustum).copy(this)}},THREE.Plane=function(e,t){this.normal=void 0!==e?e:new THREE.Vector3(1,0,0),this.constant=void 0!==t?t:0},THREE.Plane.prototype={constructor:THREE.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r,i,n){var o=e.subVectors(n,i).cross(t.subVectors(r,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var r=this.distanceToPoint(e);return(t||new THREE.Vector3).copy(this.normal).multiplyScalar(r)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0},intersectLine:function(){var e=new THREE.Vector3;return function(t,r){var i=r||new THREE.Vector3,n=t.delta(e),o=this.normal.dot(n);if(0==o)return 0==this.distanceToPoint(t.start)?i.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/o;return a<0||a>1?void 0:i.copy(n).multiplyScalar(a).add(t.start)}}(),coplanarPoint:function(e){return(e||new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Matrix3;return function(i,n){var o=n||r.getNormalMatrix(i),a=e.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(t);return s.applyMatrix4(i),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}},THREE.Math={PI2:2*Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=new Array(36),i=0;return function(){for(var n=0;n<36;n++)8==n||13==n||18==n||23==n?r[n]="-":14==n?r[n]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),e=15&i,i>>=4,r[n]=t[19==n?3&e|8:e]);return r.join("")}}(),clamp:function(e,t,r){return e<t?t:e>r?r:e},clampBottom:function(e,t){return e<t?t:e},mapLinear:function(e,t,r,i,n){return i+(e-t)*(n-i)/(r-t)},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},sign:function(e){return e<0?-1:e>0?1:0},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}(),isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e}},THREE.Spline=function(e){this.points=e;var t,r,i,n,o,a,s,l,u,c=[],h={x:0,y:0,z:0};function f(e,t,r,i,n,o,a){var s=.5*(r-e),l=.5*(i-t);return(2*(t-r)+s+l)*a+(-3*(t-r)-2*s-l)*o+s*n+t}this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return t=(this.points.length-1)*e,r=Math.floor(t),i=t-r,c[0]=0===r?r:r-1,c[1]=r,c[2]=r>this.points.length-2?this.points.length-1:r+1,c[3]=r>this.points.length-3?this.points.length-1:r+2,a=this.points[c[0]],s=this.points[c[1]],l=this.points[c[2]],u=this.points[c[3]],o=i*(n=i*i),h.x=f(a.x,s.x,l.x,u.x,i,n,o),h.y=f(a.y,s.y,l.y,u.y,i,n,o),h.z=f(a.z,s.z,l.z,u.z,i,n,o),h},this.getControlPointsArray=function(){var e,t,r=this.points.length,i=[];for(e=0;e<r;e++)t=this.points[e],i[e]=[t.x,t.y,t.z];return i},this.getLength=function(e){var t,r,i,n,o=0,a=0,s=0,l=new THREE.Vector3,u=new THREE.Vector3,c=[],h=0;for(c[0]=0,e||(e=100),i=this.points.length*e,l.copy(this.points[0]),t=1;t<i;t++)r=t/i,n=this.getPoint(r),u.copy(n),h+=u.distanceTo(l),l.copy(n),o=(this.points.length-1)*r,(a=Math.floor(o))!=s&&(c[a]=h,s=a);return c[c.length]=h,{chunks:c,total:h}},this.reparametrizeByArcLength=function(e){var t,r,i,n,o,a,s,l,u=[],c=new THREE.Vector3,h=this.getLength();for(u.push(c.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(a=h.chunks[t]-h.chunks[t-1],s=Math.ceil(e*a/h.total),n=(t-1)/(this.points.length-1),o=t/(this.points.length-1),r=1;r<s-1;r++)i=n+r*(1/s)*(o-n),l=this.getPoint(i),u.push(c.copy(l).clone());u.push(c.copy(this.points[t]).clone())}this.points=u}},THREE.Triangle=function(e,t,r){this.a=void 0!==e?e:new THREE.Vector3,this.b=void 0!==t?t:new THREE.Vector3,this.c=void 0!==r?r:new THREE.Vector3},THREE.Triangle.normal=function(){var e=new THREE.Vector3;return function(t,r,i,n){var o=n||new THREE.Vector3;o.subVectors(i,r),e.subVectors(t,r),o.cross(e);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),THREE.Triangle.barycoordFromPoint=function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(i,n,o,a,s){e.subVectors(a,n),t.subVectors(o,n),r.subVectors(i,n);var l=e.dot(e),u=e.dot(t),c=e.dot(r),h=t.dot(t),f=t.dot(r),d=l*h-u*u,p=s||new THREE.Vector3;if(0==d)return p.set(-2,-1,-1);var m=1/d,E=(h*c-u*f)*m,v=(l*f-u*c)*m;return p.set(1-E-v,v,E)}}(),THREE.Triangle.containsPoint=function(){var e=new THREE.Vector3;return function(t,r,i,n){var o=THREE.Triangle.barycoordFromPoint(t,r,i,n,e);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new THREE.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return THREE.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new THREE.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return THREE.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return THREE.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},clone:function(){return(new THREE.Triangle).copy(this)}},THREE.Vertex=function(e){return console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead."),e},THREE.UV=function(e,t){return console.warn("THREE.UV has been DEPRECATED. Use THREE.Vector2 instead."),new THREE.Vector2(e,t)},THREE.Clock=function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();e=.001*(t-this.oldTime),this.oldTime=t,this.elapsedTime+=e}return e}},THREE.EventDispatcher=function(){},THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(e){e.addEventListener=THREE.EventDispatcher.prototype.addEventListener,e.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener,e.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners[e];if(void 0!==r){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(){var e=[];return function(t){if(void 0!==this._listeners){var r=this._listeners[t.type];if(void 0!==r){t.target=this;for(var i=r.length,n=0;n<i;n++)e[n]=r[n];for(n=0;n<i;n++)e[n].call(this,t)}}}}()},function(e){e.Raycaster=function(t,r,i,n){this.ray=new e.Ray(t,r),this.near=i||0,this.far=n||1/0};var t=new e.Sphere,r=new e.Ray,i=(new e.Plane,new e.Vector3,new e.Vector3),n=new e.Matrix4,o=function(e,t){return e.distance-t.distance},a=new e.Vector3,s=new e.Vector3,l=new e.Vector3,u=function(o,c,h){if(o instanceof e.Sprite){if(i.setFromMatrixPosition(o.matrixWorld),(f=c.ray.distanceToPoint(i))>o.scale.x)return h;h.push({distance:f,point:o.position,face:null,object:o})}else if(o instanceof e.LOD){i.setFromMatrixPosition(o.matrixWorld);var f=c.ray.origin.distanceTo(i);u(o.getObjectForDistance(f),c,h)}else if(o instanceof e.Mesh){if(null===(z=o.geometry).boundingSphere&&z.computeBoundingSphere(),t.copy(z.boundingSphere),t.applyMatrix4(o.matrixWorld),!1===c.ray.isIntersectionSphere(t))return h;if(n.getInverse(o.matrixWorld),r.copy(c.ray).applyMatrix4(n),null!==z.boundingBox&&!1===r.isIntersectionBox(z.boundingBox))return h;if(z instanceof e.BufferGeometry){if(void 0===(k=o.material))return h;var d=z.attributes,p=c.precision;if(void 0!==d.index)for(var m=z.offsets,E=d.index.array,v=d.position.array,b=0,y=m.length;b<y;++b)for(var g=m[b].start,_=m[b].count,T=m[b].index,w=g,R=g+_;w<R;w+=3){if(S=T+E[w],M=T+E[w+1],H=T+E[w+2],a.set(v[3*S],v[3*S+1],v[3*S+2]),s.set(v[3*M],v[3*M+1],v[3*M+2]),l.set(v[3*H],v[3*H+1],v[3*H+2]),k.side===e.BackSide)var x=r.intersectTriangle(l,s,a,!0);else x=r.intersectTriangle(a,s,l,k.side!==e.DoubleSide);if(null!==x)x.applyMatrix4(o.matrixWorld),(f=c.ray.origin.distanceTo(x))<p||f<c.near||f>c.far||h.push({distance:f,point:x,indices:[S,M,H],face:null,faceIndex:null,object:o})}else for(m=z.offsets,v=d.position.array,w=0,R=d.position.array.length;w<R;w+=3){if(S=w,M=w+1,H=w+2,a.set(v[3*S],v[3*S+1],v[3*S+2]),s.set(v[3*M],v[3*M+1],v[3*M+2]),l.set(v[3*H],v[3*H+1],v[3*H+2]),k.side===e.BackSide)x=r.intersectTriangle(l,s,a,!0);else x=r.intersectTriangle(a,s,l,k.side!==e.DoubleSide);if(null!==x)x.applyMatrix4(o.matrixWorld),(f=c.ray.origin.distanceTo(x))<p||f<c.near||f>c.far||h.push({distance:f,point:x,indices:[S,M,H],face:null,faceIndex:null,object:o})}}else if(z instanceof e.Geometry)for(var S,M,H,A=o.material instanceof e.MeshFaceMaterial,C=!0===A?o.material.materials:null,P=(p=c.precision,z.vertices),F=0,D=z.faces.length;F<D;F++){var k,L=z.faces[F];if(void 0!==(k=!0===A?C[L.materialIndex]:o.material)){if(S=P[L.a],M=P[L.b],H=P[L.c],!0===k.morphTargets){var B=z.morphTargets,O=o.morphTargetInfluences;a.set(0,0,0),s.set(0,0,0),l.set(0,0,0);for(var N=0,I=B.length;N<I;N++){var V=O[N];if(0!==V){var U=B[N].vertices;a.x+=(U[L.a].x-S.x)*V,a.y+=(U[L.a].y-S.y)*V,a.z+=(U[L.a].z-S.z)*V,s.x+=(U[L.b].x-M.x)*V,s.y+=(U[L.b].y-M.y)*V,s.z+=(U[L.b].z-M.z)*V,l.x+=(U[L.c].x-H.x)*V,l.y+=(U[L.c].y-H.y)*V,l.z+=(U[L.c].z-H.z)*V}}a.add(S),s.add(M),l.add(H),S=a,M=s,H=l}if(k.side===e.BackSide)x=r.intersectTriangle(H,M,S,!0);else x=r.intersectTriangle(S,M,H,k.side!==e.DoubleSide);if(null!==x)x.applyMatrix4(o.matrixWorld),(f=c.ray.origin.distanceTo(x))<p||f<c.near||f>c.far||h.push({distance:f,point:x,face:L,faceIndex:F,object:o})}}}else if(o instanceof e.Line){var z,G=(p=c.linePrecision)*p;if(null===(z=o.geometry).boundingSphere&&z.computeBoundingSphere(),t.copy(z.boundingSphere),t.applyMatrix4(o.matrixWorld),!1===c.ray.isIntersectionSphere(t))return h;if(n.getInverse(o.matrixWorld),r.copy(c.ray).applyMatrix4(n),z instanceof e.Geometry){var W=(P=z.vertices).length,j=new e.Vector3,J=new e.Vector3,X=o.type===e.LineStrip?1:2;for(w=0;w<W-1;w+=X){if(!(r.distanceSqToSegment(P[w],P[w+1],J,j)>G))(f=r.origin.distanceTo(J))<c.near||f>c.far||h.push({distance:f,point:j.clone().applyMatrix4(o.matrixWorld),face:null,faceIndex:null,object:o})}}}},c=function(e,t,r){for(var i=e.getDescendants(),n=0,o=i.length;n<o;n++)u(i[n],t,r)};e.Raycaster.prototype.precision=1e-4,e.Raycaster.prototype.linePrecision=1,e.Raycaster.prototype.set=function(e,t){this.ray.set(e,t)},e.Raycaster.prototype.intersectObject=function(e,t){var r=[];return!0===t&&c(e,this,r),u(e,this,r),r.sort(o),r},e.Raycaster.prototype.intersectObjects=function(e,t){for(var r=[],i=0,n=e.length;i<n;i++)u(e[i],this,r),!0===t&&c(e[i],this,r);return r.sort(o),r}}(THREE),THREE.Object3D=function(){this.id=THREE.Object3DIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.parent=void 0,this.children=[],this.up=new THREE.Vector3(0,1,0),this.position=new THREE.Vector3,this._rotation=new THREE.Euler,this._quaternion=new THREE.Quaternion,this.scale=new THREE.Vector3(1,1,1),this._rotation._quaternion=this.quaternion,this._quaternion._euler=this.rotation,this.renderDepth=null,this.rotationAutoUpdate=!0,this.matrix=new THREE.Matrix4,this.matrixWorld=new THREE.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.userData={}},THREE.Object3D.prototype={constructor:THREE.Object3D,get rotation(){return this._rotation},set rotation(e){this._rotation=e,this._rotation._quaternion=this._quaternion,this._quaternion._euler=this._rotation,this._rotation._updateQuaternion()},get quaternion(){return this._quaternion},set quaternion(e){this._quaternion=e,this._quaternion._euler=this._rotation,this._rotation._quaternion=this._quaternion,this._quaternion._updateEuler()},get eulerOrder(){return console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order."),this.rotation.order},set eulerOrder(e){console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order."),this.rotation.order=e},get useQuaternion(){console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(e){console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new THREE.Quaternion;return function(t,r){return e.setFromAxisAngle(t,r),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new THREE.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new THREE.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new THREE.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new THREE.Vector3;return function(t,r){return e.copy(t),e.applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(r)),this}}(),translate:function(e,t){return console.warn("DEPRECATED: Object3D's .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed."),this.translateOnAxis(t,e)},translateX:function(){var e=new THREE.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new THREE.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new THREE.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new THREE.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new THREE.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(e!==this){if(e instanceof THREE.Object3D){void 0!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e);for(var t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof THREE.Scene&&t.__addObject(e)}}else console.warn("THREE.Object3D.add: An object can't be added as a child of itself.")},remove:function(e){var t=this.children.indexOf(e);if(-1!==t){e.parent=void 0,e.dispatchEvent({type:"removed"}),this.children.splice(t,1);for(var r=this;void 0!==r.parent;)r=r.parent;void 0!==r&&r instanceof THREE.Scene&&r.__removeObject(e)}},traverse:function(e){e(this);for(var t=0,r=this.children.length;t<r;t++)this.children[t].traverse(e)},getObjectById:function(e,t){for(var r=0,i=this.children.length;r<i;r++){var n=this.children[r];if(n.id===e)return n;if(!0===t&&void 0!==(n=n.getObjectById(e,t)))return n}},getObjectByName:function(e,t){for(var r=0,i=this.children.length;r<i;r++){var n=this.children[r];if(n.name===e)return n;if(!0===t&&void 0!==(n=n.getObjectByName(e,t)))return n}},getChildByName:function(e,t){return console.warn("DEPRECATED: Object3D's .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e,t)},getDescendants:function(e){void 0===e&&(e=[]),Array.prototype.push.apply(e,this.children);for(var t=0,r=this.children.length;t<r;t++)this.children[t].getDescendants(e);return e},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,r=this.children.length;t<r;t++)this.children[t].updateMatrixWorld(e)},clone:function(e,t){if(void 0===e&&(e=new THREE.Object3D),void 0===t&&(t=!0),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.quaternion.copy(this.quaternion),e.scale.copy(this.scale),e.renderDepth=this.renderDepth,e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.visible=this.visible,e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow,e.frustumCulled=this.frustumCulled,e.userData=JSON.parse(JSON.stringify(this.userData)),!0===t)for(var r=0;r<this.children.length;r++){var i=this.children[r];e.add(i.clone())}return e}},THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype),THREE.Object3DIdCount=0,THREE.Projector=function(){var e,t,r,i,n,o,a,s,l,u,c,h,f=[],d=0,p=[],m=0,E=[],v=0,b=[],y=0,g=[],_=0,T={objects:[],lights:[],elements:[]},w=new THREE.Vector3,R=new THREE.Vector3,x=new THREE.Vector3,S=new THREE.Vector3,M=new THREE.Vector4,H=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),A=new THREE.Box3,C=new Array(3),P=(new Array(4),new THREE.Matrix4),F=new THREE.Matrix4,D=new THREE.Matrix4,k=new THREE.Matrix3,L=new THREE.Frustum,B=new THREE.Vector4,O=new THREE.Vector4;this.projectVector=function(e,t){return t.matrixWorldInverse.getInverse(t.matrixWorld),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),e.applyProjection(F)},this.unprojectVector=(h=new THREE.Matrix4,function(e,t){return h.getInverse(t.projectionMatrix),F.multiplyMatrices(t.matrixWorld,h),e.applyProjection(F)}),this.pickingRay=function(e,t){e.z=-1;var r=new THREE.Vector3(e.x,e.y,1);return this.unprojectVector(e,t),this.unprojectVector(r,t),r.sub(e).normalize(),new THREE.Raycaster(e,r)};var N=function(r){if(!1!==r.visible){r instanceof THREE.Light?T.lights.push(r):(r instanceof THREE.Mesh||r instanceof THREE.Line||r instanceof THREE.Sprite)&&(!1!==r.frustumCulled&&!0!==L.intersectsObject(r)||((e=function(){if(t===d){var e=new THREE.RenderableObject;return f.push(e),d++,t++,e}return f[t++]}()).id=r.id,e.object=r,null!==r.renderDepth?e.z=r.renderDepth:(S.setFromMatrixPosition(r.matrixWorld),S.applyProjection(F),e.z=S.z),T.objects.push(e)));for(var i=0,n=r.children.length;i<n;i++)N(r.children[i])}},I=new function(){var e=[],t=null,i=new THREE.Matrix3,o=function(e){var t=e.position,r=e.positionWorld,i=e.positionScreen;r.copy(t).applyMatrix4(c),i.copy(r).applyMatrix4(F);var n=1/i.w;i.x*=n,i.y*=n,i.z*=n,e.visible=i.x>=-1&&i.x<=1&&i.y>=-1&&i.y<=1&&i.z>=-1&&i.z<=1},s=function(e,t,r){return C[0]=e.positionScreen,C[1]=t.positionScreen,C[2]=r.positionScreen,!(!0!==e.visible&&!0!==t.visible&&!0!==r.visible&&!H.isIntersectionBox(A.setFromPoints(C)))&&(r.positionScreen.x-e.positionScreen.x)*(t.positionScreen.y-e.positionScreen.y)-(r.positionScreen.y-e.positionScreen.y)*(t.positionScreen.x-e.positionScreen.x)<0};return{setObject:function(r){t=r,i.getNormalMatrix(t.matrixWorld),e.length=0},projectVertex:o,checkTriangleVisibility:s,pushVertex:function(e,t,i){(r=V()).position.set(e,t,i),o(r)},pushNormal:function(t,r,i){e.push(t,r,i)},pushLine:function(e,r){var i=p[e],n=p[r];(a=z()).id=t.id,a.v1.copy(i),a.v2.copy(n),a.z=(i.positionScreen.z+n.positionScreen.z)/2,a.material=t.material,T.elements.push(a)},pushTriangle:function(r,o,a){var l=p[r],u=p[o],c=p[a];if(!0===s(l,u,c)){(n=U()).id=t.id,n.v1.copy(l),n.v2.copy(u),n.v3.copy(c),n.z=(l.positionScreen.z+u.positionScreen.z+c.positionScreen.z)/3;for(var h=0;h<3;h++){var f=3*arguments[h],d=n.vertexNormalsModel[h];d.set(e[f+0],e[f+1],e[f+2]),d.applyMatrix3(i).normalize()}n.vertexNormalsLength=3,n.material=t.material,T.elements.push(n)}}}};function V(){if(i===m){var e=new THREE.RenderableVertex;return p.push(e),m++,i++,e}return p[i++]}function U(){if(o===v){var e=new THREE.RenderableFace;return E.push(e),v++,o++,e}return E[o++]}function z(){if(s===y){var e=new THREE.RenderableLine;return b.push(e),y++,s++,e}return b[s++]}function G(){if(u===_){var e=new THREE.RenderableSprite;return g.push(e),_++,u++,e}return g[u++]}function W(e,t){return e.z!==t.z?t.z-e.z:e.id!==t.id?e.id-t.id:0}function j(e,t){var r=0,i=1,n=e.z+e.w,o=t.z+t.w,a=-e.z+e.w,s=-t.z+t.w;return n>=0&&o>=0&&a>=0&&s>=0||!(n<0&&o<0||a<0&&s<0)&&(n<0?r=Math.max(r,n/(n-o)):o<0&&(i=Math.min(i,n/(n-o))),a<0?r=Math.max(r,a/(a-s)):s<0&&(i=Math.min(i,a/(a-s))),!(i<r)&&(e.lerp(t,r),t.lerp(e,1-i),!0))}this.projectScene=function(e,r,h,f){var d,m,E,v,b,y,g,_,S,H;o=0,s=0,u=0,T.elements.length=0,!0===e.autoUpdate&&e.updateMatrixWorld(),void 0===r.parent&&r.updateMatrixWorld(),P.copy(r.matrixWorldInverse.getInverse(r.matrixWorld)),F.multiplyMatrices(r.projectionMatrix,P),L.setFromMatrix(F),function(e,r){t=0,T.objects.length=0,T.lights.length=0,N(e),!0===r&&T.objects.sort(W)}(e,h);for(var A=0,C=T.objects.length;A<C;A++)if(m=(d=T.objects[A].object).geometry,I.setObject(d),c=d.matrixWorld,i=0,d instanceof THREE.Mesh){if(m instanceof THREE.BufferGeometry){var J=m.attributes,X=m.offsets;if(void 0===J.position)continue;for(var q=0,Y=(Me=J.position.array).length;q<Y;q+=3)I.pushVertex(Me[q],Me[q+1],Me[q+2]);var K=J.normal.array;for(q=0,Y=K.length;q<Y;q+=3)I.pushNormal(K[q],K[q+1],K[q+2]);if(void 0!==J.index){var Z=J.index.array;if(X.length>0)for(A=0;A<X.length;A++){var Q=X[A],$=Q.index;for(q=Q.start,Y=Q.start+Q.count;q<Y;q+=3)I.pushTriangle(Z[q]+$,Z[q+1]+$,Z[q+2]+$)}else for(q=0,Y=Z.length;q<Y;q+=3)I.pushTriangle(Z[q],Z[q+1],Z[q+2])}else for(q=0,Y=Me.length/3;q<Y;q+=3)I.pushTriangle(q,q+1,q+2)}else if(m instanceof THREE.Geometry){E=m.vertices,v=m.faces,g=m.faceVertexUvs,k.getNormalMatrix(c),H=!0===(S=d.material instanceof THREE.MeshFaceMaterial)?d.material:null;for(var ee=0,te=E.length;ee<te;ee++){var re=E[ee];I.pushVertex(re.x,re.y,re.z)}for(var ie=0,ne=v.length;ie<ne;ie++){b=v[ie];var oe=!0===S?H.materials[b.materialIndex]:d.material;if(void 0!==oe){var ae=oe.side,se=p[b.a],le=p[b.b],ue=p[b.c];if(!0===oe.morphTargets){var ce=m.morphTargets,he=d.morphTargetInfluences,fe=se.position,de=le.position,pe=ue.position;w.set(0,0,0),R.set(0,0,0),x.set(0,0,0);for(var me=0,Ee=ce.length;me<Ee;me++){var ve=he[me];if(0!==ve){var be=ce[me].vertices;w.x+=(be[b.a].x-fe.x)*ve,w.y+=(be[b.a].y-fe.y)*ve,w.z+=(be[b.a].z-fe.z)*ve,R.x+=(be[b.b].x-de.x)*ve,R.y+=(be[b.b].y-de.y)*ve,R.z+=(be[b.b].z-de.z)*ve,x.x+=(be[b.c].x-pe.x)*ve,x.y+=(be[b.c].y-pe.y)*ve,x.z+=(be[b.c].z-pe.z)*ve}}se.position.add(w),le.position.add(R),ue.position.add(x),I.projectVertex(se),I.projectVertex(le),I.projectVertex(ue)}var ye=I.checkTriangleVisibility(se,le,ue);if(!(!1===ye&&ae===THREE.FrontSide||!0===ye&&ae===THREE.BackSide)){(n=U()).id=d.id,n.v1.copy(se),n.v2.copy(le),n.v3.copy(ue),n.normalModel.copy(b.normal),!1!==ye||ae!==THREE.BackSide&&ae!==THREE.DoubleSide||n.normalModel.negate(),n.normalModel.applyMatrix3(k).normalize(),n.centroidModel.copy(b.centroid).applyMatrix4(c),y=b.vertexNormals;for(var ge=0,_e=Math.min(y.length,3);ge<_e;ge++){var Te=n.vertexNormalsModel[ge];Te.copy(y[ge]),!1!==ye||ae!==THREE.BackSide&&ae!==THREE.DoubleSide||Te.negate(),Te.applyMatrix3(k).normalize()}n.vertexNormalsLength=y.length;for(var we=0,Re=Math.min(g.length,3);we<Re;we++)if(void 0!==(_=g[we][ie]))for(var xe=0,Se=_.length;xe<Se;xe++)n.uvs[we][xe]=_[xe];n.color=b.color,n.material=oe,n.z=(se.positionScreen.z+le.positionScreen.z+ue.positionScreen.z)/3,T.elements.push(n)}}}}}else if(d instanceof THREE.Line){if(m instanceof THREE.BufferGeometry){if(void 0!==(J=m.attributes).position){var Me;for(q=0,Y=(Me=J.position.array).length;q<Y;q+=3)I.pushVertex(Me[q],Me[q+1],Me[q+2]);if(void 0!==J.index)for(q=0,Y=(Z=J.index.array).length;q<Y;q+=2)I.pushLine(Z[q],Z[q+1]);else for(q=0,Y=Me.length/3-1;q<Y;q++)I.pushLine(q,q+1)}}else if(m instanceof THREE.Geometry){if(D.multiplyMatrices(F,c),0===(E=d.geometry.vertices).length)continue;(se=V()).positionScreen.copy(E[0]).applyMatrix4(D);var He=d.type===THREE.LinePieces?2:1;for(ee=1,te=E.length;ee<te;ee++)(se=V()).positionScreen.copy(E[ee]).applyMatrix4(D),(ee+1)%He>0||(le=p[i-2],B.copy(se.positionScreen),O.copy(le.positionScreen),!0===j(B,O)&&(B.multiplyScalar(1/B.w),O.multiplyScalar(1/O.w),(a=z()).id=d.id,a.v1.positionScreen.copy(B),a.v2.positionScreen.copy(O),a.z=Math.max(B.z,O.z),a.material=d.material,d.material.vertexColors===THREE.VertexColors&&(a.vertexColors[0].copy(d.geometry.colors[ee]),a.vertexColors[1].copy(d.geometry.colors[ee-1])),T.elements.push(a)))}}else if(d instanceof THREE.Sprite){M.set(c.elements[12],c.elements[13],c.elements[14],1),M.applyMatrix4(F);var Ae=1/M.w;M.z*=Ae,M.z>=-1&&M.z<=1&&((l=G()).id=d.id,l.x=M.x*Ae,l.y=M.y*Ae,l.z=M.z,l.object=d,l.rotation=d.rotation,l.scale.x=d.scale.x*Math.abs(l.x-(M.x+r.projectionMatrix.elements[0])/(M.w+r.projectionMatrix.elements[12])),l.scale.y=d.scale.y*Math.abs(l.y-(M.y+r.projectionMatrix.elements[5])/(M.w+r.projectionMatrix.elements[13])),l.material=d.material,T.elements.push(l))}return!0===f&&T.elements.sort(W),T}},THREE.Face3=function(e,t,r,i,n,o){this.a=e,this.b=t,this.c=r,this.normal=i instanceof THREE.Vector3?i:new THREE.Vector3,this.vertexNormals=i instanceof Array?i:[],this.color=n instanceof THREE.Color?n:new THREE.Color,this.vertexColors=n instanceof Array?n:[],this.vertexTangents=[],this.materialIndex=void 0!==o?o:0,this.centroid=new THREE.Vector3},THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var e,t,r=new THREE.Face3(this.a,this.b,this.c);for(r.normal.copy(this.normal),r.color.copy(this.color),r.centroid.copy(this.centroid),r.materialIndex=this.materialIndex,e=0,t=this.vertexNormals.length;e<t;e++)r.vertexNormals[e]=this.vertexNormals[e].clone();for(e=0,t=this.vertexColors.length;e<t;e++)r.vertexColors[e]=this.vertexColors[e].clone();for(e=0,t=this.vertexTangents.length;e<t;e++)r.vertexTangents[e]=this.vertexTangents[e].clone();return r}},THREE.Face4=function(e,t,r,i,n,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new THREE.Face3(e,t,r,n,o,a)},THREE.BufferGeometry=function(){this.id=THREE.GeometryIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.attributes={},this.offsets=[],this.boundingBox=null,this.boundingSphere=null},THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addAttribute:function(e,t,r,i){return this.attributes[e]={array:new t(r*i),itemSize:i},this.attributes[e]},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.multiplyVector3Array(t.array),t.needsUpdate=!0);var r=this.attributes.normal;void 0!==r&&((new THREE.Matrix3).getNormalMatrix(e).multiplyVector3Array(r.array),r.needsUpdate=!0)},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.attributes.position.array;if(e){var t=this.boundingBox;e.length>=3&&(t.min.x=t.max.x=e[0],t.min.y=t.max.y=e[1],t.min.z=t.max.z=e[2]);for(var r=3,i=e.length;r<i;r+=3){var n=e[r],o=e[r+1],a=e[r+2];n<t.min.x?t.min.x=n:n>t.max.x&&(t.max.x=n),o<t.min.y?t.min.y=o:o>t.max.y&&(t.max.y=o),a<t.min.z?t.min.z=a:a>t.max.z&&(t.max.z=a)}}void 0!==e&&0!==e.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0))},computeBoundingSphere:function(){var e=new THREE.Box3,t=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var r=this.attributes.position.array;if(r){e.makeEmpty();for(var i=this.boundingSphere.center,n=0,o=r.length;n<o;n+=3)t.set(r[n],r[n+1],r[n+2]),e.addPoint(t);e.center(i);var a=0;for(n=0,o=r.length;n<o;n+=3)t.set(r[n],r[n+1],r[n+2]),a=Math.max(a,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(a)}}}(),computeVertexNormals:function(){if(this.attributes.position){var e,t,r,i,n=this.attributes.position.array.length;if(void 0===this.attributes.normal)this.attributes.normal={itemSize:3,array:new Float32Array(n)};else for(e=0,t=this.attributes.normal.array.length;e<t;e++)this.attributes.normal.array[e]=0;var o,a,s,l,u,c,h=this.attributes.position.array,f=this.attributes.normal.array,d=new THREE.Vector3,p=new THREE.Vector3,m=new THREE.Vector3,E=new THREE.Vector3,v=new THREE.Vector3;if(this.attributes.index){var b=this.attributes.index.array,y=this.offsets;for(r=0,i=y.length;r<i;++r){var g=y[r].start,_=y[r].count,T=y[r].index;for(e=g,t=g+_;e<t;e+=3)o=T+b[e],a=T+b[e+1],s=T+b[e+2],l=h[3*o],u=h[3*o+1],c=h[3*o+2],d.set(l,u,c),l=h[3*a],u=h[3*a+1],c=h[3*a+2],p.set(l,u,c),l=h[3*s],u=h[3*s+1],c=h[3*s+2],m.set(l,u,c),E.subVectors(m,p),v.subVectors(d,p),E.cross(v),f[3*o]+=E.x,f[3*o+1]+=E.y,f[3*o+2]+=E.z,f[3*a]+=E.x,f[3*a+1]+=E.y,f[3*a+2]+=E.z,f[3*s]+=E.x,f[3*s+1]+=E.y,f[3*s+2]+=E.z}}else for(e=0,t=h.length;e<t;e+=9)l=h[e],u=h[e+1],c=h[e+2],d.set(l,u,c),l=h[e+3],u=h[e+4],c=h[e+5],p.set(l,u,c),l=h[e+6],u=h[e+7],c=h[e+8],m.set(l,u,c),E.subVectors(m,p),v.subVectors(d,p),E.cross(v),f[e]=E.x,f[e+1]=E.y,f[e+2]=E.z,f[e+3]=E.x,f[e+4]=E.y,f[e+5]=E.z,f[e+6]=E.x,f[e+7]=E.y,f[e+8]=E.z;this.normalizeNormals(),this.normalsNeedUpdate=!0}},normalizeNormals:function(){for(var e,t,r,i,n=this.attributes.normal.array,o=0,a=n.length;o<a;o+=3)e=n[o],t=n[o+1],r=n[o+2],i=1/Math.sqrt(e*e+t*t+r*r),n[o]*=i,n[o+1]*=i,n[o+2]*=i},computeTangents:function(){if(void 0!==this.attributes.index&&void 0!==this.attributes.position&&void 0!==this.attributes.normal&&void 0!==this.attributes.uv){var e=this.attributes.index.array,t=this.attributes.position.array,r=this.attributes.normal.array,i=this.attributes.uv.array,n=t.length/3;if(void 0===this.attributes.tangent){var o=4*n;this.attributes.tangent={itemSize:4,array:new Float32Array(o)}}for(var a,s,l,u,c,h,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S,M,H,A,C,P,F=this.attributes.tangent.array,D=[],k=[],L=0;L<n;L++)D[L]=new THREE.Vector3,k[L]=new THREE.Vector3;var B,O,N,I,V,U,z,G,W,j,J=new THREE.Vector3,X=new THREE.Vector3,q=this.offsets;for(N=0,I=q.length;N<I;++N){var Y=q[N].start,K=q[N].count,Z=q[N].index;for(B=Y,O=Y+K;B<O;B+=3)V=Z+e[B],U=Z+e[B+1],z=Z+e[B+2],W=U,j=z,a=t[3*(G=V)],s=t[3*G+1],l=t[3*G+2],u=t[3*W],c=t[3*W+1],h=t[3*W+2],f=t[3*j],d=t[3*j+1],p=t[3*j+2],m=i[2*G],E=i[2*G+1],v=i[2*W],b=i[2*W+1],y=i[2*j],g=i[2*j+1],_=u-a,T=f-a,w=c-s,R=d-s,x=h-l,S=p-l,P=1/((M=v-m)*(C=g-E)-(H=y-m)*(A=b-E)),J.set((C*_-A*T)*P,(C*w-A*R)*P,(C*x-A*S)*P),X.set((M*T-H*_)*P,(M*R-H*w)*P,(M*S-H*x)*P),D[G].add(J),D[W].add(J),D[j].add(J),k[G].add(X),k[W].add(X),k[j].add(X)}var Q,$,ee,te=new THREE.Vector3,re=new THREE.Vector3,ie=new THREE.Vector3,ne=new THREE.Vector3;for(N=0,I=q.length;N<I;++N){Y=q[N].start,K=q[N].count,Z=q[N].index;for(B=Y,O=Y+K;B<O;B+=3)V=Z+e[B],U=Z+e[B+1],z=Z+e[B+2],oe(V),oe(U),oe(z)}}else console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");function oe(e){ie.x=r[3*e],ie.y=r[3*e+1],ie.z=r[3*e+2],ne.copy(ie),$=D[e],te.copy($),te.sub(ie.multiplyScalar(ie.dot($))).normalize(),re.crossVectors(ne,$),ee=re.dot(k[e]),Q=ee<0?-1:1,F[4*e]=te.x,F[4*e+1]=te.y,F[4*e+2]=te.z,F[4*e+3]=Q}},computeOffsets:function(e){var t=e;void 0===e&&(t=65535);Date.now();for(var r=this.attributes.index.array,i=this.attributes.position.array,n=(i.length,r.length/3),o=new Uint16Array(r.length),a=0,s=0,l=[{start:0,count:0,index:0}],u=l[0],c=0,h=new Int32Array(6),f=new Int32Array(i.length),d=new Int32Array(i.length),p=0;p<i.length;p++)f[p]=-1,d[p]=-1;for(var m=0;m<n;m++){c=0;for(var E=0;E<3;E++){-1==f[g=r[3*m+E]]?(h[2*E]=g,h[2*E+1]=-1,c++):f[g]<u.index?(h[2*E]=g,h[2*E+1]=-1,0):(h[2*E]=g,h[2*E+1]=f[g])}if(s+c>u.index+t){var v={start:a,count:0,index:s};l.push(v),u=v;for(var b=0;b<6;b+=2){(y=h[b+1])>-1&&y<u.index&&(h[b+1]=-1)}}for(b=0;b<6;b+=2){var y,g=h[b];-1===(y=h[b+1])&&(y=s++),f[g]=y,d[y]=g,o[a++]=y-u.index,u.count++}}return this.reorderBuffers(o,d,s),this.offsets=l,l},reorderBuffers:function(e,t,r){var i={},n=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];for(var o in this.attributes)if("index"!=o)for(var a=this.attributes[o].array,s=0,l=n.length;s<l;s++){var u=n[s];if(a instanceof u){i[o]=new u(this.attributes[o].itemSize*r);break}}for(var c=0;c<r;c++){var h=t[c];for(var o in this.attributes)if("index"!=o)for(var f=this.attributes[o].array,d=this.attributes[o].itemSize,p=i[o],m=0;m<d;m++)p[c*d+m]=f[h*d+m]}for(var o in this.attributes.index.array=e,this.attributes)"index"!=o&&(this.attributes[o].array=i[o],this.attributes[o].numItems=this.attributes[o].itemSize*r)},clone:function(){var e=new THREE.BufferGeometry,t=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];for(var r in this.attributes){for(var i=this.attributes[r],n=i.array,o={itemSize:i.itemSize,array:null},a=0,s=t.length;a<s;a++){var l=t[a];if(n instanceof l){o.array=new l(n);break}}e.attributes[r]=o}for(a=0,s=this.offsets.length;a<s;a++){var u=this.offsets[a];e.offsets.push({start:u.start,index:u.index,count:u.count})}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype),THREE.Geometry=function(){this.id=THREE.GeometryIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.buffersNeedUpdate=!1},THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(e){for(var t=(new THREE.Matrix3).getNormalMatrix(e),r=0,i=this.vertices.length;r<i;r++){this.vertices[r].applyMatrix4(e)}for(r=0,i=this.faces.length;r<i;r++){var n=this.faces[r];n.normal.applyMatrix3(t).normalize();for(var o=0,a=n.vertexNormals.length;o<a;o++)n.vertexNormals[o].applyMatrix3(t).normalize();n.centroid.applyMatrix4(e)}this.boundingBox instanceof THREE.Box3&&this.computeBoundingBox(),this.boundingSphere instanceof THREE.Sphere&&this.computeBoundingSphere()},computeCentroids:function(){var e,t,r;for(e=0,t=this.faces.length;e<t;e++)(r=this.faces[e]).centroid.set(0,0,0),r.centroid.add(this.vertices[r.a]),r.centroid.add(this.vertices[r.b]),r.centroid.add(this.vertices[r.c]),r.centroid.divideScalar(3)},computeFaceNormals:function(){for(var e=new THREE.Vector3,t=new THREE.Vector3,r=0,i=this.faces.length;r<i;r++){var n=this.faces[r],o=this.vertices[n.a],a=this.vertices[n.b],s=this.vertices[n.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),n.normal.copy(e)}},computeVertexNormals:function(e){var t,r,i,n,o,a;for(a=new Array(this.vertices.length),t=0,r=this.vertices.length;t<r;t++)a[t]=new THREE.Vector3;if(e){var s,l,u,c=new THREE.Vector3,h=new THREE.Vector3;new THREE.Vector3,new THREE.Vector3,new THREE.Vector3;for(i=0,n=this.faces.length;i<n;i++)o=this.faces[i],s=this.vertices[o.a],l=this.vertices[o.b],u=this.vertices[o.c],c.subVectors(u,l),h.subVectors(s,l),c.cross(h),a[o.a].add(c),a[o.b].add(c),a[o.c].add(c)}else for(i=0,n=this.faces.length;i<n;i++)a[(o=this.faces[i]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,r=this.vertices.length;t<r;t++)a[t].normalize();for(i=0,n=this.faces.length;i<n;i++)(o=this.faces[i]).vertexNormals[0]=a[o.a].clone(),o.vertexNormals[1]=a[o.b].clone(),o.vertexNormals[2]=a[o.c].clone()},computeMorphNormals:function(){var e,t,r,i,n;for(r=0,i=this.faces.length;r<i;r++)for((n=this.faces[r]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),e=0,t=n.vertexNormals.length;e<t;e++)n.__originalVertexNormals[e]?n.__originalVertexNormals[e].copy(n.vertexNormals[e]):n.__originalVertexNormals[e]=n.vertexNormals[e].clone();var o=new THREE.Geometry;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(r=0,i=this.faces.length;r<i;r++)n=this.faces[r],l=new THREE.Vector3,u={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},a.push(l),s.push(u)}var l,u,c=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),r=0,i=this.faces.length;r<i;r++)n=this.faces[r],l=c.faceNormals[r],u=c.vertexNormals[r],l.copy(n.normal),u.a.copy(n.vertexNormals[0]),u.b.copy(n.vertexNormals[1]),u.c.copy(n.vertexNormals[2])}for(r=0,i=this.faces.length;r<i;r++)(n=this.faces[r]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeTangents:function(){var e,t,r,i,n,o,a,s,l,u,c,h,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S,M,H,A,C,P,F,D,k=[],L=[],B=new THREE.Vector3,O=new THREE.Vector3,N=new THREE.Vector3,I=new THREE.Vector3,V=new THREE.Vector3;for(r=0,i=this.vertices.length;r<i;r++)k[r]=new THREE.Vector3,L[r]=new THREE.Vector3;for(e=0,t=this.faces.length;e<t;e++)a=this.faces[e],s=this.faceVertexUvs[0][e],M=this,H=a.a,A=a.b,C=a.c,P=0,F=1,D=2,l=M.vertices[H],u=M.vertices[A],c=M.vertices[C],h=s[P],f=s[F],d=s[D],p=u.x-l.x,m=c.x-l.x,E=u.y-l.y,v=c.y-l.y,b=u.z-l.z,y=c.z-l.z,g=f.x-h.x,_=d.x-h.x,T=f.y-h.y,w=d.y-h.y,R=1/(g*w-_*T),B.set((w*p-T*m)*R,(w*E-T*v)*R,(w*b-T*y)*R),O.set((g*m-_*p)*R,(g*v-_*E)*R,(g*y-_*b)*R),k[H].add(B),k[A].add(B),k[C].add(B),L[H].add(O),L[A].add(O),L[C].add(O);var U=["a","b","c","d"];for(e=0,t=this.faces.length;e<t;e++)for(a=this.faces[e],n=0;n<Math.min(a.vertexNormals.length,3);n++)V.copy(a.vertexNormals[n]),o=a[U[n]],x=k[o],N.copy(x),N.sub(V.multiplyScalar(V.dot(x))).normalize(),I.crossVectors(a.vertexNormals[n],x),S=I.dot(L[o])<0?-1:1,a.vertexTangents[n]=new THREE.Vector4(N.x,N.y,N.z,S);this.hasTangents=!0},computeLineDistances:function(){for(var e=0,t=this.vertices,r=0,i=t.length;r<i;r++)r>0&&(e+=t[r].distanceTo(t[r-1])),this.lineDistances[r]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),this.boundingSphere.setFromPoints(this.vertices)},mergeVertices:function(){var e,t,r,i,n,o,a,s,l={},u=[],c=[],h=Math.pow(10,4);for(r=0,i=this.vertices.length;r<i;r++)e=this.vertices[r],void 0===l[t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h)]?(l[t]=r,u.push(this.vertices[r]),c[r]=u.length-1):c[r]=c[l[t]];var f=[];for(r=0,i=this.faces.length;r<i;r++){(n=this.faces[r]).a=c[n.a],n.b=c[n.b],n.c=c[n.c],o=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(o[d]==o[(d+1)%3]){d,f.push(r);break}}for(r=f.length-1;r>=0;r--){var p=f[r];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},makeGroups:function(){var e=0;return function(t){var r,i,n,o,a,s={},l=this.morphTargets.length,u=this.morphNormals.length;for(this.geometryGroups={},r=0,i=this.faces.length;r<i;r++)n=this.faces[r],(o=t?n.materialIndex:0)in s||(s[o]={hash:o,counter:0}),(a=s[o].hash+"_"+s[o].counter)in this.geometryGroups||(this.geometryGroups[a]={faces3:[],materialIndex:o,vertices:0,numMorphTargets:l,numMorphNormals:u}),this.geometryGroups[a].vertices+3>65535&&(s[o].counter+=1,(a=s[o].hash+"_"+s[o].counter)in this.geometryGroups||(this.geometryGroups[a]={faces3:[],materialIndex:o,vertices:0,numMorphTargets:l,numMorphNormals:u})),this.geometryGroups[a].faces3.push(r),this.geometryGroups[a].vertices+=3;for(var c in this.geometryGroupsList=[],this.geometryGroups)this.geometryGroups[c].id=e++,this.geometryGroupsList.push(this.geometryGroups[c])}}(),clone:function(){for(var e=new THREE.Geometry,t=this.vertices,r=0,i=t.length;r<i;r++)e.vertices.push(t[r].clone());var n=this.faces;for(r=0,i=n.length;r<i;r++)e.faces.push(n[r].clone());var o=this.faceVertexUvs[0];for(r=0,i=o.length;r<i;r++){for(var a=o[r],s=[],l=0,u=a.length;l<u;l++)s.push(new THREE.Vector2(a[l].x,a[l].y));e.faceVertexUvs[0].push(s)}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype),THREE.GeometryIdCount=0,THREE.Geometry2=function(e){THREE.BufferGeometry.call(this),this.vertices=this.addAttribute("position",Float32Array,e,3).array,this.normals=this.addAttribute("normal",Float32Array,e,3).array,this.uvs=this.addAttribute("uv",Float32Array,e,2).array,this.boundingBox=null,this.boundingSphere=null},THREE.Geometry2.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.Camera=function(){THREE.Object3D.call(this),this.matrixWorldInverse=new THREE.Matrix4,this.projectionMatrix=new THREE.Matrix4},THREE.Camera.prototype=Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.lookAt=function(){var e=new THREE.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),THREE.Camera.prototype.clone=function(e){return void 0===e&&(e=new THREE.Camera),THREE.Object3D.prototype.clone.call(this,e),e.matrixWorldInverse.copy(this.matrixWorldInverse),e.projectionMatrix.copy(this.projectionMatrix),e},THREE.OrthographicCamera=function(e,t,r,i,n,o){THREE.Camera.call(this),this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=void 0!==n?n:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()},THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype),THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)},THREE.OrthographicCamera.prototype.clone=function(){var e=new THREE.OrthographicCamera;return THREE.Camera.prototype.clone.call(this,e),e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e},THREE.PerspectiveCamera=function(e,t,r,i){THREE.Camera.call(this),this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==r?r:.1,this.far=void 0!==i?i:2e3,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype),THREE.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*THREE.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.setViewOffset=function(e,t,r,i,n,o){this.fullWidth=e,this.fullHeight=t,this.x=r,this.y=i,this.width=n,this.height=o,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var e=this.fullWidth/this.fullHeight,t=Math.tan(THREE.Math.degToRad(.5*this.fov))*this.near,r=-t,i=e*r,n=e*t,o=Math.abs(n-i),a=Math.abs(t-r);this.projectionMatrix.makeFrustum(i+this.x*o/this.fullWidth,i+(this.x+this.width)*o/this.fullWidth,t-(this.y+this.height)*a/this.fullHeight,t-this.y*a/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)},THREE.PerspectiveCamera.prototype.clone=function(){var e=new THREE.PerspectiveCamera;return THREE.Camera.prototype.clone.call(this,e),e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e},THREE.Light=function(e){THREE.Object3D.call(this),this.color=new THREE.Color(e)},THREE.Light.prototype=Object.create(THREE.Object3D.prototype),THREE.Light.prototype.clone=function(e){return void 0===e&&(e=new THREE.Light),THREE.Object3D.prototype.clone.call(this,e),e.color.copy(this.color),e},THREE.AmbientLight=function(e){THREE.Light.call(this,e)},THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype),THREE.AmbientLight.prototype.clone=function(){var e=new THREE.AmbientLight;return THREE.Light.prototype.clone.call(this,e),e},THREE.AreaLight=function(e,t){THREE.Light.call(this,e),this.normal=new THREE.Vector3(0,-1,0),this.right=new THREE.Vector3(1,0,0),this.intensity=void 0!==t?t:1,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},THREE.AreaLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight=function(e,t){THREE.Light.call(this,e),this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==t?t:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new THREE.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight.prototype.clone=function(){var e=new THREE.DirectionalLight;return THREE.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e},THREE.HemisphereLight=function(e,t,r){THREE.Light.call(this,e),this.position.set(0,100,0),this.groundColor=new THREE.Color(t),this.intensity=void 0!==r?r:1},THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype),THREE.HemisphereLight.prototype.clone=function(){var e=new THREE.HemisphereLight;return THREE.Light.prototype.clone.call(this,e),e.groundColor.copy(this.groundColor),e.intensity=this.intensity,e},THREE.PointLight=function(e,t,r){THREE.Light.call(this,e),this.intensity=void 0!==t?t:1,this.distance=void 0!==r?r:0},THREE.PointLight.prototype=Object.create(THREE.Light.prototype),THREE.PointLight.prototype.clone=function(){var e=new THREE.PointLight;return THREE.Light.prototype.clone.call(this,e),e.intensity=this.intensity,e.distance=this.distance,e},THREE.SpotLight=function(e,t,r,i,n){THREE.Light.call(this,e),this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==t?t:1,this.distance=void 0!==r?r:0,this.angle=void 0!==i?i:Math.PI/3,this.exponent=void 0!==n?n:10,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},THREE.SpotLight.prototype=Object.create(THREE.Light.prototype),THREE.SpotLight.prototype.clone=function(){var e=new THREE.SpotLight;return THREE.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.distance=this.distance,e.angle=this.angle,e.exponent=this.exponent,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e},THREE.Loader=function(e){this.showStatus=e,this.statusDomElement=e?THREE.Loader.prototype.addStatusElement():null,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,addStatusElement:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.right="0px",e.style.top="0px",e.style.fontSize="0.8em",e.style.textAlign="left",e.style.background="rgba(0,0,0,0.25)",e.style.color="#fff",e.style.width="120px",e.style.padding="0.5em 0.5em 0.5em 0.5em",e.style.zIndex=1e3,e.innerHTML="Loading ...",e},updateProgress:function(e){var t="Loaded ";e.total?t+=(100*e.loaded/e.total).toFixed(0)+"%":t+=(e.loaded/1e3).toFixed(2)+" KB",this.statusDomElement.innerHTML=t},extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t){for(var r=[],i=0;i<e.length;++i)r[i]=THREE.Loader.prototype.createMaterial(e[i],t);return r},needsTangents:function(e){for(var t=0,r=e.length;t<r;t++){if(e[t]instanceof THREE.ShaderMaterial)return!0}return!1},createMaterial:function(e,t){var r=this;function i(e){var t=Math.log(e)/Math.LN2;return Math.floor(t)==t}function n(e){var t=Math.log(e)/Math.LN2;return Math.pow(2,Math.round(t))}function o(e,o,a,s,l,u,c){var h=/\.dds$/i.test(a),f=t+a;if(h){var d=THREE.ImageUtils.loadCompressedTexture(f);e[o]=d}else{d=document.createElement("canvas");e[o]=new THREE.Texture(d)}if(e[o].sourceFile=a,s&&(e[o].repeat.set(s[0],s[1]),1!==s[0]&&(e[o].wrapS=THREE.RepeatWrapping),1!==s[1]&&(e[o].wrapT=THREE.RepeatWrapping)),l&&e[o].offset.set(l[0],l[1]),u){var p={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping};void 0!==p[u[0]]&&(e[o].wrapS=p[u[0]]),void 0!==p[u[1]]&&(e[o].wrapT=p[u[1]])}c&&(e[o].anisotropy=c),h||function(e,t){var o=new Image;o.onload=function(){if(i(this.width)&&i(this.height))e.image=this;else{var t=n(this.width),r=n(this.height);e.image.width=t,e.image.height=r,e.image.getContext("2d").drawImage(this,0,0,t,r)}e.needsUpdate=!0},void 0!==r.crossOrigin&&(o.crossOrigin=r.crossOrigin),o.src=t}(e[o],f)}function a(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]}var s="MeshLambertMaterial",l={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(e.shading){var u=e.shading.toLowerCase();"phong"===u?s="MeshPhongMaterial":"basic"===u&&(s="MeshBasicMaterial")}if(void 0!==e.blending&&void 0!==THREE[e.blending]&&(l.blending=THREE[e.blending]),(void 0!==e.transparent||e.opacity<1)&&(l.transparent=e.transparent),void 0!==e.depthTest&&(l.depthTest=e.depthTest),void 0!==e.depthWrite&&(l.depthWrite=e.depthWrite),void 0!==e.visible&&(l.visible=e.visible),void 0!==e.flipSided&&(l.side=THREE.BackSide),void 0!==e.doubleSided&&(l.side=THREE.DoubleSide),void 0!==e.wireframe&&(l.wireframe=e.wireframe),void 0!==e.vertexColors&&("face"===e.vertexColors?l.vertexColors=THREE.FaceColors:e.vertexColors&&(l.vertexColors=THREE.VertexColors)),e.colorDiffuse?l.color=a(e.colorDiffuse):e.DbgColor&&(l.color=e.DbgColor),e.colorSpecular&&(l.specular=a(e.colorSpecular)),e.colorAmbient&&(l.ambient=a(e.colorAmbient)),e.transparency&&(l.opacity=e.transparency),e.specularCoef&&(l.shininess=e.specularCoef),e.mapDiffuse&&t&&o(l,"map",e.mapDiffuse,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy),e.mapLight&&t&&o(l,"lightMap",e.mapLight,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy),e.mapBump&&t&&o(l,"bumpMap",e.mapBump,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy),e.mapNormal&&t&&o(l,"normalMap",e.mapNormal,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy),e.mapSpecular&&t&&o(l,"specularMap",e.mapSpecular,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy),e.mapBumpScale&&(l.bumpScale=e.mapBumpScale),e.mapNormal){var c=THREE.ShaderLib.normalmap,h=THREE.UniformsUtils.clone(c.uniforms);h.tNormal.value=l.normalMap,e.mapNormalFactor&&h.uNormalScale.value.set(e.mapNormalFactor,e.mapNormalFactor),l.map&&(h.tDiffuse.value=l.map,h.enableDiffuse.value=!0),l.specularMap&&(h.tSpecular.value=l.specularMap,h.enableSpecular.value=!0),l.lightMap&&(h.tAO.value=l.lightMap,h.enableAO.value=!0),h.diffuse.value.setHex(l.color),h.specular.value.setHex(l.specular),h.ambient.value.setHex(l.ambient),h.shininess.value=l.shininess,void 0!==l.opacity&&(h.opacity.value=l.opacity);var f={fragmentShader:c.fragmentShader,vertexShader:c.vertexShader,uniforms:h,lights:!0,fog:!0},d=new THREE.ShaderMaterial(f);l.transparent&&(d.transparent=!0)}else d=new THREE[s](l);return void 0!==e.DbgName&&(d.name=e.DbgName),d}},THREE.XHRLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(e,t,r,i){var n=this,o=new XMLHttpRequest;void 0!==t&&o.addEventListener("load",function(r){t(r.target.responseText),n.manager.itemEnd(e)},!1),void 0!==r&&o.addEventListener("progress",function(e){r(e)},!1),void 0!==i&&o.addEventListener("error",function(e){i(e)},!1),void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),o.open("GET",e,!0),o.send(null),n.manager.itemStart(e)},setCrossOrigin:function(e){this.crossOrigin=e}},THREE.ImageLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(e,t,r,i){var n=this,o=document.createElement("img");return void 0!==t&&o.addEventListener("load",function(r){n.manager.itemEnd(e),t(this)},!1),void 0!==r&&o.addEventListener("progress",function(e){r(e)},!1),void 0!==i&&o.addEventListener("error",function(e){i(e)},!1),void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),o.src=e,n.manager.itemStart(e),o},setCrossOrigin:function(e){this.crossOrigin=e}},THREE.JSONLoader=function(e){THREE.Loader.call(this,e),this.withCredentials=!1},THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype),THREE.JSONLoader.prototype.load=function(e,t,r){r=r&&"string"==typeof r?r:this.extractUrlBase(e),this.onLoadStart(),this.loadAjaxJSON(this,e,t,r)},THREE.JSONLoader.prototype.loadAjaxJSON=function(e,t,r,i,n){var o=new XMLHttpRequest,a=0;o.onreadystatechange=function(){if(o.readyState===o.DONE)if(200===o.status||0===o.status){if(o.responseText){var s=JSON.parse(o.responseText);if("scene"===s.metadata.type)return void console.error('THREE.JSONLoader: "'+t+'" seems to be a Scene. Use THREE.SceneLoader instead.');var l=e.parse(s,i);r(l.geometry,l.materials)}else console.error('THREE.JSONLoader: "'+t+'" seems to be unreachable or the file is empty.');e.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load \""+t+'" ('+o.status+")");else o.readyState===o.LOADING?n&&(0===a&&(a=o.getResponseHeader("Content-Length")),n({total:a,loaded:o.responseText.length})):o.readyState===o.HEADERS_RECEIVED&&void 0!==n&&(a=o.getResponseHeader("Content-Length"))},o.open("GET",t,!0),o.withCredentials=this.withCredentials,o.send(null)},THREE.JSONLoader.prototype.parse=function(e,t){var r=new THREE.Geometry,i=void 0!==e.scale?1/e.scale:1;if(function(t){function i(e,t){return e&1<<t}var n,o,a,s,l,u,c,h,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S,M,H,A,C,P=e.faces,F=e.vertices,D=e.normals,k=e.colors,L=0;if(void 0!==e.uvs){for(n=0;n<e.uvs.length;n++)e.uvs[n].length&&L++;for(n=0;n<L;n++)r.faceVertexUvs[n]=[]}s=0,l=F.length;for(;s<l;)(_=new THREE.Vector3).x=F[s++]*t,_.y=F[s++]*t,_.z=F[s++]*t,r.vertices.push(_);s=0,l=P.length;for(;s<l;)if(d=P[s++],p=i(d,0),m=i(d,1),E=i(d,3),v=i(d,4),b=i(d,5),y=i(d,6),g=i(d,7),p){if((w=new THREE.Face3).a=P[s],w.b=P[s+1],w.c=P[s+3],(R=new THREE.Face3).a=P[s+1],R.b=P[s+2],R.c=P[s+3],s+=4,m&&(f=P[s++],w.materialIndex=f,R.materialIndex=f),a=r.faces.length,E)for(n=0;n<L;n++)for(M=e.uvs[n],r.faceVertexUvs[n][a]=[],r.faceVertexUvs[n][a+1]=[],o=0;o<4;o++)h=P[s++],A=M[2*h],C=M[2*h+1],H=new THREE.Vector2(A,C),2!==o&&r.faceVertexUvs[n][a].push(H),0!==o&&r.faceVertexUvs[n][a+1].push(H);if(v&&(c=3*P[s++],w.normal.set(D[c++],D[c++],D[c]),R.normal.copy(w.normal)),b)for(n=0;n<4;n++)c=3*P[s++],S=new THREE.Vector3(D[c++],D[c++],D[c]),2!==n&&w.vertexNormals.push(S),0!==n&&R.vertexNormals.push(S);if(y&&(u=P[s++],x=k[u],w.color.setHex(x),R.color.setHex(x)),g)for(n=0;n<4;n++)u=P[s++],x=k[u],2!==n&&w.vertexColors.push(new THREE.Color(x)),0!==n&&R.vertexColors.push(new THREE.Color(x));r.faces.push(w),r.faces.push(R)}else{if((T=new THREE.Face3).a=P[s++],T.b=P[s++],T.c=P[s++],m&&(f=P[s++],T.materialIndex=f),a=r.faces.length,E)for(n=0;n<L;n++)for(M=e.uvs[n],r.faceVertexUvs[n][a]=[],o=0;o<3;o++)h=P[s++],A=M[2*h],C=M[2*h+1],H=new THREE.Vector2(A,C),r.faceVertexUvs[n][a].push(H);if(v&&(c=3*P[s++],T.normal.set(D[c++],D[c++],D[c])),b)for(n=0;n<3;n++)c=3*P[s++],S=new THREE.Vector3(D[c++],D[c++],D[c]),T.vertexNormals.push(S);if(y&&(u=P[s++],T.color.setHex(k[u])),g)for(n=0;n<3;n++)u=P[s++],T.vertexColors.push(new THREE.Color(k[u]));r.faces.push(T)}}(i),function(){if(e.skinWeights)for(var t=0,i=e.skinWeights.length;t<i;t+=2){var n=e.skinWeights[t],o=e.skinWeights[t+1];r.skinWeights.push(new THREE.Vector4(n,o,0,0))}if(e.skinIndices)for(var t=0,i=e.skinIndices.length;t<i;t+=2){var a=e.skinIndices[t],s=e.skinIndices[t+1];r.skinIndices.push(new THREE.Vector4(a,s,0,0))}r.bones=e.bones,r.bones&&r.bones.length>0&&(r.skinWeights.length!==r.skinIndices.length||r.skinIndices.length!==r.vertices.length)&&console.warn("When skinning, number of vertices ("+r.vertices.length+"), skinIndices ("+r.skinIndices.length+"), and skinWeights ("+r.skinWeights.length+") should match.");r.animation=e.animation,r.animations=e.animations}(),function(t){var i,n,o,a,s,l,u,c,h,f,d;if(void 0!==e.morphTargets)for(s=0,l=e.morphTargets.length;s<l;s++)for(r.morphTargets[s]={},r.morphTargets[s].name=e.morphTargets[s].name,r.morphTargets[s].vertices=[],o=r.morphTargets[s].vertices,a=e.morphTargets[s].vertices,i=0,n=a.length;i<n;i+=3){var p=new THREE.Vector3;p.x=a[i]*t,p.y=a[i+1]*t,p.z=a[i+2]*t,o.push(p)}if(void 0!==e.morphColors)for(s=0,l=e.morphColors.length;s<l;s++)for(r.morphColors[s]={},r.morphColors[s].name=e.morphColors[s].name,r.morphColors[s].colors=[],h=r.morphColors[s].colors,f=e.morphColors[s].colors,u=0,c=f.length;u<c;u+=3)(d=new THREE.Color(16755200)).setRGB(f[u],f[u+1],f[u+2]),h.push(d)}(i),r.computeCentroids(),r.computeFaceNormals(),r.computeBoundingSphere(),void 0===e.materials)return{geometry:r};var n=this.initMaterials(e.materials,t);return this.needsTangents(n)&&r.computeTangents(),{geometry:r,materials:n}},THREE.LoadingManager=function(e,t,r){var i=this,n=0,o=0;this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){o++},this.itemEnd=function(e){n++,void 0!==i.onProgress&&i.onProgress(e,n,o),n===o&&void 0!==i.onLoad&&i.onLoad()}},THREE.DefaultLoadingManager=new THREE.LoadingManager,THREE.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(e,t,r,i){var n=this,o=new THREE.XHRLoader;o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(n.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new THREE.BufferGeometry,r=e.attributes,i=e.offsets,n=e.boundingSphere;for(var o in r){var a=r[o];t.attributes[o]={itemSize:a.itemSize,array:new self[a.type](a.array)}}return void 0!==i&&(t.offsets=JSON.parse(JSON.stringify(i))),void 0!==n&&(t.boundingSphere=new THREE.Sphere((new THREE.Vector3).fromArray(void 0!==n.center?n.center:[0,0,0]),n.radius)),t}},THREE.Geometry2Loader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.Geometry2Loader.prototype={constructor:THREE.Geometry2Loader,load:function(e,t,r,i){var n=this,o=new THREE.XHRLoader;o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(n.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new THREE.Geometry2(e.vertices.length/3),r=["vertices","normals","uvs"],i=e.boundingSphere;for(var n in r){var o=r[n];t[o].set(e[o])}return void 0!==i&&(t.boundingSphere=new THREE.Sphere((new THREE.Vector3).fromArray(void 0!==i.center?i.center:[0,0,0]),i.radius)),t}},THREE.MaterialLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(e,t,r,i){var n=this,o=new THREE.XHRLoader;o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(n.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new THREE[e.type];if(void 0!==e.color&&t.color.setHex(e.color),void 0!==e.ambient&&t.ambient.setHex(e.ambient),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.materials)for(var r=0,i=e.materials.length;r<i;r++)t.materials.push(this.parse(e.materials[r]));return t}},THREE.ObjectLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(e,t,r,i){var n=this,o=new THREE.XHRLoader(n.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(n.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=this.parseGeometries(e.geometries),r=this.parseMaterials(e.materials);return this.parseObject(e.object,t,r)},parseGeometries:function(e){var t={};if(void 0!==e)for(var r=new THREE.JSONLoader,i=new THREE.Geometry2Loader,n=new THREE.BufferGeometryLoader,o=0,a=e.length;o<a;o++){var s,l=e[o];switch(l.type){case"PlaneGeometry":s=new THREE.PlaneGeometry(l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"CubeGeometry":s=new THREE.BoxGeometry(l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":s=new THREE.CircleGeometry(l.radius,l.segments);break;case"CylinderGeometry":s=new THREE.CylinderGeometry(l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded);break;case"SphereGeometry":s=new THREE.SphereGeometry(l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"IcosahedronGeometry":s=new THREE.IcosahedronGeometry(l.radius,l.detail);break;case"TorusGeometry":s=new THREE.TorusGeometry(l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":s=new THREE.TorusKnotGeometry(l.radius,l.tube,l.radialSegments,l.tubularSegments,l.p,l.q,l.heightScale);break;case"BufferGeometry":s=n.parse(l.data);break;case"Geometry2":s=i.parse(l.data);break;case"Geometry":s=r.parse(l.data).geometry}s.uuid=l.uuid,void 0!==l.name&&(s.name=l.name),t[l.uuid]=s}return t},parseMaterials:function(e){var t={};if(void 0!==e)for(var r=new THREE.MaterialLoader,i=0,n=e.length;i<n;i++){var o=e[i],a=r.parse(o);a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),t[o.uuid]=a}return t},parseObject:function(){var e=new THREE.Matrix4;return function(t,r,i){var n;switch(t.type){case"Scene":n=new THREE.Scene;break;case"PerspectiveCamera":n=new THREE.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);break;case"OrthographicCamera":n=new THREE.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":n=new THREE.AmbientLight(t.color);break;case"DirectionalLight":n=new THREE.DirectionalLight(t.color,t.intensity);break;case"PointLight":n=new THREE.PointLight(t.color,t.intensity,t.distance);break;case"SpotLight":n=new THREE.SpotLight(t.color,t.intensity,t.distance,t.angle,t.exponent);break;case"HemisphereLight":n=new THREE.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":var o=r[t.geometry],a=i[t.material];void 0===o&&console.error("THREE.ObjectLoader: Undefined geometry "+t.geometry),void 0===a&&console.error("THREE.ObjectLoader: Undefined material "+t.material),n=new THREE.Mesh(o,a);break;case"Sprite":void 0===(a=i[t.material])&&console.error("THREE.ObjectLoader: Undefined material "+t.material),n=new THREE.Sprite(a);break;default:n=new THREE.Object3D}if(n.uuid=t.uuid,void 0!==t.name&&(n.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(n.position,n.quaternion,n.scale)):(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.rotation&&n.rotation.fromArray(t.rotation),void 0!==t.scale&&n.scale.fromArray(t.scale)),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.children)for(var s in t.children)n.add(this.parseObject(t.children[s],r,i));return n}}()},THREE.SceneLoader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){},this.callbackSync=function(){},this.callbackProgress=function(){},this.geometryHandlers={},this.hierarchyHandlers={},this.addGeometryHandler("ascii",THREE.JSONLoader)},THREE.SceneLoader.prototype={constructor:THREE.SceneLoader,load:function(e,t,r,i){var n=this,o=new THREE.XHRLoader(n.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(r){n.parse(JSON.parse(r),t,e)})},setCrossOrigin:function(e){this.crossOrigin=e},addGeometryHandler:function(e,t){this.geometryHandlers[e]={loaderClass:t}},addHierarchyHandler:function(e,t){this.hierarchyHandlers[e]={loaderClass:t}},parse:function(e,t,r){var i,n,o,a,s,l,u,c,h,f,d,p,m=this,E=THREE.Loader.prototype.extractUrlBase(r),v=[],b=e;for(var y in this.geometryHandlers){var g=this.geometryHandlers[y].loaderClass;this.geometryHandlers[y].loaderObject=new g}for(var y in this.hierarchyHandlers){g=this.hierarchyHandlers[y].loaderClass;this.hierarchyHandlers[y].loaderObject=new g}if(c=0,h=0,p={scene:new THREE.Scene,geometries:{},face_materials:{},materials:{},textures:{},objects:{},cameras:{},lights:{},fogs:{},empties:{},groups:{}},b.transform){var _=b.transform.position,T=b.transform.rotation,w=b.transform.scale;_&&p.scene.position.fromArray(_),T&&p.scene.rotation.fromArray(T),w&&p.scene.scale.fromArray(w),(_||T||w)&&(p.scene.updateMatrix(),p.scene.updateMatrixWorld())}function R(e,t){return"relativeToHTML"==t?e:E+e}function x(){!function e(t,r){var a,s,l,c,h;for(var f in r){var d=p.objects[f],E=r[f];if(void 0===d){if(E.type&&E.type in m.hierarchyHandlers){if(void 0===E.loading){var v={type:1,url:1,material:1,position:1,rotation:1,scale:1,visible:1,children:1,userData:1,skin:1,morph:1,mirroredLoop:1,duration:1},y={};for(var g in E)g in v||(y[g]=E[g]);n=p.materials[E.material],E.loading=!0;var _=m.hierarchyHandlers[E.type].loaderObject;_.options?_.load(R(E.url,b.urlBaseType),H(f,t,n,E)):_.load(R(E.url,b.urlBaseType),H(f,t,n,E),y)}}else if(void 0!==E.geometry){if(i=p.geometries[E.geometry]){var T=!1;if(n=p.materials[E.material],T=n instanceof THREE.ShaderMaterial,s=E.position,l=E.rotation,c=E.scale,a=E.matrix,h=E.quaternion,E.material||(n=new THREE.MeshFaceMaterial(p.face_materials[E.geometry])),n instanceof THREE.MeshFaceMaterial&&0===n.materials.length&&(n=new THREE.MeshFaceMaterial(p.face_materials[E.geometry])),n instanceof THREE.MeshFaceMaterial)for(var w=0;w<n.materials.length;w++)T=T||n.materials[w]instanceof THREE.ShaderMaterial;T&&i.computeTangents(),E.skin?d=new THREE.SkinnedMesh(i,n):E.morph?(d=new THREE.MorphAnimMesh(i,n),void 0!==E.duration&&(d.duration=E.duration),void 0!==E.time&&(d.time=E.time),void 0!==E.mirroredLoop&&(d.mirroredLoop=E.mirroredLoop),n.morphNormals&&i.computeMorphNormals()):d=new THREE.Mesh(i,n),d.name=f,a?(d.matrixAutoUpdate=!1,d.matrix.set(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])):(d.position.fromArray(s),h?d.quaternion.fromArray(h):d.rotation.fromArray(l),d.scale.fromArray(c)),d.visible=E.visible,d.castShadow=E.castShadow,d.receiveShadow=E.receiveShadow,t.add(d),p.objects[f]=d}}else if("AmbientLight"===E.type||"PointLight"===E.type||"DirectionalLight"===E.type||"SpotLight"===E.type||"HemisphereLight"===E.type||"AreaLight"===E.type){var x=E.color,S=E.intensity,M=E.distance,A=E.position,C=E.rotation;switch(E.type){case"AmbientLight":u=new THREE.AmbientLight(x);break;case"PointLight":(u=new THREE.PointLight(x,S,M)).position.fromArray(A);break;case"DirectionalLight":(u=new THREE.DirectionalLight(x,S)).position.fromArray(E.direction);break;case"SpotLight":(u=new THREE.SpotLight(x,S,M,1)).angle=E.angle,u.position.fromArray(A),u.target.set(A[0],A[1]-M,A[2]),u.target.applyEuler(new THREE.Euler(C[0],C[1],C[2],"XYZ"));break;case"HemisphereLight":(u=new THREE.DirectionalLight(x,S,M)).target.set(A[0],A[1]-M,A[2]),u.target.applyEuler(new THREE.Euler(C[0],C[1],C[2],"XYZ"));break;case"AreaLight":(u=new THREE.AreaLight(x,S)).position.fromArray(A),u.width=E.size,u.height=E.size_y}t.add(u),u.name=f,p.lights[f]=u,p.objects[f]=u}else"PerspectiveCamera"===E.type||"OrthographicCamera"===E.type?(s=E.position,l=E.rotation,h=E.quaternion,"PerspectiveCamera"===E.type?o=new THREE.PerspectiveCamera(E.fov,E.aspect,E.near,E.far):"OrthographicCamera"===E.type&&(o=new THREE.OrthographicCamera(E.left,E.right,E.top,E.bottom,E.near,E.far)),o.name=f,o.position.fromArray(s),void 0!==h?o.quaternion.fromArray(h):void 0!==l&&o.rotation.fromArray(l),t.add(o),p.cameras[f]=o,p.objects[f]=o):(s=E.position,l=E.rotation,c=E.scale,h=E.quaternion,(d=new THREE.Object3D).name=f,d.position.fromArray(s),h?d.quaternion.fromArray(h):d.rotation.fromArray(l),d.scale.fromArray(c),d.visible=void 0!==E.visible&&E.visible,t.add(d),p.objects[f]=d,p.empties[f]=d);if(d){if(void 0!==E.userData)for(var P in E.userData){var F=E.userData[P];d.userData[P]=F}if(void 0!==E.groups)for(var w=0;w<E.groups.length;w++){var D=E.groups[w];void 0===p.groups[D]&&(p.groups[D]=[]),p.groups[D].push(f)}}}void 0!==d&&void 0!==E.children&&e(d,E.children)}}(p.scene,b.objects)}function S(e,t,r,i,n){var o=n.position,a=n.rotation,s=n.quaternion,l=n.scale;e.position.fromArray(o),s?e.quaternion.fromArray(s):e.rotation.fromArray(a),e.scale.fromArray(l),i&&e.traverse(function(e){e.material=i});var u=void 0===n.visible||n.visible;e.traverse(function(e){e.visible=u}),r.add(e),e.name=t,p.objects[t]=e,x()}function M(e){return function(t,r){t.name=e,function(e,t,r){p.geometries[r]=e,p.face_materials[r]=t,x()}(t,r,e),c-=1,m.onLoadComplete(),C()}}function H(e,t,r,i){return function(n){S(n.content?n.content:n.dae?n.scene:n,e,t,r,i),c-=1,m.onLoadComplete(),C()}}function A(e){return function(t,r){t.name=e,p.geometries[e]=t,p.face_materials[e]=r}}function C(){var e={totalModels:f,totalTextures:d,loadedModels:f-c,loadedTextures:d-h};m.callbackProgress(e,p),m.onLoadProgress(),0===c&&0===h&&(!function(){for(var e=0;e<v.length;e++){var t=v[e],r=p.objects[t.targetName];r?t.object.target=r:(t.object.target=new THREE.Object3D,p.scene.add(t.object.target)),t.object.target.userData.targetInverse=t.object}}(),t(p))}var P,F,D,k,L,B,O,N,I,V=function(e){return function(){!function(e){h-=e,C(),m.onLoadComplete()}(e)}};function U(e,t){if(t(e),void 0!==e.children)for(var r in e.children)U(e.children[r],t)}for(P in b.fogs)"linear"===(F=b.fogs[P]).type?a=new THREE.Fog(0,F.near,F.far):"exp2"===F.type&&(a=new THREE.FogExp2(0,F.density)),l=F.color,a.color.setRGB(l[0],l[1],l[2]),p.fogs[P]=a;for(D in b.geometries)(k=b.geometries[D]).type in this.geometryHandlers&&(c+=1,m.onLoadStart());for(var z in b.objects)U(b.objects[z],function(e){e.type&&e.type in m.hierarchyHandlers&&(c+=1,m.onLoadStart())});for(D in f=c,b.geometries)if("cube"===(k=b.geometries[D]).type)(i=new THREE.BoxGeometry(k.width,k.height,k.depth,k.widthSegments,k.heightSegments,k.depthSegments)).name=D,p.geometries[D]=i;else if("plane"===k.type)(i=new THREE.PlaneGeometry(k.width,k.height,k.widthSegments,k.heightSegments)).name=D,p.geometries[D]=i;else if("sphere"===k.type)(i=new THREE.SphereGeometry(k.radius,k.widthSegments,k.heightSegments)).name=D,p.geometries[D]=i;else if("cylinder"===k.type)(i=new THREE.CylinderGeometry(k.topRad,k.botRad,k.height,k.radSegs,k.heightSegs)).name=D,p.geometries[D]=i;else if("torus"===k.type)(i=new THREE.TorusGeometry(k.radius,k.tube,k.segmentsR,k.segmentsT)).name=D,p.geometries[D]=i;else if("icosahedron"===k.type)(i=new THREE.IcosahedronGeometry(k.radius,k.subdivisions)).name=D,p.geometries[D]=i;else if(k.type in this.geometryHandlers){var G={};for(var W in k)"type"!==W&&"url"!==W&&(G[W]=k[W]);this.geometryHandlers[k.type].loaderObject.load(R(k.url,b.urlBaseType),M(D),G)}else if("embedded"===k.type){var j=b.embeds[k.id];if(j.metadata=b.metadata,j){var J=this.geometryHandlers.ascii.loaderObject.parse(j,"");A(D)(J.geometry,J.materials)}}for(L in b.textures)if((B=b.textures[L]).url instanceof Array){h+=B.url.length;for(var X=0;X<B.url.length;X++)m.onLoadStart()}else h+=1,m.onLoadStart();for(L in d=h,b.textures){if(void 0!==(B=b.textures[L]).mapping&&void 0!==THREE[B.mapping]&&(B.mapping=new THREE[B.mapping]),B.url instanceof Array){for(var q=B.url.length,Y=[],K=0;K<q;K++)Y[K]=R(B.url[K],b.urlBaseType);s=(Z=/\.dds$/i.test(Y[0]))?THREE.ImageUtils.loadCompressedTextureCube(Y,B.mapping,V(q)):THREE.ImageUtils.loadTextureCube(Y,B.mapping,V(q))}else{var Z=/\.dds$/i.test(B.url),Q=R(B.url,b.urlBaseType),$=V(1);if(s=Z?THREE.ImageUtils.loadCompressedTexture(Q,B.mapping,$):THREE.ImageUtils.loadTexture(Q,B.mapping,$),void 0!==THREE[B.minFilter]&&(s.minFilter=THREE[B.minFilter]),void 0!==THREE[B.magFilter]&&(s.magFilter=THREE[B.magFilter]),B.anisotropy&&(s.anisotropy=B.anisotropy),B.repeat&&(s.repeat.set(B.repeat[0],B.repeat[1]),1!==B.repeat[0]&&(s.wrapS=THREE.RepeatWrapping),1!==B.repeat[1]&&(s.wrapT=THREE.RepeatWrapping)),B.offset&&s.offset.set(B.offset[0],B.offset[1]),B.wrap){var ee={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping};void 0!==ee[B.wrap[0]]&&(s.wrapS=ee[B.wrap[0]]),void 0!==ee[B.wrap[1]]&&(s.wrapT=ee[B.wrap[1]])}}p.textures[L]=s}for(O in b.materials){for(I in(N=b.materials[O]).parameters)if("envMap"===I||"map"===I||"lightMap"===I||"bumpMap"===I)N.parameters[I]=p.textures[N.parameters[I]];else if("shading"===I)N.parameters[I]="flat"===N.parameters[I]?THREE.FlatShading:THREE.SmoothShading;else if("side"===I)"double"==N.parameters[I]?N.parameters[I]=THREE.DoubleSide:"back"==N.parameters[I]?N.parameters[I]=THREE.BackSide:N.parameters[I]=THREE.FrontSide;else if("blending"===I)N.parameters[I]=N.parameters[I]in THREE?THREE[N.parameters[I]]:THREE.NormalBlending;else if("combine"===I)N.parameters[I]=N.parameters[I]in THREE?THREE[N.parameters[I]]:THREE.MultiplyOperation;else if("vertexColors"===I)"face"==N.parameters[I]?N.parameters[I]=THREE.FaceColors:N.parameters[I]&&(N.parameters[I]=THREE.VertexColors);else if("wrapRGB"===I){var te=N.parameters[I];N.parameters[I]=new THREE.Vector3(te[0],te[1],te[2])}if(void 0!==N.parameters.opacity&&N.parameters.opacity<1&&(N.parameters.transparent=!0),N.parameters.normalMap){var re=THREE.ShaderLib.normalmap,ie=THREE.UniformsUtils.clone(re.uniforms),ne=N.parameters.color,oe=N.parameters.specular,ae=N.parameters.ambient,se=N.parameters.shininess;ie.tNormal.value=p.textures[N.parameters.normalMap],N.parameters.normalScale&&ie.uNormalScale.value.set(N.parameters.normalScale[0],N.parameters.normalScale[1]),N.parameters.map&&(ie.tDiffuse.value=N.parameters.map,ie.enableDiffuse.value=!0),N.parameters.envMap&&(ie.tCube.value=N.parameters.envMap,ie.enableReflection.value=!0,ie.reflectivity.value=N.parameters.reflectivity),N.parameters.lightMap&&(ie.tAO.value=N.parameters.lightMap,ie.enableAO.value=!0),N.parameters.specularMap&&(ie.tSpecular.value=p.textures[N.parameters.specularMap],ie.enableSpecular.value=!0),N.parameters.displacementMap&&(ie.tDisplacement.value=p.textures[N.parameters.displacementMap],ie.enableDisplacement.value=!0,ie.uDisplacementBias.value=N.parameters.displacementBias,ie.uDisplacementScale.value=N.parameters.displacementScale),ie.diffuse.value.setHex(ne),ie.specular.value.setHex(oe),ie.ambient.value.setHex(ae),ie.shininess.value=se,N.parameters.opacity&&(ie.opacity.value=N.parameters.opacity);var le={fragmentShader:re.fragmentShader,vertexShader:re.vertexShader,uniforms:ie,lights:!0,fog:!0};n=new THREE.ShaderMaterial(le)}else n=new THREE[N.type](N.parameters);n.name=O,p.materials[O]=n}for(O in b.materials)if((N=b.materials[O]).parameters.materials){var ue=[];for(K=0;K<N.parameters.materials.length;K++){var ce=N.parameters.materials[K];ue.push(p.materials[ce])}p.materials[O].materials=ue}x(),p.cameras&&b.defaults.camera&&(p.currentCamera=p.cameras[b.defaults.camera]),p.fogs&&b.defaults.fog&&(p.scene.fog=p.fogs[b.defaults.fog]),m.callbackSync(p),C()}},THREE.TextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(e,t,r,i){var n=new THREE.ImageLoader(this.manager);n.setCrossOrigin(this.crossOrigin),n.load(e,function(e){var r=new THREE.Texture(e);r.needsUpdate=!0,void 0!==t&&t(r)})},setCrossOrigin:function(e){this.crossOrigin=e}},THREE.Material=function(){this.id=THREE.MaterialIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.side=THREE.FrontSide,this.opacity=1,this.transparent=!1,this.blending=THREE.NormalBlending,this.blendSrc=THREE.SrcAlphaFactor,this.blendDst=THREE.OneMinusSrcAlphaFactor,this.blendEquation=THREE.AddEquation,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this.needsUpdate=!0},THREE.Material.prototype={constructor:THREE.Material,setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r){if(t in this){var i=this[t];i instanceof THREE.Color?i.set(r):i instanceof THREE.Vector3&&r instanceof THREE.Vector3?i.copy(r):this[t]="overdraw"==t?Number(r):r}}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},clone:function(e){return void 0===e&&(e=new THREE.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.blending=this.blending,e.blendSrc=this.blendSrc,e.blendDst=this.blendDst,e.blendEquation=this.blendEquation,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Material.prototype),THREE.MaterialIdCount=0,THREE.LineBasicMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.clone=function(){var e=new THREE.LineBasicMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.linecap=this.linecap,e.linejoin=this.linejoin,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.LineDashedMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.clone=function(){var e=new THREE.LineDashedMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.scale=this.scale,e.dashSize=this.dashSize,e.gapSize=this.gapSize,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.MeshBasicMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.clone=function(){var e=new THREE.MeshBasicMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e},THREE.MeshLambertMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.clone=function(){var e=new THREE.MeshLambertMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.MeshPhongMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.specular=new THREE.Color(1118481),this.shininess=30,this.metal=!1,this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.specularMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.clone=function(){var e=new THREE.MeshPhongMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.specular.copy(this.specular),e.shininess=this.shininess,e.metal=this.metal,e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.bumpMap=this.bumpMap,e.bumpScale=this.bumpScale,e.normalMap=this.normalMap,e.normalScale.copy(this.normalScale),e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.MeshDepthMaterial=function(e){THREE.Material.call(this),this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.clone=function(){var e=new THREE.MeshDepthMaterial;return THREE.Material.prototype.clone.call(this,e),e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},THREE.MeshNormalMaterial=function(e){THREE.Material.call(this,e),this.shading=THREE.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.clone=function(){var e=new THREE.MeshNormalMaterial;return THREE.Material.prototype.clone.call(this,e),e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},THREE.MeshFaceMaterial=function(e){this.materials=e instanceof Array?e:[]},THREE.MeshFaceMaterial.prototype.clone=function(){for(var e=new THREE.MeshFaceMaterial,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e},THREE.ParticleSystemMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.ParticleSystemMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ParticleSystemMaterial.prototype.clone=function(){var e=new THREE.ParticleSystemMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.size=this.size,e.sizeAttenuation=this.sizeAttenuation,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.ParticleBasicMaterial=THREE.ParticleSystemMaterial,THREE.ShaderMaterial=function(e){THREE.Material.call(this),this.fragmentShader="void main() {}",this.vertexShader="void main() {}",this.uniforms={},this.defines={},this.attributes=null,this.shading=THREE.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName="position",this.setValues(e)},THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.clone=function(){var e=new THREE.ShaderMaterial;return THREE.Material.prototype.clone.call(this,e),e.fragmentShader=this.fragmentShader,e.vertexShader=this.vertexShader,e.uniforms=THREE.UniformsUtils.clone(this.uniforms),e.attributes=this.attributes,e.defines=this.defines,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.fog=this.fog,e.lights=this.lights,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.SpriteMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.clone=function(){var e=new THREE.SpriteMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.rotation=this.rotation,e.fog=this.fog,e},THREE.SpriteCanvasMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.program=function(e,t){},this.setValues(e)},THREE.SpriteCanvasMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteCanvasMaterial.prototype.clone=function(){var e=new THREE.SpriteCanvasMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.program=this.program,e},THREE.ParticleCanvasMaterial=THREE.SpriteCanvasMaterial,THREE.Texture=function(e,t,r,i,n,o,a,s,l){this.id=THREE.TextureIdCount++,this.uuid=THREE.Math.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=void 0!==t?t:new THREE.UVMapping,this.wrapS=void 0!==r?r:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==i?i:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==n?n:THREE.LinearFilter,this.minFilter=void 0!==o?o:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:THREE.RGBAFormat,this.type=void 0!==s?s:THREE.UnsignedByteType,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this._needsUpdate=!1,this.onUpdate=null},THREE.Texture.prototype={constructor:THREE.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){!0===e&&this.update(),this._needsUpdate=e},clone:function(e){return void 0===e&&(e=new THREE.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype),THREE.TextureIdCount=0,THREE.CompressedTexture=function(e,t,r,i,n,o,a,s,l,u,c){THREE.Texture.call(this,null,o,a,s,l,u,i,n,c),this.image={width:t,height:r},this.mipmaps=e,this.generateMipmaps=!1},THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.clone=function(){var e=new THREE.CompressedTexture;return THREE.Texture.prototype.clone.call(this,e),e},THREE.DataTexture=function(e,t,r,i,n,o,a,s,l,u,c){THREE.Texture.call(this,null,o,a,s,l,u,i,n,c),this.image={data:e,width:t,height:r}},THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.clone=function(){var e=new THREE.DataTexture;return THREE.Texture.prototype.clone.call(this,e),e},THREE.ParticleSystem=function(e,t){THREE.Object3D.call(this),this.geometry=void 0!==e?e:new THREE.Geometry,this.material=void 0!==t?t:new THREE.ParticleSystemMaterial({color:16777215*Math.random()}),this.sortParticles=!1,this.frustumCulled=!1},THREE.ParticleSystem.prototype=Object.create(THREE.Object3D.prototype),THREE.ParticleSystem.prototype.clone=function(e){return void 0===e&&(e=new THREE.ParticleSystem(this.geometry,this.material)),e.sortParticles=this.sortParticles,THREE.Object3D.prototype.clone.call(this,e),e},THREE.Line=function(e,t,r){THREE.Object3D.call(this),this.geometry=void 0!==e?e:new THREE.Geometry,this.material=void 0!==t?t:new THREE.LineBasicMaterial({color:16777215*Math.random()}),this.type=void 0!==r?r:THREE.LineStrip},THREE.LineStrip=0,THREE.LinePieces=1,THREE.Line.prototype=Object.create(THREE.Object3D.prototype),THREE.Line.prototype.clone=function(e){return void 0===e&&(e=new THREE.Line(this.geometry,this.material,this.type)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Mesh=function(e,t){THREE.Object3D.call(this),this.geometry=void 0!==e?e:new THREE.Geometry,this.material=void 0!==t?t:new THREE.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype),THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;e<t;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},THREE.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},THREE.Mesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.Mesh(this.geometry,this.material)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Bone=function(e){THREE.Object3D.call(this),this.skin=e,this.skinMatrix=new THREE.Matrix4},THREE.Bone.prototype=Object.create(THREE.Object3D.prototype),THREE.Bone.prototype.update=function(e,t){this.matrixAutoUpdate&&(t|=this.updateMatrix()),(t||this.matrixWorldNeedsUpdate)&&(e?this.skinMatrix.multiplyMatrices(e,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);var r,i=this.children.length;for(r=0;r<i;r++)this.children[r].update(this.skinMatrix,t)},THREE.SkinnedMesh=function(e,t,r){var i,n,o,a,s,l;if(THREE.Mesh.call(this,e,t),this.useVertexTexture=void 0===r||r,this.identityMatrix=new THREE.Matrix4,this.bones=[],this.boneMatrices=[],this.geometry&&void 0!==this.geometry.bones){for(i=0;i<this.geometry.bones.length;i++)a=(o=this.geometry.bones[i]).pos,s=o.rotq,l=o.scl,(n=this.addBone()).name=o.name,n.position.set(a[0],a[1],a[2]),n.quaternion.set(s[0],s[1],s[2],s[3]),void 0!==l?n.scale.set(l[0],l[1],l[2]):n.scale.set(1,1,1);for(i=0;i<this.bones.length;i++)o=this.geometry.bones[i],n=this.bones[i],-1===o.parent?this.add(n):this.bones[o.parent].add(n);var u,c=this.bones.length;if(this.useVertexTexture)u=c>256?64:c>64?32:c>16?16:8,this.boneTextureWidth=u,this.boneTextureHeight=u,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),this.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1;else this.boneMatrices=new Float32Array(16*c);this.pose()}},THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.SkinnedMesh.prototype.addBone=function(e){return void 0===e&&(e=new THREE.Bone(this)),this.bones.push(e),e},THREE.SkinnedMesh.prototype.updateMatrixWorld=function(){var e=new THREE.Matrix4;return function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var r=0,i=this.children.length;r<i;r++){var n=this.children[r];n instanceof THREE.Bone?n.update(this.identityMatrix,!1):n.updateMatrixWorld(!0)}if(void 0==this.boneInverses){this.boneInverses=[];for(var o=0,a=this.bones.length;o<a;o++){var s=new THREE.Matrix4;s.getInverse(this.bones[o].skinMatrix),this.boneInverses.push(s)}}for(o=0,a=this.bones.length;o<a;o++)e.multiplyMatrices(this.bones[o].skinMatrix,this.boneInverses[o]),e.flattenToArrayOffset(this.boneMatrices,16*o);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),THREE.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(!0),this.normalizeSkinWeights()},THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e],r=1/t.lengthManhattan();r!==1/0?t.multiplyScalar(r):t.set(1)}},THREE.SkinnedMesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),THREE.Mesh.prototype.clone.call(this,e),e},THREE.MorphAnimMesh=function(e,t){THREE.Mesh.call(this,e,t),this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphAnimMesh.prototype.setFrameRange=function(e,t){this.startKeyframe=e,this.endKeyframe=t,this.length=this.endKeyframe-this.startKeyframe+1},THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},THREE.MorphAnimMesh.prototype.parseAnimations=function(){var e=this.geometry;e.animations||(e.animations={});for(var t,r=e.animations,i=/([a-z]+)(\d+)/,n=0,o=e.morphTargets.length;n<o;n++){var a=e.morphTargets[n].name.match(i);if(a&&a.length>1){var s=a[1];a[2];r[s]||(r[s]={start:1/0,end:-1/0});var l=r[s];n<l.start&&(l.start=n),n>l.end&&(l.end=n),t||(t=s)}}e.firstAnimation=t},THREE.MorphAnimMesh.prototype.setAnimationLabel=function(e,t,r){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[e]={start:t,end:r}},THREE.MorphAnimMesh.prototype.playAnimation=function(e,t){var r=this.geometry.animations[e];r?(this.setFrameRange(r.start,r.end),this.duration=(r.end-r.start)/t*1e3,this.time=0):console.warn("animation["+e+"] undefined")},THREE.MorphAnimMesh.prototype.updateAnimation=function(e){var t=this.duration/this.length;this.time+=this.direction*e,this.mirroredLoop?(this.time>this.duration||this.time<0)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),this.time<0&&(this.time=0,this.directionBackwards=!1)):(this.time=this.time%this.duration,this.time<0&&(this.time+=this.duration));var r=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/t),0,this.length-1);r!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[r]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=r);var i=this.time%t/t;this.directionBackwards&&(i=1-i),this.morphTargetInfluences[this.currentKeyframe]=i,this.morphTargetInfluences[this.lastKeyframe]=1-i},THREE.MorphAnimMesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.MorphAnimMesh(this.geometry,this.material)),e.duration=this.duration,e.mirroredLoop=this.mirroredLoop,e.time=this.time,e.lastKeyframe=this.lastKeyframe,e.currentKeyframe=this.currentKeyframe,e.direction=this.direction,e.directionBackwards=this.directionBackwards,THREE.Mesh.prototype.clone.call(this,e),e},THREE.LOD=function(){THREE.Object3D.call(this),this.objects=[]},THREE.LOD.prototype=Object.create(THREE.Object3D.prototype),THREE.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var r=0;r<this.objects.length&&!(t<this.objects[r].distance);r++);this.objects.splice(r,0,{distance:t,object:e}),this.add(e)},THREE.LOD.prototype.getObjectForDistance=function(e){for(var t=1,r=this.objects.length;t<r&&!(e<this.objects[t].distance);t++);return this.objects[t-1].object},THREE.LOD.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r){if(this.objects.length>1){e.setFromMatrixPosition(r.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);this.objects[0].object.visible=!0;for(var n=1,o=this.objects.length;n<o&&i>=this.objects[n].distance;n++)this.objects[n-1].object.visible=!1,this.objects[n].object.visible=!0;for(;n<o;n++)this.objects[n].object.visible=!1}}}(),THREE.LOD.prototype.clone=function(e){void 0===e&&(e=new THREE.LOD),THREE.Object3D.prototype.clone.call(this,e);for(var t=0,r=this.objects.length;t<r;t++){var i=this.objects[t].object.clone();i.visible=0===t,e.addLevel(i,this.objects[t].distance)}return e},THREE.Sprite=function(){var e=new THREE.Geometry2(3);return e.vertices.set([-.5,-.5,0,.5,-.5,0,.5,.5,0]),function(t){THREE.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new THREE.SpriteMaterial}}(),THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype),THREE.Sprite.prototype.updateMatrix=function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},THREE.Sprite.prototype.clone=function(e){return void 0===e&&(e=new THREE.Sprite(this.material)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Particle=THREE.Sprite,THREE.Scene=function(){THREE.Object3D.call(this),this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,this.matrixAutoUpdate=!1,this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},THREE.Scene.prototype=Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.__addObject=function(e){if(e instanceof THREE.Light)-1===this.__lights.indexOf(e)&&this.__lights.push(e),e.target&&void 0===e.target.parent&&this.add(e.target);else if(!(e instanceof THREE.Camera||e instanceof THREE.Bone)){this.__objectsAdded.push(e);var t=this.__objectsRemoved.indexOf(e);-1!==t&&this.__objectsRemoved.splice(t,1)}this.dispatchEvent({type:"objectAdded",object:e}),e.dispatchEvent({type:"addedToScene",scene:this});for(var r=0;r<e.children.length;r++)this.__addObject(e.children[r])},THREE.Scene.prototype.__removeObject=function(e){if(e instanceof THREE.Light){if(-1!==(r=this.__lights.indexOf(e))&&this.__lights.splice(r,1),e.shadowCascadeArray)for(var t=0;t<e.shadowCascadeArray.length;t++)this.__removeObject(e.shadowCascadeArray[t])}else if(!(e instanceof THREE.Camera)){var r;this.__objectsRemoved.push(e),-1!==(r=this.__objectsAdded.indexOf(e))&&this.__objectsAdded.splice(r,1)}this.dispatchEvent({type:"objectRemoved",object:e}),e.dispatchEvent({type:"removedFromScene",scene:this});for(var i=0;i<e.children.length;i++)this.__removeObject(e.children[i])},THREE.Scene.prototype.clone=function(e){return void 0===e&&(e=new THREE.Scene),THREE.Object3D.prototype.clone.call(this,e),null!==this.fog&&(e.fog=this.fog.clone()),null!==this.overrideMaterial&&(e.overrideMaterial=this.overrideMaterial.clone()),e.autoUpdate=this.autoUpdate,e.matrixAutoUpdate=this.matrixAutoUpdate,e},THREE.Fog=function(e,t,r){this.name="",this.color=new THREE.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3},THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)},THREE.FogExp2=function(e,t){this.name="",this.color=new THREE.Color(e),this.density=void 0!==t?t:25e-5},THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)},THREE.CanvasRenderer=function(e){console.log("THREE.CanvasRenderer",THREE.REVISION);var t=THREE.Math.smoothstep;e=e||{};var r,i,n,o,a,s,l,u,c,h,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S,M,H,A,C,P=this,F=new THREE.Projector,D=void 0!==e.canvas?e.canvas:document.createElement("canvas"),k=D.width,L=D.height,B=Math.floor(k/2),O=Math.floor(L/2),N=D.getContext("2d",{alpha:!0===e.alpha}),I=new THREE.Color(0),V=0,U=1,z=0,G=null,W=null,j=null,J=null,X=null,q=null,Y=0,K=(new THREE.RenderableVertex,new THREE.RenderableVertex,new THREE.Color),Z=new THREE.Color,Q=new THREE.Color,$=new THREE.Color,ee=new THREE.Color,te=new THREE.Color,re=new THREE.Color,ie=new THREE.Color,ne={},oe=new THREE.Box2,ae=new THREE.Box2,se=new THREE.Box2,le=new THREE.Color,ue=new THREE.Color,ce=new THREE.Color,he=new THREE.Vector3,fe=new THREE.Vector3,de=new THREE.Matrix3,pe=16;function me(e,t,r){for(var i=0,o=n.length;i<o;i++){var a=n[i];if(ie.copy(a.color),a instanceof THREE.DirectionalLight){var s=he.setFromMatrixPosition(a.matrixWorld).normalize();if((l=t.dot(s))<=0)continue;l*=a.intensity,r.add(ie.multiplyScalar(l))}else if(a instanceof THREE.PointLight){var l;s=he.setFromMatrixPosition(a.matrixWorld);if((l=t.dot(he.subVectors(s,e).normalize()))<=0)continue;if(0==(l*=0==a.distance?1:1-Math.min(e.distanceTo(s)/a.distance,1)))continue;l*=a.intensity,r.add(ie.multiplyScalar(l))}}}function Ee(e,t,r){Me(r.opacity),He(r.blending);var i=t.scale.x*B,n=t.scale.y*O,o=.5*Math.sqrt(i*i+n*n);if(se.min.set(e.x-o,e.y-o),se.max.set(e.x+o,e.y+o),r instanceof THREE.SpriteMaterial||r instanceof THREE.ParticleSystemMaterial){var a=r.map;if(null!==a){!1===a.hasEventListener("update",_e)&&(void 0!==a.image&&a.image.width>0&&Te(a),a.addEventListener("update",_e));var s=ne[a.id];De(void 0!==s?s:"rgba( 0, 0, 0, 1 )");var l=a.image,u=l.width*a.offset.x,c=l.height*a.offset.y,h=l.width*a.repeat.x,f=l.height*a.repeat.y,d=i/h,p=n/f;N.save(),N.translate(e.x,e.y),0!==r.rotation&&N.rotate(r.rotation),N.translate(-i/2,-n/2),N.scale(d,p),N.translate(-u,-c),N.fillRect(u,c,h,f),N.restore()}else De(r.color.getStyle()),N.save(),N.translate(e.x,e.y),0!==r.rotation&&N.rotate(r.rotation),N.scale(i,-n),N.fillRect(-.5,-.5,1,1),N.restore()}else r instanceof THREE.SpriteCanvasMaterial&&(Fe(r.color.getStyle()),De(r.color.getStyle()),N.save(),N.translate(e.x,e.y),0!==r.rotation&&N.rotate(r.rotation),N.scale(i,n),r.program(N),N.restore())}function ve(e,t,r,i){if(Me(i.opacity),He(i.blending),N.beginPath(),N.moveTo(e.positionScreen.x,e.positionScreen.y),N.lineTo(t.positionScreen.x,t.positionScreen.y),i instanceof THREE.LineBasicMaterial){if(Ae(i.linewidth),Ce(i.linecap),Pe(i.linejoin),i.vertexColors!==THREE.VertexColors)Fe(i.color.getStyle());else{var n=r.vertexColors[0].getStyle(),o=r.vertexColors[1].getStyle();if(n===o)Fe(n);else{try{var a=N.createLinearGradient(e.positionScreen.x,e.positionScreen.y,t.positionScreen.x,t.positionScreen.y);a.addColorStop(0,n),a.addColorStop(1,o)}catch(e){a=n}Fe(a)}}N.stroke(),se.expandByScalar(2*i.linewidth)}else i instanceof THREE.LineDashedMaterial&&(Ae(i.linewidth),Ce(i.linecap),Pe(i.linejoin),Fe(i.color.getStyle()),ke(i.dashSize,i.gapSize),N.stroke(),se.expandByScalar(2*i.linewidth),ke(null,null))}function be(e,r,i,n,a,s,l,x){var S,M,H,A,C,F;P.info.render.vertices+=3,P.info.render.faces++,Me(x.opacity),He(x.blending),u=e.positionScreen.x,c=e.positionScreen.y,h=r.positionScreen.x,f=r.positionScreen.y,d=i.positionScreen.x,p=i.positionScreen.y,S=u,M=c,H=h,A=f,C=d,F=p,N.beginPath(),N.moveTo(S,M),N.lineTo(H,A),N.lineTo(C,F),N.closePath(),(x instanceof THREE.MeshLambertMaterial||x instanceof THREE.MeshPhongMaterial)&&null===x.map?(te.copy(x.color),re.copy(x.emissive),x.vertexColors===THREE.FaceColors&&te.multiply(l.color),!1===x.wireframe&&x.shading===THREE.SmoothShading&&3===l.vertexNormalsLength?(Z.copy(le),Q.copy(le),$.copy(le),me(l.v1.positionWorld,l.vertexNormalsModel[0],Z),me(l.v2.positionWorld,l.vertexNormalsModel[1],Q),me(l.v3.positionWorld,l.vertexNormalsModel[2],$),Z.multiply(te).add(re),Q.multiply(te).add(re),$.multiply(te).add(re),ee.addColors(Q,$).multiplyScalar(.5),v=xe(Z,Q,$,ee),Re(u,c,h,f,d,p,0,0,1,0,0,1,v)):(K.copy(le),me(l.centroidModel,l.normalModel,K),K.multiply(te).add(re),!0===x.wireframe?ye(K,x.wireframeLinewidth,x.wireframeLinecap,x.wireframeLinejoin):ge(K))):x instanceof THREE.MeshBasicMaterial||x instanceof THREE.MeshLambertMaterial||x instanceof THREE.MeshPhongMaterial?null!==x.map?x.map.mapping instanceof THREE.UVMapping&&(b=l.uvs[0],we(u,c,h,f,d,p,b[n].x,b[n].y,b[a].x,b[a].y,b[s].x,b[s].y,x.map)):null!==x.envMap?x.envMap.mapping instanceof THREE.SphericalReflectionMapping&&(fe.copy(l.vertexNormalsModel[n]).applyMatrix3(de),y=.5*fe.x+.5,g=.5*fe.y+.5,fe.copy(l.vertexNormalsModel[a]).applyMatrix3(de),_=.5*fe.x+.5,T=.5*fe.y+.5,fe.copy(l.vertexNormalsModel[s]).applyMatrix3(de),w=.5*fe.x+.5,R=.5*fe.y+.5,we(u,c,h,f,d,p,y,g,_,T,w,R,x.envMap)):(K.copy(x.color),x.vertexColors===THREE.FaceColors&&K.multiply(l.color),!0===x.wireframe?ye(K,x.wireframeLinewidth,x.wireframeLinecap,x.wireframeLinejoin):ge(K)):x instanceof THREE.MeshDepthMaterial?(m=o.near,E=o.far,Z.r=Z.g=Z.b=1-t(e.positionScreen.z*e.positionScreen.w,m,E),Q.r=Q.g=Q.b=1-t(r.positionScreen.z*r.positionScreen.w,m,E),$.r=$.g=$.b=1-t(i.positionScreen.z*i.positionScreen.w,m,E),ee.addColors(Q,$).multiplyScalar(.5),v=xe(Z,Q,$,ee),Re(u,c,h,f,d,p,0,0,1,0,0,1,v)):x instanceof THREE.MeshNormalMaterial&&(x.shading===THREE.FlatShading?(fe.copy(l.normalModel).applyMatrix3(de),K.setRGB(fe.x,fe.y,fe.z).multiplyScalar(.5).addScalar(.5),!0===x.wireframe?ye(K,x.wireframeLinewidth,x.wireframeLinecap,x.wireframeLinejoin):ge(K)):x.shading===THREE.SmoothShading&&(fe.copy(l.vertexNormalsModel[n]).applyMatrix3(de),Z.setRGB(fe.x,fe.y,fe.z).multiplyScalar(.5).addScalar(.5),fe.copy(l.vertexNormalsModel[a]).applyMatrix3(de),Q.setRGB(fe.x,fe.y,fe.z).multiplyScalar(.5).addScalar(.5),fe.copy(l.vertexNormalsModel[s]).applyMatrix3(de),$.setRGB(fe.x,fe.y,fe.z).multiplyScalar(.5).addScalar(.5),ee.addColors(Q,$).multiplyScalar(.5),v=xe(Z,Q,$,ee),Re(u,c,h,f,d,p,0,0,1,0,0,1,v)))}function ye(e,t,r,i){Ae(t),Ce(r),Pe(i),Fe(e.getStyle()),N.stroke(),se.expandByScalar(2*t)}function ge(e){De(e.getStyle()),N.fill()}function _e(e){Te(e.target)}function Te(e){var t=e.wrapS===THREE.RepeatWrapping,r=e.wrapT===THREE.RepeatWrapping,i=e.image,n=document.createElement("canvas");n.width=i.width,n.height=i.height;var o=n.getContext("2d");o.setTransform(1,0,0,-1,0,i.height),o.drawImage(i,0,0),ne[e.id]=N.createPattern(n,!0===t&&!0===r?"repeat":!0===t&&!1===r?"repeat-x":!1===t&&!0===r?"repeat-y":"no-repeat")}function we(e,t,r,i,n,o,a,s,l,u,c,h,f){if(!(f instanceof THREE.DataTexture)){!1===f.hasEventListener("update",_e)&&(void 0!==f.image&&f.image.width>0&&Te(f),f.addEventListener("update",_e));var d=ne[f.id];if(void 0===d)return De("rgba(0,0,0,1)"),void N.fill();De(d);var p,m,E,v,b,y,g,_,T=f.offset.x/f.repeat.x,w=f.offset.y/f.repeat.y,R=f.image.width*f.repeat.x,x=f.image.height*f.repeat.y;l=(l+T)*R,u=(u+w)*x,c=(c+T)*R,h=(h+w)*x,r-=e,i-=t,n-=e,o-=t,0!==(g=(l-=a=(a+T)*R)*(h-=s=(s+w)*x)-(c-=a)*(u-=s))&&(b=e-(p=(h*r-u*n)*(_=1/g))*a-(E=(l*n-c*r)*_)*s,y=t-(m=(h*i-u*o)*_)*a-(v=(l*o-c*i)*_)*s,N.save(),N.transform(p,m,E,v,b,y),N.fill(),N.restore())}}function Re(e,t,r,i,n,o,a,s,l,u,c,h,f){var d,p,m,E,v,b,y,g=f.width-1,_=f.height-1;l*=g,u*=_,c*=g,h*=_,v=e-(d=((h-=s*=_)*(r-=e)-(u-=s)*(n-=e))*(y=1/((l-=a*=g)*h-(c-=a)*u)))*a-(m=(l*n-c*r)*y)*s,b=t-(p=(h*(i-=t)-u*(o-=t))*y)*a-(E=(l*o-c*i)*y)*s,N.save(),N.transform(d,p,m,E,v,b),N.clip(),N.drawImage(f,0,0),N.restore()}function xe(e,t,r,i){return H[0]=255*e.r|0,H[1]=255*e.g|0,H[2]=255*e.b|0,H[4]=255*t.r|0,H[5]=255*t.g|0,H[6]=255*t.b|0,H[8]=255*r.r|0,H[9]=255*r.g|0,H[10]=255*r.b|0,H[12]=255*i.r|0,H[13]=255*i.g|0,H[14]=255*i.b|0,S.putImageData(M,0,0),C.drawImage(x,0,0),A}function Se(e,t,r){var i,n=t.x-e.x,o=t.y-e.y,a=n*n+o*o;0!==a&&(n*=i=r/Math.sqrt(a),o*=i,t.x+=n,t.y+=o,e.x-=n,e.y-=o)}function Me(e){U!==e&&(N.globalAlpha=e,U=e)}function He(e){z!==e&&(e===THREE.NormalBlending?N.globalCompositeOperation="source-over":e===THREE.AdditiveBlending?N.globalCompositeOperation="lighter":e===THREE.SubtractiveBlending&&(N.globalCompositeOperation="darker"),z=e)}function Ae(e){j!==e&&(N.lineWidth=e,j=e)}function Ce(e){J!==e&&(N.lineCap=e,J=e)}function Pe(e){X!==e&&(N.lineJoin=e,X=e)}function Fe(e){G!==e&&(N.strokeStyle=e,G=e)}function De(e){W!==e&&(N.fillStyle=e,W=e)}function ke(e,t){q===e&&Y===t||(N.setLineDash([e,t]),q=e,Y=t)}(x=document.createElement("canvas")).width=x.height=2,(S=x.getContext("2d")).fillStyle="rgba(0,0,0,1)",S.fillRect(0,0,2,2),M=S.getImageData(0,0,2,2),H=M.data,(A=document.createElement("canvas")).width=A.height=pe,(C=A.getContext("2d")).translate(-pe/2,-pe/2),C.scale(pe,pe),pe--,void 0===N.setLineDash&&(void 0!==N.mozDash?N.setLineDash=function(e){N.mozDash=null!==e[0]?e:null}:N.setLineDash=function(){}),this.domElement=D,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,this.autoClear=!0,this.sortObjects=!0,this.sortElements=!0,this.info={render:{vertices:0,faces:0}},this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.setSize=function(e,t,r){k=e*this.devicePixelRatio,L=t*this.devicePixelRatio,B=Math.floor(k/2),O=Math.floor(L/2),D.width=k,D.height=L,1!==this.devicePixelRatio&&!1!==r&&(D.style.width=e+"px",D.style.height=t+"px"),oe.min.set(-B,-O),oe.max.set(B,O),ae.min.set(-B,-O),ae.max.set(B,O),U=1,z=0,G=null,W=null,j=null,J=null,X=null},this.setClearColor=function(e,t){I.set(e),V=void 0!==t?t:1,ae.min.set(-B,-O),ae.max.set(B,O)},this.setClearColorHex=function(e,t){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(e,t)},this.getMaxAnisotropy=function(){return 0},this.clear=function(){N.setTransform(1,0,0,-1,B,O),!1===ae.empty()&&(ae.intersect(oe),ae.expandByScalar(2),V<1&&N.clearRect(0|ae.min.x,0|ae.min.y,ae.max.x-ae.min.x|0,ae.max.y-ae.min.y|0),V>0&&(He(THREE.NormalBlending),Me(1),De("rgba("+Math.floor(255*I.r)+","+Math.floor(255*I.g)+","+Math.floor(255*I.b)+","+V+")"),N.fillRect(0|ae.min.x,0|ae.min.y,ae.max.x-ae.min.x|0,ae.max.y-ae.min.y|0)),ae.makeEmpty())},this.clearColor=function(){},this.clearDepth=function(){},this.clearStencil=function(){},this.render=function(e,t){if(t instanceof THREE.Camera!=!1){!0===this.autoClear&&this.clear(),N.setTransform(1,0,0,-1,B,O),P.info.render.vertices=0,P.info.render.faces=0,r=F.projectScene(e,t,this.sortObjects,this.sortElements),i=r.elements,n=r.lights,o=t,de.getNormalMatrix(t.matrixWorldInverse),function(){le.setRGB(0,0,0),ue.setRGB(0,0,0),ce.setRGB(0,0,0);for(var e=0,t=n.length;e<t;e++){var r=n[e],i=r.color;r instanceof THREE.AmbientLight?le.add(i):r instanceof THREE.DirectionalLight?ue.add(i):r instanceof THREE.PointLight&&ce.add(i)}}();for(var u=0,c=i.length;u<c;u++){var h=i[u],f=h.material;if(void 0!==f&&!1!==f.visible){if(se.makeEmpty(),h instanceof THREE.RenderableSprite)(a=h).x*=B,a.y*=O,Ee(a,h,f);else if(h instanceof THREE.RenderableLine)a=h.v1,s=h.v2,a.positionScreen.x*=B,a.positionScreen.y*=O,s.positionScreen.x*=B,s.positionScreen.y*=O,se.setFromPoints([a.positionScreen,s.positionScreen]),!0===oe.isIntersectionBox(se)&&ve(a,s,h,f);else if(h instanceof THREE.RenderableFace){if(a=h.v1,s=h.v2,l=h.v3,a.positionScreen.z<-1||a.positionScreen.z>1)continue;if(s.positionScreen.z<-1||s.positionScreen.z>1)continue;if(l.positionScreen.z<-1||l.positionScreen.z>1)continue;a.positionScreen.x*=B,a.positionScreen.y*=O,s.positionScreen.x*=B,s.positionScreen.y*=O,l.positionScreen.x*=B,l.positionScreen.y*=O,f.overdraw>0&&(Se(a.positionScreen,s.positionScreen,f.overdraw),Se(s.positionScreen,l.positionScreen,f.overdraw),Se(l.positionScreen,a.positionScreen,f.overdraw)),se.setFromPoints([a.positionScreen,s.positionScreen,l.positionScreen]),!0===oe.isIntersectionBox(se)&&be(a,s,l,0,1,2,h,f)}ae.union(se)}}N.setTransform(1,0,0,1,0,0)}else console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.")}},THREE.ShaderChunk={fog_pars_fragment:["#ifdef USE_FOG","uniform vec3 fogColor;","#ifdef FOG_EXP2","uniform float fogDensity;","#else","uniform float fogNear;","uniform float fogFar;","#endif","#endif"].join("\n"),fog_fragment:["#ifdef USE_FOG","float depth = gl_FragCoord.z / gl_FragCoord.w;","#ifdef FOG_EXP2","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","#else","float fogFactor = smoothstep( fogNear, fogFar, depth );","#endif","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","#endif"].join("\n"),envmap_pars_fragment:["#ifdef USE_ENVMAP","uniform float reflectivity;","uniform samplerCube envMap;","uniform float flipEnvMap;","uniform int combine;","#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )","uniform bool useRefract;","uniform float refractionRatio;","#else","varying vec3 vReflect;","#endif","#endif"].join("\n"),envmap_fragment:["#ifdef USE_ENVMAP","vec3 reflectVec;","#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )","vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","if ( useRefract ) {","reflectVec = refract( cameraToVertex, normal, refractionRatio );","} else { ","reflectVec = reflect( cameraToVertex, normal );","}","#else","reflectVec = vReflect;","#endif","#ifdef DOUBLE_SIDED","float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );","vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );","#else","vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );","#endif","#ifdef GAMMA_INPUT","cubeColor.xyz *= cubeColor.xyz;","#endif","if ( combine == 1 ) {","gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );","} else if ( combine == 2 ) {","gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;","} else {","gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );","}","#endif"].join("\n"),envmap_pars_vertex:["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )","varying vec3 vReflect;","uniform float refractionRatio;","uniform bool useRefract;","#endif"].join("\n"),worldpos_vertex:["#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )","#ifdef USE_SKINNING","vec4 worldPosition = modelMatrix * skinned;","#endif","#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )","vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );","#endif","#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","#endif","#endif"].join("\n"),envmap_vertex:["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )","vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;","worldNormal = normalize( worldNormal );","vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );","if ( useRefract ) {","vReflect = refract( cameraToVertex, worldNormal, refractionRatio );","} else {","vReflect = reflect( cameraToVertex, worldNormal );","}","#endif"].join("\n"),map_particle_pars_fragment:["#ifdef USE_MAP","uniform sampler2D map;","#endif"].join("\n"),map_particle_fragment:["#ifdef USE_MAP","gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );","#endif"].join("\n"),map_pars_vertex:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","varying vec2 vUv;","uniform vec4 offsetRepeat;","#endif"].join("\n"),map_pars_fragment:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","varying vec2 vUv;","#endif","#ifdef USE_MAP","uniform sampler2D map;","#endif"].join("\n"),map_vertex:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","vUv = uv * offsetRepeat.zw + offsetRepeat.xy;","#endif"].join("\n"),map_fragment:["#ifdef USE_MAP","vec4 texelColor = texture2D( map, vUv );","#ifdef GAMMA_INPUT","texelColor.xyz *= texelColor.xyz;","#endif","gl_FragColor = gl_FragColor * texelColor;","#endif"].join("\n"),lightmap_pars_fragment:["#ifdef USE_LIGHTMAP","varying vec2 vUv2;","uniform sampler2D lightMap;","#endif"].join("\n"),lightmap_pars_vertex:["#ifdef USE_LIGHTMAP","varying vec2 vUv2;","#endif"].join("\n"),lightmap_fragment:["#ifdef USE_LIGHTMAP","gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );","#endif"].join("\n"),lightmap_vertex:["#ifdef USE_LIGHTMAP","vUv2 = uv2;","#endif"].join("\n"),bumpmap_pars_fragment:["#ifdef USE_BUMPMAP","uniform sampler2D bumpMap;","uniform float bumpScale;","vec2 dHdxy_fwd() {","vec2 dSTdx = dFdx( vUv );","vec2 dSTdy = dFdy( vUv );","float Hll = bumpScale * texture2D( bumpMap, vUv ).x;","float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;","float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;","return vec2( dBx, dBy );","}","vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {","vec3 vSigmaX = dFdx( surf_pos );","vec3 vSigmaY = dFdy( surf_pos );","vec3 vN = surf_norm;","vec3 R1 = cross( vSigmaY, vN );","vec3 R2 = cross( vN, vSigmaX );","float fDet = dot( vSigmaX, R1 );","vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );","return normalize( abs( fDet ) * surf_norm - vGrad );","}","#endif"].join("\n"),normalmap_pars_fragment:["#ifdef USE_NORMALMAP","uniform sampler2D normalMap;","uniform vec2 normalScale;","vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {","vec3 q0 = dFdx( eye_pos.xyz );","vec3 q1 = dFdy( eye_pos.xyz );","vec2 st0 = dFdx( vUv.st );","vec2 st1 = dFdy( vUv.st );","vec3 S = normalize(  q0 * st1.t - q1 * st0.t );","vec3 T = normalize( -q0 * st1.s + q1 * st0.s );","vec3 N = normalize( surf_norm );","vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;","mapN.xy = normalScale * mapN.xy;","mat3 tsn = mat3( S, T, N );","return normalize( tsn * mapN );","}","#endif"].join("\n"),specularmap_pars_fragment:["#ifdef USE_SPECULARMAP","uniform sampler2D specularMap;","#endif"].join("\n"),specularmap_fragment:["float specularStrength;","#ifdef USE_SPECULARMAP","vec4 texelSpecular = texture2D( specularMap, vUv );","specularStrength = texelSpecular.r;","#else","specularStrength = 1.0;","#endif"].join("\n"),lights_lambert_pars_vertex:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif"].join("\n"),lights_lambert_vertex:["vLightFront = vec3( 0.0 );","#ifdef DOUBLE_SIDED","vLightBack = vec3( 0.0 );","#endif","transformedNormal = normalize( transformedNormal );","#if MAX_DIR_LIGHTS > 0","for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","float dotProduct = dot( transformedNormal, dirVector );","vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += directionalLightColor[ i ] * directionalLightWeighting;","#ifdef DOUBLE_SIDED","vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;","#endif","}","#endif","#if MAX_POINT_LIGHTS > 0","for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","float dotProduct = dot( transformedNormal, lVector );","vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;","#ifdef DOUBLE_SIDED","vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;","#endif","}","#endif","#if MAX_SPOT_LIGHTS > 0","for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );","if ( spotEffect > spotLightAngleCos[ i ] ) {","spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","float dotProduct = dot( transformedNormal, lVector );","vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;","#ifdef DOUBLE_SIDED","vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;","#endif","}","}","#endif","#if MAX_HEMI_LIGHTS > 0","for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","vec3 lVector = normalize( lDirection.xyz );","float dotProduct = dot( transformedNormal, lVector );","float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;","vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","#ifdef DOUBLE_SIDED","vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );","#endif","}","#endif","vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;","#ifdef DOUBLE_SIDED","vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;","#endif"].join("\n"),lights_phong_pars_vertex:["#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )","varying vec3 vWorldPosition;","#endif"].join("\n"),lights_phong_vertex:["#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )","vWorldPosition = worldPosition.xyz;","#endif"].join("\n"),lights_phong_pars_fragment:["uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )","varying vec3 vWorldPosition;","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif","varying vec3 vViewPosition;","varying vec3 vNormal;"].join("\n"),lights_phong_fragment:["vec3 normal = normalize( vNormal );","vec3 viewPosition = normalize( vViewPosition );","#ifdef DOUBLE_SIDED","normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );","#endif","#ifdef USE_NORMALMAP","normal = perturbNormal2Arb( -vViewPosition, normal );","#elif defined( USE_BUMPMAP )","normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );","#endif","#if MAX_POINT_LIGHTS > 0","vec3 pointDiffuse  = vec3( 0.0 );","vec3 pointSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz + vViewPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","float dotProduct = dot( normal, lVector );","#ifdef WRAP_AROUND","float pointDiffuseWeightFull = max( dotProduct, 0.0 );","float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","#else","float pointDiffuseWeight = max( dotProduct, 0.0 );","#endif","pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;","vec3 pointHalfVector = normalize( lVector + viewPosition );","float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );","pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;","}","#endif","#if MAX_SPOT_LIGHTS > 0","vec3 spotDiffuse  = vec3( 0.0 );","vec3 spotSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz + vViewPosition.xyz;","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","if ( spotEffect > spotLightAngleCos[ i ] ) {","spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","float dotProduct = dot( normal, lVector );","#ifdef WRAP_AROUND","float spotDiffuseWeightFull = max( dotProduct, 0.0 );","float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","#else","float spotDiffuseWeight = max( dotProduct, 0.0 );","#endif","spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;","vec3 spotHalfVector = normalize( lVector + viewPosition );","float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );","spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;","}","}","#endif","#if MAX_DIR_LIGHTS > 0","vec3 dirDiffuse  = vec3( 0.0 );","vec3 dirSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, dirVector );","#ifdef WRAP_AROUND","float dirDiffuseWeightFull = max( dotProduct, 0.0 );","float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );","#else","float dirDiffuseWeight = max( dotProduct, 0.0 );","#endif","dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;","vec3 dirHalfVector = normalize( dirVector + viewPosition );","float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );","dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","}","#endif","#if MAX_HEMI_LIGHTS > 0","vec3 hemiDiffuse  = vec3( 0.0 );","vec3 hemiSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","vec3 lVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, lVector );","float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","hemiDiffuse += diffuse * hemiColor;","vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );","vec3 lVectorGround = -lVector;","vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );","float dotProductGround = dot( normal, lVectorGround );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );","vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );","hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","}","#endif","vec3 totalDiffuse = vec3( 0.0 );","vec3 totalSpecular = vec3( 0.0 );","#if MAX_DIR_LIGHTS > 0","totalDiffuse += dirDiffuse;","totalSpecular += dirSpecular;","#endif","#if MAX_HEMI_LIGHTS > 0","totalDiffuse += hemiDiffuse;","totalSpecular += hemiSpecular;","#endif","#if MAX_POINT_LIGHTS > 0","totalDiffuse += pointDiffuse;","totalSpecular += pointSpecular;","#endif","#if MAX_SPOT_LIGHTS > 0","totalDiffuse += spotDiffuse;","totalSpecular += spotSpecular;","#endif","#ifdef METAL","gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );","#else","gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","#endif"].join("\n"),color_pars_fragment:["#ifdef USE_COLOR","varying vec3 vColor;","#endif"].join("\n"),color_fragment:["#ifdef USE_COLOR","gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );","#endif"].join("\n"),color_pars_vertex:["#ifdef USE_COLOR","varying vec3 vColor;","#endif"].join("\n"),color_vertex:["#ifdef USE_COLOR","#ifdef GAMMA_INPUT","vColor = color * color;","#else","vColor = color;","#endif","#endif"].join("\n"),skinning_pars_vertex:["#ifdef USE_SKINNING","#ifdef BONE_TEXTURE","uniform sampler2D boneTexture;","uniform int boneTextureWidth;","uniform int boneTextureHeight;","mat4 getBoneMatrix( const in float i ) {","float j = i * 4.0;","float x = mod( j, float( boneTextureWidth ) );","float y = floor( j / float( boneTextureWidth ) );","float dx = 1.0 / float( boneTextureWidth );","float dy = 1.0 / float( boneTextureHeight );","y = dy * ( y + 0.5 );","vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );","vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );","vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );","vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );","mat4 bone = mat4( v1, v2, v3, v4 );","return bone;","}","#else","uniform mat4 boneGlobalMatrices[ MAX_BONES ];","mat4 getBoneMatrix( const in float i ) {","mat4 bone = boneGlobalMatrices[ int(i) ];","return bone;","}","#endif","#endif"].join("\n"),skinbase_vertex:["#ifdef USE_SKINNING","mat4 boneMatX = getBoneMatrix( skinIndex.x );","mat4 boneMatY = getBoneMatrix( skinIndex.y );","mat4 boneMatZ = getBoneMatrix( skinIndex.z );","mat4 boneMatW = getBoneMatrix( skinIndex.w );","#endif"].join("\n"),skinning_vertex:["#ifdef USE_SKINNING","#ifdef USE_MORPHTARGETS","vec4 skinVertex = vec4( morphed, 1.0 );","#else","vec4 skinVertex = vec4( position, 1.0 );","#endif","vec4 skinned  = boneMatX * skinVertex * skinWeight.x;","skinned      += boneMatY * skinVertex * skinWeight.y;","skinned      += boneMatZ * skinVertex * skinWeight.z;","skinned      += boneMatW * skinVertex * skinWeight.w;","#endif"].join("\n"),morphtarget_pars_vertex:["#ifdef USE_MORPHTARGETS","#ifndef USE_MORPHNORMALS","uniform float morphTargetInfluences[ 8 ];","#else","uniform float morphTargetInfluences[ 4 ];","#endif","#endif"].join("\n"),morphtarget_vertex:["#ifdef USE_MORPHTARGETS","vec3 morphed = vec3( 0.0 );","morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];","morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];","morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];","morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];","#ifndef USE_MORPHNORMALS","morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];","morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];","morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];","morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];","#endif","morphed += position;","#endif"].join("\n"),default_vertex:["vec4 mvPosition;","#ifdef USE_SKINNING","mvPosition = modelViewMatrix * skinned;","#endif","#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )","mvPosition = modelViewMatrix * vec4( morphed, 1.0 );","#endif","#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )","mvPosition = modelViewMatrix * vec4( position, 1.0 );","#endif","gl_Position = projectionMatrix * mvPosition;"].join("\n"),morphnormal_vertex:["#ifdef USE_MORPHNORMALS","vec3 morphedNormal = vec3( 0.0 );","morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];","morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];","morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];","morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];","morphedNormal += normal;","#endif"].join("\n"),skinnormal_vertex:["#ifdef USE_SKINNING","mat4 skinMatrix = skinWeight.x * boneMatX;","skinMatrix \t+= skinWeight.y * boneMatY;","#ifdef USE_MORPHNORMALS","vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );","#else","vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );","#endif","#endif"].join("\n"),defaultnormal_vertex:["vec3 objectNormal;","#ifdef USE_SKINNING","objectNormal = skinnedNormal.xyz;","#endif","#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )","objectNormal = morphedNormal;","#endif","#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )","objectNormal = normal;","#endif","#ifdef FLIP_SIDED","objectNormal = -objectNormal;","#endif","vec3 transformedNormal = normalMatrix * objectNormal;"].join("\n"),shadowmap_pars_fragment:["#ifdef USE_SHADOWMAP","uniform sampler2D shadowMap[ MAX_SHADOWS ];","uniform vec2 shadowMapSize[ MAX_SHADOWS ];","uniform float shadowDarkness[ MAX_SHADOWS ];","uniform float shadowBias[ MAX_SHADOWS ];","varying vec4 vShadowCoord[ MAX_SHADOWS ];","float unpackDepth( const in vec4 rgba_depth ) {","const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","float depth = dot( rgba_depth, bit_shift );","return depth;","}","#endif"].join("\n"),shadowmap_fragment:["#ifdef USE_SHADOWMAP","#ifdef SHADOWMAP_DEBUG","vec3 frustumColors[3];","frustumColors[0] = vec3( 1.0, 0.5, 0.0 );","frustumColors[1] = vec3( 0.0, 1.0, 0.8 );","frustumColors[2] = vec3( 0.0, 0.5, 1.0 );","#endif","#ifdef SHADOWMAP_CASCADE","int inFrustumCount = 0;","#endif","float fDepth;","vec3 shadowColor = vec3( 1.0 );","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;","bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );","bool inFrustum = all( inFrustumVec );","#ifdef SHADOWMAP_CASCADE","inFrustumCount += int( inFrustum );","bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );","#else","bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );","#endif","bool frustumTest = all( frustumTestVec );","if ( frustumTest ) {","shadowCoord.z += shadowBias[ i ];","#if defined( SHADOWMAP_TYPE_PCF )","float shadow = 0.0;","const float shadowDelta = 1.0 / 9.0;","float xPixelOffset = 1.0 / shadowMapSize[ i ].x;","float yPixelOffset = 1.0 / shadowMapSize[ i ].y;","float dx0 = -1.25 * xPixelOffset;","float dy0 = -1.25 * yPixelOffset;","float dx1 = 1.25 * xPixelOffset;","float dy1 = 1.25 * yPixelOffset;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );","#elif defined( SHADOWMAP_TYPE_PCF_SOFT )","float shadow = 0.0;","float xPixelOffset = 1.0 / shadowMapSize[ i ].x;","float yPixelOffset = 1.0 / shadowMapSize[ i ].y;","float dx0 = -1.0 * xPixelOffset;","float dy0 = -1.0 * yPixelOffset;","float dx1 = 1.0 * xPixelOffset;","float dy1 = 1.0 * yPixelOffset;","mat3 shadowKernel;","mat3 depthKernel;","depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );","depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );","depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );","depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );","depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );","depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );","depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );","depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );","depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );","vec3 shadowZ = vec3( shadowCoord.z );","shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));","shadowKernel[0] *= vec3(0.25);","shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));","shadowKernel[1] *= vec3(0.25);","shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));","shadowKernel[2] *= vec3(0.25);","vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );","shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );","shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );","vec4 shadowValues;","shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );","shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );","shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );","shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );","shadow = dot( shadowValues, vec4( 1.0 ) );","shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );","#else","vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );","float fDepth = unpackDepth( rgbaDepth );","if ( fDepth < shadowCoord.z )","shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );","#endif","}","#ifdef SHADOWMAP_DEBUG","#ifdef SHADOWMAP_CASCADE","if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];","#else","if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];","#endif","#endif","}","#ifdef GAMMA_OUTPUT","shadowColor *= shadowColor;","#endif","gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;","#endif"].join("\n"),shadowmap_pars_vertex:["#ifdef USE_SHADOWMAP","varying vec4 vShadowCoord[ MAX_SHADOWS ];","uniform mat4 shadowMatrix[ MAX_SHADOWS ];","#endif"].join("\n"),shadowmap_vertex:["#ifdef USE_SHADOWMAP","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","}","#endif"].join("\n"),alphatest_fragment:["#ifdef ALPHATEST","if ( gl_FragColor.a < ALPHATEST ) discard;","#endif"].join("\n"),linear_to_gamma_fragment:["#ifdef GAMMA_OUTPUT","gl_FragColor.xyz = sqrt( gl_FragColor.xyz );","#endif"].join("\n")},THREE.UniformsUtils={merge:function(e){var t,r,i,n={};for(t=0;t<e.length;t++)for(r in i=this.clone(e[t]))n[r]=i[r];return n},clone:function(e){var t,r,i,n={};for(t in e)for(r in n[t]={},e[t])(i=e[t][r])instanceof THREE.Color||i instanceof THREE.Vector2||i instanceof THREE.Vector3||i instanceof THREE.Vector4||i instanceof THREE.Matrix4||i instanceof THREE.Texture?n[t][r]=i.clone():i instanceof Array?n[t][r]=i.slice():n[t][r]=i;return n}},THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,"void main() {","gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","varying vec3 vLightBack;","#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","varying vec3 vLightBack;","#endif",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,"void main() {","gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,"#ifdef DOUBLE_SIDED","if ( gl_FrontFacing )","gl_FragColor.xyz *= vLightFront;","else","gl_FragColor.xyz *= vLightBack;","#else","gl_FragColor.xyz *= vLightFront;","#endif",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","varying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"vNormal = normalize( transformedNormal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,"vViewPosition = -mvPosition.xyz;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,"void main() {","gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","#ifdef USE_SIZEATTENUATION","gl_PointSize = size * ( scale / length( mvPosition.xyz ) );","#else","gl_PointSize = size;","#endif","gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {","gl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",THREE.ShaderChunk.color_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"vLineDistance = scale * lineDistance;","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,"void main() {","if ( mod( vLineDistance, totalSize ) > dashSize ) {","discard;","}","gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:["void main() {","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;","void main() {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float color = 1.0 - smoothstep( mNear, mFar, depth );","gl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk.morphtarget_pars_vertex,"void main() {","vNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;","void main() {","gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );","}"].join("\n")},normalmap:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new THREE.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},diffuse:{type:"c",value:new THREE.Color(16777215)},specular:{type:"c",value:new THREE.Color(1118481)},ambient:{type:"c",value:new THREE.Color(16777215)},shininess:{type:"f",value:30},opacity:{type:"f",value:1},useRefract:{type:"i",value:0},refractionRatio:{type:"f",value:.98},reflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new THREE.Vector2(0,0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;","uniform bool enableDiffuse;","uniform bool enableSpecular;","uniform bool enableAO;","uniform bool enableReflection;","uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tSpecular;","uniform sampler2D tAO;","uniform samplerCube tCube;","uniform vec2 uNormalScale;","uniform bool useRefract;","uniform float refractionRatio;","uniform float reflectivity;","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,"void main() {","gl_FragColor = vec4( vec3( 1.0 ), opacity );","vec3 specularTex = vec3( 1.0 );","vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;","normalTex.xy *= uNormalScale;","normalTex = normalize( normalTex );","if( enableDiffuse ) {","#ifdef GAMMA_INPUT","vec4 texelColor = texture2D( tDiffuse, vUv );","texelColor.xyz *= texelColor.xyz;","gl_FragColor = gl_FragColor * texelColor;","#else","gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );","#endif","}","if( enableAO ) {","#ifdef GAMMA_INPUT","vec4 aoColor = texture2D( tAO, vUv );","aoColor.xyz *= aoColor.xyz;","gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;","#else","gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;","#endif","}","if( enableSpecular )","specularTex = texture2D( tSpecular, vUv ).xyz;","mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );","vec3 finalNormal = tsb * normalTex;","#ifdef FLIP_SIDED","finalNormal = -finalNormal;","#endif","vec3 normal = normalize( finalNormal );","vec3 viewPosition = normalize( vViewPosition );","#if MAX_POINT_LIGHTS > 0","vec3 pointDiffuse = vec3( 0.0 );","vec3 pointSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 pointVector = lPosition.xyz + vViewPosition.xyz;","float pointDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );","pointVector = normalize( pointVector );","#ifdef WRAP_AROUND","float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );","float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );","vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","#else","float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );","#endif","pointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;","vec3 pointHalfVector = normalize( pointVector + viewPosition );","float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );","pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;","}","#endif","#if MAX_SPOT_LIGHTS > 0","vec3 spotDiffuse = vec3( 0.0 );","vec3 spotSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 spotVector = lPosition.xyz + vViewPosition.xyz;","float spotDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );","spotVector = normalize( spotVector );","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","if ( spotEffect > spotLightAngleCos[ i ] ) {","spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","#ifdef WRAP_AROUND","float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );","float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );","vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","#else","float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );","#endif","spotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;","vec3 spotHalfVector = normalize( spotVector + viewPosition );","float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );","spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;","}","}","#endif","#if MAX_DIR_LIGHTS > 0","vec3 dirDiffuse = vec3( 0.0 );","vec3 dirSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","#ifdef WRAP_AROUND","float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );","float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );","vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );","#else","float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );","#endif","dirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;","vec3 dirHalfVector = normalize( dirVector + viewPosition );","float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );","dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","}","#endif","#if MAX_HEMI_LIGHTS > 0","vec3 hemiDiffuse  = vec3( 0.0 );","vec3 hemiSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","vec3 lVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, lVector );","float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","hemiDiffuse += diffuse * hemiColor;","vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","float hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );","vec3 lVectorGround = -lVector;","vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","float hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );","float dotProductGround = dot( normal, lVectorGround );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );","vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );","hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","}","#endif","vec3 totalDiffuse = vec3( 0.0 );","vec3 totalSpecular = vec3( 0.0 );","#if MAX_DIR_LIGHTS > 0","totalDiffuse += dirDiffuse;","totalSpecular += dirSpecular;","#endif","#if MAX_HEMI_LIGHTS > 0","totalDiffuse += hemiDiffuse;","totalSpecular += hemiSpecular;","#endif","#if MAX_POINT_LIGHTS > 0","totalDiffuse += pointDiffuse;","totalSpecular += pointSpecular;","#endif","#if MAX_SPOT_LIGHTS > 0","totalDiffuse += spotDiffuse;","totalSpecular += spotSpecular;","#endif","#ifdef METAL","gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );","#else","gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","#endif","if ( enableReflection ) {","vec3 vReflect;","vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","if ( useRefract ) {","vReflect = refract( cameraToVertex, normal, refractionRatio );","} else {","vReflect = reflect( cameraToVertex, normal );","}","vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","#ifdef GAMMA_INPUT","cubeColor.xyz *= cubeColor.xyz;","#endif","gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );","}",THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;","uniform vec2 uOffset;","uniform vec2 uRepeat;","uniform bool enableDisplacement;","#ifdef VERTEX_TEXTURES","uniform sampler2D tDisplacement;","uniform float uDisplacementScale;","uniform float uDisplacementBias;","#endif","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,"#ifdef USE_SKINNING","vNormal = normalize( normalMatrix * skinnedNormal.xyz );","vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );","vTangent = normalize( normalMatrix * skinnedTangent.xyz );","#else","vNormal = normalize( normalMatrix * normal );","vTangent = normalize( normalMatrix * tangent.xyz );","#endif","vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );","vUv = uv * uRepeat + uOffset;","vec3 displacedPosition;","#ifdef VERTEX_TEXTURES","if ( enableDisplacement ) {","vec3 dv = texture2D( tDisplacement, uv ).xyz;","float df = uDisplacementScale * dv.x + uDisplacementBias;","displacedPosition = position + normalize( normal ) * df;","} else {","#ifdef USE_SKINNING","vec4 skinVertex = vec4( position, 1.0 );","vec4 skinned  = boneMatX * skinVertex * skinWeight.x;","skinned \t  += boneMatY * skinVertex * skinWeight.y;","displacedPosition  = skinned.xyz;","#else","displacedPosition = position;","#endif","}","#else","#ifdef USE_SKINNING","vec4 skinVertex = vec4( position, 1.0 );","vec4 skinned  = boneMatX * skinVertex * skinWeight.x;","skinned \t  += boneMatY * skinVertex * skinWeight.y;","displacedPosition  = skinned.xyz;","#else","displacedPosition = position;","#endif","#endif","vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );","vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );","gl_Position = projectionMatrix * mvPosition;","vWorldPosition = worldPosition.xyz;","vViewPosition = -mvPosition.xyz;","#ifdef USE_SHADOWMAP","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","}","#endif","}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;","void main() {","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","vWorldPosition = worldPosition.xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;","void main() {","gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );","}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,"}"].join("\n"),fragmentShader:["vec4 pack_depth( const in float depth ) {","const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","vec4 res = fract( depth * bit_shift );","res -= res.xxyz * bit_mask;","return res;","}","void main() {","gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","}"].join("\n")}},THREE.WebGLRenderer=function(e){console.log("THREE.WebGLRenderer",THREE.REVISION);var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElement("canvas"),r=void 0!==e.context?e.context:null,i=void 0!==e.precision?e.precision:"highp",n=void 0!==e.alpha&&e.alpha,o=void 0===e.premultipliedAlpha||e.premultipliedAlpha,a=void 0!==e.antialias&&e.antialias,s=void 0===e.stencil||e.stencil,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=new THREE.Color(0),c=0;this.domElement=t,this.context=null,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.gammaInput=!1,this.gammaOutput=!1,this.shadowMapEnabled=!1,this.shadowMapAutoUpdate=!0,this.shadowMapType=THREE.PCFShadowMap,this.shadowMapCullFace=THREE.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.renderPluginsPre=[],this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var h,f,d,p,m,E=this,v=[],b=0,y=null,g=null,_=-1,T=null,w=null,R=0,x=-1,S=-1,M=-1,H=-1,A=-1,C=-1,P=-1,F=-1,D=null,k=null,L=null,B=null,O=0,N=0,I=t.width,V=t.height,U=0,z=0,G=new Uint8Array(16),W=new THREE.Frustum,j=new THREE.Matrix4,J=new THREE.Matrix4,X=new THREE.Vector3,q=new THREE.Vector3,Y=!0,K={ambient:[0,0,0],directional:{length:0,colors:new Array,positions:new Array},point:{length:0,colors:new Array,positions:new Array,distances:new Array},spot:{length:0,colors:new Array,positions:new Array,distances:new Array,directions:new Array,anglesCos:new Array,exponents:new Array},hemi:{length:0,skyColors:new Array,groundColors:new Array,positions:new Array}};!function(){try{var e={alpha:n,premultipliedAlpha:o,antialias:a,stencil:s,preserveDrawingBuffer:l};if(null===(h=r||t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw"Error creating WebGL context."}catch(e){console.error(e)}f=h.getExtension("OES_texture_float"),h.getExtension("OES_texture_float_linear"),d=h.getExtension("OES_standard_derivatives"),p=h.getExtension("EXT_texture_filter_anisotropic")||h.getExtension("MOZ_EXT_texture_filter_anisotropic")||h.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),m=h.getExtension("WEBGL_compressed_texture_s3tc")||h.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||h.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),f||console.log("THREE.WebGLRenderer: Float textures not supported.");d||console.log("THREE.WebGLRenderer: Standard derivatives not supported.");p||console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported.");m||console.log("THREE.WebGLRenderer: S3TC compressed textures not supported.");void 0===h.getShaderPrecisionFormat&&(h.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}(),h.clearColor(0,0,0,1),h.clearDepth(1),h.clearStencil(0),h.enable(h.DEPTH_TEST),h.depthFunc(h.LEQUAL),h.frontFace(h.CCW),h.cullFace(h.BACK),h.enable(h.CULL_FACE),h.enable(h.BLEND),h.blendEquation(h.FUNC_ADD),h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA),h.viewport(O,N,I,V),h.clearColor(u.r,u.g,u.b,c),this.context=h;var Z=h.getParameter(h.MAX_TEXTURE_IMAGE_UNITS),Q=h.getParameter(h.MAX_VERTEX_TEXTURE_IMAGE_UNITS),$=(h.getParameter(h.MAX_TEXTURE_SIZE),h.getParameter(h.MAX_CUBE_MAP_TEXTURE_SIZE)),ee=p?h.getParameter(p.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,te=Q>0,re=te&&f,ie=(m&&h.getParameter(h.COMPRESSED_TEXTURE_FORMATS),h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.HIGH_FLOAT)),ne=h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.MEDIUM_FLOAT),oe=(h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.LOW_FLOAT),h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.HIGH_FLOAT)),ae=h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.MEDIUM_FLOAT),se=(h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.LOW_FLOAT),h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.HIGH_INT),h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.MEDIUM_INT),h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.LOW_INT),h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.HIGH_INT),h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.MEDIUM_INT),h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.LOW_INT),ie.precision>0&&oe.precision>0),le=ne.precision>0&&ae.precision>0;function ue(e){var t,r;if(e.__webglVertexBuffer=h.createBuffer(),e.__webglNormalBuffer=h.createBuffer(),e.__webglTangentBuffer=h.createBuffer(),e.__webglColorBuffer=h.createBuffer(),e.__webglUVBuffer=h.createBuffer(),e.__webglUV2Buffer=h.createBuffer(),e.__webglSkinIndicesBuffer=h.createBuffer(),e.__webglSkinWeightsBuffer=h.createBuffer(),e.__webglFaceBuffer=h.createBuffer(),e.__webglLineBuffer=h.createBuffer(),e.numMorphTargets)for(e.__webglMorphTargetsBuffers=[],t=0,r=e.numMorphTargets;t<r;t++)e.__webglMorphTargetsBuffers.push(h.createBuffer());if(e.numMorphNormals)for(e.__webglMorphNormalsBuffers=[],t=0,r=e.numMorphNormals;t<r;t++)e.__webglMorphNormalsBuffers.push(h.createBuffer());E.info.memory.geometries++}"highp"!==i||se||(le?(i="mediump",console.warn("WebGLRenderer: highp not supported, using mediump")):(i="lowp",console.warn("WebGLRenderer: highp and mediump not supported, using lowp"))),"mediump"!==i||le||(i="lowp",console.warn("WebGLRenderer: mediump not supported, using lowp")),this.getContext=function(){return h},this.supportsVertexTextures=function(){return te},this.supportsFloatTextures=function(){return f},this.supportsStandardDerivatives=function(){return d},this.supportsCompressedTextureS3TC=function(){return m},this.getMaxAnisotropy=function(){return ee},this.getPrecision=function(){return i},this.setSize=function(e,r,i){t.width=e*this.devicePixelRatio,t.height=r*this.devicePixelRatio,1!==this.devicePixelRatio&&!1!==i&&(t.style.width=e+"px",t.style.height=r+"px"),this.setViewport(0,0,e,r)},this.setViewport=function(e,t,r,i){O=e*this.devicePixelRatio,N=t*this.devicePixelRatio,I=r*this.devicePixelRatio,V=i*this.devicePixelRatio,h.viewport(O,N,I,V)},this.setScissor=function(e,t,r,i){h.scissor(e*this.devicePixelRatio,t*this.devicePixelRatio,r*this.devicePixelRatio,i*this.devicePixelRatio)},this.enableScissorTest=function(e){e?h.enable(h.SCISSOR_TEST):h.disable(h.SCISSOR_TEST)},this.setClearColor=function(e,t){u.set(e),c=void 0!==t?t:1,h.clearColor(u.r,u.g,u.b,c)},this.setClearColorHex=function(e,t){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(e,t)},this.getClearColor=function(){return u},this.getClearAlpha=function(){return c},this.clear=function(e,t,r){var i=0;(void 0===e||e)&&(i|=h.COLOR_BUFFER_BIT),(void 0===t||t)&&(i|=h.DEPTH_BUFFER_BIT),(void 0===r||r)&&(i|=h.STENCIL_BUFFER_BIT),h.clear(i)},this.clearColor=function(){h.clear(h.COLOR_BUFFER_BIT)},this.clearDepth=function(){h.clear(h.DEPTH_BUFFER_BIT)},this.clearStencil=function(){h.clear(h.STENCIL_BUFFER_BIT)},this.clearTarget=function(e,t,r,i){this.setRenderTarget(e),this.clear(t,r,i)},this.addPostPlugin=function(e){e.init(this),this.renderPluginsPost.push(e)},this.addPrePlugin=function(e){e.init(this),this.renderPluginsPre.push(e)},this.updateShadowMap=function(e,t){y=null,M=-1,P=-1,F=-1,T=-1,_=-1,Y=!0,x=-1,S=-1,this.shadowMapPlugin.update(e,t)};var ce=function(e){var t=e.target;t.removeEventListener("dispose",ce),me(t)},he=function(e){var t=e.target;t.removeEventListener("dispose",he),Ee(t),E.info.memory.textures--},fe=function(e){var t=e.target;t.removeEventListener("dispose",fe),ve(t),E.info.memory.textures--},de=function(e){var t=e.target;t.removeEventListener("dispose",de),be(t)},pe=function(e){if(void 0!==e.__webglVertexBuffer&&h.deleteBuffer(e.__webglVertexBuffer),void 0!==e.__webglNormalBuffer&&h.deleteBuffer(e.__webglNormalBuffer),void 0!==e.__webglTangentBuffer&&h.deleteBuffer(e.__webglTangentBuffer),void 0!==e.__webglColorBuffer&&h.deleteBuffer(e.__webglColorBuffer),void 0!==e.__webglUVBuffer&&h.deleteBuffer(e.__webglUVBuffer),void 0!==e.__webglUV2Buffer&&h.deleteBuffer(e.__webglUV2Buffer),void 0!==e.__webglSkinIndicesBuffer&&h.deleteBuffer(e.__webglSkinIndicesBuffer),void 0!==e.__webglSkinWeightsBuffer&&h.deleteBuffer(e.__webglSkinWeightsBuffer),void 0!==e.__webglFaceBuffer&&h.deleteBuffer(e.__webglFaceBuffer),void 0!==e.__webglLineBuffer&&h.deleteBuffer(e.__webglLineBuffer),void 0!==e.__webglLineDistanceBuffer&&h.deleteBuffer(e.__webglLineDistanceBuffer),void 0!==e.__webglCustomAttributesList)for(var t in e.__webglCustomAttributesList)h.deleteBuffer(e.__webglCustomAttributesList[t].buffer);E.info.memory.geometries--},me=function(e){if(e.__webglInit=void 0,e instanceof THREE.BufferGeometry){var t=e.attributes;for(var r in t)void 0!==t[r].buffer&&h.deleteBuffer(t[r].buffer);E.info.memory.geometries--}else if(void 0!==e.geometryGroups)for(var i in e.geometryGroups){var n=e.geometryGroups[i];if(void 0!==n.numMorphTargets)for(var o=0,a=n.numMorphTargets;o<a;o++)h.deleteBuffer(n.__webglMorphTargetsBuffers[o]);if(void 0!==n.numMorphNormals)for(o=0,a=n.numMorphNormals;o<a;o++)h.deleteBuffer(n.__webglMorphNormalsBuffers[o]);pe(n)}else pe(e)},Ee=function(e){if(e.image&&e.image.__webglTextureCube)h.deleteTexture(e.image.__webglTextureCube);else{if(!e.__webglInit)return;e.__webglInit=!1,h.deleteTexture(e.__webglTexture)}},ve=function(e){if(e&&e.__webglTexture)if(h.deleteTexture(e.__webglTexture),e instanceof THREE.WebGLRenderTargetCube)for(var t=0;t<6;t++)h.deleteFramebuffer(e.__webglFramebuffer[t]),h.deleteRenderbuffer(e.__webglRenderbuffer[t]);else h.deleteFramebuffer(e.__webglFramebuffer),h.deleteRenderbuffer(e.__webglRenderbuffer)},be=function(e){var t=e.program;if(void 0!==t){var r,i,n;e.program=void 0;var o=!1;for(r=0,i=v.length;r<i;r++)if((n=v[r]).program===t){n.usedTimes--,0===n.usedTimes&&(o=!0);break}if(!0===o){var a=[];for(r=0,i=v.length;r<i;r++)(n=v[r]).program!==t&&a.push(n);v=a,h.deleteProgram(t),E.info.memory.programs--}}};function ye(e,t){var r=e.vertices.length,i=t.material;if(i.attributes)for(var n in void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]),i.attributes){var o=i.attributes[n];if(!o.__webglInitialized||o.createUniqueBuffers){o.__webglInitialized=!0;var a=1;"v2"===o.type?a=2:"v3"===o.type?a=3:"v4"===o.type?a=4:"c"===o.type&&(a=3),o.size=a,o.array=new Float32Array(r*a),o.buffer=h.createBuffer(),o.buffer.belongsToAttribute=n,o.needsUpdate=!0}e.__webglCustomAttributesList.push(o)}}function ge(e,t){var r,i,n=t.geometry,o=e.faces3,a=3*o.length,s=1*o.length,l=3*o.length,u=_e(t,e),c=Re(u),f=Te(u),d=we(u);if(e.__vertexArray=new Float32Array(3*a),f&&(e.__normalArray=new Float32Array(3*a)),n.hasTangents&&(e.__tangentArray=new Float32Array(4*a)),d&&(e.__colorArray=new Float32Array(3*a)),c&&(n.faceVertexUvs.length>0&&(e.__uvArray=new Float32Array(2*a)),n.faceVertexUvs.length>1&&(e.__uv2Array=new Float32Array(2*a))),t.geometry.skinWeights.length&&t.geometry.skinIndices.length&&(e.__skinIndexArray=new Float32Array(4*a),e.__skinWeightArray=new Float32Array(4*a)),e.__faceArray=new Uint16Array(3*s),e.__lineArray=new Uint16Array(2*l),e.numMorphTargets)for(e.__morphTargetsArrays=[],r=0,i=e.numMorphTargets;r<i;r++)e.__morphTargetsArrays.push(new Float32Array(3*a));if(e.numMorphNormals)for(e.__morphNormalsArrays=[],r=0,i=e.numMorphNormals;r<i;r++)e.__morphNormalsArrays.push(new Float32Array(3*a));if(e.__webglFaceCount=3*s,e.__webglLineCount=2*l,u.attributes)for(var p in void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]),u.attributes){var m=u.attributes[p],E={};for(var v in m)E[v]=m[v];if(!E.__webglInitialized||E.createUniqueBuffers){E.__webglInitialized=!0;var b=1;"v2"===E.type?b=2:"v3"===E.type?b=3:"v4"===E.type?b=4:"c"===E.type&&(b=3),E.size=b,E.array=new Float32Array(a*b),E.buffer=h.createBuffer(),E.buffer.belongsToAttribute=p,m.needsUpdate=!0,E.__original=m}e.__webglCustomAttributesList.push(E)}e.__inittedArrays=!0}function _e(e,t){return e.material instanceof THREE.MeshFaceMaterial?e.material.materials[t.materialIndex]:e.material}function Te(e){return!(e instanceof THREE.MeshBasicMaterial&&!e.envMap||e instanceof THREE.MeshDepthMaterial)&&(function(e){return e&&void 0!==e.shading&&e.shading===THREE.SmoothShading}(e)?THREE.SmoothShading:THREE.FlatShading)}function we(e){return!!e.vertexColors&&e.vertexColors}function Re(e){return!!(e.map||e.lightMap||e.bumpMap||e.normalMap||e.specularMap||e instanceof THREE.ShaderMaterial)}function xe(e,t,r,i,n){if(e.__inittedArrays){var o,a,s,l,u,c,f,d,p,m,E,v,b,y,g,_,T,w,R,x,S,M,H,A,C,P,F,D,k,L,B,O,N,I,V,U,z,G,W,j,J,X=Te(n),q=we(n),Y=Re(n),K=X===THREE.SmoothShading,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,le=0,ue=e.__vertexArray,ce=e.__uvArray,he=e.__uv2Array,fe=e.__normalArray,de=e.__tangentArray,pe=e.__colorArray,me=e.__skinIndexArray,Ee=e.__skinWeightArray,ve=e.__morphTargetsArrays,be=e.__morphNormalsArrays,ye=e.__webglCustomAttributesList,ge=e.__faceArray,_e=e.__lineArray,xe=t.geometry,Se=xe.verticesNeedUpdate,Me=xe.elementsNeedUpdate,He=xe.uvsNeedUpdate,Ae=xe.normalsNeedUpdate,Ce=xe.tangentsNeedUpdate,Pe=xe.colorsNeedUpdate,Fe=xe.morphTargetsNeedUpdate,De=xe.vertices,ke=e.faces3,Le=xe.faces,Be=xe.faceVertexUvs[0],Oe=xe.faceVertexUvs[1],Ne=(xe.colors,xe.skinIndices),Ie=xe.skinWeights,Ve=xe.morphTargets,Ue=xe.morphNormals;if(Se){for(o=0,a=ke.length;o<a;o++)E=De[(s=Le[ke[o]]).a],v=De[s.b],b=De[s.c],ue[Q]=E.x,ue[Q+1]=E.y,ue[Q+2]=E.z,ue[Q+3]=v.x,ue[Q+4]=v.y,ue[Q+5]=v.z,ue[Q+6]=b.x,ue[Q+7]=b.y,ue[Q+8]=b.z,Q+=9;h.bindBuffer(h.ARRAY_BUFFER,e.__webglVertexBuffer),h.bufferData(h.ARRAY_BUFFER,ue,r)}if(Fe)for(I=0,V=Ve.length;I<V;I++){for(se=0,o=0,a=ke.length;o<a;o++)s=Le[G=ke[o]],E=Ve[I].vertices[s.a],v=Ve[I].vertices[s.b],b=Ve[I].vertices[s.c],(U=ve[I])[se]=E.x,U[se+1]=E.y,U[se+2]=E.z,U[se+3]=v.x,U[se+4]=v.y,U[se+5]=v.z,U[se+6]=b.x,U[se+7]=b.y,U[se+8]=b.z,n.morphNormals&&(K?(T=(W=Ue[I].vertexNormals[G]).a,w=W.b,R=W.c):(w=T=Ue[I].faceNormals[G],R=T),(z=be[I])[se]=T.x,z[se+1]=T.y,z[se+2]=T.z,z[se+3]=w.x,z[se+4]=w.y,z[se+5]=w.z,z[se+6]=R.x,z[se+7]=R.y,z[se+8]=R.z),se+=9;h.bindBuffer(h.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[I]),h.bufferData(h.ARRAY_BUFFER,ve[I],r),n.morphNormals&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[I]),h.bufferData(h.ARRAY_BUFFER,be[I],r))}if(Ie.length){for(o=0,a=ke.length;o<a;o++)H=Ie[(s=Le[ke[o]]).a],A=Ie[s.b],C=Ie[s.c],Ee[ae]=H.x,Ee[ae+1]=H.y,Ee[ae+2]=H.z,Ee[ae+3]=H.w,Ee[ae+4]=A.x,Ee[ae+5]=A.y,Ee[ae+6]=A.z,Ee[ae+7]=A.w,Ee[ae+8]=C.x,Ee[ae+9]=C.y,Ee[ae+10]=C.z,Ee[ae+11]=C.w,P=Ne[s.a],F=Ne[s.b],D=Ne[s.c],me[ae]=P.x,me[ae+1]=P.y,me[ae+2]=P.z,me[ae+3]=P.w,me[ae+4]=F.x,me[ae+5]=F.y,me[ae+6]=F.z,me[ae+7]=F.w,me[ae+8]=D.x,me[ae+9]=D.y,me[ae+10]=D.z,me[ae+11]=D.w,ae+=12;ae>0&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglSkinIndicesBuffer),h.bufferData(h.ARRAY_BUFFER,me,r),h.bindBuffer(h.ARRAY_BUFFER,e.__webglSkinWeightsBuffer),h.bufferData(h.ARRAY_BUFFER,Ee,r))}if(Pe&&q){for(o=0,a=ke.length;o<a;o++)c=(s=Le[ke[o]]).vertexColors,f=s.color,3===c.length&&q===THREE.VertexColors?(x=c[0],S=c[1],M=c[2]):(x=f,S=f,M=f),pe[oe]=x.r,pe[oe+1]=x.g,pe[oe+2]=x.b,pe[oe+3]=S.r,pe[oe+4]=S.g,pe[oe+5]=S.b,pe[oe+6]=M.r,pe[oe+7]=M.g,pe[oe+8]=M.b,oe+=9;oe>0&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglColorBuffer),h.bufferData(h.ARRAY_BUFFER,pe,r))}if(Ce&&xe.hasTangents){for(o=0,a=ke.length;o<a;o++)y=(d=(s=Le[ke[o]]).vertexTangents)[0],g=d[1],_=d[2],de[ie]=y.x,de[ie+1]=y.y,de[ie+2]=y.z,de[ie+3]=y.w,de[ie+4]=g.x,de[ie+5]=g.y,de[ie+6]=g.z,de[ie+7]=g.w,de[ie+8]=_.x,de[ie+9]=_.y,de[ie+10]=_.z,de[ie+11]=_.w,ie+=12;h.bindBuffer(h.ARRAY_BUFFER,e.__webglTangentBuffer),h.bufferData(h.ARRAY_BUFFER,de,r)}if(Ae&&X){for(o=0,a=ke.length;o<a;o++)if(l=(s=Le[ke[o]]).vertexNormals,u=s.normal,3===l.length&&K)for(k=0;k<3;k++)B=l[k],fe[re]=B.x,fe[re+1]=B.y,fe[re+2]=B.z,re+=3;else for(k=0;k<3;k++)fe[re]=u.x,fe[re+1]=u.y,fe[re+2]=u.z,re+=3;h.bindBuffer(h.ARRAY_BUFFER,e.__webglNormalBuffer),h.bufferData(h.ARRAY_BUFFER,fe,r)}if(He&&Be&&Y){for(o=0,a=ke.length;o<a;o++)if(void 0!==(p=Be[ke[o]]))for(k=0;k<3;k++)O=p[k],ce[$]=O.x,ce[$+1]=O.y,$+=2;$>0&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglUVBuffer),h.bufferData(h.ARRAY_BUFFER,ce,r))}if(He&&Oe&&Y){for(o=0,a=ke.length;o<a;o++)if(void 0!==(m=Oe[ke[o]]))for(k=0;k<3;k++)N=m[k],he[ee]=N.x,he[ee+1]=N.y,ee+=2;ee>0&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglUV2Buffer),h.bufferData(h.ARRAY_BUFFER,he,r))}if(Me){for(o=0,a=ke.length;o<a;o++)ge[te]=Z,ge[te+1]=Z+1,ge[te+2]=Z+2,te+=3,_e[ne]=Z,_e[ne+1]=Z+1,_e[ne+2]=Z,_e[ne+3]=Z+2,_e[ne+4]=Z+1,_e[ne+5]=Z+2,ne+=6,Z+=3;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,ge,r),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,e.__webglLineBuffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,_e,r)}if(ye)for(k=0,L=ye.length;k<L;k++)if((J=ye[k]).__original.needsUpdate){if(le=0,0,1===J.size){if(void 0===J.boundTo||"vertices"===J.boundTo)for(o=0,a=ke.length;o<a;o++)s=Le[ke[o]],J.array[le]=J.value[s.a],J.array[le+1]=J.value[s.b],J.array[le+2]=J.value[s.c],le+=3;else if("faces"===J.boundTo)for(o=0,a=ke.length;o<a;o++)j=J.value[ke[o]],J.array[le]=j,J.array[le+1]=j,J.array[le+2]=j,le+=3}else if(2===J.size){if(void 0===J.boundTo||"vertices"===J.boundTo)for(o=0,a=ke.length;o<a;o++)s=Le[ke[o]],E=J.value[s.a],v=J.value[s.b],b=J.value[s.c],J.array[le]=E.x,J.array[le+1]=E.y,J.array[le+2]=v.x,J.array[le+3]=v.y,J.array[le+4]=b.x,J.array[le+5]=b.y,le+=6;else if("faces"===J.boundTo)for(o=0,a=ke.length;o<a;o++)E=j=J.value[ke[o]],v=j,b=j,J.array[le]=E.x,J.array[le+1]=E.y,J.array[le+2]=v.x,J.array[le+3]=v.y,J.array[le+4]=b.x,J.array[le+5]=b.y,le+=6}else if(3===J.size){var ze;if(ze="c"===J.type?["r","g","b"]:["x","y","z"],void 0===J.boundTo||"vertices"===J.boundTo)for(o=0,a=ke.length;o<a;o++)s=Le[ke[o]],E=J.value[s.a],v=J.value[s.b],b=J.value[s.c],J.array[le]=E[ze[0]],J.array[le+1]=E[ze[1]],J.array[le+2]=E[ze[2]],J.array[le+3]=v[ze[0]],J.array[le+4]=v[ze[1]],J.array[le+5]=v[ze[2]],J.array[le+6]=b[ze[0]],J.array[le+7]=b[ze[1]],J.array[le+8]=b[ze[2]],le+=9;else if("faces"===J.boundTo)for(o=0,a=ke.length;o<a;o++)E=j=J.value[ke[o]],v=j,b=j,J.array[le]=E[ze[0]],J.array[le+1]=E[ze[1]],J.array[le+2]=E[ze[2]],J.array[le+3]=v[ze[0]],J.array[le+4]=v[ze[1]],J.array[le+5]=v[ze[2]],J.array[le+6]=b[ze[0]],J.array[le+7]=b[ze[1]],J.array[le+8]=b[ze[2]],le+=9;else if("faceVertices"===J.boundTo)for(o=0,a=ke.length;o<a;o++)E=(j=J.value[ke[o]])[0],v=j[1],b=j[2],J.array[le]=E[ze[0]],J.array[le+1]=E[ze[1]],J.array[le+2]=E[ze[2]],J.array[le+3]=v[ze[0]],J.array[le+4]=v[ze[1]],J.array[le+5]=v[ze[2]],J.array[le+6]=b[ze[0]],J.array[le+7]=b[ze[1]],J.array[le+8]=b[ze[2]],le+=9}else if(4===J.size)if(void 0===J.boundTo||"vertices"===J.boundTo)for(o=0,a=ke.length;o<a;o++)s=Le[ke[o]],E=J.value[s.a],v=J.value[s.b],b=J.value[s.c],J.array[le]=E.x,J.array[le+1]=E.y,J.array[le+2]=E.z,J.array[le+3]=E.w,J.array[le+4]=v.x,J.array[le+5]=v.y,J.array[le+6]=v.z,J.array[le+7]=v.w,J.array[le+8]=b.x,J.array[le+9]=b.y,J.array[le+10]=b.z,J.array[le+11]=b.w,le+=12;else if("faces"===J.boundTo)for(o=0,a=ke.length;o<a;o++)E=j=J.value[ke[o]],v=j,b=j,J.array[le]=E.x,J.array[le+1]=E.y,J.array[le+2]=E.z,J.array[le+3]=E.w,J.array[le+4]=v.x,J.array[le+5]=v.y,J.array[le+6]=v.z,J.array[le+7]=v.w,J.array[le+8]=b.x,J.array[le+9]=b.y,J.array[le+10]=b.z,J.array[le+11]=b.w,le+=12;else if("faceVertices"===J.boundTo)for(o=0,a=ke.length;o<a;o++)E=(j=J.value[ke[o]])[0],v=j[1],b=j[2],J.array[le]=E.x,J.array[le+1]=E.y,J.array[le+2]=E.z,J.array[le+3]=E.w,J.array[le+4]=v.x,J.array[le+5]=v.y,J.array[le+6]=v.z,J.array[le+7]=v.w,J.array[le+8]=b.x,J.array[le+9]=b.y,J.array[le+10]=b.z,J.array[le+11]=b.w,le+=12;h.bindBuffer(h.ARRAY_BUFFER,J.buffer),h.bufferData(h.ARRAY_BUFFER,J.array,r)}i&&(delete e.__inittedArrays,delete e.__colorArray,delete e.__normalArray,delete e.__tangentArray,delete e.__uvArray,delete e.__uv2Array,delete e.__faceArray,delete e.__vertexArray,delete e.__lineArray,delete e.__skinIndexArray,delete e.__skinWeightArray)}}function Se(e,t,r,i){var n,o,a,s;for(o in t)a=t[o],n=r[o],a>=0&&(n?(s=n.itemSize,h.bindBuffer(h.ARRAY_BUFFER,n.buffer),Me(a),h.vertexAttribPointer(a,s,h.FLOAT,!1,0,i*s*4)):e.defaultAttributeValues&&(2===e.defaultAttributeValues[o].length?h.vertexAttrib2fv(a,e.defaultAttributeValues[o]):3===e.defaultAttributeValues[o].length&&h.vertexAttrib3fv(a,e.defaultAttributeValues[o])))}function Me(e){0===G[e]&&(h.enableVertexAttribArray(e),G[e]=1)}function He(){for(var e in G)1===G[e]&&(h.disableVertexAttribArray(e),G[e]=0)}function Ae(e,t){return e.z!==t.z?t.z-e.z:e.id-t.id}function Ce(e,t){return t[0]-e[0]}function Pe(e,t,r){if(e.length)for(var i=0,n=e.length;i<n;i++)y=null,w=null,M=-1,P=-1,F=-1,x=-1,S=-1,T=-1,_=-1,Y=!0,e[i].render(t,r,U,z),y=null,w=null,M=-1,P=-1,F=-1,x=-1,S=-1,T=-1,_=-1,Y=!0}function Fe(e,t,r,i,n,o,a,s){var l,u,c,h,f,d,p;t?(f=e.length-1,d=-1,p=-1):(f=0,d=e.length,p=1);for(var m=f;m!==d;m+=p)if((l=e[m]).render){if(u=l.object,c=l.buffer,s)h=s;else{if(!(h=l[r]))continue;a&&E.setBlending(h.blending,h.blendEquation,h.blendSrc,h.blendDst),E.setDepthTest(h.depthTest),E.setDepthWrite(h.depthWrite),Ze(h.polygonOffset,h.polygonOffsetFactor,h.polygonOffsetUnits)}E.setMaterialFaces(h),c instanceof THREE.BufferGeometry?E.renderBufferDirect(i,n,o,h,c,u):E.renderBuffer(i,n,o,h,c,u)}}function De(e,t,r,i,n,o,a){for(var s,l,u,c=0,h=e.length;c<h;c++)if((l=(s=e[c]).object).visible){if(a)u=a;else{if(!(u=s[t]))continue;o&&E.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst),E.setDepthTest(u.depthTest),E.setDepthWrite(u.depthWrite),Ze(u.polygonOffset,u.polygonOffsetFactor,u.polygonOffsetUnits)}E.renderImmediateObject(r,i,n,u,l)}}function ke(e){var t=e.object.material;t.transparent?(e.transparent=t,e.opaque=null):(e.opaque=t,e.transparent=null)}function Le(e){var t=e.object,r=e.buffer,i=t.geometry,n=t.material;if(n instanceof THREE.MeshFaceMaterial){var o=i instanceof THREE.BufferGeometry?0:r.materialIndex;(n=n.materials[o]).transparent?(e.transparent=n,e.opaque=null):(e.opaque=n,e.transparent=null)}else n&&(n.transparent?(e.transparent=n,e.opaque=null):(e.opaque=n,e.transparent=null))}function Be(e,t){var r,i,n,o;if(void 0===e.__webglInit)if(e.__webglInit=!0,e._modelViewMatrix=new THREE.Matrix4,e._normalMatrix=new THREE.Matrix3,void 0!==e.geometry&&void 0===e.geometry.__webglInit&&(e.geometry.__webglInit=!0,e.geometry.addEventListener("dispose",ce)),void 0===(i=e.geometry));else if(i instanceof THREE.BufferGeometry)!function(e){var t,r,i;for(t in e.attributes)i="index"===t?h.ELEMENT_ARRAY_BUFFER:h.ARRAY_BUFFER,(r=e.attributes[t]).buffer=h.createBuffer(),h.bindBuffer(i,r.buffer),h.bufferData(i,r.array,h.STATIC_DRAW)}(i);else if(e instanceof THREE.Mesh)for(r in n=e.material,void 0===i.geometryGroups&&i.makeGroups(n instanceof THREE.MeshFaceMaterial),i.geometryGroups)(o=i.geometryGroups[r]).__webglVertexBuffer||(ue(o),ge(o,e),i.verticesNeedUpdate=!0,i.morphTargetsNeedUpdate=!0,i.elementsNeedUpdate=!0,i.uvsNeedUpdate=!0,i.normalsNeedUpdate=!0,i.tangentsNeedUpdate=!0,i.colorsNeedUpdate=!0);else e instanceof THREE.Line?i.__webglVertexBuffer||(!function(e){e.__webglVertexBuffer=h.createBuffer(),e.__webglColorBuffer=h.createBuffer(),e.__webglLineDistanceBuffer=h.createBuffer(),E.info.memory.geometries++}(i),function(e,t){var r=e.vertices.length;e.__vertexArray=new Float32Array(3*r),e.__colorArray=new Float32Array(3*r),e.__lineDistanceArray=new Float32Array(1*r),e.__webglLineCount=r,ye(e,t)}(i,e),i.verticesNeedUpdate=!0,i.colorsNeedUpdate=!0,i.lineDistancesNeedUpdate=!0):e instanceof THREE.ParticleSystem&&(i.__webglVertexBuffer||(!function(e){e.__webglVertexBuffer=h.createBuffer(),e.__webglColorBuffer=h.createBuffer(),E.info.memory.geometries++}(i),function(e,t){var r=e.vertices.length;e.__vertexArray=new Float32Array(3*r),e.__colorArray=new Float32Array(3*r),e.__sortArray=[],e.__webglParticleCount=r,ye(e,t)}(i,e),i.verticesNeedUpdate=!0,i.colorsNeedUpdate=!0));if(void 0===e.__webglActive){if(e instanceof THREE.Mesh){if((i=e.geometry)instanceof THREE.BufferGeometry)Oe(t.__webglObjects,i,e);else if(i instanceof THREE.Geometry)for(r in i.geometryGroups)o=i.geometryGroups[r],Oe(t.__webglObjects,o,e)}else e instanceof THREE.Line||e instanceof THREE.ParticleSystem?(i=e.geometry,Oe(t.__webglObjects,i,e)):e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback?function(e,t){e.push({id:null,object:t,opaque:null,transparent:null,z:0})}(t.__webglObjectsImmediate,e):e instanceof THREE.Sprite?t.__webglSprites.push(e):e instanceof THREE.LensFlare&&t.__webglFlares.push(e);e.__webglActive=!0}}function Oe(e,t,r){e.push({id:null,buffer:t,object:r,opaque:null,transparent:null,z:0})}function Ne(e){var t,r,i,n=e.geometry;if(n instanceof THREE.BufferGeometry)!function(e,t){var r,i,n=e.attributes;for(r in n)(i=n[r]).needsUpdate&&("index"===r?(h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,i.buffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,i.array,t)):(h.bindBuffer(h.ARRAY_BUFFER,i.buffer),h.bufferData(h.ARRAY_BUFFER,i.array,t)),i.needsUpdate=!1)}(n,h.DYNAMIC_DRAW);else if(e instanceof THREE.Mesh){for(var o=0,a=n.geometryGroupsList.length;o<a;o++)i=_e(e,t=n.geometryGroupsList[o]),n.buffersNeedUpdate&&ge(t,e),r=i.attributes&&Ie(i),(n.verticesNeedUpdate||n.morphTargetsNeedUpdate||n.elementsNeedUpdate||n.uvsNeedUpdate||n.normalsNeedUpdate||n.colorsNeedUpdate||n.tangentsNeedUpdate||r)&&xe(t,e,h.DYNAMIC_DRAW,!n.dynamic,i);n.verticesNeedUpdate=!1,n.morphTargetsNeedUpdate=!1,n.elementsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.tangentsNeedUpdate=!1,n.buffersNeedUpdate=!1,i.attributes&&Ve(i)}else e instanceof THREE.Line?(r=(i=_e(e,n)).attributes&&Ie(i),(n.verticesNeedUpdate||n.colorsNeedUpdate||n.lineDistancesNeedUpdate||r)&&function(e,t){var r,i,n,o,a,s,l,u,c,f,d,p,m=e.vertices,E=e.colors,v=e.lineDistances,b=m.length,y=E.length,g=v.length,_=e.__vertexArray,T=e.__colorArray,w=e.__lineDistanceArray,R=e.verticesNeedUpdate,x=e.colorsNeedUpdate,S=e.lineDistancesNeedUpdate,M=e.__webglCustomAttributesList;if(R){for(r=0;r<b;r++)o=m[r],_[a=3*r]=o.x,_[a+1]=o.y,_[a+2]=o.z;h.bindBuffer(h.ARRAY_BUFFER,e.__webglVertexBuffer),h.bufferData(h.ARRAY_BUFFER,_,t)}if(x){for(i=0;i<y;i++)s=E[i],T[a=3*i]=s.r,T[a+1]=s.g,T[a+2]=s.b;h.bindBuffer(h.ARRAY_BUFFER,e.__webglColorBuffer),h.bufferData(h.ARRAY_BUFFER,T,t)}if(S){for(n=0;n<g;n++)w[n]=v[n];h.bindBuffer(h.ARRAY_BUFFER,e.__webglLineDistanceBuffer),h.bufferData(h.ARRAY_BUFFER,w,t)}if(M)for(l=0,u=M.length;l<u;l++)if((p=M[l]).needsUpdate&&(void 0===p.boundTo||"vertices"===p.boundTo)){if(a=0,f=p.value.length,1===p.size)for(c=0;c<f;c++)p.array[c]=p.value[c];else if(2===p.size)for(c=0;c<f;c++)d=p.value[c],p.array[a]=d.x,p.array[a+1]=d.y,a+=2;else if(3===p.size)if("c"===p.type)for(c=0;c<f;c++)d=p.value[c],p.array[a]=d.r,p.array[a+1]=d.g,p.array[a+2]=d.b,a+=3;else for(c=0;c<f;c++)d=p.value[c],p.array[a]=d.x,p.array[a+1]=d.y,p.array[a+2]=d.z,a+=3;else if(4===p.size)for(c=0;c<f;c++)d=p.value[c],p.array[a]=d.x,p.array[a+1]=d.y,p.array[a+2]=d.z,p.array[a+3]=d.w,a+=4;h.bindBuffer(h.ARRAY_BUFFER,p.buffer),h.bufferData(h.ARRAY_BUFFER,p.array,t)}}(n,h.DYNAMIC_DRAW),n.verticesNeedUpdate=!1,n.colorsNeedUpdate=!1,n.lineDistancesNeedUpdate=!1,i.attributes&&Ve(i)):e instanceof THREE.ParticleSystem&&(r=(i=_e(e,n)).attributes&&Ie(i),(n.verticesNeedUpdate||n.colorsNeedUpdate||e.sortParticles||r)&&function(e,t,r){var i,n,o,a,s,l,u,c,f,d,p,m,E=e.vertices,v=E.length,b=e.colors,y=b.length,g=e.__vertexArray,_=e.__colorArray,T=e.__sortArray,w=e.verticesNeedUpdate,R=(e.elementsNeedUpdate,e.colorsNeedUpdate),x=e.__webglCustomAttributesList;if(r.sortParticles){for(J.copy(j),J.multiply(r.matrixWorld),i=0;i<v;i++)o=E[i],X.copy(o),X.applyProjection(J),T[i]=[X.z,i];for(T.sort(Ce),i=0;i<v;i++)o=E[T[i][1]],g[a=3*i]=o.x,g[a+1]=o.y,g[a+2]=o.z;for(n=0;n<y;n++)a=3*n,l=b[T[n][1]],_[a]=l.r,_[a+1]=l.g,_[a+2]=l.b;if(x)for(u=0,c=x.length;u<c;u++)if(void 0===(m=x[u]).boundTo||"vertices"===m.boundTo)if(a=0,d=m.value.length,1===m.size)for(f=0;f<d;f++)s=T[f][1],m.array[f]=m.value[s];else if(2===m.size)for(f=0;f<d;f++)s=T[f][1],p=m.value[s],m.array[a]=p.x,m.array[a+1]=p.y,a+=2;else if(3===m.size)if("c"===m.type)for(f=0;f<d;f++)s=T[f][1],p=m.value[s],m.array[a]=p.r,m.array[a+1]=p.g,m.array[a+2]=p.b,a+=3;else for(f=0;f<d;f++)s=T[f][1],p=m.value[s],m.array[a]=p.x,m.array[a+1]=p.y,m.array[a+2]=p.z,a+=3;else if(4===m.size)for(f=0;f<d;f++)s=T[f][1],p=m.value[s],m.array[a]=p.x,m.array[a+1]=p.y,m.array[a+2]=p.z,m.array[a+3]=p.w,a+=4}else{if(w)for(i=0;i<v;i++)o=E[i],g[a=3*i]=o.x,g[a+1]=o.y,g[a+2]=o.z;if(R)for(n=0;n<y;n++)l=b[n],_[a=3*n]=l.r,_[a+1]=l.g,_[a+2]=l.b;if(x)for(u=0,c=x.length;u<c;u++)if((m=x[u]).needsUpdate&&(void 0===m.boundTo||"vertices"===m.boundTo))if(d=m.value.length,a=0,1===m.size)for(f=0;f<d;f++)m.array[f]=m.value[f];else if(2===m.size)for(f=0;f<d;f++)p=m.value[f],m.array[a]=p.x,m.array[a+1]=p.y,a+=2;else if(3===m.size)if("c"===m.type)for(f=0;f<d;f++)p=m.value[f],m.array[a]=p.r,m.array[a+1]=p.g,m.array[a+2]=p.b,a+=3;else for(f=0;f<d;f++)p=m.value[f],m.array[a]=p.x,m.array[a+1]=p.y,m.array[a+2]=p.z,a+=3;else if(4===m.size)for(f=0;f<d;f++)p=m.value[f],m.array[a]=p.x,m.array[a+1]=p.y,m.array[a+2]=p.z,m.array[a+3]=p.w,a+=4}if((w||r.sortParticles)&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglVertexBuffer),h.bufferData(h.ARRAY_BUFFER,g,t)),(R||r.sortParticles)&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglColorBuffer),h.bufferData(h.ARRAY_BUFFER,_,t)),x)for(u=0,c=x.length;u<c;u++)((m=x[u]).needsUpdate||r.sortParticles)&&(h.bindBuffer(h.ARRAY_BUFFER,m.buffer),h.bufferData(h.ARRAY_BUFFER,m.array,t))}(n,h.DYNAMIC_DRAW,e),n.verticesNeedUpdate=!1,n.colorsNeedUpdate=!1,i.attributes&&Ve(i))}function Ie(e){for(var t in e.attributes)if(e.attributes[t].needsUpdate)return!0;return!1}function Ve(e){for(var t in e.attributes)e.attributes[t].needsUpdate=!1}function Ue(e,t){e instanceof THREE.Mesh||e instanceof THREE.ParticleSystem||e instanceof THREE.Line?ze(t.__webglObjects,e):e instanceof THREE.Sprite?Ge(t.__webglSprites,e):e instanceof THREE.LensFlare?Ge(t.__webglFlares,e):(e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback)&&ze(t.__webglObjectsImmediate,e),delete e.__webglActive}function ze(e,t){for(var r=e.length-1;r>=0;r--)e[r].object===t&&e.splice(r,1)}function Ge(e,t){for(var r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)}function We(e,r,i,n,o){R=0,n.needsUpdate&&(n.program&&be(n),E.initMaterial(n,r,i,o),n.needsUpdate=!1),n.morphTargets&&(o.__webglMorphTargetInfluences||(o.__webglMorphTargetInfluences=new Float32Array(E.maxMorphTargets)));var a=!1,s=n.program,l=s.uniforms,u=n.uniforms;if(s!==y&&(h.useProgram(s),y=s,a=!0),n.id!==_&&(_=n.id,a=!0),(a||e!==w)&&(h.uniformMatrix4fv(l.projectionMatrix,!1,e.projectionMatrix.elements),e!==w&&(w=e)),n.skinning)if(re&&o.useVertexTexture){if(null!==l.boneTexture){var c=Je();h.uniform1i(l.boneTexture,c),E.setTexture(o.boneTexture,c)}null!==l.boneTextureWidth&&h.uniform1i(l.boneTextureWidth,o.boneTextureWidth),null!==l.boneTextureHeight&&h.uniform1i(l.boneTextureHeight,o.boneTextureHeight)}else null!==l.boneGlobalMatrices&&h.uniformMatrix4fv(l.boneGlobalMatrices,!1,o.boneMatrices);return a&&(i&&n.fog&&function(e,t){e.fogColor.value=t.color,t instanceof THREE.Fog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t instanceof THREE.FogExp2&&(e.fogDensity.value=t.density)}(u,i),(n instanceof THREE.MeshPhongMaterial||n instanceof THREE.MeshLambertMaterial||n.lights)&&(Y&&(!function(e,t){var r,i,n,o,a,s,l,u,c,h=0,f=0,d=0,p=K,m=p.directional.colors,v=p.directional.positions,b=p.point.colors,y=p.point.positions,g=p.point.distances,_=p.spot.colors,T=p.spot.positions,w=p.spot.distances,R=p.spot.directions,x=p.spot.anglesCos,S=p.spot.exponents,M=p.hemi.skyColors,H=p.hemi.groundColors,A=p.hemi.positions,C=0,P=0,F=0,D=0,k=0,L=0,B=0,O=0,N=0,I=0,V=0,U=0;for(r=0,i=t.length;r<i;r++)if(!(n=t[r]).onlyShadow)if(o=n.color,l=n.intensity,c=n.distance,n instanceof THREE.AmbientLight){if(!n.visible)continue;E.gammaInput?(h+=o.r*o.r,f+=o.g*o.g,d+=o.b*o.b):(h+=o.r,f+=o.g,d+=o.b)}else if(n instanceof THREE.DirectionalLight){if(k+=1,!n.visible)continue;if(q.setFromMatrixPosition(n.matrixWorld),X.setFromMatrixPosition(n.target.matrixWorld),q.sub(X),q.normalize(),0===q.x&&0===q.y&&0===q.z)continue;v[N=3*C]=q.x,v[N+1]=q.y,v[N+2]=q.z,E.gammaInput?qe(m,N,o,l*l):Ye(m,N,o,l),C+=1}else if(n instanceof THREE.PointLight){if(L+=1,!n.visible)continue;I=3*P,E.gammaInput?qe(b,I,o,l*l):Ye(b,I,o,l),X.setFromMatrixPosition(n.matrixWorld),y[I]=X.x,y[I+1]=X.y,y[I+2]=X.z,g[P]=c,P+=1}else if(n instanceof THREE.SpotLight){if(B+=1,!n.visible)continue;V=3*F,E.gammaInput?qe(_,V,o,l*l):Ye(_,V,o,l),X.setFromMatrixPosition(n.matrixWorld),T[V]=X.x,T[V+1]=X.y,T[V+2]=X.z,w[F]=c,q.copy(X),X.setFromMatrixPosition(n.target.matrixWorld),q.sub(X),q.normalize(),R[V]=q.x,R[V+1]=q.y,R[V+2]=q.z,x[F]=Math.cos(n.angle),S[F]=n.exponent,F+=1}else if(n instanceof THREE.HemisphereLight){if(O+=1,!n.visible)continue;if(q.setFromMatrixPosition(n.matrixWorld),q.normalize(),0===q.x&&0===q.y&&0===q.z)continue;A[U=3*D]=q.x,A[U+1]=q.y,A[U+2]=q.z,a=n.color,s=n.groundColor,E.gammaInput?(qe(M,U,a,u=l*l),qe(H,U,s,u)):(Ye(M,U,a,l),Ye(H,U,s,l)),D+=1}for(r=3*C,i=Math.max(m.length,3*k);r<i;r++)m[r]=0;for(r=3*P,i=Math.max(b.length,3*L);r<i;r++)b[r]=0;for(r=3*F,i=Math.max(_.length,3*B);r<i;r++)_[r]=0;for(r=3*D,i=Math.max(M.length,3*O);r<i;r++)M[r]=0;for(r=3*D,i=Math.max(H.length,3*O);r<i;r++)H[r]=0;p.directional.length=C,p.point.length=P,p.spot.length=F,p.hemi.length=D,p.ambient[0]=h,p.ambient[1]=f,p.ambient[2]=d}(0,r),Y=!1),function(e,t){e.ambientLightColor.value=t.ambient,e.directionalLightColor.value=t.directional.colors,e.directionalLightDirection.value=t.directional.positions,e.pointLightColor.value=t.point.colors,e.pointLightPosition.value=t.point.positions,e.pointLightDistance.value=t.point.distances,e.spotLightColor.value=t.spot.colors,e.spotLightPosition.value=t.spot.positions,e.spotLightDistance.value=t.spot.distances,e.spotLightDirection.value=t.spot.directions,e.spotLightAngleCos.value=t.spot.anglesCos,e.spotLightExponent.value=t.spot.exponents,e.hemisphereLightSkyColor.value=t.hemi.skyColors,e.hemisphereLightGroundColor.value=t.hemi.groundColors,e.hemisphereLightDirection.value=t.hemi.positions}(u,K)),(n instanceof THREE.MeshBasicMaterial||n instanceof THREE.MeshLambertMaterial||n instanceof THREE.MeshPhongMaterial)&&function(e,t){e.opacity.value=t.opacity,E.gammaInput?e.diffuse.value.copyGammaToLinear(t.color):e.diffuse.value=t.color;e.map.value=t.map,e.lightMap.value=t.lightMap,e.specularMap.value=t.specularMap,t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale);t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));var r;t.map?r=t.map:t.specularMap?r=t.specularMap:t.normalMap?r=t.normalMap:t.bumpMap&&(r=t.bumpMap);if(void 0!==r){var i=r.offset,n=r.repeat;e.offsetRepeat.value.set(i.x,i.y,n.x,n.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,E.gammaInput,e.reflectivity.value=t.reflectivity;e.refractionRatio.value=t.refractionRatio,e.combine.value=t.combine,e.useRefract.value=t.envMap&&t.envMap.mapping instanceof THREE.CubeRefractionMapping}(u,n),n instanceof THREE.LineBasicMaterial?je(u,n):n instanceof THREE.LineDashedMaterial?(je(u,n),function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(u,n)):n instanceof THREE.ParticleSystemMaterial?function(e,r){e.psColor.value=r.color,e.opacity.value=r.opacity,e.size.value=r.size,e.scale.value=t.height/2,e.map.value=r.map}(u,n):n instanceof THREE.MeshPhongMaterial?function(e,t){e.shininess.value=t.shininess,E.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive),e.specular.value.copyGammaToLinear(t.specular)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive,e.specular.value=t.specular);t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}(u,n):n instanceof THREE.MeshLambertMaterial?function(e,t){E.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive);t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}(u,n):n instanceof THREE.MeshDepthMaterial?(u.mNear.value=e.near,u.mFar.value=e.far,u.opacity.value=n.opacity):n instanceof THREE.MeshNormalMaterial&&(u.opacity.value=n.opacity),o.receiveShadow&&!n._shadowPass&&function(e,t){if(e.shadowMatrix)for(var r=0,i=0,n=t.length;i<n;i++){var o=t[i];o.castShadow&&((o instanceof THREE.SpotLight||o instanceof THREE.DirectionalLight&&!o.shadowCascade)&&(e.shadowMap.value[r]=o.shadowMap,e.shadowMapSize.value[r]=o.shadowMapSize,e.shadowMatrix.value[r]=o.shadowMatrix,e.shadowDarkness.value[r]=o.shadowDarkness,e.shadowBias.value[r]=o.shadowBias,r++))}}(u,r),function(e,t){var r,i,n,o,a,s,l,u,c,f,d;for(c=0,f=t.length;c<f;c++)if(o=e.uniforms[t[c][1]])if(r=t[c][0],n=r.type,i=r.value,"i"===n)h.uniform1i(o,i);else if("f"===n)h.uniform1f(o,i);else if("v2"===n)h.uniform2f(o,i.x,i.y);else if("v3"===n)h.uniform3f(o,i.x,i.y,i.z);else if("v4"===n)h.uniform4f(o,i.x,i.y,i.z,i.w);else if("c"===n)h.uniform3f(o,i.r,i.g,i.b);else if("iv1"===n)h.uniform1iv(o,i);else if("iv"===n)h.uniform3iv(o,i);else if("fv1"===n)h.uniform1fv(o,i);else if("fv"===n)h.uniform3fv(o,i);else if("v2v"===n){for(void 0===r._array&&(r._array=new Float32Array(2*i.length)),l=0,u=i.length;l<u;l++)d=2*l,r._array[d]=i[l].x,r._array[d+1]=i[l].y;h.uniform2fv(o,r._array)}else if("v3v"===n){for(void 0===r._array&&(r._array=new Float32Array(3*i.length)),l=0,u=i.length;l<u;l++)d=3*l,r._array[d]=i[l].x,r._array[d+1]=i[l].y,r._array[d+2]=i[l].z;h.uniform3fv(o,r._array)}else if("v4v"===n){for(void 0===r._array&&(r._array=new Float32Array(4*i.length)),l=0,u=i.length;l<u;l++)d=4*l,r._array[d]=i[l].x,r._array[d+1]=i[l].y,r._array[d+2]=i[l].z,r._array[d+3]=i[l].w;h.uniform4fv(o,r._array)}else if("m4"===n)void 0===r._array&&(r._array=new Float32Array(16)),i.flattenToArray(r._array),h.uniformMatrix4fv(o,!1,r._array);else if("m4v"===n){for(void 0===r._array&&(r._array=new Float32Array(16*i.length)),l=0,u=i.length;l<u;l++)i[l].flattenToArrayOffset(r._array,16*l);h.uniformMatrix4fv(o,!1,r._array)}else if("t"===n){if(a=i,s=Je(),h.uniform1i(o,s),!a)continue;a.image instanceof Array&&6===a.image.length?tt(a,s):a instanceof THREE.WebGLRenderTargetCube?rt(a,s):E.setTexture(a,s)}else if("tv"===n){for(void 0===r._array&&(r._array=[]),l=0,u=r.value.length;l<u;l++)r._array[l]=Je();for(h.uniform1iv(o,r._array),l=0,u=r.value.length;l<u;l++)a=r.value[l],s=r._array[l],a&&E.setTexture(a,s)}else console.warn("THREE.WebGLRenderer: Unknown uniform type: "+n)}(s,n.uniformsList),(n instanceof THREE.ShaderMaterial||n instanceof THREE.MeshPhongMaterial||n.envMap)&&null!==l.cameraPosition&&(X.setFromMatrixPosition(e.matrixWorld),h.uniform3f(l.cameraPosition,X.x,X.y,X.z)),(n instanceof THREE.MeshPhongMaterial||n instanceof THREE.MeshLambertMaterial||n instanceof THREE.ShaderMaterial||n.skinning)&&null!==l.viewMatrix&&h.uniformMatrix4fv(l.viewMatrix,!1,e.matrixWorldInverse.elements)),function(e,t){h.uniformMatrix4fv(e.modelViewMatrix,!1,t._modelViewMatrix.elements),e.normalMatrix&&h.uniformMatrix3fv(e.normalMatrix,!1,t._normalMatrix.elements)}(l,o),null!==l.modelMatrix&&h.uniformMatrix4fv(l.modelMatrix,!1,o.matrixWorld.elements),s}function je(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function Je(){var e=R;return e>=Z&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+Z),R+=1,e}function Xe(e,t){e._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),e._normalMatrix.getNormalMatrix(e._modelViewMatrix)}function qe(e,t,r,i){e[t]=r.r*r.r*i,e[t+1]=r.g*r.g*i,e[t+2]=r.b*r.b*i}function Ye(e,t,r,i){e[t]=r.r*i,e[t+1]=r.g*i,e[t+2]=r.b*i}function Ke(e){e!==B&&(h.lineWidth(e),B=e)}function Ze(e,t,r){D!==e&&(e?h.enable(h.POLYGON_OFFSET_FILL):h.disable(h.POLYGON_OFFSET_FILL),D=e),!e||k===t&&L===r||(h.polygonOffset(t,r),k=t,L=r)}function Qe(e,t){var r;return"fragment"===e?r=h.createShader(h.FRAGMENT_SHADER):"vertex"===e&&(r=h.createShader(h.VERTEX_SHADER)),h.shaderSource(r,t),h.compileShader(r),h.getShaderParameter(r,h.COMPILE_STATUS)?r:(console.error(h.getShaderInfoLog(r)),console.error(function(e){for(var t=e.split("\n"),r=0,i=t.length;r<i;r++)t[r]=r+1+": "+t[r];return t.join("\n")}(t)),null)}function $e(e,t,r){r?(h.texParameteri(e,h.TEXTURE_WRAP_S,at(t.wrapS)),h.texParameteri(e,h.TEXTURE_WRAP_T,at(t.wrapT)),h.texParameteri(e,h.TEXTURE_MAG_FILTER,at(t.magFilter)),h.texParameteri(e,h.TEXTURE_MIN_FILTER,at(t.minFilter))):(h.texParameteri(e,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(e,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(e,h.TEXTURE_MAG_FILTER,ot(t.magFilter)),h.texParameteri(e,h.TEXTURE_MIN_FILTER,ot(t.minFilter))),p&&t.type!==THREE.FloatType&&(t.anisotropy>1||t.__oldAnisotropy)&&(h.texParameterf(e,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,ee)),t.__oldAnisotropy=t.anisotropy)}function et(e,t){if(e.width<=t&&e.height<=t)return e;var r=Math.max(e.width,e.height),i=Math.floor(e.width*t/r),n=Math.floor(e.height*t/r),o=document.createElement("canvas");return o.width=i,o.height=n,o.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,i,n),o}function tt(e,t){if(6===e.image.length)if(e.needsUpdate){e.image.__webglTextureCube||(e.addEventListener("dispose",he),e.image.__webglTextureCube=h.createTexture(),E.info.memory.textures++),h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_CUBE_MAP,e.image.__webglTextureCube),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var r=e instanceof THREE.CompressedTexture,i=[],n=0;n<6;n++)E.autoScaleCubemaps&&!r?i[n]=et(e.image[n],$):i[n]=e.image[n];var o=i[0],a=THREE.Math.isPowerOfTwo(o.width)&&THREE.Math.isPowerOfTwo(o.height),s=at(e.format),l=at(e.type);$e(h.TEXTURE_CUBE_MAP,e,a);for(n=0;n<6;n++)if(r)for(var u,c=i[n].mipmaps,f=0,d=c.length;f<d;f++)u=c[f],e.format!==THREE.RGBAFormat?h.compressedTexImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X+n,f,s,u.width,u.height,0,u.data):h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X+n,f,s,u.width,u.height,0,s,l,u.data);else h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,s,s,l,i[n]);e.generateMipmaps&&a&&h.generateMipmap(h.TEXTURE_CUBE_MAP),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_CUBE_MAP,e.image.__webglTextureCube)}function rt(e,t){h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_CUBE_MAP,e.__webglTexture)}function it(e,t,r){h.bindFramebuffer(h.FRAMEBUFFER,e),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,r,t.__webglTexture,0)}function nt(e,t){h.bindRenderbuffer(h.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_COMPONENT16,t.width,t.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,t.width,t.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,e)):h.renderbufferStorage(h.RENDERBUFFER,h.RGBA4,t.width,t.height)}function ot(e){return e===THREE.NearestFilter||e===THREE.NearestMipMapNearestFilter||e===THREE.NearestMipMapLinearFilter?h.NEAREST:h.LINEAR}function at(e){if(e===THREE.RepeatWrapping)return h.REPEAT;if(e===THREE.ClampToEdgeWrapping)return h.CLAMP_TO_EDGE;if(e===THREE.MirroredRepeatWrapping)return h.MIRRORED_REPEAT;if(e===THREE.NearestFilter)return h.NEAREST;if(e===THREE.NearestMipMapNearestFilter)return h.NEAREST_MIPMAP_NEAREST;if(e===THREE.NearestMipMapLinearFilter)return h.NEAREST_MIPMAP_LINEAR;if(e===THREE.LinearFilter)return h.LINEAR;if(e===THREE.LinearMipMapNearestFilter)return h.LINEAR_MIPMAP_NEAREST;if(e===THREE.LinearMipMapLinearFilter)return h.LINEAR_MIPMAP_LINEAR;if(e===THREE.UnsignedByteType)return h.UNSIGNED_BYTE;if(e===THREE.UnsignedShort4444Type)return h.UNSIGNED_SHORT_4_4_4_4;if(e===THREE.UnsignedShort5551Type)return h.UNSIGNED_SHORT_5_5_5_1;if(e===THREE.UnsignedShort565Type)return h.UNSIGNED_SHORT_5_6_5;if(e===THREE.ByteType)return h.BYTE;if(e===THREE.ShortType)return h.SHORT;if(e===THREE.UnsignedShortType)return h.UNSIGNED_SHORT;if(e===THREE.IntType)return h.INT;if(e===THREE.UnsignedIntType)return h.UNSIGNED_INT;if(e===THREE.FloatType)return h.FLOAT;if(e===THREE.AlphaFormat)return h.ALPHA;if(e===THREE.RGBFormat)return h.RGB;if(e===THREE.RGBAFormat)return h.RGBA;if(e===THREE.LuminanceFormat)return h.LUMINANCE;if(e===THREE.LuminanceAlphaFormat)return h.LUMINANCE_ALPHA;if(e===THREE.AddEquation)return h.FUNC_ADD;if(e===THREE.SubtractEquation)return h.FUNC_SUBTRACT;if(e===THREE.ReverseSubtractEquation)return h.FUNC_REVERSE_SUBTRACT;if(e===THREE.ZeroFactor)return h.ZERO;if(e===THREE.OneFactor)return h.ONE;if(e===THREE.SrcColorFactor)return h.SRC_COLOR;if(e===THREE.OneMinusSrcColorFactor)return h.ONE_MINUS_SRC_COLOR;if(e===THREE.SrcAlphaFactor)return h.SRC_ALPHA;if(e===THREE.OneMinusSrcAlphaFactor)return h.ONE_MINUS_SRC_ALPHA;if(e===THREE.DstAlphaFactor)return h.DST_ALPHA;if(e===THREE.OneMinusDstAlphaFactor)return h.ONE_MINUS_DST_ALPHA;if(e===THREE.DstColorFactor)return h.DST_COLOR;if(e===THREE.OneMinusDstColorFactor)return h.ONE_MINUS_DST_COLOR;if(e===THREE.SrcAlphaSaturateFactor)return h.SRC_ALPHA_SATURATE;if(void 0!==m){if(e===THREE.RGB_S3TC_DXT1_Format)return m.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT1_Format)return m.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT3_Format)return m.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===THREE.RGBA_S3TC_DXT5_Format)return m.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}this.renderBufferImmediate=function(e,t,r){if(e.hasPositions&&!e.__webglVertexBuffer&&(e.__webglVertexBuffer=h.createBuffer()),e.hasNormals&&!e.__webglNormalBuffer&&(e.__webglNormalBuffer=h.createBuffer()),e.hasUvs&&!e.__webglUvBuffer&&(e.__webglUvBuffer=h.createBuffer()),e.hasColors&&!e.__webglColorBuffer&&(e.__webglColorBuffer=h.createBuffer()),e.hasPositions&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglVertexBuffer),h.bufferData(h.ARRAY_BUFFER,e.positionArray,h.DYNAMIC_DRAW),h.enableVertexAttribArray(t.attributes.position),h.vertexAttribPointer(t.attributes.position,3,h.FLOAT,!1,0,0)),e.hasNormals){if(h.bindBuffer(h.ARRAY_BUFFER,e.__webglNormalBuffer),r.shading===THREE.FlatShading){var i,n,o,a,s,l,u,c,f,d,p,m=3*e.count;for(p=0;p<m;p+=9)a=(d=e.normalArray)[p],l=d[p+1],c=d[p+2],s=d[p+3],u=d[p+4],f=d[p+5],i=(a+s+d[p+6])/3,n=(l+u+d[p+7])/3,o=(c+f+d[p+8])/3,d[p]=i,d[p+1]=n,d[p+2]=o,d[p+3]=i,d[p+4]=n,d[p+5]=o,d[p+6]=i,d[p+7]=n,d[p+8]=o}h.bufferData(h.ARRAY_BUFFER,e.normalArray,h.DYNAMIC_DRAW),h.enableVertexAttribArray(t.attributes.normal),h.vertexAttribPointer(t.attributes.normal,3,h.FLOAT,!1,0,0)}e.hasUvs&&r.map&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglUvBuffer),h.bufferData(h.ARRAY_BUFFER,e.uvArray,h.DYNAMIC_DRAW),h.enableVertexAttribArray(t.attributes.uv),h.vertexAttribPointer(t.attributes.uv,2,h.FLOAT,!1,0,0)),e.hasColors&&r.vertexColors!==THREE.NoColors&&(h.bindBuffer(h.ARRAY_BUFFER,e.__webglColorBuffer),h.bufferData(h.ARRAY_BUFFER,e.colorArray,h.DYNAMIC_DRAW),h.enableVertexAttribArray(t.attributes.color),h.vertexAttribPointer(t.attributes.color,3,h.FLOAT,!1,0,0)),h.drawArrays(h.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,i,n,o){if(!1!==i.visible){var a,s,l,u,c=We(e,t,r,i,o),f=c.attributes,d=n.attributes,p=!1,m=i.wireframe?1:0,v=16777215*n.id+2*c.id+m;if(v!==T&&(T=v,p=!0),p&&He(),o instanceof THREE.Mesh)if(w=d.index){(x=n.offsets).length>1&&(p=!0);for(var b=0,y=x.length;b<y;b++){var g=x[b].index;if(p){for(s in f)l=f[s],a=d[s],l>=0&&(a?(u=a.itemSize,h.bindBuffer(h.ARRAY_BUFFER,a.buffer),Me(l),h.vertexAttribPointer(l,u,h.FLOAT,!1,0,g*u*4)):i.defaultAttributeValues&&(2===i.defaultAttributeValues[s].length?h.vertexAttrib2fv(l,i.defaultAttributeValues[s]):3===i.defaultAttributeValues[s].length&&h.vertexAttrib3fv(l,i.defaultAttributeValues[s])));h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,w.buffer)}h.drawElements(h.TRIANGLES,x[b].count,h.UNSIGNED_SHORT,2*x[b].start),E.info.render.calls++,E.info.render.vertices+=x[b].count,E.info.render.faces+=x[b].count/3}}else{if(p)for(s in f)"index"!==s&&(l=f[s],a=d[s],l>=0&&(a?(u=a.itemSize,h.bindBuffer(h.ARRAY_BUFFER,a.buffer),Me(l),h.vertexAttribPointer(l,u,h.FLOAT,!1,0,0)):i.defaultAttributeValues&&i.defaultAttributeValues[s]&&(2===i.defaultAttributeValues[s].length?h.vertexAttrib2fv(l,i.defaultAttributeValues[s]):3===i.defaultAttributeValues[s].length&&h.vertexAttrib3fv(l,i.defaultAttributeValues[s]))));var _=n.attributes.position;h.drawArrays(h.TRIANGLES,0,_.array.length/3),E.info.render.calls++,E.info.render.vertices+=_.array.length/3,E.info.render.faces+=_.array.length/3/3}else if(o instanceof THREE.ParticleSystem){if(p)for(s in f)l=f[s],a=d[s],l>=0&&(a?(u=a.itemSize,h.bindBuffer(h.ARRAY_BUFFER,a.buffer),Me(l),h.vertexAttribPointer(l,u,h.FLOAT,!1,0,0)):i.defaultAttributeValues&&i.defaultAttributeValues[s]&&(2===i.defaultAttributeValues[s].length?h.vertexAttrib2fv(l,i.defaultAttributeValues[s]):3===i.defaultAttributeValues[s].length&&h.vertexAttrib3fv(l,i.defaultAttributeValues[s])));_=d.position;h.drawArrays(h.POINTS,0,_.array.length/3),E.info.render.calls++,E.info.render.points+=_.array.length/3}else if(o instanceof THREE.Line){var w,R=o.type===THREE.LineStrip?h.LINE_STRIP:h.LINES;if(Ke(i.linewidth),w=d.index){var x;(x=n.offsets).length>1&&(p=!0);for(b=0,y=x.length;b<y;b++){g=x[b].index;p&&(Se(i,f,d,g),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,w.buffer)),h.drawElements(h.LINES,x[b].count,h.UNSIGNED_SHORT,2*x[b].start),E.info.render.calls++,E.info.render.vertices+=x[b].count}}else{p&&Se(i,f,d,0);_=d.position;h.drawArrays(R,0,_.array.length/3),E.info.render.calls++,E.info.render.points+=_.array.length}}}},this.renderBuffer=function(e,t,r,i,n,o){if(!1!==i.visible){var a,s,l,u=We(e,t,r,i,o),c=u.attributes,f=!1,d=i.wireframe?1:0,p=16777215*n.id+2*u.id+d;if(p!==T&&(T=p,f=!0),f&&He(),!i.morphTargets&&c.position>=0?f&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglVertexBuffer),Me(c.position),h.vertexAttribPointer(c.position,3,h.FLOAT,!1,0,0)):o.morphTargetBase&&function(e,t,r){var i=e.program.attributes;-1!==r.morphTargetBase&&i.position>=0?(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[r.morphTargetBase]),Me(i.position),h.vertexAttribPointer(i.position,3,h.FLOAT,!1,0,0)):i.position>=0&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglVertexBuffer),Me(i.position),h.vertexAttribPointer(i.position,3,h.FLOAT,!1,0,0));if(r.morphTargetForcedOrder.length)for(var n=0,o=r.morphTargetForcedOrder,a=r.morphTargetInfluences;n<e.numSupportedMorphTargets&&n<o.length;)i["morphTarget"+n]>=0&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[o[n]]),Me(i["morphTarget"+n]),h.vertexAttribPointer(i["morphTarget"+n],3,h.FLOAT,!1,0,0)),i["morphNormal"+n]>=0&&e.morphNormals&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[o[n]]),Me(i["morphNormal"+n]),h.vertexAttribPointer(i["morphNormal"+n],3,h.FLOAT,!1,0,0)),r.__webglMorphTargetInfluences[n]=a[o[n]],n++;else{var s,l,u=[],a=r.morphTargetInfluences,c=a.length;for(l=0;l<c;l++)(s=a[l])>0&&u.push([s,l]);u.length>e.numSupportedMorphTargets?(u.sort(Ce),u.length=e.numSupportedMorphTargets):u.length>e.numSupportedMorphNormals?u.sort(Ce):0===u.length&&u.push([0,0]);for(var f,n=0;n<e.numSupportedMorphTargets;)u[n]?(f=u[n][1],i["morphTarget"+n]>=0&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[f]),Me(i["morphTarget"+n]),h.vertexAttribPointer(i["morphTarget"+n],3,h.FLOAT,!1,0,0)),i["morphNormal"+n]>=0&&e.morphNormals&&(h.bindBuffer(h.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[f]),Me(i["morphNormal"+n]),h.vertexAttribPointer(i["morphNormal"+n],3,h.FLOAT,!1,0,0)),r.__webglMorphTargetInfluences[n]=a[f]):r.__webglMorphTargetInfluences[n]=0,n++}null!==e.program.uniforms.morphTargetInfluences&&h.uniform1fv(e.program.uniforms.morphTargetInfluences,r.__webglMorphTargetInfluences)}(i,n,o),f){if(n.__webglCustomAttributesList)for(s=0,l=n.__webglCustomAttributesList.length;s<l;s++)c[(a=n.__webglCustomAttributesList[s]).buffer.belongsToAttribute]>=0&&(h.bindBuffer(h.ARRAY_BUFFER,a.buffer),Me(c[a.buffer.belongsToAttribute]),h.vertexAttribPointer(c[a.buffer.belongsToAttribute],a.size,h.FLOAT,!1,0,0));c.color>=0&&(o.geometry.colors.length>0||o.geometry.faces.length>0?(h.bindBuffer(h.ARRAY_BUFFER,n.__webglColorBuffer),Me(c.color),h.vertexAttribPointer(c.color,3,h.FLOAT,!1,0,0)):i.defaultAttributeValues&&h.vertexAttrib3fv(c.color,i.defaultAttributeValues.color)),c.normal>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglNormalBuffer),Me(c.normal),h.vertexAttribPointer(c.normal,3,h.FLOAT,!1,0,0)),c.tangent>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglTangentBuffer),Me(c.tangent),h.vertexAttribPointer(c.tangent,4,h.FLOAT,!1,0,0)),c.uv>=0&&(o.geometry.faceVertexUvs[0]?(h.bindBuffer(h.ARRAY_BUFFER,n.__webglUVBuffer),Me(c.uv),h.vertexAttribPointer(c.uv,2,h.FLOAT,!1,0,0)):i.defaultAttributeValues&&h.vertexAttrib2fv(c.uv,i.defaultAttributeValues.uv)),c.uv2>=0&&(o.geometry.faceVertexUvs[1]?(h.bindBuffer(h.ARRAY_BUFFER,n.__webglUV2Buffer),Me(c.uv2),h.vertexAttribPointer(c.uv2,2,h.FLOAT,!1,0,0)):i.defaultAttributeValues&&h.vertexAttrib2fv(c.uv2,i.defaultAttributeValues.uv2)),i.skinning&&c.skinIndex>=0&&c.skinWeight>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglSkinIndicesBuffer),Me(c.skinIndex),h.vertexAttribPointer(c.skinIndex,4,h.FLOAT,!1,0,0),h.bindBuffer(h.ARRAY_BUFFER,n.__webglSkinWeightsBuffer),Me(c.skinWeight),h.vertexAttribPointer(c.skinWeight,4,h.FLOAT,!1,0,0)),c.lineDistance>=0&&(h.bindBuffer(h.ARRAY_BUFFER,n.__webglLineDistanceBuffer),Me(c.lineDistance),h.vertexAttribPointer(c.lineDistance,1,h.FLOAT,!1,0,0))}if(o instanceof THREE.Mesh)i.wireframe?(Ke(i.wireframeLinewidth),f&&h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n.__webglLineBuffer),h.drawElements(h.LINES,n.__webglLineCount,h.UNSIGNED_SHORT,0)):(f&&h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n.__webglFaceBuffer),h.drawElements(h.TRIANGLES,n.__webglFaceCount,h.UNSIGNED_SHORT,0)),E.info.render.calls++,E.info.render.vertices+=n.__webglFaceCount,E.info.render.faces+=n.__webglFaceCount/3;else if(o instanceof THREE.Line){var m=o.type===THREE.LineStrip?h.LINE_STRIP:h.LINES;Ke(i.linewidth),h.drawArrays(m,0,n.__webglLineCount),E.info.render.calls++}else o instanceof THREE.ParticleSystem&&(h.drawArrays(h.POINTS,0,n.__webglParticleCount),E.info.render.calls++,E.info.render.points+=n.__webglParticleCount)}},this.render=function(e,t,r,i){if(t instanceof THREE.Camera!=!1){var n,o,a,s,l,u=e.__lights,c=e.fog;for(_=-1,Y=!0,!0===e.autoUpdate&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),j.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),W.setFromMatrix(j),this.autoUpdateObjects&&this.initWebGLObjects(e),Pe(this.renderPluginsPre,e,t),E.info.render.calls=0,E.info.render.vertices=0,E.info.render.faces=0,E.info.render.points=0,this.setRenderTarget(r),(this.autoClear||i)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),n=0,o=(l=e.__webglObjects).length;n<o;n++)s=(a=l[n]).object,a.id=n,a.render=!1,s.visible&&((s instanceof THREE.Mesh||s instanceof THREE.ParticleSystem)&&s.frustumCulled&&!W.intersectsObject(s)||(Xe(s,t),Le(a),a.render=!0,!0===this.sortObjects&&(null!==s.renderDepth?a.z=s.renderDepth:(X.setFromMatrixPosition(s.matrixWorld),X.applyProjection(j),a.z=X.z))));for(this.sortObjects&&l.sort(Ae),n=0,o=(l=e.__webglObjectsImmediate).length;n<o;n++)(s=(a=l[n]).object).visible&&(Xe(s,t),ke(a));if(e.overrideMaterial){var f=e.overrideMaterial;this.setBlending(f.blending,f.blendEquation,f.blendSrc,f.blendDst),this.setDepthTest(f.depthTest),this.setDepthWrite(f.depthWrite),Ze(f.polygonOffset,f.polygonOffsetFactor,f.polygonOffsetUnits),Fe(e.__webglObjects,!1,"",t,u,c,!0,f),De(e.__webglObjectsImmediate,"",t,u,c,!1,f)}else{f=null;this.setBlending(THREE.NoBlending),Fe(e.__webglObjects,!0,"opaque",t,u,c,!1,f),De(e.__webglObjectsImmediate,"opaque",t,u,c,!1,f),Fe(e.__webglObjects,!1,"transparent",t,u,c,!0,f),De(e.__webglObjectsImmediate,"transparent",t,u,c,!0,f)}Pe(this.renderPluginsPost,e,t),r&&r.generateMipmaps&&r.minFilter!==THREE.NearestFilter&&r.minFilter!==THREE.LinearFilter&&function(e){e instanceof THREE.WebGLRenderTargetCube?(h.bindTexture(h.TEXTURE_CUBE_MAP,e.__webglTexture),h.generateMipmap(h.TEXTURE_CUBE_MAP),h.bindTexture(h.TEXTURE_CUBE_MAP,null)):(h.bindTexture(h.TEXTURE_2D,e.__webglTexture),h.generateMipmap(h.TEXTURE_2D),h.bindTexture(h.TEXTURE_2D,null))}(r),this.setDepthTest(!0),this.setDepthWrite(!0)}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.renderImmediateObject=function(e,t,r,i,n){var o=We(e,t,r,i,n);T=-1,E.setMaterialFaces(i),n.immediateRenderCallback?n.immediateRenderCallback(o,h,W):n.render(function(e){E.renderBufferImmediate(e,o,i)})},this.initWebGLObjects=function(e){for(e.__webglObjects||(e.__webglObjects=[],e.__webglObjectsImmediate=[],e.__webglSprites=[],e.__webglFlares=[]);e.__objectsAdded.length;)Be(e.__objectsAdded[0],e),e.__objectsAdded.splice(0,1);for(;e.__objectsRemoved.length;)Ue(e.__objectsRemoved[0],e),e.__objectsRemoved.splice(0,1);for(var t=0,r=e.__webglObjects.length;t<r;t++){var i=e.__webglObjects[t].object;void 0===i.__webglInit&&(void 0!==i.__webglActive&&Ue(i,e),Be(i,e)),Ne(i)}},this.initMaterial=function(e,t,r,n){var o,a,s,l,u,c,f;e.addEventListener("dispose",de),e instanceof THREE.MeshDepthMaterial?f="depth":e instanceof THREE.MeshNormalMaterial?f="normal":e instanceof THREE.MeshBasicMaterial?f="basic":e instanceof THREE.MeshLambertMaterial?f="lambert":e instanceof THREE.MeshPhongMaterial?f="phong":e instanceof THREE.LineBasicMaterial?f="basic":e instanceof THREE.LineDashedMaterial?f="dashed":e instanceof THREE.ParticleSystemMaterial&&(f="particle_basic"),f&&function(e,t){e.uniforms=THREE.UniformsUtils.clone(t.uniforms),e.vertexShader=t.vertexShader,e.fragmentShader=t.fragmentShader}(e,THREE.ShaderLib[f]),l=function(e){for(var t=0,r=0,i=0,n=0,o=0,a=e.length;o<a;o++){var s=e[o];s.onlyShadow||!1===s.visible||(s instanceof THREE.DirectionalLight&&t++,s instanceof THREE.PointLight&&r++,s instanceof THREE.SpotLight&&i++,s instanceof THREE.HemisphereLight&&n++)}return{directional:t,point:r,spot:i,hemi:n}}(t),c=function(e){for(var t=0,r=0,i=e.length;r<i;r++){var n=e[r];n.castShadow&&(n instanceof THREE.SpotLight&&t++,n instanceof THREE.DirectionalLight&&!n.shadowCascade&&t++)}return t}(t),u=function(e){if(re&&e&&e.useVertexTexture)return 1024;var t=h.getParameter(h.MAX_VERTEX_UNIFORM_VECTORS),r=Math.floor((t-20)/4),i=r;return void 0!==e&&e instanceof THREE.SkinnedMesh&&(i=Math.min(e.bones.length,i))<e.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)"),i}(n),s={map:!!e.map,envMap:!!e.envMap,lightMap:!!e.lightMap,bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,specularMap:!!e.specularMap,vertexColors:e.vertexColors,fog:r,useFog:e.fog,fogExp:r instanceof THREE.FogExp2,sizeAttenuation:e.sizeAttenuation,skinning:e.skinning,maxBones:u,useVertexTexture:re&&n&&n.useVertexTexture,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,maxDirLights:l.directional,maxPointLights:l.point,maxSpotLights:l.spot,maxHemiLights:l.hemi,maxShadows:c,shadowMapEnabled:this.shadowMapEnabled&&n.receiveShadow&&c>0,shadowMapType:this.shadowMapType,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,alphaTest:e.alphaTest,metal:e.metal,wrapAround:e.wrapAround,doubleSided:e.side===THREE.DoubleSide,flipSided:e.side===THREE.BackSide},e.program=function(e,t,r,n,o,a,s,l){var u,c,f,d,p,m=[];e?m.push(e):(m.push(t),m.push(r));for(f in a)m.push(f),m.push(a[f]);for(u in s)m.push(u),m.push(s[u]);for(p=m.join(),u=0,c=v.length;u<c;u++){var y=v[u];if(y.code===p)return y.usedTimes++,y.program}var g="SHADOWMAP_TYPE_BASIC";s.shadowMapType===THREE.PCFShadowMap?g="SHADOWMAP_TYPE_PCF":s.shadowMapType===THREE.PCFSoftShadowMap&&(g="SHADOWMAP_TYPE_PCF_SOFT");var _=function(e){var t,r,i=[];for(var n in e)!1!==(t=e[n])&&(r="#define "+n+" "+t,i.push(r));return i.join("\n")}(a);d=h.createProgram();var T,w,R,x,S=["precision "+i+" float;","precision "+i+" int;",_,te?"#define VERTEX_TEXTURES":"",E.gammaInput?"#define GAMMA_INPUT":"",E.gammaOutput?"#define GAMMA_OUTPUT":"","#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,"#define MAX_BONES "+s.maxBones,s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.vertexColors?"#define USE_COLOR":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals?"#define USE_MORPHNORMALS":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+g:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","attribute vec3 morphTarget0;","attribute vec3 morphTarget1;","attribute vec3 morphTarget2;","attribute vec3 morphTarget3;","#ifdef USE_MORPHNORMALS","attribute vec3 morphNormal0;","attribute vec3 morphNormal1;","attribute vec3 morphNormal2;","attribute vec3 morphNormal3;","#else","attribute vec3 morphTarget4;","attribute vec3 morphTarget5;","attribute vec3 morphTarget6;","attribute vec3 morphTarget7;","#endif","#endif","#ifdef USE_SKINNING","attribute vec4 skinIndex;","attribute vec4 skinWeight;","#endif",""].join("\n"),M=["precision "+i+" float;","precision "+i+" int;",s.bumpMap||s.normalMap?"#extension GL_OES_standard_derivatives : enable":"",_,"#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,s.alphaTest?"#define ALPHATEST "+s.alphaTest:"",E.gammaInput?"#define GAMMA_INPUT":"",E.gammaOutput?"#define GAMMA_OUTPUT":"",s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.vertexColors?"#define USE_COLOR":"",s.metal?"#define METAL":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+g:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n"),H=Qe("vertex",S+r),A=Qe("fragment",M+t);h.attachShader(d,H),h.attachShader(d,A),void 0!==l&&h.bindAttribLocation(d,0,l);h.linkProgram(d),!1===h.getProgramParameter(d,h.LINK_STATUS)&&(console.error("Could not initialise shader"),console.error("gl.VALIDATE_STATUS",h.getProgramParameter(d,h.VALIDATE_STATUS)),console.error("gl.getError()",h.getError()));""!==h.getProgramInfoLog(d)&&console.error("gl.getProgramInfoLog()",h.getProgramInfoLog(d));h.deleteShader(A),h.deleteShader(H),d.uniforms={},d.attributes={},T=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences"],s.useVertexTexture?(T.push("boneTexture"),T.push("boneTextureWidth"),T.push("boneTextureHeight")):T.push("boneGlobalMatrices");for(w in n)T.push(w);for(function(e,t){var r,i,n;for(r=0,i=t.length;r<i;r++)n=t[r],e.uniforms[n]=h.getUniformLocation(e,n)}(d,T),T=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"],x=0;x<s.maxMorphTargets;x++)T.push("morphTarget"+x);for(x=0;x<s.maxMorphNormals;x++)T.push("morphNormal"+x);for(R in o)T.push(R);return function(e,t){var r,i,n;for(r=0,i=t.length;r<i;r++)n=t[r],e.attributes[n]=h.getAttribLocation(e,n)}(d,T),d.id=b++,v.push({program:d,code:p,usedTimes:1}),E.info.memory.programs=v.length,d}(f,e.fragmentShader,e.vertexShader,e.uniforms,e.attributes,e.defines,s,e.index0AttributeName);var d=e.program.attributes;if(e.morphTargets){e.numSupportedMorphTargets=0;var p="morphTarget";for(a=0;a<this.maxMorphTargets;a++)d[p+a]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;p="morphNormal";for(a=0;a<this.maxMorphNormals;a++)d[p+a]>=0&&e.numSupportedMorphNormals++}for(o in e.uniformsList=[],e.uniforms)e.uniformsList.push([e.uniforms[o],o])},this.setFaceCulling=function(e,t){e===THREE.CullFaceNone?h.disable(h.CULL_FACE):(t===THREE.FrontFaceDirectionCW?h.frontFace(h.CW):h.frontFace(h.CCW),e===THREE.CullFaceBack?h.cullFace(h.BACK):e===THREE.CullFaceFront?h.cullFace(h.FRONT):h.cullFace(h.FRONT_AND_BACK),h.enable(h.CULL_FACE))},this.setMaterialFaces=function(e){var t=e.side===THREE.DoubleSide,r=e.side===THREE.BackSide;x!==t&&(t?h.disable(h.CULL_FACE):h.enable(h.CULL_FACE),x=t),S!==r&&(r?h.frontFace(h.CW):h.frontFace(h.CCW),S=r)},this.setDepthTest=function(e){P!==e&&(e?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),P=e)},this.setDepthWrite=function(e){F!==e&&(h.depthMask(e),F=e)},this.setBlending=function(e,t,r,i){e!==M&&(e===THREE.NoBlending?h.disable(h.BLEND):e===THREE.AdditiveBlending?(h.enable(h.BLEND),h.blendEquation(h.FUNC_ADD),h.blendFunc(h.SRC_ALPHA,h.ONE)):e===THREE.SubtractiveBlending?(h.enable(h.BLEND),h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ZERO,h.ONE_MINUS_SRC_COLOR)):e===THREE.MultiplyBlending?(h.enable(h.BLEND),h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ZERO,h.SRC_COLOR)):e===THREE.CustomBlending?h.enable(h.BLEND):(h.enable(h.BLEND),h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA)),M=e),e===THREE.CustomBlending?(t!==H&&(h.blendEquation(at(t)),H=t),r===A&&i===C||(h.blendFunc(at(r),at(i)),A=r,C=i)):(H=null,A=null,C=null)},this.setTexture=function(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.addEventListener("dispose",he),e.__webglTexture=h.createTexture(),E.info.memory.textures++),h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_2D,e.__webglTexture),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,e.flipY),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),h.pixelStorei(h.UNPACK_ALIGNMENT,e.unpackAlignment);var r=e.image,i=THREE.Math.isPowerOfTwo(r.width)&&THREE.Math.isPowerOfTwo(r.height),n=at(e.format),o=at(e.type);$e(h.TEXTURE_2D,e,i);var a,s=e.mipmaps;if(e instanceof THREE.DataTexture)if(s.length>0&&i){for(var l=0,u=s.length;l<u;l++)a=s[l],h.texImage2D(h.TEXTURE_2D,l,n,a.width,a.height,0,n,o,a.data);e.generateMipmaps=!1}else h.texImage2D(h.TEXTURE_2D,0,n,r.width,r.height,0,n,o,r.data);else if(e instanceof THREE.CompressedTexture)for(l=0,u=s.length;l<u;l++)a=s[l],e.format!==THREE.RGBAFormat?h.compressedTexImage2D(h.TEXTURE_2D,l,n,a.width,a.height,0,a.data):h.texImage2D(h.TEXTURE_2D,l,n,a.width,a.height,0,n,o,a.data);else if(s.length>0&&i){for(l=0,u=s.length;l<u;l++)a=s[l],h.texImage2D(h.TEXTURE_2D,l,n,n,o,a);e.generateMipmaps=!1}else h.texImage2D(h.TEXTURE_2D,0,n,n,o,e.image);e.generateMipmaps&&i&&h.generateMipmap(h.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else h.activeTexture(h.TEXTURE0+t),h.bindTexture(h.TEXTURE_2D,e.__webglTexture)},this.setRenderTarget=function(e){var t,r,i,n,o,a=e instanceof THREE.WebGLRenderTargetCube;if(e&&!e.__webglFramebuffer){void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",fe),e.__webglTexture=h.createTexture(),E.info.memory.textures++;var s=THREE.Math.isPowerOfTwo(e.width)&&THREE.Math.isPowerOfTwo(e.height),l=at(e.format),u=at(e.type);if(a){e.__webglFramebuffer=[],e.__webglRenderbuffer=[],h.bindTexture(h.TEXTURE_CUBE_MAP,e.__webglTexture),$e(h.TEXTURE_CUBE_MAP,e,s);for(var c=0;c<6;c++)e.__webglFramebuffer[c]=h.createFramebuffer(),e.__webglRenderbuffer[c]=h.createRenderbuffer(),h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,l,e.width,e.height,0,l,u,null),it(e.__webglFramebuffer[c],e,h.TEXTURE_CUBE_MAP_POSITIVE_X+c),nt(e.__webglRenderbuffer[c],e);s&&h.generateMipmap(h.TEXTURE_CUBE_MAP)}else e.__webglFramebuffer=h.createFramebuffer(),e.shareDepthFrom?e.__webglRenderbuffer=e.shareDepthFrom.__webglRenderbuffer:e.__webglRenderbuffer=h.createRenderbuffer(),h.bindTexture(h.TEXTURE_2D,e.__webglTexture),$e(h.TEXTURE_2D,e,s),h.texImage2D(h.TEXTURE_2D,0,l,e.width,e.height,0,l,u,null),it(e.__webglFramebuffer,e,h.TEXTURE_2D),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,e.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,e.__webglRenderbuffer):nt(e.__webglRenderbuffer,e),s&&h.generateMipmap(h.TEXTURE_2D);a?h.bindTexture(h.TEXTURE_CUBE_MAP,null):h.bindTexture(h.TEXTURE_2D,null),h.bindRenderbuffer(h.RENDERBUFFER,null),h.bindFramebuffer(h.FRAMEBUFFER,null)}e?(t=a?e.__webglFramebuffer[e.activeCubeFace]:e.__webglFramebuffer,r=e.width,i=e.height,n=0,o=0):(t=null,r=I,i=V,n=O,o=N),t!==g&&(h.bindFramebuffer(h.FRAMEBUFFER,t),h.viewport(n,o,r,i),g=t),U=r,z=i},this.shadowMapPlugin=new THREE.ShadowMapPlugin,this.addPrePlugin(this.shadowMapPlugin),this.addPostPlugin(new THREE.SpritePlugin),this.addPostPlugin(new THREE.LensFlarePlugin)},THREE.WebGLRenderTarget=function(e,t,r){this.width=e,this.height=t,r=r||{},this.wrapS=void 0!==r.wrapS?r.wrapS:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==r.wrapT?r.wrapT:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==r.magFilter?r.magFilter:THREE.LinearFilter,this.minFilter=void 0!==r.minFilter?r.minFilter:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.format=void 0!==r.format?r.format:THREE.RGBAFormat,this.type=void 0!==r.type?r.type:THREE.UnsignedByteType,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.generateMipmaps=!0,this.shareDepthFrom=null},THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,clone:function(){var e=new THREE.WebGLRenderTarget(this.width,this.height);return e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.format=this.format,e.type=this.type,e.depthBuffer=this.depthBuffer,e.stencilBuffer=this.stencilBuffer,e.generateMipmaps=this.generateMipmaps,e.shareDepthFrom=this.shareDepthFrom,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube=function(e,t,r){THREE.WebGLRenderTarget.call(this,e,t,r),this.activeCubeFace=0},THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype),THREE.RenderableVertex=function(){this.position=new THREE.Vector3,this.positionWorld=new THREE.Vector3,this.positionScreen=new THREE.Vector4,this.visible=!0},THREE.RenderableVertex.prototype.copy=function(e){this.positionWorld.copy(e.positionWorld),this.positionScreen.copy(e.positionScreen)},THREE.RenderableFace=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.v3=new THREE.RenderableVertex,this.centroidModel=new THREE.Vector3,this.normalModel=new THREE.Vector3,this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.vertexNormalsLength=0,this.color=null,this.material=null,this.uvs=[[]],this.z=0},THREE.RenderableObject=function(){this.id=0,this.object=null,this.z=0},THREE.RenderableSprite=function(){this.id=0,this.object=null,this.x=0,this.y=0,this.z=0,this.rotation=0,this.scale=new THREE.Vector2,this.material=null},THREE.RenderableLine=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.vertexColors=[new THREE.Color,new THREE.Color],this.material=null,this.z=0},THREE.GeometryUtils={merge:function(e,t,r){var i,n,o=e.vertices.length,a=(e.faceVertexUvs[0].length,t instanceof THREE.Mesh?t.geometry:t),s=e.vertices,l=a.vertices,u=e.faces,c=a.faces,h=e.faceVertexUvs[0],f=a.faceVertexUvs[0];void 0===r&&(r=0),t instanceof THREE.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,n=(new THREE.Matrix3).getNormalMatrix(i));for(var d=0,p=l.length;d<p;d++){var m=l[d].clone();i&&m.applyMatrix4(i),s.push(m)}for(d=0,p=c.length;d<p;d++){var E,v,b,y=c[d],g=y.vertexNormals,_=y.vertexColors;(E=new THREE.Face3(y.a+o,y.b+o,y.c+o)).normal.copy(y.normal),n&&E.normal.applyMatrix3(n).normalize();for(var T=0,w=g.length;T<w;T++)v=g[T].clone(),n&&v.applyMatrix3(n).normalize(),E.vertexNormals.push(v);E.color.copy(y.color);for(T=0,w=_.length;T<w;T++)b=_[T],E.vertexColors.push(b.clone());E.materialIndex=y.materialIndex+r,E.centroid.copy(y.centroid),i&&E.centroid.applyMatrix4(i),u.push(E)}for(d=0,p=f.length;d<p;d++){var R=f[d],x=[];for(T=0,w=R.length;T<w;T++)x.push(new THREE.Vector2(R[T].x,R[T].y));h.push(x)}},randomPointInTriangle:function(){var e=new THREE.Vector3;return function(t,r,i){var n=new THREE.Vector3,o=THREE.Math.random16(),a=THREE.Math.random16();o+a>1&&(o=1-o,a=1-a);var s=1-o-a;return n.copy(t),n.multiplyScalar(o),e.copy(r),e.multiplyScalar(a),n.add(e),e.copy(i),e.multiplyScalar(s),n.add(e),n}}(),randomPointInFace:function(e,t,r){var i,n,o;return i=t.vertices[e.a],n=t.vertices[e.b],o=t.vertices[e.c],THREE.GeometryUtils.randomPointInTriangle(i,n,o)},randomPointsInGeometry:function(e,t){var r,i,n,o,a,s=e.faces,l=e.vertices,u=s.length,c=0,h=[];for(i=0;i<u;i++)n=l[(r=s[i]).a],o=l[r.b],a=l[r.c],r._area=THREE.GeometryUtils.triangleArea(n,o,a),c+=r._area,h[i]=c;function f(e){return function t(r,i){if(i<r)return r;var n=r+Math.floor((i-r)/2);return h[n]>e?t(r,n-1):h[n]<e?t(n+1,i):n}(0,h.length-1)}var d,p=[],m={};for(i=0;i<t;i++)d=f(THREE.Math.random16()*c),p[i]=THREE.GeometryUtils.randomPointInFace(s[d],e,!0),m[d]?m[d]+=1:m[d]=1;return p},triangleArea:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r,i,n){return e.subVectors(i,r),t.subVectors(n,r),e.cross(t),.5*e.length()}}(),center:function(e){e.computeBoundingBox();var t=e.boundingBox,r=new THREE.Vector3;return r.addVectors(t.min,t.max),r.multiplyScalar(-.5),e.applyMatrix((new THREE.Matrix4).makeTranslation(r.x,r.y,r.z)),e.computeBoundingBox(),r},triangulateQuads:function(e){var t,r,i,n,o=[],a=[];for(t=0,r=e.faceVertexUvs.length;t<r;t++)a[t]=[];for(t=0,r=e.faces.length;t<r;t++){var s=e.faces[t];for(o.push(s),i=0,n=e.faceVertexUvs.length;i<n;i++)a[i].push(e.faceVertexUvs[i][t])}e.faces=o,e.faceVertexUvs=a,e.computeCentroids(),e.computeFaceNormals(),e.computeVertexNormals(),e.hasTangents&&e.computeTangents()}},THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,r,i){var n=new THREE.ImageLoader;n.crossOrigin=this.crossOrigin;var o=new THREE.Texture(void 0,t),a=n.load(e,function(){o.needsUpdate=!0,r&&r(o)});return o.image=a,o.sourceFile=e,o},loadCompressedTexture:function(e,t,r,i){var n=new THREE.CompressedTexture;n.mapping=t;var o=new XMLHttpRequest;return o.onload=function(){var e=o.response,t=THREE.ImageUtils.parseDDS(e,!0);n.format=t.format,n.mipmaps=t.mipmaps,n.image.width=t.width,n.image.height=t.height,n.generateMipmaps=!1,n.needsUpdate=!0,r&&r(n)},o.onerror=i,o.open("GET",e,!0),o.responseType="arraybuffer",o.send(null),n},loadTextureCube:function(e,t,r,i){var n=[];n.loadCount=0;var o=new THREE.Texture;o.image=n,void 0!==t&&(o.mapping=t),o.flipY=!1;for(var a=0,s=e.length;a<s;++a){var l=new Image;n[a]=l,l.onload=function(){n.loadCount+=1,6===n.loadCount&&(o.needsUpdate=!0,r&&r(o))},l.onerror=i,l.crossOrigin=this.crossOrigin,l.src=e[a]}return o},loadCompressedTextureCube:function(e,t,r,i){var n=[];n.loadCount=0;var o=new THREE.CompressedTexture;o.image=n,void 0!==t&&(o.mapping=t),o.flipY=!1,o.generateMipmaps=!1;var a=function(e,t){return function(){var i=e.response,a=THREE.ImageUtils.parseDDS(i,!0);t.format=a.format,t.mipmaps=a.mipmaps,t.width=a.width,t.height=a.height,n.loadCount+=1,6===n.loadCount&&(o.format=a.format,o.needsUpdate=!0,r&&r(o))}};if(e instanceof Array)for(var s=0,l=e.length;s<l;++s){var u={};n[s]=u,(h=new XMLHttpRequest).onload=a(h,u),h.onerror=i;var c=e[s];h.open("GET",c,!0),h.responseType="arraybuffer",h.send(null)}else{var h;c=e;(h=new XMLHttpRequest).onload=function(){var e=h.response,t=THREE.ImageUtils.parseDDS(e,!0);if(t.isCubemap){for(var i=t.mipmaps.length/t.mipmapCount,a=0;a<i;a++){n[a]={mipmaps:[]};for(var s=0;s<t.mipmapCount;s++)n[a].mipmaps.push(t.mipmaps[a*t.mipmapCount+s]),n[a].format=t.format,n[a].width=t.width,n[a].height=t.height}o.format=t.format,o.needsUpdate=!0,r&&r(o)}},h.onerror=i,h.open("GET",c,!0),h.responseType="arraybuffer",h.send(null)}return o},loadDDSTexture:function(e,t,r,i){var n=[];n.loadCount=0;var o=new THREE.CompressedTexture;o.image=n,void 0!==t&&(o.mapping=t),o.flipY=!1,o.generateMipmaps=!1;var a=new XMLHttpRequest;return a.onload=function(){var e=a.response,t=THREE.ImageUtils.parseDDS(e,!0);if(t.isCubemap)for(var i=t.mipmaps.length/t.mipmapCount,s=0;s<i;s++){n[s]={mipmaps:[]};for(var l=0;l<t.mipmapCount;l++)n[s].mipmaps.push(t.mipmaps[s*t.mipmapCount+l]),n[s].format=t.format,n[s].width=t.width,n[s].height=t.height}else o.image.width=t.width,o.image.height=t.height,o.mipmaps=t.mipmaps;o.format=t.format,o.needsUpdate=!0,r&&r(o)},a.onerror=i,a.open("GET",e,!0),a.responseType="arraybuffer",a.send(null),o},parseDDS:function(e,t){var r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function i(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function n(e,t,r,i){for(var n=r*i*4,o=new Uint8Array(e,t,n),a=new Uint8Array(n),s=0,l=0,u=0;u<i;u++)for(var c=0;c<r;c++){var h=o[l],f=o[++l],d=o[++l],p=o[++l];l++,a[s]=d,a[++s]=f,a[++s]=h,a[++s]=p,s++}return a}var o,a=i("DXT1"),s=i("DXT3"),l=i("DXT5"),u=new Int32Array(e,0,31);if(542327876!==u[0])return console.error("ImageUtils.parseDDS(): Invalid magic number in DDS header"),r;if(4&!u[20])return console.error("ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code"),r;var c,h=u[21],f=!1;switch(h){case a:o=8,r.format=THREE.RGB_S3TC_DXT1_Format;break;case s:o=16,r.format=THREE.RGBA_S3TC_DXT3_Format;break;case l:o=16,r.format=THREE.RGBA_S3TC_DXT5_Format;break;default:if(!(32==u[22]&&16711680&u[23]&&65280&u[24]&&255&u[25]&&4278190080&u[26]))return console.error("ImageUtils.parseDDS(): Unsupported FourCC code: ",(c=h,String.fromCharCode(255&c,c>>8&255,c>>16&255,c>>24&255))),r;f=!0,o=64,r.format=THREE.RGBAFormat}r.mipmapCount=1,131072&u[2]&&!1!==t&&(r.mipmapCount=Math.max(1,u[7])),r.isCubemap=!!(512&u[28]),r.width=u[4],r.height=u[3];for(var d=u[1]+4,p=r.width,m=r.height,E=r.isCubemap?6:1,v=0;v<E;v++){for(var b=0;b<r.mipmapCount;b++){if(f)var y=(g=n(e,d,p,m)).length;else{y=Math.max(4,p)/4*Math.max(4,m)/4*o;var g=new Uint8Array(e,d,y)}var _={data:g,width:p,height:m};r.mipmaps.push(_),d+=y,p=Math.max(.5*p,1),m=Math.max(.5*m,1)}p=r.width,m=r.height}return r},getNormalMap:function(e,t){var r=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},i=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]};t|=1;var n=e.width,o=e.height,a=document.createElement("canvas");a.width=n,a.height=o;var s=a.getContext("2d");s.drawImage(e,0,0);for(var l,u,c=s.getImageData(0,0,n,o).data,h=s.createImageData(n,o),f=h.data,d=0;d<n;d++)for(var p=0;p<o;p++){var m=p-1<0?0:p-1,E=p+1>o-1?o-1:p+1,v=d-1<0?0:d-1,b=d+1>n-1?n-1:d+1,y=[],g=[0,0,c[4*(p*n+d)]/255*t];y.push([-1,0,c[4*(p*n+v)]/255*t]),y.push([-1,-1,c[4*(m*n+v)]/255*t]),y.push([0,-1,c[4*(m*n+d)]/255*t]),y.push([1,-1,c[4*(m*n+b)]/255*t]),y.push([1,0,c[4*(p*n+b)]/255*t]),y.push([1,1,c[4*(E*n+b)]/255*t]),y.push([0,1,c[4*(E*n+d)]/255*t]),y.push([-1,1,c[4*(E*n+v)]/255*t]);for(var _=[],T=y.length,w=0;w<T;w++){var R=y[w],x=y[(w+1)%T];R=r(R,g),x=r(x,g),_.push(i((u=x,[(l=R)[1]*u[2]-l[2]*u[1],l[2]*u[0]-l[0]*u[2],l[0]*u[1]-l[1]*u[0]])))}var S=[0,0,0];for(w=0;w<_.length;w++)S[0]+=_[w][0],S[1]+=_[w][1],S[2]+=_[w][2];S[0]/=_.length,S[1]/=_.length,S[2]/=_.length;var M=4*(p*n+d);f[M]=(S[0]+1)/2*255|0,f[M+1]=(S[1]+1)/2*255|0,f[M+2]=255*S[2]|0,f[M+3]=255}return s.putImageData(h,0,0),a},generateDataTexture:function(e,t,r){for(var i=e*t,n=new Uint8Array(3*i),o=Math.floor(255*r.r),a=Math.floor(255*r.g),s=Math.floor(255*r.b),l=0;l<i;l++)n[3*l]=o,n[3*l+1]=a,n[3*l+2]=s;var u=new THREE.DataTexture(n,e,t,THREE.RGBFormat);return u.needsUpdate=!0,u}},THREE.SceneUtils={createMultiMaterialObject:function(e,t){for(var r=new THREE.Object3D,i=0,n=t.length;i<n;i++)r.add(new THREE.Mesh(e,t[i]));return r},detach:function(e,t,r){e.applyMatrix(t.matrixWorld),t.remove(e),r.add(e)},attach:function(e,t,r){var i=new THREE.Matrix4;i.getInverse(r.matrixWorld),e.applyMatrix(i),t.remove(e),r.add(e)}},THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(e){var t=e.familyName.toLowerCase();this.faces[t]=this.faces[t]||{},this.faces[t][e.cssFontWeight]=this.faces[t][e.cssFontWeight]||{},this.faces[t][e.cssFontWeight][e.cssFontStyle]=e;this.faces[t][e.cssFontWeight][e.cssFontStyle]=e;return e},drawText:function(e){var t,r=this.getFace(),i=this.size/r.resolution,n=0,o=String(e).split(""),a=o.length,s=[];for(t=0;t<a;t++){var l=new THREE.Path,u=this.extractGlyphPoints(o[t],r,i,n,l);n+=u.offset,s.push(u.path)}return{paths:s,offset:n/2}},extractGlyphPoints:function(e,t,r,i,n){var o,a,s,l,u,c,h,f,d,p,m,E,v,b,y,g,_,T,w=[],R=t.glyphs[e]||t.glyphs["?"];if(R){if(R.o)for(u=(l=R._cachedOutline||(R._cachedOutline=R.o.split(" "))).length,c=r,h=r,o=0;o<u;)switch(l[o++]){case"m":f=l[o++]*c+i,d=l[o++]*h,n.moveTo(f,d);break;case"l":f=l[o++]*c+i,d=l[o++]*h,n.lineTo(f,d);break;case"q":if(p=l[o++]*c+i,m=l[o++]*h,b=l[o++]*c+i,y=l[o++]*h,n.quadraticCurveTo(b,y,p,m),T=w[w.length-1])for(E=T.x,v=T.y,a=1,s=this.divisions;a<=s;a++){var x=a/s;THREE.Shape.Utils.b2(x,E,b,p),THREE.Shape.Utils.b2(x,v,y,m)}break;case"b":if(p=l[o++]*c+i,m=l[o++]*h,b=l[o++]*c+i,y=l[o++]*-h,g=l[o++]*c+i,_=l[o++]*-h,n.bezierCurveTo(p,m,b,y,g,_),T=w[w.length-1])for(E=T.x,v=T.y,a=1,s=this.divisions;a<=s;a++)x=a/s,THREE.Shape.Utils.b3(x,E,b,g,p),THREE.Shape.Utils.b3(x,v,y,_,m)}return{offset:R.ha*r,path:n}}}},THREE.FontUtils.generateShapes=function(e,t){var r=void 0!==(t=t||{}).size?t.size:100,i=void 0!==t.curveSegments?t.curveSegments:4,n=void 0!==t.font?t.font:"helvetiker",o=void 0!==t.weight?t.weight:"normal",a=void 0!==t.style?t.style:"normal";THREE.FontUtils.size=r,THREE.FontUtils.divisions=i,THREE.FontUtils.face=n,THREE.FontUtils.weight=o,THREE.FontUtils.style=a;for(var s=THREE.FontUtils.drawText(e).paths,l=[],u=0,c=s.length;u<c;u++)Array.prototype.push.apply(l,s[u].toShapes());return l},function(e){var t=function(e){for(var t=e.length,r=0,i=t-1,n=0;n<t;i=n++)r+=e[i].x*e[n].y-e[n].x*e[i].y;return.5*r},r=function(e,t,r,i,n,o){var a,s,l,u,c,h,f,d,p,m,E,v,b,y,g;if(s=e[o[t]].x,l=e[o[t]].y,u=e[o[r]].x,c=e[o[r]].y,h=e[o[i]].x,1e-10>(u-s)*((f=e[o[i]].y)-l)-(c-l)*(h-s))return!1;for(m=h-u,E=f-c,v=s-h,b=l-f,y=u-s,g=c-l,a=0;a<n;a++)if(d=e[o[a]].x,p=e[o[a]].y,!(d===s&&p===l||d===u&&p===c||d===h&&p===f)&&m*(p-c)-E*(d-u)>=-1e-10&&v*(p-f)-b*(d-h)>=-1e-10&&y*(p-l)-g*(d-s)>=-1e-10)return!1;return!0};e.Triangulate=function(e,i){var n=e.length;if(n<3)return null;var o,a,s,l=[],u=[],c=[];if(t(e)>0)for(a=0;a<n;a++)u[a]=a;else for(a=0;a<n;a++)u[a]=n-1-a;var h=n,f=2*h;for(a=h-1;h>2;){if(f--<=0)return console.log("Warning, unable to triangulate polygon!"),i?c:l;if(h<=(o=a)&&(o=0),h<=(a=o+1)&&(a=0),h<=(s=a+1)&&(s=0),r(e,o,a,s,h,u)){var d,p,m,E,v;for(d=u[o],p=u[a],m=u[s],l.push([e[d],e[p],e[m]]),c.push([u[o],u[a],u[s]]),E=a,v=a+1;v<h;E++,v++)u[E]=u[v];f=2*--h}}return i?c:l},e.Triangulate.area=t}(THREE.FontUtils),self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace},THREE.typeface_js=self._typeface_js,THREE.Curve=function(){},THREE.Curve.prototype.getPoint=function(e){return console.log("Warning, getPoint() not implemented!"),null},THREE.Curve.prototype.getPointAt=function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},THREE.Curve.prototype.getPoints=function(e){e||(e=5);var t,r=[];for(t=0;t<=e;t++)r.push(this.getPoint(t/e));return r},THREE.Curve.prototype.getSpacedPoints=function(e){e||(e=5);var t,r=[];for(t=0;t<=e;t++)r.push(this.getPointAt(t/e));return r},THREE.Curve.prototype.getLength=function(){var e=this.getLengths();return e[e.length-1]},THREE.Curve.prototype.getLengths=function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r,i=[],n=this.getPoint(0),o=0;for(i.push(0),r=1;r<=e;r++)o+=(t=this.getPoint(r/e)).distanceTo(n),i.push(o),n=t;return this.cacheArcLengths=i,i},THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},THREE.Curve.prototype.getUtoTmapping=function(e,t){var r,i=this.getLengths(),n=0,o=i.length;r=t||e*i[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=i[n=Math.floor(s+(l-s)/2)]-r)<0)s=n+1;else{if(!(a>0)){l=n;break}l=n-1}if(i[n=l]==r)return n/(o-1);var u=i[n];return(n+(r-u)/(i[n+1]-u))/(o-1)},THREE.Curve.prototype.getTangent=function(e){var t=e-1e-4,r=e+1e-4;t<0&&(t=0),r>1&&(r=1);var i=this.getPoint(t);return this.getPoint(r).clone().sub(i).normalize()},THREE.Curve.prototype.getTangentAt=function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},THREE.Curve.Utils={tangentQuadraticBezier:function(e,t,r,i){return 2*(1-e)*(r-t)+2*e*(i-r)},tangentCubicBezier:function(e,t,r,i,n){return-3*t*(1-e)*(1-e)+3*r*(1-e)*(1-e)-6*e*r*(1-e)+6*e*i*(1-e)-3*e*e*i+3*e*e*n},tangentSpline:function(e,t,r,i,n){return 6*e*e-6*e+(3*e*e-4*e+1)+(-6*e*e+6*e)+(3*e*e-2*e)},interpolate:function(e,t,r,i,n){var o=.5*(r-e),a=.5*(i-t),s=n*n;return(2*t-2*r+o+a)*(n*s)+(-3*t+3*r-2*o-a)*s+o*n+t}},THREE.Curve.create=function(e,t){return e.prototype=Object.create(THREE.Curve.prototype),e.prototype.getPoint=t,e},THREE.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype),THREE.CurvePath.prototype.add=function(e){this.curves.push(e)},THREE.CurvePath.prototype.checkConnection=function(){},THREE.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new THREE.LineCurve(t,e))},THREE.CurvePath.prototype.getPoint=function(e){for(var t,r=e*this.getLength(),i=this.getCurveLengths(),n=0;n<i.length;){if(i[n]>=r){var o=1-(i[n]-r)/(t=this.curves[n]).getLength();return t.getPointAt(o)}n++}return null},THREE.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var e,t=[],r=0,i=this.curves.length;for(e=0;e<i;e++)r+=this.curves[e].getLength(),t.push(r);return this.cacheLengths=t,t},THREE.CurvePath.prototype.getBoundingBox=function(){var e,t,r,i,n,o,a,s,l,u,c=this.getPoints();e=t=Number.NEGATIVE_INFINITY,i=n=Number.POSITIVE_INFINITY;var h=c[0]instanceof THREE.Vector3;for(u=h?new THREE.Vector3:new THREE.Vector2,s=0,l=c.length;s<l;s++)(a=c[s]).x>e?e=a.x:a.x<i&&(i=a.x),a.y>t?t=a.y:a.y<n&&(n=a.y),h&&(a.z>r?r=a.z:a.z<o&&(o=a.z)),u.add(a);var f={minX:i,minY:n,maxX:e,maxY:t,centroid:u.divideScalar(l)};return h&&(f.maxZ=r,f.minZ=o),f},THREE.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e,!0);return this.createGeometry(t)},THREE.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e,!0);return this.createGeometry(t)},THREE.CurvePath.prototype.createGeometry=function(e){for(var t=new THREE.Geometry,r=0;r<e.length;r++)t.vertices.push(new THREE.Vector3(e[r].x,e[r].y,e[r].z||0));return t},THREE.CurvePath.prototype.addWrapPath=function(e){this.bends.push(e)},THREE.CurvePath.prototype.getTransformedPoints=function(e,t){var r,i,n=this.getPoints(e);for(t||(t=this.bends),r=0,i=t.length;r<i;r++)n=this.getWrapPoints(n,t[r]);return n},THREE.CurvePath.prototype.getTransformedSpacedPoints=function(e,t){var r,i,n=this.getSpacedPoints(e);for(t||(t=this.bends),r=0,i=t.length;r<i;r++)n=this.getWrapPoints(n,t[r]);return n},THREE.CurvePath.prototype.getWrapPoints=function(e,t){var r,i,n,o,a,s,l=this.getBoundingBox();for(r=0,i=e.length;r<i;r++){o=(n=e[r]).x,a=n.y,s=o/l.maxX,s=t.getUtoTmapping(s,o);var u=t.getPoint(s),c=t.getTangent(s);c.set(-c.y,c.x).multiplyScalar(a),n.x=u.x+c.x,n.y=u.y+c.y}return e},THREE.Gyroscope=function(){THREE.Object3D.call(this)},THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype),THREE.Gyroscope.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(this.translationWorld,this.quaternionWorld,this.scaleWorld),this.matrix.decompose(this.translationObject,this.quaternionObject,this.scaleObject),this.matrixWorld.compose(this.translationWorld,this.quaternionObject,this.scaleWorld)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,r=this.children.length;t<r;t++)this.children[t].updateMatrixWorld(e)},THREE.Gyroscope.prototype.translationWorld=new THREE.Vector3,THREE.Gyroscope.prototype.translationObject=new THREE.Vector3,THREE.Gyroscope.prototype.quaternionWorld=new THREE.Quaternion,THREE.Gyroscope.prototype.quaternionObject=new THREE.Quaternion,THREE.Gyroscope.prototype.scaleWorld=new THREE.Vector3,THREE.Gyroscope.prototype.scaleObject=new THREE.Vector3,THREE.Path=function(e){THREE.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},THREE.Path.prototype=Object.create(THREE.CurvePath.prototype),THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},THREE.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y)},THREE.Path.prototype.moveTo=function(e,t){var r=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:r})},THREE.Path.prototype.lineTo=function(e,t){var r=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,n=i[i.length-2],o=i[i.length-1],a=new THREE.LineCurve(new THREE.Vector2(n,o),new THREE.Vector2(e,t));this.curves.push(a),this.actions.push({action:THREE.PathActions.LINE_TO,args:r})},THREE.Path.prototype.quadraticCurveTo=function(e,t,r,i){var n=Array.prototype.slice.call(arguments),o=this.actions[this.actions.length-1].args,a=o[o.length-2],s=o[o.length-1],l=new THREE.QuadraticBezierCurve(new THREE.Vector2(a,s),new THREE.Vector2(e,t),new THREE.Vector2(r,i));this.curves.push(l),this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:n})},THREE.Path.prototype.bezierCurveTo=function(e,t,r,i,n,o){var a=Array.prototype.slice.call(arguments),s=this.actions[this.actions.length-1].args,l=s[s.length-2],u=s[s.length-1],c=new THREE.CubicBezierCurve(new THREE.Vector2(l,u),new THREE.Vector2(e,t),new THREE.Vector2(r,i),new THREE.Vector2(n,o));this.curves.push(c),this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:a})},THREE.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,i=r[r.length-2],n=r[r.length-1],o=[new THREE.Vector2(i,n)];Array.prototype.push.apply(o,e);var a=new THREE.SplineCurve(o);this.curves.push(a),this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:t})},THREE.Path.prototype.arc=function(e,t,r,i,n,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],l=a[a.length-1];this.absarc(e+s,t+l,r,i,n,o)},THREE.Path.prototype.absarc=function(e,t,r,i,n,o){this.absellipse(e,t,r,r,i,n,o)},THREE.Path.prototype.ellipse=function(e,t,r,i,n,o,a){var s=this.actions[this.actions.length-1].args,l=s[s.length-2],u=s[s.length-1];this.absellipse(e+l,t+u,r,i,n,o,a)},THREE.Path.prototype.absellipse=function(e,t,r,i,n,o,a){var s=Array.prototype.slice.call(arguments),l=new THREE.EllipseCurve(e,t,r,i,n,o,a);this.curves.push(l);var u=l.getPoint(1);s.push(u.x),s.push(u.y),this.actions.push({action:THREE.PathActions.ELLIPSE,args:s})},THREE.Path.prototype.getSpacedPoints=function(e,t){e||(e=40);for(var r=[],i=0;i<e;i++)r.push(this.getPoint(i/e));return r},THREE.Path.prototype.getPoints=function(e,t){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(e,t);e=e||12;var r,i,n,o,a,s,l,u,c,h,f,d,p,m,E,v,b,y,g=[];for(r=0,i=this.actions.length;r<i;r++)switch(o=(n=this.actions[r]).action,a=n.args,o){case THREE.PathActions.MOVE_TO:case THREE.PathActions.LINE_TO:g.push(new THREE.Vector2(a[0],a[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:for(s=a[2],l=a[3],h=a[0],f=a[1],g.length>0?(d=(m=g[g.length-1]).x,p=m.y):(d=(m=this.actions[r-1].args)[m.length-2],p=m[m.length-1]),E=1;E<=e;E++)v=E/e,b=THREE.Shape.Utils.b2(v,d,h,s),y=THREE.Shape.Utils.b2(v,p,f,l),g.push(new THREE.Vector2(b,y));break;case THREE.PathActions.BEZIER_CURVE_TO:for(s=a[4],l=a[5],h=a[0],f=a[1],u=a[2],c=a[3],g.length>0?(d=(m=g[g.length-1]).x,p=m.y):(d=(m=this.actions[r-1].args)[m.length-2],p=m[m.length-1]),E=1;E<=e;E++)v=E/e,b=THREE.Shape.Utils.b3(v,d,h,u,s),y=THREE.Shape.Utils.b3(v,p,f,c,l),g.push(new THREE.Vector2(b,y));break;case THREE.PathActions.CSPLINE_THRU:m=this.actions[r-1].args;var _=[new THREE.Vector2(m[m.length-2],m[m.length-1])],T=e*a[0].length;_=_.concat(a[0]);var w=new THREE.SplineCurve(_);for(E=1;E<=T;E++)g.push(w.getPointAt(E/T));break;case THREE.PathActions.ARC:var R=a[0],x=a[1],S=a[2],M=a[3],H=a[4],A=!!a[5],C=H-M,P=2*e;for(E=1;E<=P;E++)v=E/P,A||(v=1-v),F=M+v*C,b=R+S*Math.cos(F),y=x+S*Math.sin(F),g.push(new THREE.Vector2(b,y));break;case THREE.PathActions.ELLIPSE:R=a[0],x=a[1];var F,D=a[2],k=a[3];M=a[4],H=a[5],A=!!a[6],C=H-M,P=2*e;for(E=1;E<=P;E++)v=E/P,A||(v=1-v),F=M+v*C,b=R+D*Math.cos(F),y=x+k*Math.sin(F),g.push(new THREE.Vector2(b,y))}var L=g[g.length-1];return Math.abs(L.x-g[0].x)<1e-10&&Math.abs(L.y-g[0].y)<1e-10&&g.splice(g.length-1,1),t&&g.push(g[0]),g},THREE.Path.prototype.toShapes=function(e){function t(e,t){for(var r=t.length,i=!1,n=r-1,o=0;o<r;n=o++){var a=t[n],s=t[o],l=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>1e-10){if(u<0&&(a=t[o],l=-l,s=t[n],u=-u),e.y<a.y||e.y>s.y)continue;if(e.y==a.y){if(e.x==a.x)return!0}else{var c=u*(e.x-a.x)-l*(e.y-a.y);if(0==c)return!0;if(c<0)continue;i=!i}}else{if(e.y!=a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return i}var r,i,n,o,a,s=[],l=new THREE.Path;for(r=0,i=this.actions.length;r<i;r++)a=(n=this.actions[r]).args,(o=n.action)==THREE.PathActions.MOVE_TO&&0!=l.actions.length&&(s.push(l),l=new THREE.Path),l[o].apply(l,a);if(0!=l.actions.length&&s.push(l),0==s.length)return[];var u,c,h,f=[];if(1==s.length)return c=s[0],(h=new THREE.Shape).actions=c.actions,h.curves=c.curves,f.push(h),f;var d=!THREE.Shape.Utils.isClockWise(s[0].getPoints());d=e?!d:d;var p,m,E,v,b=[],y=[],g=[],_=0;for(y[_]=void 0,g[_]=[],r=0,i=s.length;r<i;r++)p=(c=s[r]).getPoints(),u=THREE.Shape.Utils.isClockWise(p),(u=e?!u:u)?(!d&&y[_]&&_++,y[_]={s:new THREE.Shape,p:p},y[_].s.actions=c.actions,y[_].s.curves=c.curves,d&&_++,g[_]=[]):g[_].push({h:c,p:p[0]});if(y.length>1){for(var T=!1,w=[],R=0,x=y.length;R<x;R++)b[R]=[];for(R=0,x=y.length;R<x;R++){y[R];for(var S=g[R],M=0;M<S.length;M++){for(var H=S[M],A=!0,C=0;C<y.length;C++)t(H.p,y[C].p)&&(R!=C&&w.push({froms:R,tos:C,hole:M}),A?(A=!1,b[C].push(H)):T=!0);A&&b[R].push(H)}}w.length>0&&(T||(g=b))}for(r=0,i=y.length;r<i;r++)for(h=y[r].s,f.push(h),E=0,v=(m=g[r]).length;E<v;E++)h.holes.push(m[E].h);return f},THREE.Shape=function(){THREE.Path.apply(this,arguments),this.holes=[]},THREE.Shape.prototype=Object.create(THREE.Path.prototype),THREE.Shape.prototype.extrude=function(e){return new THREE.ExtrudeGeometry(this,e)},THREE.Shape.prototype.makeGeometry=function(e){return new THREE.ShapeGeometry(this,e)},THREE.Shape.prototype.getPointsHoles=function(e){var t,r=this.holes.length,i=[];for(t=0;t<r;t++)i[t]=this.holes[t].getTransformedPoints(e,this.bends);return i},THREE.Shape.prototype.getSpacedPointsHoles=function(e){var t,r=this.holes.length,i=[];for(t=0;t<r;t++)i[t]=this.holes[t].getTransformedSpacedPoints(e,this.bends);return i},THREE.Shape.prototype.extractAllPoints=function(e){return{shape:this.getTransformedPoints(e),holes:this.getPointsHoles(e)}},THREE.Shape.prototype.extractPoints=function(e){return this.useSpacedPoints?this.extractAllSpacedPoints(e):this.extractAllPoints(e)},THREE.Shape.prototype.extractAllSpacedPoints=function(e){return{shape:this.getTransformedSpacedPoints(e),holes:this.getSpacedPointsHoles(e)}},THREE.Shape.Utils={triangulateShape:function(e,t){function r(e,t,r){return e.x!=t.x?e.x<t.x?e.x<=r.x&&r.x<=t.x:t.x<=r.x&&r.x<=e.x:e.y<t.y?e.y<=r.y&&r.y<=t.y:t.y<=r.y&&r.y<=e.y}function i(e,t,i,n,o){var a=t.x-e.x,s=t.y-e.y,l=n.x-i.x,u=n.y-i.y,c=e.x-i.x,h=e.y-i.y,f=s*l-a*u,d=s*c-a*h;if(Math.abs(f)>1e-10){var p;if(f>0){if(d<0||d>f)return[];if((p=u*c-l*h)<0||p>f)return[]}else{if(d>0||d<f)return[];if((p=u*c-l*h)>0||p<f)return[]}if(0==p)return!o||0!=d&&d!=f?[e]:[];if(p==f)return!o||0!=d&&d!=f?[t]:[];if(0==d)return[i];if(d==f)return[n];var m=p/f;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!=d||u*c!=l*h)return[];var E,v,b,y,g,_,T,w,R=0==a&&0==s,x=0==l&&0==u;return R&&x?e.x!=i.x||e.y!=i.y?[]:[e]:R?r(i,n,e)?[e]:[]:x?r(e,t,i)?[i]:[]:(0!=a?(e.x<t.x?(E=e,b=e.x,v=t,y=t.x):(E=t,b=t.x,v=e,y=e.x),i.x<n.x?(g=i,T=i.x,_=n,w=n.x):(g=n,T=n.x,_=i,w=i.x)):(e.y<t.y?(E=e,b=e.y,v=t,y=t.y):(E=t,b=t.y,v=e,y=e.y),i.y<n.y?(g=i,T=i.y,_=n,w=n.y):(g=n,T=n.y,_=i,w=i.y)),b<=T?y<T?[]:y==T?o?[]:[g]:y<=w?[g,v]:[g,_]:b>w?[]:b==w?o?[]:[E]:y<=w?[E,v]:[E,_])}function n(e,t,r,i){var n=t.x-e.x,o=t.y-e.y,a=r.x-e.x,s=r.y-e.y,l=i.x-e.x,u=i.y-e.y,c=n*s-o*a,h=n*u-o*l;if(Math.abs(c)>1e-10){var f=l*s-u*a;return c>0?h>=0&&f>=0:h>=0||f>=0}return h>0}for(var o,a,s,l,u,c,h={},f=e.concat(),d=0,p=t.length;d<p;d++)Array.prototype.push.apply(f,t[d]);for(o=0,a=f.length;o<a;o++)void 0!==h[u=f[o].x+":"+f[o].y]&&console.log("Duplicate point",u),h[u]=o;var m=function(e,t){var r,o=e.concat();function a(e,t){var i=o.length-1,a=e-1;a<0&&(a=i);var s=e+1;s>i&&(s=0);var l=n(o[e],o[a],o[s],r[t]);if(!l)return!1;var u=r.length-1,c=t-1;c<0&&(c=u);var h=t+1;return h>u&&(h=0),!!(l=n(r[t],r[c],r[h],o[e]))}function s(e,t){var r,n;for(r=0;r<o.length;r++)if(n=r+1,n%=o.length,i(e,t,o[r],o[n],!0).length>0)return!0;return!1}var l=[];function u(e,r){var n,o,a,s;for(n=0;n<l.length;n++)for(o=t[l[n]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,i(e,r,o[a],o[s],!0).length>0)return!0;return!1}for(var c,h,f,d,p,m,E,v,b,y,g=[],_=0,T=t.length;_<T;_++)l.push(_);for(var w=2*l.length;l.length>0;){if(--w<0){console.log("Infinite Loop! Holes left:"+l.length+", Probably Hole outside Shape!");break}for(h=0;h<o.length;h++){for(f=o[h],c=-1,_=0;_<l.length;_++)if(p=l[_],void 0===g[m=f.x+":"+f.y+":"+p]){r=t[p];for(var R=0;R<r.length;R++)if(d=r[R],a(h,R)&&!s(f,d)&&!u(f,d)){c=R,l.splice(_,1),E=o.slice(0,h+1),v=o.slice(h),b=r.slice(c),y=r.slice(0,c+1),o=E.concat(b).concat(y).concat(v);break}if(c>=0)break;g[m]=!0}if(c>=0)break}}return o}(e,t),E=THREE.FontUtils.Triangulate(m,!1);for(o=0,a=E.length;o<a;o++)for(l=E[o],s=0;s<3;s++)void 0!==(c=h[u=l[s].x+":"+l[s].y])&&(l[s]=c);return E.concat()},isClockWise:function(e){return THREE.FontUtils.Triangulate.area(e)<0},b2p0:function(e,t){var r=1-e;return r*r*t},b2p1:function(e,t){return 2*(1-e)*e*t},b2p2:function(e,t){return e*e*t},b2:function(e,t,r,i){return this.b2p0(e,t)+this.b2p1(e,r)+this.b2p2(e,i)},b3p0:function(e,t){var r=1-e;return r*r*r*t},b3p1:function(e,t){var r=1-e;return 3*r*r*e*t},b3p2:function(e,t){return 3*(1-e)*e*e*t},b3p3:function(e,t){return e*e*e*t},b3:function(e,t,r,i,n){return this.b3p0(e,t)+this.b3p1(e,r)+this.b3p2(e,i)+this.b3p3(e,n)}},THREE.LineCurve=function(e,t){this.v1=e,this.v2=t},THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},THREE.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},THREE.LineCurve.prototype.getTangent=function(e){return this.v2.clone().sub(this.v1).normalize()},THREE.QuadraticBezierCurve=function(e,t,r){this.v0=e,this.v1=t,this.v2=r},THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.getPoint=function(e){var t,r;return t=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),r=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),new THREE.Vector2(t,r)},THREE.QuadraticBezierCurve.prototype.getTangent=function(e){var t,r;t=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.x,this.v1.x,this.v2.x),r=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.y,this.v1.y,this.v2.y);var i=new THREE.Vector2(t,r);return i.normalize(),i},THREE.CubicBezierCurve=function(e,t,r,i){this.v0=e,this.v1=t,this.v2=r,this.v3=i},THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.getPoint=function(e){var t,r;return t=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new THREE.Vector2(t,r)},THREE.CubicBezierCurve.prototype.getTangent=function(e){var t,r;t=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var i=new THREE.Vector2(t,r);return i.normalize(),i},THREE.SplineCurve=function(e){this.points=void 0==e?[]:e},THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.getPoint=function(e){var t,r,i,n=new THREE.Vector2,o=[],a=this.points;return i=(t=(a.length-1)*e)-(r=Math.floor(t)),o[0]=0==r?r:r-1,o[1]=r,o[2]=r>a.length-2?a.length-1:r+1,o[3]=r>a.length-3?a.length-1:r+2,n.x=THREE.Curve.Utils.interpolate(a[o[0]].x,a[o[1]].x,a[o[2]].x,a[o[3]].x,i),n.y=THREE.Curve.Utils.interpolate(a[o[0]].y,a[o[1]].y,a[o[2]].y,a[o[3]].y,i),n},THREE.EllipseCurve=function(e,t,r,i,n,o,a){this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=n,this.aEndAngle=o,this.aClockwise=a},THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.getPoint=function(e){var t,r=this.aEndAngle-this.aStartAngle;r<0&&(r+=2*Math.PI),r>2*Math.PI&&(r-=2*Math.PI),t=!0===this.aClockwise?this.aEndAngle+(1-e)*(2*Math.PI-r):this.aStartAngle+e*r;var i=this.aX+this.xRadius*Math.cos(t),n=this.aY+this.yRadius*Math.sin(t);return new THREE.Vector2(i,n)},THREE.ArcCurve=function(e,t,r,i,n,o){THREE.EllipseCurve.call(this,e,t,r,r,i,n,o)},THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype),THREE.LineCurve3=THREE.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new THREE.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),THREE.QuadraticBezierCurve3=THREE.Curve.create(function(e,t,r){this.v0=e,this.v1=t,this.v2=r},function(e){var t,r,i;return t=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),r=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),i=THREE.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z),new THREE.Vector3(t,r,i)}),THREE.CubicBezierCurve3=THREE.Curve.create(function(e,t,r,i){this.v0=e,this.v1=t,this.v2=r,this.v3=i},function(e){var t,r,i;return t=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),i=THREE.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z),new THREE.Vector3(t,r,i)}),THREE.SplineCurve3=THREE.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t,r,i,n=new THREE.Vector3,o=[],a=this.points;i=(t=(a.length-1)*e)-(r=Math.floor(t)),o[0]=0==r?r:r-1,o[1]=r,o[2]=r>a.length-2?a.length-1:r+1,o[3]=r>a.length-3?a.length-1:r+2;var s=a[o[0]],l=a[o[1]],u=a[o[2]],c=a[o[3]];return n.x=THREE.Curve.Utils.interpolate(s.x,l.x,u.x,c.x,i),n.y=THREE.Curve.Utils.interpolate(s.y,l.y,u.y,c.y,i),n.z=THREE.Curve.Utils.interpolate(s.z,l.z,u.z,c.z,i),n}),THREE.ClosedSplineCurve3=THREE.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t,r,i,n=new THREE.Vector3,o=[],a=this.points;return i=(t=(a.length-0)*e)-(r=Math.floor(t)),r+=r>0?0:(Math.floor(Math.abs(r)/a.length)+1)*a.length,o[0]=(r-1)%a.length,o[1]=r%a.length,o[2]=(r+1)%a.length,o[3]=(r+2)%a.length,n.x=THREE.Curve.Utils.interpolate(a[o[0]].x,a[o[1]].x,a[o[2]].x,a[o[3]].x,i),n.y=THREE.Curve.Utils.interpolate(a[o[0]].y,a[o[1]].y,a[o[2]].y,a[o[3]].y,i),n.z=THREE.Curve.Utils.interpolate(a[o[0]].z,a[o[1]].z,a[o[2]].z,a[o[3]].z,i),n}),THREE.AnimationHandler=function(){var e=[],t={},r={update:function(t){for(var r=0;r<e.length;r++)e[r].update(t)},addToUpdate:function(t){-1===e.indexOf(t)&&e.push(t)},removeFromUpdate:function(t){var r=e.indexOf(t);-1!==r&&e.splice(r,1)},add:function(e){void 0!==t[e.name]&&console.log("THREE.AnimationHandler.add: Warning! "+e.name+" already exists in library. Overwriting."),t[e.name]=e,n(e)},get:function(e){if("string"==typeof e)return t[e]?t[e]:(console.log("THREE.AnimationHandler.get: Couldn't find animation "+e),null)},parse:function(e){var t=[];if(e instanceof THREE.SkinnedMesh)for(var r=0;r<e.bones.length;r++)t.push(e.bones[r]);else i(e,t);return t}},i=function(e,t){t.push(e);for(var r=0;r<e.children.length;r++)i(e.children[r],t)},n=function(e){if(!0!==e.initialized){for(var t=0;t<e.hierarchy.length;t++){for(var r=0;r<e.hierarchy[t].keys.length;r++)if(e.hierarchy[t].keys[r].time<0&&(e.hierarchy[t].keys[r].time=0),void 0!==e.hierarchy[t].keys[r].rot&&!(e.hierarchy[t].keys[r].rot instanceof THREE.Quaternion)){var i=e.hierarchy[t].keys[r].rot;e.hierarchy[t].keys[r].rot=new THREE.Quaternion(i[0],i[1],i[2],i[3])}if(e.hierarchy[t].keys.length&&void 0!==e.hierarchy[t].keys[0].morphTargets){var n={};for(r=0;r<e.hierarchy[t].keys.length;r++)for(var o=0;o<e.hierarchy[t].keys[r].morphTargets.length;o++){n[s=e.hierarchy[t].keys[r].morphTargets[o]]=-1}e.hierarchy[t].usedMorphTargets=n;for(r=0;r<e.hierarchy[t].keys.length;r++){var a={};for(var s in n){for(o=0;o<e.hierarchy[t].keys[r].morphTargets.length;o++)if(e.hierarchy[t].keys[r].morphTargets[o]===s){a[s]=e.hierarchy[t].keys[r].morphTargetsInfluences[o];break}o===e.hierarchy[t].keys[r].morphTargets.length&&(a[s]=0)}e.hierarchy[t].keys[r].morphTargetsInfluences=a}}for(r=1;r<e.hierarchy[t].keys.length;r++)e.hierarchy[t].keys[r].time===e.hierarchy[t].keys[r-1].time&&(e.hierarchy[t].keys.splice(r,1),r--);for(r=0;r<e.hierarchy[t].keys.length;r++)e.hierarchy[t].keys[r].index=r}e.initialized=!0}};return r.LINEAR=0,r.CATMULLROM=1,r.CATMULLROM_FORWARD=2,r}(),THREE.Animation=function(e,t){this.root=e,this.data=THREE.AnimationHandler.get(t),this.hierarchy=THREE.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.isPaused=!0,this.loop=!0,this.interpolationType=THREE.AnimationHandler.LINEAR},THREE.Animation.prototype.play=function(e){this.currentTime=void 0!==e?e:0,!1===this.isPlaying&&(this.isPlaying=!0,this.reset(),this.update(0)),this.isPaused=!1,THREE.AnimationHandler.addToUpdate(this)},THREE.Animation.prototype.pause=function(){!0===this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},THREE.Animation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,THREE.AnimationHandler.removeFromUpdate(this)},THREE.Animation.prototype.reset=function(){for(var e=0,t=this.hierarchy.length;e<t;e++){var r=this.hierarchy[e];r.matrixAutoUpdate=!0,void 0===r.animationCache&&(r.animationCache={},r.animationCache.prevKey={pos:0,rot:0,scl:0},r.animationCache.nextKey={pos:0,rot:0,scl:0},r.animationCache.originalMatrix=r instanceof THREE.Bone?r.skinMatrix:r.matrix);var i=r.animationCache.prevKey,n=r.animationCache.nextKey;i.pos=this.data.hierarchy[e].keys[0],i.rot=this.data.hierarchy[e].keys[0],i.scl=this.data.hierarchy[e].keys[0],n.pos=this.getNextKeyWith("pos",e,1),n.rot=this.getNextKeyWith("rot",e,1),n.scl=this.getNextKeyWith("scl",e,1)}},THREE.Animation.prototype.update=function(){var e=[],t=new THREE.Vector3,r=function(e,t){var r,n,o,a,s,l,u,c,h,f=[],d=[];return o=(r=(e.length-1)*t)-(n=Math.floor(r)),f[0]=0===n?n:n-1,f[1]=n,f[2]=n>e.length-2?n:n+1,f[3]=n>e.length-3?n:n+2,l=e[f[0]],u=e[f[1]],c=e[f[2]],h=e[f[3]],s=o*(a=o*o),d[0]=i(l[0],u[0],c[0],h[0],o,a,s),d[1]=i(l[1],u[1],c[1],h[1],o,a,s),d[2]=i(l[2],u[2],c[2],h[2],o,a,s),d},i=function(e,t,r,i,n,o,a){var s=.5*(r-e),l=.5*(i-t);return(2*(t-r)+s+l)*a+(-3*(t-r)-2*s-l)*o+s*n+t};return function(i){if(!1!==this.isPlaying){var n;this.currentTime+=i*this.timeScale;var o=["pos","rot","scl"],a=this.data.length;if(!0===this.loop&&this.currentTime>a)this.currentTime%=a,this.reset();else if(!1===this.loop&&this.currentTime>a)return void this.stop();this.currentTime=Math.min(this.currentTime,a);for(var s=0,l=this.hierarchy.length;s<l;s++)for(var u=this.hierarchy[s],c=u.animationCache,h=0;h<3;h++){var f=o[h],d=c.prevKey[f],p=c.nextKey[f];if(p.time<=this.currentTime){for(d=this.data.hierarchy[s].keys[0],p=this.getNextKeyWith(f,s,1);p.time<this.currentTime&&p.index>d.index;)d=p,p=this.getNextKeyWith(f,s,p.index+1);c.prevKey[f]=d,c.nextKey[f]=p}u.matrixAutoUpdate=!0,u.matrixWorldNeedsUpdate=!0;var m=(this.currentTime-d.time)/(p.time-d.time),E=d[f],v=p[f];if(m<0&&(m=0),m>1&&(m=1),"pos"===f){if(n=u.position,this.interpolationType===THREE.AnimationHandler.LINEAR)n.x=E[0]+(v[0]-E[0])*m,n.y=E[1]+(v[1]-E[1])*m,n.z=E[2]+(v[2]-E[2])*m;else if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){e[0]=this.getPrevKeyWith("pos",s,d.index-1).pos,e[1]=E,e[2]=v,e[3]=this.getNextKeyWith("pos",s,p.index+1).pos;var b=r(e,m=.33*m+.33);if(n.x=b[0],n.y=b[1],n.z=b[2],this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){var y=r(e,1.01*m);t.set(y[0],y[1],y[2]),t.sub(n),t.y=0,t.normalize();var g=Math.atan2(t.x,t.z);u.rotation.set(0,g,0)}}}else"rot"===f?THREE.Quaternion.slerp(E,v,u.quaternion,m):"scl"===f&&((n=u.scale).x=E[0]+(v[0]-E[0])*m,n.y=E[1]+(v[1]-E[1])*m,n.z=E[2]+(v[2]-E[2])*m)}}}}(),THREE.Animation.prototype.getNextKeyWith=function(e,t,r){var i=this.data.hierarchy[t].keys;for(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?r=r<i.length-1?r:i.length-1:r%=i.length;r<i.length;r++)if(void 0!==i[r][e])return i[r];return this.data.hierarchy[t].keys[0]},THREE.Animation.prototype.getPrevKeyWith=function(e,t,r){var i=this.data.hierarchy[t].keys;for(r=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?r>0?r:0:r>=0?r:r+i.length;r>=0;r--)if(void 0!==i[r][e])return i[r];return this.data.hierarchy[t].keys[i.length-1]},THREE.KeyFrameAnimation=function(e,t){this.root=e,this.data=THREE.AnimationHandler.get(t),this.hierarchy=THREE.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0;for(var r=0,i=this.hierarchy.length;r<i;r++){var n=this.data.hierarchy[r].keys,o=this.data.hierarchy[r].sids,a=this.hierarchy[r];if(n.length&&o){for(var s=0;s<o.length;s++){var l=o[s],u=this.getNextKeyWith(l,r,0);u&&u.apply(l)}a.matrixAutoUpdate=!1,this.data.hierarchy[r].node.updateMatrix(),a.matrixWorldNeedsUpdate=!0}}},THREE.KeyFrameAnimation.prototype.play=function(e){if(this.currentTime=void 0!==e?e:0,!1===this.isPlaying){this.isPlaying=!0;var t,r,i,n=this.hierarchy.length;for(t=0;t<n;t++){r=this.hierarchy[t],void 0===(i=this.data.hierarchy[t]).animationCache&&(i.animationCache={},i.animationCache.prevKey=null,i.animationCache.nextKey=null,i.animationCache.originalMatrix=r instanceof THREE.Bone?r.skinMatrix:r.matrix);var o=this.data.hierarchy[t].keys;o.length&&(i.animationCache.prevKey=o[0],i.animationCache.nextKey=o[1],this.startTime=Math.min(o[0].time,this.startTime),this.endTime=Math.max(o[o.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,THREE.AnimationHandler.addToUpdate(this)},THREE.KeyFrameAnimation.prototype.pause=function(){this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},THREE.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,THREE.AnimationHandler.removeFromUpdate(this);for(var e=0;e<this.data.hierarchy.length;e++){var t=this.hierarchy[e],r=this.data.hierarchy[e];if(void 0!==r.animationCache){var i=r.animationCache.originalMatrix;t instanceof THREE.Bone?(i.copy(t.skinMatrix),t.skinMatrix=i):(i.copy(t.matrix),t.matrix=i),delete r.animationCache}}},THREE.KeyFrameAnimation.prototype.update=function(e){if(!1!==this.isPlaying){this.currentTime+=e*this.timeScale;var t=this.data.length;!0===this.loop&&this.currentTime>t&&(this.currentTime%=t),this.currentTime=Math.min(this.currentTime,t);for(var r=0,i=this.hierarchy.length;r<i;r++){var n=this.hierarchy[r],o=this.data.hierarchy[r],a=o.keys,s=o.animationCache;if(a.length){var l=s.prevKey,u=s.nextKey;if(u.time<=this.currentTime){for(;u.time<this.currentTime&&u.index>l.index;)u=a[(l=u).index+1];s.prevKey=l,s.nextKey=u}u.time>=this.currentTime?l.interpolate(u,this.currentTime):l.interpolate(u,u.time),this.data.hierarchy[r].node.updateMatrix(),n.matrixWorldNeedsUpdate=!0}}}},THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(e,t,r){var i=this.data.hierarchy[t].keys;for(r%=i.length;r<i.length;r++)if(i[r].hasTarget(e))return i[r];return i[0]},THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(e,t,r){var i=this.data.hierarchy[t].keys;for(r=r>=0?r:r+i.length;r>=0;r--)if(i[r].hasTarget(e))return i[r];return i[i.length-1]},THREE.MorphAnimation=function(e){this.mesh=e,this.frames=e.morphTargetInfluences.length,this.currentTime=0,this.duration=1e3,this.loop=!0,this.isPlaying=!1},THREE.MorphAnimation.prototype={play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(){var e=0,t=0;return function(r){if(!1!==this.isPlaying){this.currentTime+=r,!0===this.loop&&this.currentTime>this.duration&&(this.currentTime%=this.duration),this.currentTime=Math.min(this.currentTime,this.duration);var i=this.duration/this.frames,n=Math.floor(this.currentTime/i);n!=t&&(this.mesh.morphTargetInfluences[e]=0,this.mesh.morphTargetInfluences[t]=1,this.mesh.morphTargetInfluences[n]=0,e=t,t=n),this.mesh.morphTargetInfluences[n]=this.currentTime%i/i,this.mesh.morphTargetInfluences[e]=1-this.mesh.morphTargetInfluences[n]}}}()},THREE.CubeCamera=function(e,t,r){THREE.Object3D.call(this);var i=new THREE.PerspectiveCamera(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new THREE.Vector3(1,0,0)),this.add(i);var n=new THREE.PerspectiveCamera(90,1,e,t);n.up.set(0,-1,0),n.lookAt(new THREE.Vector3(-1,0,0)),this.add(n);var o=new THREE.PerspectiveCamera(90,1,e,t);o.up.set(0,0,1),o.lookAt(new THREE.Vector3(0,1,0)),this.add(o);var a=new THREE.PerspectiveCamera(90,1,e,t);a.up.set(0,0,-1),a.lookAt(new THREE.Vector3(0,-1,0)),this.add(a);var s=new THREE.PerspectiveCamera(90,1,e,t);s.up.set(0,-1,0),s.lookAt(new THREE.Vector3(0,0,1)),this.add(s);var l=new THREE.PerspectiveCamera(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new THREE.Vector3(0,0,-1)),this.add(l),this.renderTarget=new THREE.WebGLRenderTargetCube(r,r,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter}),this.updateCubeMap=function(e,t){var r=this.renderTarget,u=r.generateMipmaps;r.generateMipmaps=!1,r.activeCubeFace=0,e.render(t,i,r),r.activeCubeFace=1,e.render(t,n,r),r.activeCubeFace=2,e.render(t,o,r),r.activeCubeFace=3,e.render(t,a,r),r.activeCubeFace=4,e.render(t,s,r),r.generateMipmaps=u,r.activeCubeFace=5,e.render(t,l,r)}},THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype),THREE.CombinedCamera=function(e,t,r,i,n,o,a){THREE.Camera.call(this),this.fov=r,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2,this.cameraO=new THREE.OrthographicCamera(e/-2,e/2,t/2,t/-2,o,a),this.cameraP=new THREE.PerspectiveCamera(r,e/t,i,n),this.zoom=1,this.toPerspective()},THREE.CombinedCamera.prototype=Object.create(THREE.Camera.prototype),THREE.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near,this.far=this.cameraP.far,this.cameraP.fov=this.fov/this.zoom,this.cameraP.updateProjectionMatrix(),this.projectionMatrix=this.cameraP.projectionMatrix,this.inPerspectiveMode=!0,this.inOrthographicMode=!1},THREE.CombinedCamera.prototype.toOrthographic=function(){var e=this.fov,t=this.cameraP.aspect,r=(this.cameraP.near+this.cameraP.far)/2,i=Math.tan(e/2)*r,n=2*i*t/2;i/=this.zoom,n/=this.zoom,this.cameraO.left=-n,this.cameraO.right=n,this.cameraO.top=i,this.cameraO.bottom=-i,this.cameraO.updateProjectionMatrix(),this.near=this.cameraO.near,this.far=this.cameraO.far,this.projectionMatrix=this.cameraO.projectionMatrix,this.inPerspectiveMode=!1,this.inOrthographicMode=!0},THREE.CombinedCamera.prototype.setSize=function(e,t){this.cameraP.aspect=e/t,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2},THREE.CombinedCamera.prototype.setFov=function(e){this.fov=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},THREE.CombinedCamera.prototype.updateProjectionMatrix=function(){this.inPerspectiveMode?this.toPerspective():(this.toPerspective(),this.toOrthographic())},THREE.CombinedCamera.prototype.setLens=function(e,t){void 0===t&&(t=24);var r=2*THREE.Math.radToDeg(Math.atan(t/(2*e)));return this.setFov(r),r},THREE.CombinedCamera.prototype.setZoom=function(e){this.zoom=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},THREE.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0,this.rotation.y=Math.PI,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0,this.rotation.y=-Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0,this.rotation.y=Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.BoxGeometry=function(e,t,r,i,n,o){THREE.Geometry.call(this);var a=this;this.width=e,this.height=t,this.depth=r,this.widthSegments=i||1,this.heightSegments=n||1,this.depthSegments=o||1;var s=this.width/2,l=this.height/2,u=this.depth/2;function c(e,t,r,i,n,o,s,l){var u,c,h,f=a.widthSegments,d=a.heightSegments,p=n/2,m=o/2,E=a.vertices.length;"x"===e&&"y"===t||"y"===e&&"x"===t?u="z":"x"===e&&"z"===t||"z"===e&&"x"===t?(u="y",d=a.depthSegments):("z"===e&&"y"===t||"y"===e&&"z"===t)&&(u="x",f=a.depthSegments);var v=f+1,b=d+1,y=n/f,g=o/d,_=new THREE.Vector3;for(_[u]=s>0?1:-1,h=0;h<b;h++)for(c=0;c<v;c++){var T=new THREE.Vector3;T[e]=(c*y-p)*r,T[t]=(h*g-m)*i,T[u]=s,a.vertices.push(T)}for(h=0;h<d;h++)for(c=0;c<f;c++){var w=c+v*h,R=c+v*(h+1),x=c+1+v*(h+1),S=c+1+v*h,M=new THREE.Vector2(c/f,1-h/d),H=new THREE.Vector2(c/f,1-(h+1)/d),A=new THREE.Vector2((c+1)/f,1-(h+1)/d),C=new THREE.Vector2((c+1)/f,1-h/d),P=new THREE.Face3(w+E,R+E,S+E);P.normal.copy(_),P.vertexNormals.push(_.clone(),_.clone(),_.clone()),P.materialIndex=l,a.faces.push(P),a.faceVertexUvs[0].push([M,H,C]),(P=new THREE.Face3(R+E,x+E,S+E)).normal.copy(_),P.vertexNormals.push(_.clone(),_.clone(),_.clone()),P.materialIndex=l,a.faces.push(P),a.faceVertexUvs[0].push([H.clone(),A,C.clone()])}}c("z","y",-1,-1,this.depth,this.height,s,0),c("z","y",1,-1,this.depth,this.height,-s,1),c("x","z",1,1,this.width,this.depth,l,2),c("x","z",1,-1,this.width,this.depth,-l,3),c("x","y",1,-1,this.width,this.height,u,4),c("x","y",-1,-1,this.width,this.height,-u,5),this.computeCentroids(),this.mergeVertices()},THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CircleGeometry=function(e,t,r,i){THREE.Geometry.call(this),this.radius=e=e||50,this.segments=t=void 0!==t?Math.max(3,t):8,this.thetaStart=r=void 0!==r?r:0,this.thetaLength=i=void 0!==i?i:2*Math.PI;var n,o=[],a=new THREE.Vector3,s=new THREE.Vector2(.5,.5);for(this.vertices.push(a),o.push(s),n=0;n<=t;n++){var l=new THREE.Vector3,u=r+n/t*i;l.x=e*Math.cos(u),l.y=e*Math.sin(u),this.vertices.push(l),o.push(new THREE.Vector2((l.x/e+1)/2,(l.y/e+1)/2))}var c=new THREE.Vector3(0,0,1);for(n=1;n<=t;n++){var h=n,f=n+1;this.faces.push(new THREE.Face3(h,f,0,[c.clone(),c.clone(),c.clone()])),this.faceVertexUvs[0].push([o[n].clone(),o[n+1].clone(),s.clone()])}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CubeGeometry=THREE.BoxGeometry,THREE.CylinderGeometry=function(e,t,r,i,n,o){THREE.Geometry.call(this),this.radiusTop=e=void 0!==e?e:20,this.radiusBottom=t=void 0!==t?t:20,this.height=r=void 0!==r?r:100,this.radialSegments=i=i||8,this.heightSegments=n=n||1,this.openEnded=o=void 0!==o&&o;var a,s,l=r/2,u=[],c=[];for(s=0;s<=n;s++){var h=[],f=[],d=s/n,p=d*(t-e)+e;for(a=0;a<=i;a++){var m=a/i,E=new THREE.Vector3;E.x=p*Math.sin(m*Math.PI*2),E.y=-d*r+l,E.z=p*Math.cos(m*Math.PI*2),this.vertices.push(E),h.push(this.vertices.length-1),f.push(new THREE.Vector2(m,1-d))}u.push(h),c.push(f)}var v,b,y=(t-e)/r;for(a=0;a<i;a++)for(0!==e?(v=this.vertices[u[0][a]].clone(),b=this.vertices[u[0][a+1]].clone()):(v=this.vertices[u[1][a]].clone(),b=this.vertices[u[1][a+1]].clone()),v.setY(Math.sqrt(v.x*v.x+v.z*v.z)*y).normalize(),b.setY(Math.sqrt(b.x*b.x+b.z*b.z)*y).normalize(),s=0;s<n;s++){var g=u[s][a],_=u[s+1][a],T=u[s+1][a+1],w=u[s][a+1],R=v.clone(),x=v.clone(),S=b.clone(),M=b.clone(),H=c[s][a].clone(),A=c[s+1][a].clone(),C=c[s+1][a+1].clone(),P=c[s][a+1].clone();this.faces.push(new THREE.Face3(g,_,w,[R,x,M])),this.faceVertexUvs[0].push([H,A,P]),this.faces.push(new THREE.Face3(_,T,w,[x.clone(),S,M.clone()])),this.faceVertexUvs[0].push([A.clone(),C,P.clone()])}if(!1===o&&e>0)for(this.vertices.push(new THREE.Vector3(0,l,0)),a=0;a<i;a++){g=u[0][a],_=u[0][a+1],T=this.vertices.length-1,R=new THREE.Vector3(0,1,0),x=new THREE.Vector3(0,1,0),S=new THREE.Vector3(0,1,0),H=c[0][a].clone(),A=c[0][a+1].clone(),C=new THREE.Vector2(A.x,0);this.faces.push(new THREE.Face3(g,_,T,[R,x,S])),this.faceVertexUvs[0].push([H,A,C])}if(!1===o&&t>0)for(this.vertices.push(new THREE.Vector3(0,-l,0)),a=0;a<i;a++){g=u[s][a+1],_=u[s][a],T=this.vertices.length-1,R=new THREE.Vector3(0,-1,0),x=new THREE.Vector3(0,-1,0),S=new THREE.Vector3(0,-1,0),H=c[s][a+1].clone(),A=c[s][a].clone(),C=new THREE.Vector2(A.x,1);this.faces.push(new THREE.Face3(g,_,T,[R,x,S])),this.faceVertexUvs[0].push([H,A,C])}this.computeCentroids(),this.computeFaceNormals()},THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry=function(e,t){void 0!==e?(THREE.Geometry.call(this),e=e instanceof Array?e:[e],this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeCentroids(),this.computeFaceNormals()):e=[]},THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var r=e.length,i=0;i<r;i++){var n=e[i];this.addShape(n,t)}},THREE.ExtrudeGeometry.prototype.addShape=function(e,t){var r,i,n,o,a,s,l,u,c=void 0!==t.amount?t.amount:100,h=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:h-2,d=void 0!==t.bevelSegments?t.bevelSegments:3,p=void 0===t.bevelEnabled||t.bevelEnabled,m=void 0!==t.curveSegments?t.curveSegments:12,E=void 0!==t.steps?t.steps:1,v=t.extrudePath,b=!1,y=t.material,g=t.extrudeMaterial,_=void 0!==t.UVGenerator?t.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator;this.shapebb;v&&(r=v.getSpacedPoints(E),b=!0,p=!1,i=void 0!==t.frames?t.frames:new THREE.TubeGeometry.FrenetFrames(v,E,!1),n=new THREE.Vector3,o=new THREE.Vector3,a=new THREE.Vector3),p||(d=0,h=0,f=0);var T=this,w=this.vertices.length,R=e.extractPoints(m),x=R.shape,S=R.holes,M=!THREE.Shape.Utils.isClockWise(x);if(M){for(x=x.reverse(),l=0,u=S.length;l<u;l++)s=S[l],THREE.Shape.Utils.isClockWise(s)&&(S[l]=s.reverse());M=!1}var H=THREE.Shape.Utils.triangulateShape(x,S),A=x;for(l=0,u=S.length;l<u;l++)s=S[l],x=x.concat(s);function C(e,t,r){return t||console.log("die"),t.clone().multiplyScalar(r).add(e)}var P,F,D,k,L,B,O=x.length,N=H.length;A.length,Math.PI;function I(e,t,r){var i,n,o=THREE.Math.sign,a=1,s=e.x-t.x,l=e.y-t.y,u=r.x-e.x,c=r.y-e.y,h=s*s+l*l,f=s*c-l*u;if(Math.abs(f)>1e-10){var d=Math.sqrt(h),p=Math.sqrt(u*u+c*c),m=t.x-l/d,E=t.y+s/d,v=((r.x-c/p-m)*c-(r.y+u/p-E)*u)/(s*c-l*u),b=(i=m+s*v-e.x)*i+(n=E+l*v-e.y)*n;if(b<=2)return new THREE.Vector2(i,n);a=Math.sqrt(b/2)}else{var y=!1;s>1e-10?u>1e-10&&(y=!0):s<-1e-10?u<-1e-10&&(y=!0):o(l)==o(c)&&(y=!0),y?(i=-l,n=s,a=Math.sqrt(h)):(i=s,n=l,a=Math.sqrt(h/2))}return new THREE.Vector2(i/a,n/a)}for(var V=[],U=0,z=A.length,G=z-1,W=U+1;U<z;U++,G++,W++){G===z&&(G=0),W===z&&(W=0);A[U],A[G],A[W];V[U]=I(A[U],A[G],A[W])}var j,J,X=[],q=V.concat();for(l=0,u=S.length;l<u;l++){for(s=S[l],j=[],U=0,G=(z=s.length)-1,W=U+1;U<z;U++,G++,W++)G===z&&(G=0),W===z&&(W=0),j[U]=I(s[U],s[G],s[W]);X.push(j),q=q.concat(j)}for(P=0;P<d;P++){for(k=h*(1-(D=P/d)),F=f*Math.sin(D*Math.PI/2),U=0,z=A.length;U<z;U++)K((L=C(A[U],V[U],F)).x,L.y,-k);for(l=0,u=S.length;l<u;l++)for(s=S[l],j=X[l],U=0,z=s.length;U<z;U++)K((L=C(s[U],j[U],F)).x,L.y,-k)}for(F=f,U=0;U<O;U++)L=p?C(x[U],q[U],F):x[U],b?(o.copy(i.normals[0]).multiplyScalar(L.x),n.copy(i.binormals[0]).multiplyScalar(L.y),a.copy(r[0]).add(o).add(n),K(a.x,a.y,a.z)):K(L.x,L.y,0);for(J=1;J<=E;J++)for(U=0;U<O;U++)L=p?C(x[U],q[U],F):x[U],b?(o.copy(i.normals[J]).multiplyScalar(L.x),n.copy(i.binormals[J]).multiplyScalar(L.y),a.copy(r[J]).add(o).add(n),K(a.x,a.y,a.z)):K(L.x,L.y,c/E*J);for(P=d-1;P>=0;P--){for(k=h*(1-(D=P/d)),F=f*Math.sin(D*Math.PI/2),U=0,z=A.length;U<z;U++)K((L=C(A[U],V[U],F)).x,L.y,c+k);for(l=0,u=S.length;l<u;l++)for(s=S[l],j=X[l],U=0,z=s.length;U<z;U++)L=C(s[U],j[U],F),b?K(L.x,L.y+r[E-1].y,r[E-1].x+k):K(L.x,L.y,c+k)}function Y(e,t){var r,i;for(U=e.length;--U>=0;){r=U,(i=U-1)<0&&(i=e.length-1);var n=0,o=E+2*d;for(n=0;n<o;n++){var a=O*n,s=O*(n+1);Q(t+r+a,t+i+a,t+i+s,t+r+s,e,n,o,r,i)}}}function K(e,t,r){T.vertices.push(new THREE.Vector3(e,t,r))}function Z(r,i,n,o){r+=w,i+=w,n+=w,T.faces.push(new THREE.Face3(r,i,n,null,null,y));var a=o?_.generateBottomUV(T,e,t,r,i,n):_.generateTopUV(T,e,t,r,i,n);T.faceVertexUvs[0].push(a)}function Q(r,i,n,o,a,s,l,u,c){r+=w,i+=w,n+=w,o+=w,T.faces.push(new THREE.Face3(r,i,o,null,null,g)),T.faces.push(new THREE.Face3(i,n,o,null,null,g));var h=_.generateSideWallUV(T,e,a,t,r,i,n,o,s,l,u,c);T.faceVertexUvs[0].push([h[0],h[1],h[3]]),T.faceVertexUvs[0].push([h[1],h[2],h[3]])}!function(){if(p){var e=0,t=O*e;for(U=0;U<N;U++)Z((B=H[U])[2]+t,B[1]+t,B[0]+t,!0);for(t=O*(e=E+2*d),U=0;U<N;U++)Z((B=H[U])[0]+t,B[1]+t,B[2]+t,!1)}else{for(U=0;U<N;U++)Z((B=H[U])[2],B[1],B[0],!0);for(U=0;U<N;U++)Z((B=H[U])[0]+O*E,B[1]+O*E,B[2]+O*E,!1)}}(),function(){var e=0;for(Y(A,e),e+=A.length,l=0,u=S.length;l<u;l++)Y(s=S[l],e),e+=s.length}()},THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,r,i,n,o){var a=e.vertices[i].x,s=e.vertices[i].y,l=e.vertices[n].x,u=e.vertices[n].y,c=e.vertices[o].x,h=e.vertices[o].y;return[new THREE.Vector2(a,s),new THREE.Vector2(l,u),new THREE.Vector2(c,h)]},generateBottomUV:function(e,t,r,i,n,o){return this.generateTopUV(e,t,r,i,n,o)},generateSideWallUV:function(e,t,r,i,n,o,a,s,l,u,c,h){var f=e.vertices[n].x,d=e.vertices[n].y,p=e.vertices[n].z,m=e.vertices[o].x,E=e.vertices[o].y,v=e.vertices[o].z,b=e.vertices[a].x,y=e.vertices[a].y,g=e.vertices[a].z,_=e.vertices[s].x,T=e.vertices[s].y,w=e.vertices[s].z;return Math.abs(d-E)<.01?[new THREE.Vector2(f,1-p),new THREE.Vector2(m,1-v),new THREE.Vector2(b,1-g),new THREE.Vector2(_,1-w)]:[new THREE.Vector2(d,1-p),new THREE.Vector2(E,1-v),new THREE.Vector2(y,1-g),new THREE.Vector2(T,1-w)]}},THREE.ExtrudeGeometry.__v1=new THREE.Vector2,THREE.ExtrudeGeometry.__v2=new THREE.Vector2,THREE.ExtrudeGeometry.__v3=new THREE.Vector2,THREE.ExtrudeGeometry.__v4=new THREE.Vector2,THREE.ExtrudeGeometry.__v5=new THREE.Vector2,THREE.ExtrudeGeometry.__v6=new THREE.Vector2,THREE.ShapeGeometry=function(e,t){THREE.Geometry.call(this),e instanceof Array==!1&&(e=[e]),this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeCentroids(),this.computeFaceNormals()},THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.addShapeList=function(e,t){for(var r=0,i=e.length;r<i;r++)this.addShape(e[r],t);return this},THREE.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var r,i,n,o=void 0!==t.curveSegments?t.curveSegments:12,a=t.material,s=void 0===t.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,l=(this.shapebb,this.vertices.length),u=e.extractPoints(o),c=u.shape,h=u.holes,f=!THREE.Shape.Utils.isClockWise(c);if(f){for(c=c.reverse(),r=0,i=h.length;r<i;r++)n=h[r],THREE.Shape.Utils.isClockWise(n)&&(h[r]=n.reverse());f=!1}var d=THREE.Shape.Utils.triangulateShape(c,h),p=c;for(r=0,i=h.length;r<i;r++)n=h[r],c=c.concat(n);var m,E,v=c.length,b=d.length;p.length;for(r=0;r<v;r++)m=c[r],this.vertices.push(new THREE.Vector3(m.x,m.y,0));for(r=0;r<b;r++){var y=(E=d[r])[0]+l,g=E[1]+l,_=E[2]+l;this.faces.push(new THREE.Face3(y,g,_,null,null,a)),this.faceVertexUvs[0].push(s.generateBottomUV(this,e,t,y,g,_))}},THREE.LatheGeometry=function(e,t,r,i){THREE.Geometry.call(this),t=t||12,r=r||0,i=i||2*Math.PI;for(var n=1/(e.length-1),o=1/t,a=0,s=t;a<=s;a++)for(var l=r+a*o*i,u=Math.cos(l),c=Math.sin(l),h=0,f=e.length;h<f;h++){var d=e[h],p=new THREE.Vector3;p.x=u*d.x-c*d.y,p.y=c*d.x+u*d.y,p.z=d.z,this.vertices.push(p)}var m=e.length;for(a=0,s=t;a<s;a++)for(h=0,f=e.length-1;h<f;h++){var E=h+m*a,v=E,b=E+m,y=(u=E+1+m,E+1),g=a*o,_=h*n,T=g+o,w=_+n;this.faces.push(new THREE.Face3(v,b,y)),this.faceVertexUvs[0].push([new THREE.Vector2(g,_),new THREE.Vector2(T,_),new THREE.Vector2(g,w)]),this.faces.push(new THREE.Face3(b,u,y)),this.faceVertexUvs[0].push([new THREE.Vector2(T,_),new THREE.Vector2(T,w),new THREE.Vector2(g,w)])}this.mergeVertices(),this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry=function(e,t,r,i){var n,o;THREE.Geometry.call(this),this.width=e,this.height=t,this.widthSegments=r||1,this.heightSegments=i||1;var a=e/2,s=t/2,l=this.widthSegments,u=this.heightSegments,c=l+1,h=u+1,f=this.width/l,d=this.height/u,p=new THREE.Vector3(0,0,1);for(o=0;o<h;o++)for(n=0;n<c;n++){var m=n*f-a,E=o*d-s;this.vertices.push(new THREE.Vector3(m,-E,0))}for(o=0;o<u;o++)for(n=0;n<l;n++){var v=n+c*o,b=n+c*(o+1),y=n+1+c*(o+1),g=n+1+c*o,_=new THREE.Vector2(n/l,1-o/u),T=new THREE.Vector2(n/l,1-(o+1)/u),w=new THREE.Vector2((n+1)/l,1-(o+1)/u),R=new THREE.Vector2((n+1)/l,1-o/u),x=new THREE.Face3(v,b,g);x.normal.copy(p),x.vertexNormals.push(p.clone(),p.clone(),p.clone()),this.faces.push(x),this.faceVertexUvs[0].push([_,T,R]),(x=new THREE.Face3(b,y,g)).normal.copy(p),x.vertexNormals.push(p.clone(),p.clone(),p.clone()),this.faces.push(x),this.faceVertexUvs[0].push([T.clone(),w,R.clone()])}this.computeCentroids()},THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.RingGeometry=function(e,t,r,i,n,o){THREE.Geometry.call(this),e=e||0,t=t||50,n=void 0!==n?n:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8;var a,s,l=[],u=e,c=(t-e)/(i=void 0!==i?Math.max(3,i):8);for(a=0;a<=i;a++){for(s=0;s<=r;s++){var h=new THREE.Vector3,f=n+s/r*o;h.x=u*Math.cos(f),h.y=u*Math.sin(f),this.vertices.push(h),l.push(new THREE.Vector2((h.x/t+1)/2,(h.y/t+1)/2))}u+=c}var d=new THREE.Vector3(0,0,1);for(a=0;a<i;a++){var p=a*r;for(s=0;s<=r;s++){var m=(f=s+p)+a,E=f+r+a,v=f+r+1+a;this.faces.push(new THREE.Face3(m,E,v,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([l[m].clone(),l[E].clone(),l[v].clone()]),m=f+a,E=f+r+1+a,v=f+1+a,this.faces.push(new THREE.Face3(m,E,v,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([l[m].clone(),l[E].clone(),l[v].clone()])}}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,u)},THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.SphereGeometry=function(e,t,r,i,n,o,a){THREE.Geometry.call(this),this.radius=e=e||50,this.widthSegments=t=Math.max(3,Math.floor(t)||8),this.heightSegments=r=Math.max(2,Math.floor(r)||6),this.phiStart=i=void 0!==i?i:0,this.phiLength=n=void 0!==n?n:2*Math.PI,this.thetaStart=o=void 0!==o?o:0,this.thetaLength=a=void 0!==a?a:Math.PI;var s,l,u=[],c=[];for(l=0;l<=r;l++){var h=[],f=[];for(s=0;s<=t;s++){var d=s/t,p=l/r,m=new THREE.Vector3;m.x=-e*Math.cos(i+d*n)*Math.sin(o+p*a),m.y=e*Math.cos(o+p*a),m.z=e*Math.sin(i+d*n)*Math.sin(o+p*a),this.vertices.push(m),h.push(this.vertices.length-1),f.push(new THREE.Vector2(d,1-p))}u.push(h),c.push(f)}for(l=0;l<this.heightSegments;l++)for(s=0;s<this.widthSegments;s++){var E=u[l][s+1],v=u[l][s],b=u[l+1][s],y=u[l+1][s+1],g=this.vertices[E].clone().normalize(),_=this.vertices[v].clone().normalize(),T=this.vertices[b].clone().normalize(),w=this.vertices[y].clone().normalize(),R=c[l][s+1].clone(),x=c[l][s].clone(),S=c[l+1][s].clone(),M=c[l+1][s+1].clone();Math.abs(this.vertices[E].y)===this.radius?(R.x=(R.x+x.x)/2,this.faces.push(new THREE.Face3(E,b,y,[g,T,w])),this.faceVertexUvs[0].push([R,S,M])):Math.abs(this.vertices[b].y)===this.radius?(S.x=(S.x+M.x)/2,this.faces.push(new THREE.Face3(E,v,b,[g,_,T])),this.faceVertexUvs[0].push([R,x,S])):(this.faces.push(new THREE.Face3(E,v,y,[g,_,w])),this.faceVertexUvs[0].push([R,x,M]),this.faces.push(new THREE.Face3(v,b,y,[_.clone(),T,w.clone()])),this.faceVertexUvs[0].push([x.clone(),S,M.clone()]))}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TextGeometry=function(e,t){t=t||{};var r=THREE.FontUtils.generateShapes(e,t);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),THREE.ExtrudeGeometry.call(this,r,t)},THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype),THREE.TorusGeometry=function(e,t,r,i,n){THREE.Geometry.call(this);this.radius=e||100,this.tube=t||40,this.radialSegments=r||8,this.tubularSegments=i||6,this.arc=n||2*Math.PI;for(var o=new THREE.Vector3,a=[],s=[],l=0;l<=this.radialSegments;l++)for(var u=0;u<=this.tubularSegments;u++){var c=u/this.tubularSegments*this.arc,h=l/this.radialSegments*Math.PI*2;o.x=this.radius*Math.cos(c),o.y=this.radius*Math.sin(c);var f=new THREE.Vector3;f.x=(this.radius+this.tube*Math.cos(h))*Math.cos(c),f.y=(this.radius+this.tube*Math.cos(h))*Math.sin(c),f.z=this.tube*Math.sin(h),this.vertices.push(f),a.push(new THREE.Vector2(u/this.tubularSegments,l/this.radialSegments)),s.push(f.clone().sub(o).normalize())}for(l=1;l<=this.radialSegments;l++)for(u=1;u<=this.tubularSegments;u++){var d=(this.tubularSegments+1)*l+u-1,p=(this.tubularSegments+1)*(l-1)+u-1,m=(this.tubularSegments+1)*(l-1)+u,E=(this.tubularSegments+1)*l+u,v=new THREE.Face3(d,p,E,[s[d].clone(),s[p].clone(),s[E].clone()]);this.faces.push(v),this.faceVertexUvs[0].push([a[d].clone(),a[p].clone(),a[E].clone()]),v=new THREE.Face3(p,m,E,[s[p].clone(),s[m].clone(),s[E].clone()]),this.faces.push(v),this.faceVertexUvs[0].push([a[p].clone(),a[m].clone(),a[E].clone()])}this.computeCentroids(),this.computeFaceNormals()},THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry=function(e,t,r,i,n,o,a){THREE.Geometry.call(this);this.radius=e||100,this.tube=t||40,this.radialSegments=r||64,this.tubularSegments=i||8,this.p=n||2,this.q=o||3,this.heightScale=a||1,this.grid=new Array(this.radialSegments);for(var s=new THREE.Vector3,l=new THREE.Vector3,u=new THREE.Vector3,c=0;c<this.radialSegments;++c){this.grid[c]=new Array(this.tubularSegments);var h=c/this.radialSegments*2*this.p*Math.PI,f=A(h,this.q,this.p,this.radius,this.heightScale),d=A(h+.01,this.q,this.p,this.radius,this.heightScale);s.subVectors(d,f),l.addVectors(d,f),u.crossVectors(s,l),l.crossVectors(u,s),u.normalize(),l.normalize();for(var p=0;p<this.tubularSegments;++p){var m=p/this.tubularSegments*2*Math.PI,E=-this.tube*Math.cos(m),v=this.tube*Math.sin(m),b=new THREE.Vector3;b.x=f.x+E*l.x+v*u.x,b.y=f.y+E*l.y+v*u.y,b.z=f.z+E*l.z+v*u.z,this.grid[c][p]=this.vertices.push(b)-1}}for(c=0;c<this.radialSegments;++c)for(p=0;p<this.tubularSegments;++p){var y=(c+1)%this.radialSegments,g=(p+1)%this.tubularSegments,_=this.grid[c][p],T=this.grid[y][p],w=this.grid[y][g],R=this.grid[c][g],x=new THREE.Vector2(c/this.radialSegments,p/this.tubularSegments),S=new THREE.Vector2((c+1)/this.radialSegments,p/this.tubularSegments),M=new THREE.Vector2((c+1)/this.radialSegments,(p+1)/this.tubularSegments),H=new THREE.Vector2(c/this.radialSegments,(p+1)/this.tubularSegments);this.faces.push(new THREE.Face3(_,T,R)),this.faceVertexUvs[0].push([x,S,H]),this.faces.push(new THREE.Face3(T,w,R)),this.faceVertexUvs[0].push([S.clone(),M,H.clone()])}function A(e,t,r,i,n){var o=Math.cos(e),a=Math.sin(e),s=t/r*e,l=Math.cos(s),u=i*(2+l)*.5*o,c=i*(2+l)*a*.5,h=n*i*Math.sin(s)*.5;return new THREE.Vector3(u,c,h)}this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry=function(e,t,r,i,n){THREE.Geometry.call(this),this.path=e,this.segments=t||64,this.radius=r||1,this.radialSegments=i||8,this.closed=n||!1,this.grid=[];var o,a,s,l,u,c,h,f,d,p,m,E,v,b,y,g,_,T,w,R=this,x=this.segments+1,S=new THREE.Vector3,M=new THREE.TubeGeometry.FrenetFrames(this.path,this.segments,this.closed),H=M.tangents,A=M.normals,C=M.binormals;function P(e,t,r){return R.vertices.push(new THREE.Vector3(e,t,r))-1}for(this.tangents=H,this.normals=A,this.binormals=C,f=0;f<x;f++)for(this.grid[f]=[],s=f/(x-1),h=e.getPointAt(s),H[f],o=A[f],a=C[f],d=0;d<this.radialSegments;d++)l=d/this.radialSegments*2*Math.PI,u=-this.radius*Math.cos(l),c=this.radius*Math.sin(l),S.copy(h),S.x+=u*o.x+c*a.x,S.y+=u*o.y+c*a.y,S.z+=u*o.z+c*a.z,this.grid[f][d]=P(S.x,S.y,S.z);for(f=0;f<this.segments;f++)for(d=0;d<this.radialSegments;d++)p=this.closed?(f+1)%this.segments:f+1,m=(d+1)%this.radialSegments,E=this.grid[f][d],v=this.grid[p][d],b=this.grid[p][m],y=this.grid[f][m],g=new THREE.Vector2(f/this.segments,d/this.radialSegments),_=new THREE.Vector2((f+1)/this.segments,d/this.radialSegments),T=new THREE.Vector2((f+1)/this.segments,(d+1)/this.radialSegments),w=new THREE.Vector2(f/this.segments,(d+1)/this.radialSegments),this.faces.push(new THREE.Face3(E,v,y)),this.faceVertexUvs[0].push([g,_,w]),this.faces.push(new THREE.Face3(v,b,y)),this.faceVertexUvs[0].push([_.clone(),T,w.clone()]);this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.FrenetFrames=function(e,t,r){new THREE.Vector3;var i,n,o,a,s,l,u,c=new THREE.Vector3,h=(new THREE.Vector3,[]),f=[],d=[],p=new THREE.Vector3,m=new THREE.Matrix4,E=t+1,v=1e-4;for(this.tangents=h,this.normals=f,this.binormals=d,l=0;l<E;l++)u=l/(E-1),h[l]=e.getTangentAt(u),h[l].normalize();for(function(){f[0]=new THREE.Vector3,d[0]=new THREE.Vector3,n=Number.MAX_VALUE,o=Math.abs(h[0].x),a=Math.abs(h[0].y),s=Math.abs(h[0].z),o<=n&&(n=o,c.set(1,0,0));a<=n&&(n=a,c.set(0,1,0));s<=n&&c.set(0,0,1);p.crossVectors(h[0],c).normalize(),f[0].crossVectors(h[0],p),d[0].crossVectors(h[0],f[0])}(),l=1;l<E;l++)f[l]=f[l-1].clone(),d[l]=d[l-1].clone(),p.crossVectors(h[l-1],h[l]),p.length()>v&&(p.normalize(),i=Math.acos(THREE.Math.clamp(h[l-1].dot(h[l]),-1,1)),f[l].applyMatrix4(m.makeRotationAxis(p,i))),d[l].crossVectors(h[l],f[l]);if(r)for(i=Math.acos(THREE.Math.clamp(f[0].dot(f[E-1]),-1,1)),i/=E-1,h[0].dot(p.crossVectors(f[0],f[E-1]))>0&&(i=-i),l=1;l<E;l++)f[l].applyMatrix4(m.makeRotationAxis(h[l],i*l)),d[l].crossVectors(h[l],f[l])},THREE.PolyhedronGeometry=function(e,t,r,i){THREE.Geometry.call(this),r=r||1,i=i||0;for(var n=this,o=0,a=e.length;o<a;o++)b(new THREE.Vector3(e[o][0],e[o][1],e[o][2]));var s=this.vertices,l=[];for(o=0,a=t.length;o<a;o++){var u=s[t[o][0]],c=s[t[o][1]],h=s[t[o][2]];l[o]=new THREE.Face3(u.index,c.index,h.index,[u.clone(),c.clone(),h.clone()])}for(o=0,a=l.length;o<a;o++)g(l[o],i);for(o=0,a=this.faceVertexUvs[0].length;o<a;o++){var f=this.faceVertexUvs[0][o],d=f[0].x,p=f[1].x,m=f[2].x,E=Math.max(d,Math.max(p,m)),v=Math.min(d,Math.min(p,m));E>.9&&v<.1&&(d<.2&&(f[0].x+=1),p<.2&&(f[1].x+=1),m<.2&&(f[2].x+=1))}for(o=0,a=this.vertices.length;o<a;o++)this.vertices[o].multiplyScalar(r);function b(e){var t=e.normalize().clone();t.index=n.vertices.push(t)-1;var r=_(e)/2/Math.PI+.5,i=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(e)/Math.PI+.5;return t.uv=new THREE.Vector2(r,1-i),t}function y(e,t,r){var i=new THREE.Face3(e.index,t.index,r.index,[e.clone(),t.clone(),r.clone()]);i.centroid.add(e).add(t).add(r).divideScalar(3),n.faces.push(i);var o=_(i.centroid);n.faceVertexUvs[0].push([T(e.uv,e,o),T(t.uv,t,o),T(r.uv,r,o)])}function g(e,t){for(var r=Math.pow(2,t),i=(Math.pow(4,t),b(n.vertices[e.a])),o=b(n.vertices[e.b]),a=b(n.vertices[e.c]),s=[],l=0;l<=r;l++){s[l]=[];for(var u=b(i.clone().lerp(a,l/r)),c=b(o.clone().lerp(a,l/r)),h=r-l,f=0;f<=h;f++)s[l][f]=0==f&&l==r?u:b(u.clone().lerp(c,f/h))}for(l=0;l<r;l++)for(f=0;f<2*(r-l)-1;f++){var d=Math.floor(f/2);f%2==0?y(s[l][d+1],s[l+1][d],s[l][d]):y(s[l][d+1],s[l+1][d+1],s[l+1][d])}}function _(e){return Math.atan2(e.z,-e.x)}function T(e,t,r){return r<0&&1===e.x&&(e=new THREE.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new THREE.Vector2(r/2/Math.PI+.5,e.y)),e.clone()}this.mergeVertices(),this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,r)},THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.IcosahedronGeometry=function(e,t){this.radius=e,this.detail=t;var r=(1+Math.sqrt(5))/2,i=[[-1,r,0],[1,r,0],[-1,-r,0],[1,-r,0],[0,-1,r],[0,1,r],[0,-1,-r],[0,1,-r],[r,0,-1],[r,0,1],[-r,0,-1],[-r,0,1]];THREE.PolyhedronGeometry.call(this,i,[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]],e,t)},THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.OctahedronGeometry=function(e,t){THREE.PolyhedronGeometry.call(this,[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],[[0,2,4],[0,4,3],[0,3,5],[0,5,2],[1,2,5],[1,5,3],[1,3,4],[1,4,2]],e,t)},THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TetrahedronGeometry=function(e,t){THREE.PolyhedronGeometry.call(this,[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],[[2,1,0],[0,3,2],[1,3,0],[2,3,1]],e,t)},THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry=function(e,t,r){THREE.Geometry.call(this);var i,n,o,a,s,l,u,c,h,f,d,p,m=this.vertices,E=this.faces,v=this.faceVertexUvs[0],b=t+1;for(i=0;i<=r;i++)for(a=i/r,n=0;n<=t;n++)o=e(n/t,a),m.push(o);for(i=0;i<r;i++)for(n=0;n<t;n++)s=i*b+n,l=i*b+n+1,u=(i+1)*b+n+1,c=(i+1)*b+n,h=new THREE.Vector2(n/t,i/r),f=new THREE.Vector2((n+1)/t,i/r),d=new THREE.Vector2((n+1)/t,(i+1)/r),p=new THREE.Vector2(n/t,(i+1)/r),E.push(new THREE.Face3(s,l,c)),v.push([h,f,p]),E.push(new THREE.Face3(l,u,c)),v.push([f.clone(),d,p.clone()]);this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.AxisHelper=function(e){e=e||1;var t=new THREE.Geometry;t.vertices.push(new THREE.Vector3,new THREE.Vector3(e,0,0),new THREE.Vector3,new THREE.Vector3(0,e,0),new THREE.Vector3,new THREE.Vector3(0,0,e)),t.colors.push(new THREE.Color(16711680),new THREE.Color(16755200),new THREE.Color(65280),new THREE.Color(11206400),new THREE.Color(255),new THREE.Color(43775));var r=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.Line.call(this,t,r,THREE.LinePieces)},THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype),THREE.ArrowHelper=function(e,t,r,i,n,o){THREE.Object3D.call(this),void 0===i&&(i=16776960),void 0===r&&(r=1),void 0===n&&(n=.2*r),void 0===o&&(o=.2*n),this.position=t;var a=new THREE.Geometry;a.vertices.push(new THREE.Vector3(0,0,0)),a.vertices.push(new THREE.Vector3(0,1,0)),this.line=new THREE.Line(a,new THREE.LineBasicMaterial({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line);var s=new THREE.CylinderGeometry(0,.5,1,5,1);s.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),this.cone=new THREE.Mesh(s,new THREE.MeshBasicMaterial({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,n,o)},THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.setDirection=function(){var e,t=new THREE.Vector3;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(r.z,0,-r.x).normalize(),e=Math.acos(r.y),this.quaternion.setFromAxisAngle(t,e))}}(),THREE.ArrowHelper.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,e,1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},THREE.ArrowHelper.prototype.setColor=function(e){this.line.material.color.setHex(e),this.cone.material.color.setHex(e)},THREE.BoxHelper=function(e){var t=[new THREE.Vector3(1,1,1),new THREE.Vector3(-1,1,1),new THREE.Vector3(-1,-1,1),new THREE.Vector3(1,-1,1),new THREE.Vector3(1,1,-1),new THREE.Vector3(-1,1,-1),new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,-1,-1)];this.vertices=t;var r=new THREE.Geometry;r.vertices.push(t[0],t[1],t[1],t[2],t[2],t[3],t[3],t[0],t[4],t[5],t[5],t[6],t[6],t[7],t[7],t[4],t[0],t[4],t[1],t[5],t[2],t[6],t[3],t[7]),THREE.Line.call(this,r,new THREE.LineBasicMaterial({color:16776960}),THREE.LinePieces),void 0!==e&&this.update(e)},THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype),THREE.BoxHelper.prototype.update=function(e){var t=e.geometry;null===t.boundingBox&&t.computeBoundingBox();var r=t.boundingBox.min,i=t.boundingBox.max,n=this.vertices;n[0].set(i.x,i.y,i.z),n[1].set(r.x,i.y,i.z),n[2].set(r.x,r.y,i.z),n[3].set(i.x,r.y,i.z),n[4].set(i.x,i.y,r.z),n[5].set(r.x,i.y,r.z),n[6].set(r.x,r.y,r.z),n[7].set(i.x,r.y,r.z),this.geometry.computeBoundingSphere(),this.geometry.verticesNeedUpdate=!0,this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},THREE.BoundingBoxHelper=function(e,t){var r=void 0!==t?t:8947848;this.object=e,this.box=new THREE.Box3,THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:r,wireframe:!0}))},THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},THREE.CameraHelper=function(e){var t=new THREE.Geometry,r=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),i={};function n(e,t,r){o(e,r),o(t,r)}function o(e,r){t.vertices.push(new THREE.Vector3),t.colors.push(new THREE.Color(r)),void 0===i[e]&&(i[e]=[]),i[e].push(t.vertices.length-1)}n("n1","n2",16755200),n("n2","n4",16755200),n("n4","n3",16755200),n("n3","n1",16755200),n("f1","f2",16755200),n("f2","f4",16755200),n("f4","f3",16755200),n("f3","f1",16755200),n("n1","f1",16755200),n("n2","f2",16755200),n("n3","f3",16755200),n("n4","f4",16755200),n("p","n1",16711680),n("p","n2",16711680),n("p","n3",16711680),n("p","n4",16711680),n("u1","u2",43775),n("u2","u3",43775),n("u3","u1",43775),n("c","t",16777215),n("p","c",3355443),n("cn1","cn2",3355443),n("cn3","cn4",3355443),n("cf1","cf2",3355443),n("cf3","cf4",3355443),THREE.Line.call(this,t,r,THREE.LinePieces),this.camera=e,this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=i,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.Line.prototype),THREE.CameraHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Camera,r=new THREE.Projector;return function(){var i=this;function n(n,o,a,s){e.set(o,a,s),r.unprojectVector(e,t);var l=i.pointMap[n];if(void 0!==l)for(var u=0,c=l.length;u<c;u++)i.geometry.vertices[l[u]].copy(e)}t.projectionMatrix.copy(this.camera.projectionMatrix),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),this.geometry.verticesNeedUpdate=!0}}(),THREE.DirectionalLightHelper=function(e,t){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,t=t||1;var r=new THREE.PlaneGeometry(t,t),i=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new THREE.Mesh(r,i),this.add(this.lightPlane),(r=new THREE.Geometry).vertices.push(new THREE.Vector3),r.vertices.push(new THREE.Vector3),(i=new THREE.LineBasicMaterial({fog:!1})).color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new THREE.Line(r,i),this.add(this.targetLine),this.update()},THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},THREE.DirectionalLightHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(t,e),this.lightPlane.lookAt(r),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(r),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),THREE.EdgesHelper=function(e,t){var r=void 0!==t?t:16777215,i=[0,0],n={},o=function(e,t){return e-t},a=["a","b","c"],s=new THREE.BufferGeometry,l=e.geometry.clone();l.mergeVertices(),l.computeFaceNormals();for(var u=l.vertices,c=l.faces,h=0,f=0,d=c.length;f<d;f++)for(var p=c[f],m=0;m<3;m++){i[0]=p[a[m]],i[1]=p[a[(m+1)%3]],i.sort(o),void 0===n[b=i.toString()]?(n[b]={vert1:i[0],vert2:i[1],face1:f,face2:void 0},h++):n[b].face2=f}s.addAttribute("position",Float32Array,2*h,3);var E=s.attributes.position.array,v=0;for(var b in n){var y=n[b];if(void 0===y.face2||c[y.face1].normal.dot(c[y.face2].normal)<.9999){var g=u[y.vert1];E[v++]=g.x,E[v++]=g.y,E[v++]=g.z,g=u[y.vert2],E[v++]=g.x,E[v++]=g.y,E[v++]=g.z}}THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:r}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},THREE.EdgesHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper=function(e,t,r,i){this.object=e,this.size=void 0!==t?t:1;for(var n=void 0!==r?r:16776960,o=void 0!==i?i:1,a=new THREE.Geometry,s=0,l=this.object.geometry.faces.length;s<l;s++)a.vertices.push(new THREE.Vector3),a.vertices.push(new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:n,linewidth:o}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.FaceNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper.prototype.update=function(e){var t=new THREE.Vector3;return function(e){this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var r=this.geometry.vertices,i=this.object.geometry.faces,n=this.object.matrixWorld,o=0,a=i.length;o<a;o++){var s=i[o];t.copy(s.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size);var l=2*o;r[l].copy(s.centroid).applyMatrix4(n),r[l+1].addVectors(r[l],t)}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.GridHelper=function(e,t){var r=new THREE.Geometry,i=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924),this.color2=new THREE.Color(8947848);for(var n=-e;n<=e;n+=t){r.vertices.push(new THREE.Vector3(-e,0,n),new THREE.Vector3(e,0,n),new THREE.Vector3(n,0,-e),new THREE.Vector3(n,0,e));var o=0===n?this.color1:this.color2;r.colors.push(o,o,o,o)}THREE.Line.call(this,r,i,THREE.LinePieces)},THREE.GridHelper.prototype=Object.create(THREE.Line.prototype),THREE.GridHelper.prototype.setColors=function(e,t){this.color1.set(e),this.color2.set(t),this.geometry.colorsNeedUpdate=!0},THREE.HemisphereLightHelper=function(e,t,r,i){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new THREE.Color,new THREE.Color];var n=new THREE.SphereGeometry(t,4,2);n.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));for(var o=0;o<8;o++)n.faces[o].color=this.colors[o<4?0:1];var a=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(n,a),this.add(this.lightSphere),this.update()},THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},THREE.HemisphereLightHelper.prototype.update=function(){var e=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),THREE.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var r=new THREE.SphereGeometry(t,4,2),i=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),THREE.Mesh.call(this,r,i),this.matrixWorld=this.light.matrixWorld,this.matrixAutoUpdate=!1},THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.SpotLightHelper=function(e){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1;var t=new THREE.CylinderGeometry(0,1,1,8,1,!0);t.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),t.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var r=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(t,r),this.add(this.cone),this.update()},THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},THREE.SpotLightHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){var r=this.light.distance?this.light.distance:1e4,i=r*Math.tan(this.light.angle);this.cone.scale.set(i,i,r),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),THREE.VertexNormalsHelper=function(e,t,r,i){this.object=e,this.size=void 0!==t?t:1;for(var n=void 0!==r?r:16711680,o=void 0!==i?i:1,a=new THREE.Geometry,s=(e.geometry.vertices,e.geometry.faces),l=0,u=s.length;l<u;l++)for(var c=0,h=s[l].vertexNormals.length;c<h;c++)a.vertices.push(new THREE.Vector3),a.vertices.push(new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:n,linewidth:o}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.VertexNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexNormalsHelper.prototype.update=function(e){var t=new THREE.Vector3;return function(e){var r=["a","b","c","d"];this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var i=this.geometry.vertices,n=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,l=0,u=o.length;l<u;l++)for(var c=o[l],h=0,f=c.vertexNormals.length;h<f;h++){var d=n[c[r[h]]],p=c.vertexNormals[h];i[s].copy(d).applyMatrix4(a),t.copy(p).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),t.add(i[s]),i[s+=1].copy(t),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.VertexTangentsHelper=function(e,t,r,i){this.object=e,this.size=void 0!==t?t:1;for(var n=void 0!==r?r:255,o=void 0!==i?i:1,a=new THREE.Geometry,s=(e.geometry.vertices,e.geometry.faces),l=0,u=s.length;l<u;l++)for(var c=0,h=s[l].vertexTangents.length;c<h;c++)a.vertices.push(new THREE.Vector3),a.vertices.push(new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:n,linewidth:o}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.update()},THREE.VertexTangentsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexTangentsHelper.prototype.update=function(e){var t=new THREE.Vector3;return function(e){var r=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var i=this.geometry.vertices,n=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,l=0,u=o.length;l<u;l++)for(var c=o[l],h=0,f=c.vertexTangents.length;h<f;h++){var d=n[c[r[h]]],p=c.vertexTangents[h];i[s].copy(d).applyMatrix4(a),t.copy(p).transformDirection(a).multiplyScalar(this.size),t.add(i[s]),i[s+=1].copy(t),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.WireframeHelper=function(e,t){var r=void 0!==t?t:16777215,i=[0,0],n={},o=function(e,t){return e-t},a=["a","b","c"],s=new THREE.BufferGeometry;if(e.geometry instanceof THREE.Geometry){for(var l=e.geometry.vertices,u=e.geometry.faces,c=0,h=new Uint32Array(6*u.length),f=0,d=u.length;f<d;f++)for(var p=u[f],m=0;m<3;m++){i[0]=p[a[m]],i[1]=p[a[(m+1)%3]],i.sort(o),void 0===n[S=i.toString()]&&(h[2*c]=i[0],h[2*c+1]=i[1],n[S]=!0,c++)}s.addAttribute("position",Float32Array,2*c,3);var E=s.attributes.position.array;for(f=0,d=c;f<d;f++)for(m=0;m<2;m++){var v=l[h[2*f+m]];E[(R=6*f+3*m)+0]=v.x,E[R+1]=v.y,E[R+2]=v.z}}else if(e.geometry instanceof THREE.BufferGeometry&&void 0!==e.geometry.attributes.index){l=e.geometry.attributes.position.array;for(var b=e.geometry.attributes.index.array,y=e.geometry.offsets,g=(c=0,h=new Uint32Array(2*b.length),0),_=y.length;g<_;++g)for(var T=y[g].start,w=y[g].count,R=y[g].index,x=(f=T,T+w);f<x;f+=3)for(m=0;m<3;m++){var S;i[0]=R+b[f+m],i[1]=R+b[f+(m+1)%3],i.sort(o),void 0===n[S=i.toString()]&&(h[2*c]=i[0],h[2*c+1]=i[1],n[S]=!0,c++)}s.addAttribute("position",Float32Array,2*c,3);for(E=s.attributes.position.array,f=0,d=c;f<d;f++)for(m=0;m<2;m++){R=6*f+3*m;var M=3*h[2*f+m];E[R+0]=l[M],E[R+1]=l[M+1],E[R+2]=l[M+2]}}else if(e.geometry instanceof THREE.BufferGeometry){var H=(c=(l=e.geometry.attributes.position.array).length/3)/3;s.addAttribute("position",Float32Array,2*c,3);for(E=s.attributes.position.array,f=0,d=H;f<d;f++)for(m=0;m<3;m++){var A=9*f+3*m;E[(R=18*f+6*m)+0]=l[A],E[R+1]=l[A+1],E[R+2]=l[A+2];M=9*f+(m+1)%3*3;E[R+3]=l[M],E[R+4]=l[M+1],E[R+5]=l[M+2]}}THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:r}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},THREE.WireframeHelper.prototype=Object.create(THREE.Line.prototype),THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this),this.render=function(e){}},THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare=function(e,t,r,i,n){THREE.Object3D.call(this),this.lensFlares=[],this.positionScreen=new THREE.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,r,i,n)},THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare.prototype.add=function(e,t,r,i,n,o){void 0===t&&(t=-1),void 0===r&&(r=0),void 0===o&&(o=1),void 0===n&&(n=new THREE.Color(16777215)),void 0===i&&(i=THREE.NormalBlending),r=Math.min(r,Math.max(0,r)),this.lensFlares.push({texture:e,size:t,distance:r,x:0,y:0,z:0,scale:1,rotation:1,opacity:o,color:n,blending:i})},THREE.LensFlare.prototype.updateLensFlares=function(){var e,t,r=this.lensFlares.length,i=2*-this.positionScreen.x,n=2*-this.positionScreen.y;for(e=0;e<r;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+i*t.distance,t.y=this.positionScreen.y+n*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},THREE.MorphBlendMesh=function(e,t){THREE.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var r=this.geometry.morphTargets.length,i=r-1,n=r/1;this.createAnimation("__default",0,i,n),this.setAnimationWeight("__default",1)},THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.createAnimation=function(e,t,r,i){var n={startFrame:t,endFrame:r,length:r-t+1,fps:i,duration:(r-t)/i,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=n,this.animationsList.push(n)},THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,r=/([a-z]+)(\d+)/,i={},n=this.geometry,o=0,a=n.morphTargets.length;o<a;o++){var s=n.morphTargets[o].name.match(r);if(s&&s.length>1){var l=s[1];s[2];i[l]||(i[l]={start:1/0,end:-1/0}),o<(u=i[l]).start&&(u.start=o),o>u.end&&(u.end=o),t||(t=l)}}for(var l in i){var u=i[l];this.createAnimation(l,u.start,u.end,e)}this.firstAnimation=t},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},THREE.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var r=this.animationsMap[e];r&&(r.fps=t,r.duration=(r.end-r.start)/r.fps)},THREE.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var r=this.animationsMap[e];r&&(r.duration=t,r.fps=(r.end-r.start)/r.duration)},THREE.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var r=this.animationsMap[e];r&&(r.weight=t)},THREE.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var r=this.animationsMap[e];r&&(r.time=t)},THREE.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,r=this.animationsMap[e];return r&&(t=r.time),t},THREE.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,r=this.animationsMap[e];return r&&(t=r.duration),t},THREE.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("animation["+e+"] undefined")},THREE.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},THREE.MorphBlendMesh.prototype.update=function(e){for(var t=0,r=this.animationsList.length;t<r;t++){var i=this.animationsList[t];if(i.active){var n=i.duration/i.length;i.time+=i.direction*e,i.mirroredLoop?(i.time>i.duration||i.time<0)&&(i.direction*=-1,i.time>i.duration&&(i.time=i.duration,i.directionBackwards=!0),i.time<0&&(i.time=0,i.directionBackwards=!1)):(i.time=i.time%i.duration,i.time<0&&(i.time+=i.duration));var o=i.startFrame+THREE.Math.clamp(Math.floor(i.time/n),0,i.length-1),a=i.weight;o!==i.currentFrame&&(this.morphTargetInfluences[i.lastFrame]=0,this.morphTargetInfluences[i.currentFrame]=1*a,this.morphTargetInfluences[o]=0,i.lastFrame=i.currentFrame,i.currentFrame=o);var s=i.time%n/n;i.directionBackwards&&(s=1-s),this.morphTargetInfluences[i.currentFrame]=s*a,this.morphTargetInfluences[i.lastFrame]=(1-s)*a}}},THREE.LensFlarePlugin=function(){var e,t,r,i={};function n(t,r){var i=e.createProgram(),n=e.createShader(e.FRAGMENT_SHADER),o=e.createShader(e.VERTEX_SHADER),a="precision "+r+" float;\n";return e.shaderSource(n,a+t.fragmentShader),e.shaderSource(o,a+t.vertexShader),e.compileShader(n),e.compileShader(o),e.attachShader(i,n),e.attachShader(i,o),e.linkProgram(i),i}this.init=function(o){e=o.context,t=o,r=o.getPrecision(),i.vertices=new Float32Array(16),i.faces=new Uint16Array(6);var a=0;i.vertices[a++]=-1,i.vertices[a++]=-1,i.vertices[a++]=0,i.vertices[a++]=0,i.vertices[a++]=1,i.vertices[a++]=-1,i.vertices[a++]=1,i.vertices[a++]=0,i.vertices[a++]=1,i.vertices[a++]=1,i.vertices[a++]=1,i.vertices[a++]=1,i.vertices[a++]=-1,i.vertices[a++]=1,i.vertices[a++]=0,i.vertices[a++]=1,a=0,i.faces[a++]=0,i.faces[a++]=1,i.faces[a++]=2,i.faces[a++]=0,i.faces[a++]=2,i.faces[a++]=3,i.vertexBuffer=e.createBuffer(),i.elementBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,i.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,i.vertices,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i.elementBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,i.faces,e.STATIC_DRAW),i.tempTexture=e.createTexture(),i.occlusionTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,i.tempTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGB,16,16,0,e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.bindTexture(e.TEXTURE_2D,i.occlusionTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,16,16,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)<=0?(i.hasVertexTexture=!1,i.program=n(THREE.ShaderFlares.lensFlare,r)):(i.hasVertexTexture=!0,i.program=n(THREE.ShaderFlares.lensFlareVertexTexture,r)),i.attributes={},i.uniforms={},i.attributes.vertex=e.getAttribLocation(i.program,"position"),i.attributes.uv=e.getAttribLocation(i.program,"uv"),i.uniforms.renderType=e.getUniformLocation(i.program,"renderType"),i.uniforms.map=e.getUniformLocation(i.program,"map"),i.uniforms.occlusionMap=e.getUniformLocation(i.program,"occlusionMap"),i.uniforms.opacity=e.getUniformLocation(i.program,"opacity"),i.uniforms.color=e.getUniformLocation(i.program,"color"),i.uniforms.scale=e.getUniformLocation(i.program,"scale"),i.uniforms.rotation=e.getUniformLocation(i.program,"rotation"),i.uniforms.screenPosition=e.getUniformLocation(i.program,"screenPosition")},this.render=function(r,n,o,a){var s=r.__webglFlares,l=s.length;if(l){var u,c,h,f,d,p=new THREE.Vector3,m=a/o,E=.5*o,v=.5*a,b=16/a,y=new THREE.Vector2(b*m,b),g=new THREE.Vector3(1,1,0),_=new THREE.Vector2(1,1),T=i.uniforms,w=i.attributes;for(e.useProgram(i.program),e.enableVertexAttribArray(i.attributes.vertex),e.enableVertexAttribArray(i.attributes.uv),e.uniform1i(T.occlusionMap,0),e.uniform1i(T.map,1),e.bindBuffer(e.ARRAY_BUFFER,i.vertexBuffer),e.vertexAttribPointer(w.vertex,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(w.uv,2,e.FLOAT,!1,16,8),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i.elementBuffer),e.disable(e.CULL_FACE),e.depthMask(!1),u=0;u<l;u++)if(b=16/a,y.set(b*m,b),f=s[u],p.set(f.matrixWorld.elements[12],f.matrixWorld.elements[13],f.matrixWorld.elements[14]),p.applyMatrix4(n.matrixWorldInverse),p.applyProjection(n.projectionMatrix),g.copy(p),_.x=g.x*E+E,_.y=g.y*v+v,i.hasVertexTexture||_.x>0&&_.x<o&&_.y>0&&_.y<a)for(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,i.tempTexture),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGB,_.x-8,_.y-8,16,16,0),e.uniform1i(T.renderType,0),e.uniform2f(T.scale,y.x,y.y),e.uniform3f(T.screenPosition,g.x,g.y,g.z),e.disable(e.BLEND),e.enable(e.DEPTH_TEST),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,i.occlusionTexture),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,_.x-8,_.y-8,16,16,0),e.uniform1i(T.renderType,1),e.disable(e.DEPTH_TEST),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,i.tempTexture),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),f.positionScreen.copy(g),f.customUpdateCallback?f.customUpdateCallback(f):f.updateLensFlares(),e.uniform1i(T.renderType,2),e.enable(e.BLEND),c=0,h=f.lensFlares.length;c<h;c++)(d=f.lensFlares[c]).opacity>.001&&d.scale>.001&&(g.x=d.x,g.y=d.y,g.z=d.z,b=d.size*d.scale/a,y.x=b*m,y.y=b,e.uniform3f(T.screenPosition,g.x,g.y,g.z),e.uniform2f(T.scale,y.x,y.y),e.uniform1f(T.rotation,d.rotation),e.uniform1f(T.opacity,d.opacity),e.uniform3f(T.color,d.color.r,d.color.g,d.color.b),t.setBlending(d.blending,d.blendEquation,d.blendSrc,d.blendDst),t.setTexture(d.texture,1),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0));e.enable(e.CULL_FACE),e.enable(e.DEPTH_TEST),e.depthMask(!0)}}},THREE.ShadowMapPlugin=function(){var e,t,r,i,n,o,a=new THREE.Frustum,s=new THREE.Matrix4,l=new THREE.Vector3,u=new THREE.Vector3,c=new THREE.Vector3;function h(e,t){var r=new THREE.DirectionalLight;r.isVirtual=!0,r.onlyShadow=!0,r.castShadow=!0,r.shadowCameraNear=e.shadowCameraNear,r.shadowCameraFar=e.shadowCameraFar,r.shadowCameraLeft=e.shadowCameraLeft,r.shadowCameraRight=e.shadowCameraRight,r.shadowCameraBottom=e.shadowCameraBottom,r.shadowCameraTop=e.shadowCameraTop,r.shadowCameraVisible=e.shadowCameraVisible,r.shadowDarkness=e.shadowDarkness,r.shadowBias=e.shadowCascadeBias[t],r.shadowMapWidth=e.shadowCascadeWidth[t],r.shadowMapHeight=e.shadowCascadeHeight[t],r.pointsWorld=[],r.pointsFrustum=[];for(var i=r.pointsWorld,n=r.pointsFrustum,o=0;o<8;o++)i[o]=new THREE.Vector3,n[o]=new THREE.Vector3;var a=e.shadowCascadeNearZ[t],s=e.shadowCascadeFarZ[t];return n[0].set(-1,-1,a),n[1].set(1,-1,a),n[2].set(-1,1,a),n[3].set(1,1,a),n[4].set(-1,-1,s),n[5].set(1,-1,s),n[6].set(-1,1,s),n[7].set(1,1,s),r}function f(e,t){var r=e.shadowCascadeArray[t];r.position.copy(e.position),r.target.position.copy(e.target.position),r.lookAt(r.target),r.shadowCameraVisible=e.shadowCameraVisible,r.shadowDarkness=e.shadowDarkness,r.shadowBias=e.shadowCascadeBias[t];var i=e.shadowCascadeNearZ[t],n=e.shadowCascadeFarZ[t],o=r.pointsFrustum;o[0].z=i,o[1].z=i,o[2].z=i,o[3].z=i,o[4].z=n,o[5].z=n,o[6].z=n,o[7].z=n}function d(e,t){var r=t.shadowCamera,i=t.pointsFrustum,n=t.pointsWorld;l.set(1/0,1/0,1/0),u.set(-1/0,-1/0,-1/0);for(var o=0;o<8;o++){var a=n[o];a.copy(i[o]),THREE.ShadowMapPlugin.__projector.unprojectVector(a,e),a.applyMatrix4(r.matrixWorldInverse),a.x<l.x&&(l.x=a.x),a.x>u.x&&(u.x=a.x),a.y<l.y&&(l.y=a.y),a.y>u.y&&(u.y=a.y),a.z<l.z&&(l.z=a.z),a.z>u.z&&(u.z=a.z)}r.left=l.x,r.right=u.x,r.top=u.y,r.bottom=l.y,r.updateProjectionMatrix()}function p(e){return e.material instanceof THREE.MeshFaceMaterial?e.material.materials[0]:e.material}this.init=function(a){e=a.context,t=a;var s=THREE.ShaderLib.depthRGBA,l=THREE.UniformsUtils.clone(s.uniforms);r=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l}),i=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,morphTargets:!0}),n=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,skinning:!0}),o=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,morphTargets:!0,skinning:!0}),r._shadowPass=!0,i._shadowPass=!0,n._shadowPass=!0,o._shadowPass=!0},this.render=function(e,r){t.shadowMapEnabled&&t.shadowMapAutoUpdate&&this.update(e,r)},this.update=function(l,u){var m,E,v,b,y,g,_,T,w,R,x,S,M,H,A=[],C=0;for(e.clearColor(1,1,1,1),e.disable(e.BLEND),e.enable(e.CULL_FACE),e.frontFace(e.CCW),t.shadowMapCullFace===THREE.CullFaceFront?e.cullFace(e.FRONT):e.cullFace(e.BACK),t.setDepthTest(!0),m=0,E=l.__lights.length;m<E;m++)if((M=l.__lights[m]).castShadow)if(M instanceof THREE.DirectionalLight&&M.shadowCascade)for(y=0;y<M.shadowCascadeCount;y++){var P;if(M.shadowCascadeArray[y])P=M.shadowCascadeArray[y];else{(P=h(M,y)).originalCamera=u;var F=new THREE.Gyroscope;F.position=M.shadowCascadeOffset,F.add(P),F.add(P.target),u.add(F),M.shadowCascadeArray[y]=P,console.log("Created virtualLight",P)}f(M,y),A[C]=P,C++}else A[C]=M,C++;for(m=0,E=A.length;m<E;m++){if(!(M=A[m]).shadowMap){var D=THREE.LinearFilter;t.shadowMapType===THREE.PCFSoftShadowMap&&(D=THREE.NearestFilter);var k={minFilter:D,magFilter:D,format:THREE.RGBAFormat};M.shadowMap=new THREE.WebGLRenderTarget(M.shadowMapWidth,M.shadowMapHeight,k),M.shadowMapSize=new THREE.Vector2(M.shadowMapWidth,M.shadowMapHeight),M.shadowMatrix=new THREE.Matrix4}if(!M.shadowCamera){if(M instanceof THREE.SpotLight)M.shadowCamera=new THREE.PerspectiveCamera(M.shadowCameraFov,M.shadowMapWidth/M.shadowMapHeight,M.shadowCameraNear,M.shadowCameraFar);else{if(!(M instanceof THREE.DirectionalLight)){console.error("Unsupported light type for shadow");continue}M.shadowCamera=new THREE.OrthographicCamera(M.shadowCameraLeft,M.shadowCameraRight,M.shadowCameraTop,M.shadowCameraBottom,M.shadowCameraNear,M.shadowCameraFar)}l.add(M.shadowCamera),!0===l.autoUpdate&&l.updateMatrixWorld()}for(M.shadowCameraVisible&&!M.cameraHelper&&(M.cameraHelper=new THREE.CameraHelper(M.shadowCamera),M.shadowCamera.add(M.cameraHelper)),M.isVirtual&&P.originalCamera==u&&d(u,M),g=M.shadowMap,_=M.shadowMatrix,(T=M.shadowCamera).position.setFromMatrixPosition(M.matrixWorld),c.setFromMatrixPosition(M.target.matrixWorld),T.lookAt(c),T.updateMatrixWorld(),T.matrixWorldInverse.getInverse(T.matrixWorld),M.cameraHelper&&(M.cameraHelper.visible=M.shadowCameraVisible),M.shadowCameraVisible&&M.cameraHelper.update(),_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_.multiply(T.projectionMatrix),_.multiply(T.matrixWorldInverse),s.multiplyMatrices(T.projectionMatrix,T.matrixWorldInverse),a.setFromMatrix(s),t.setRenderTarget(g),t.clear(),v=0,b=(H=l.__webglObjects).length;v<b;v++)S=(x=H[v]).object,x.render=!1,S.visible&&S.castShadow&&((S instanceof THREE.Mesh||S instanceof THREE.ParticleSystem)&&S.frustumCulled&&!a.intersectsObject(S)||(S._modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,S.matrixWorld),x.render=!0));var L,B,O;for(v=0,b=H.length;v<b;v++)(x=H[v]).render&&(S=x.object,w=x.buffer,L=p(S),B=void 0!==S.geometry.morphTargets&&S.geometry.morphTargets.length>0&&L.morphTargets,O=S instanceof THREE.SkinnedMesh&&L.skinning,R=S.customDepthMaterial?S.customDepthMaterial:O?B?o:n:B?i:r,w instanceof THREE.BufferGeometry?t.renderBufferDirect(T,l.__lights,null,R,w,S):t.renderBuffer(T,l.__lights,null,R,w,S));for(v=0,b=(H=l.__webglObjectsImmediate).length;v<b;v++)(S=(x=H[v]).object).visible&&S.castShadow&&(S._modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,S.matrixWorld),t.renderImmediateObject(T,l.__lights,null,r,S))}var N=t.getClearColor(),I=t.getClearAlpha();e.clearColor(N.r,N.g,N.b,I),e.enable(e.BLEND),t.shadowMapCullFace===THREE.CullFaceFront&&e.cullFace(e.BACK)}},THREE.ShadowMapPlugin.__projector=new THREE.Projector,THREE.SpritePlugin=function(){var e,t,r,i,n,o,a,s,l,u;function c(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}this.init=function(c){e=c.context,t=c,i=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]),o=e.createBuffer(),a=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW),s=function(){var r=e.createProgram(),i=e.createShader(e.VERTEX_SHADER),n=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(i,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),e.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),e.compileShader(i),e.compileShader(n),e.attachShader(r,i),e.attachShader(r,n),e.linkProgram(r),r}(),l={position:e.getAttribLocation(s,"position"),uv:e.getAttribLocation(s,"uv")},u={uvOffset:e.getUniformLocation(s,"uvOffset"),uvScale:e.getUniformLocation(s,"uvScale"),rotation:e.getUniformLocation(s,"rotation"),scale:e.getUniformLocation(s,"scale"),color:e.getUniformLocation(s,"color"),map:e.getUniformLocation(s,"map"),opacity:e.getUniformLocation(s,"opacity"),modelViewMatrix:e.getUniformLocation(s,"modelViewMatrix"),projectionMatrix:e.getUniformLocation(s,"projectionMatrix"),fogType:e.getUniformLocation(s,"fogType"),fogDensity:e.getUniformLocation(s,"fogDensity"),fogNear:e.getUniformLocation(s,"fogNear"),fogFar:e.getUniformLocation(s,"fogFar"),fogColor:e.getUniformLocation(s,"fogColor"),alphaTest:e.getUniformLocation(s,"alphaTest")};var h=document.createElement("canvas");h.width=8,h.height=8;var f=h.getContext("2d");f.fillStyle="#ffffff",f.fillRect(0,0,h.width,h.height),(r=new THREE.Texture(h)).needsUpdate=!0},this.render=function(i,n,h,f){var d=i.__webglSprites,p=d.length;if(p){e.useProgram(s),e.enableVertexAttribArray(l.position),e.enableVertexAttribArray(l.uv),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.bindBuffer(e.ARRAY_BUFFER,o),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(l.uv,2,e.FLOAT,!1,16,8),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.uniformMatrix4fv(u.projectionMatrix,!1,n.projectionMatrix.elements),e.activeTexture(e.TEXTURE0),e.uniform1i(u.map,0);var m=0,E=0,v=i.fog;v?(e.uniform3f(u.fogColor,v.color.r,v.color.g,v.color.b),v instanceof THREE.Fog?(e.uniform1f(u.fogNear,v.near),e.uniform1f(u.fogFar,v.far),e.uniform1i(u.fogType,1),m=1,E=1):v instanceof THREE.FogExp2&&(e.uniform1f(u.fogDensity,v.density),e.uniform1i(u.fogType,2),m=2,E=2)):(e.uniform1i(u.fogType,0),m=0,E=0);var b,y,g,_,T=[];for(b=0;b<p;b++)g=(y=d[b]).material,!1!==y.visible&&(y._modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,y.matrixWorld),y.z=-y._modelViewMatrix.elements[14]);for(d.sort(c),b=0;b<p;b++)!1!==(y=d[b]).visible&&(g=y.material,e.uniform1f(u.alphaTest,g.alphaTest),e.uniformMatrix4fv(u.modelViewMatrix,!1,y._modelViewMatrix.elements),T[0]=y.scale.x,T[1]=y.scale.y,m!==(_=i.fog&&g.fog?E:0)&&(e.uniform1i(u.fogType,_),m=_),null!==g.map?(e.uniform2f(u.uvOffset,g.map.offset.x,g.map.offset.y),e.uniform2f(u.uvScale,g.map.repeat.x,g.map.repeat.y)):(e.uniform2f(u.uvOffset,0,0),e.uniform2f(u.uvScale,1,1)),e.uniform1f(u.opacity,g.opacity),e.uniform3f(u.color,g.color.r,g.color.g,g.color.b),e.uniform1f(u.rotation,g.rotation),e.uniform2fv(u.scale,T),t.setBlending(g.blending,g.blendEquation,g.blendSrc,g.blendDst),t.setDepthTest(g.depthTest),t.setDepthWrite(g.depthWrite),g.map&&g.map.image&&g.map.image.width?t.setTexture(g.map,0):t.setTexture(r,0),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0));e.enable(e.CULL_FACE)}}},THREE.DepthPassPlugin=function(){this.enabled=!1,this.renderTarget=null;var e,t,r,i,n,o,a=new THREE.Frustum,s=new THREE.Matrix4;function l(e){return e.material instanceof THREE.MeshFaceMaterial?e.material.materials[0]:e.material}this.init=function(a){e=a.context,t=a;var s=THREE.ShaderLib.depthRGBA,l=THREE.UniformsUtils.clone(s.uniforms);r=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l}),i=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,morphTargets:!0}),n=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,skinning:!0}),o=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:l,morphTargets:!0,skinning:!0}),r._shadowPass=!0,i._shadowPass=!0,n._shadowPass=!0,o._shadowPass=!0},this.render=function(e,t){this.enabled&&this.update(e,t)},this.update=function(u,c){var h,f,d,p,m,E,v,b,y,g;for(e.clearColor(1,1,1,1),e.disable(e.BLEND),t.setDepthTest(!0),!0===u.autoUpdate&&u.updateMatrixWorld(),c.matrixWorldInverse.getInverse(c.matrixWorld),s.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),a.setFromMatrix(s),t.setRenderTarget(this.renderTarget),t.clear(),h=0,f=(v=u.__webglObjects).length;h<f;h++)E=(m=v[h]).object,m.render=!1,E.visible&&((E instanceof THREE.Mesh||E instanceof THREE.ParticleSystem)&&E.frustumCulled&&!a.intersectsObject(E)||(E._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,E.matrixWorld),m.render=!0));for(h=0,f=v.length;h<f;h++)if((m=v[h]).render){if(E=m.object,d=m.buffer,E instanceof THREE.ParticleSystem&&!E.customDepthMaterial)continue;(b=l(E))&&t.setMaterialFaces(E.material),y=E.geometry.morphTargets.length>0&&b.morphTargets,g=E instanceof THREE.SkinnedMesh&&b.skinning,p=E.customDepthMaterial?E.customDepthMaterial:g?y?o:n:y?i:r,d instanceof THREE.BufferGeometry?t.renderBufferDirect(c,u.__lights,null,p,d,E):t.renderBuffer(c,u.__lights,null,p,d,E)}for(h=0,f=(v=u.__webglObjectsImmediate).length;h<f;h++)(E=(m=v[h]).object).visible&&(E._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,E.matrixWorld),t.renderImmediateObject(c,u.__lights,null,r,E));var _=t.getClearColor(),T=t.getClearAlpha();e.clearColor(_.r,_.g,_.b,T),e.enable(e.BLEND)}},THREE.ShaderFlares={lensFlareVertexTexture:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},lensFlare:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2pos = position;","if( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}};var inv255=.003921569;function Renderer(){this.maxVertices=31e3;var e=new THREE.BufferGeometry;e.dynamic=!0,e.addAttribute("position",Float32Array,this.maxVertices,3),e.addAttribute("color",Float32Array,this.maxVertices,3),this.positions=e.attributes.position.array,this.colors=e.attributes.color.array,this.currentVertex=0,this.buffer=new THREE.Line(e,new THREE.LineBasicMaterial({vertexColors:!0}),THREE.LinePieces),this.circleVertices=[],this.circleResolution=5,this.initCircleVertices(this.circleVertices,this.circleResolution),this.particleVertices=[],this.particleResolution=3,this.initCircleVertices(this.particleVertices,this.particleResolution),scene.add(this.buffer)}function drawParticleSystem(e){var t=e.GetPositionBuffer(),r=e.GetColorBuffer(),i=t.length;(new b2Transform).SetIdentity();for(var n=0,o=0;n<i;n+=2,o+=4)renderer.insertParticleVertices(e.radius,t[n],t[n+1],r[o]*inv255,r[o+1]*inv255,r[o+2]*inv255,3)}Renderer.prototype.collapseBuffer=function(){for(var e=3*this.currentVertex;e<3*this.maxVertices;e++)this.positions[e]=0,this.colors[e]=0},Renderer.prototype.draw=function(){for(var e=0,t=world.bodies.length;e<t;e++)for(var r=world.bodies[e],i=r.fixtures.length,n=r.GetTransform(),o=0;o<i;o++){r.fixtures[o].shape.draw(n)}for(e=0,t=world.particleSystems.length;e<t;e++)drawParticleSystem(world.particleSystems[e]);this.collapseBuffer(),this.buffer.geometry.attributes.position.needsUpdate=!0,this.buffer.geometry.attributes.color.needsUpdate=!0},Renderer.prototype.insertLine=function(e,t,r,i,n,o,a){var s=this.currentVertex,l=3*s;this.positions[l]=e,this.positions[l+1]=t,this.positions[l+2]=0,this.colors[l]=n,this.colors[l+1]=o,this.colors[l+2]=a,l=3*++s,this.positions[l]=r,this.positions[l+1]=i,this.positions[l+2]=0,this.colors[l]=n,this.colors[l+1]=o,this.colors[l+2]=a,this.currentVertex+=2},Renderer.prototype.insertCircleVertices=function(e,t,r,i,n,o,a){for(var s=this.circleVertices,l=0;l<this.circleResolution;l++){var u=4*l,c=new b2Vec2(s[u]*t+r,s[u+1]*t+i),h=new b2Vec2(s[u+2]*t+r,s[u+3]*t+i);b2Vec2.Mul(c,e,c),b2Vec2.Mul(h,e,h),this.insertLine(c.x,c.y,h.x,h.y,n,o,a)}},Renderer.prototype.insertParticleVertices=function(e,t,r,i,n,o){for(var a=this.particleVertices,s=0;s<this.particleResolution;s++){var l=4*s,u=a[l]*e+t,c=a[l+1]*e+r,h=a[l+2]*e+t,f=a[l+3]*e+r;this.insertLine(u,c,h,f,i,n,o)}},Renderer.prototype.initCircleVertices=function(e,t){for(var r=360/t,i=0;i<t;i++){var n=i*r*Math.PI/180,o=(i+1)*r*Math.PI/180;e.push(Math.cos(n)),e.push(Math.sin(n)),e.push(Math.cos(o)),e.push(Math.sin(o))}},Renderer.prototype.transformAndInsert=function(e,t,r,i,n,o){var a=new b2Vec2,s=new b2Vec2;b2Vec2.Mul(a,r,e),b2Vec2.Mul(s,r,t),renderer.insertLine(a.x,a.y,s.x,s.y,i,n,o)},Renderer.prototype.transformVerticesAndInsert=function(e,t,r,i,n){for(var o=e.length,a=1;a<o;a++)renderer.transformAndInsert(e[a-1],e[a],t,r,i,n)},b2CircleShape.prototype.draw=function(e){var t=this.position,r=new b2Vec2(t.x,t.y);renderer.insertCircleVertices(e,this.radius,r.x,r.y,0,0,0,5)},b2ChainShape.prototype.draw=function(e){renderer.transformVerticesAndInsert(this.vertices,e,0,0,0)},b2EdgeShape.prototype.draw=function(e){renderer.transformAndInsert(this.vertex1,this.vertex2,e,0,0,0)},b2PolygonShape.prototype.draw=function(e){var t=3*renderer.currentVertex;renderer.transformVerticesAndInsert(this.vertices,e,0,0,0);var r=renderer.positions,i=3*(renderer.currentVertex-1);renderer.insertLine(r[i],r[i+1],r[t],r[t+1],0,0,0)};var world=null,threeRenderer,renderer,camera,scene,timeStep=1/60,velocityIterations=8,positionIterations=3,demo={},projector=new THREE.Projector,planeZ=new THREE.Plane(new THREE.Vector3(0,0,1),0),windowWidth=window.innerWidth,windowHeight=window.innerHeight;function initDemo(){camera=new THREE.PerspectiveCamera(70,windowWidth/windowHeight,1,1e3);try{threeRenderer=new THREE.WebGLRenderer}catch(e){return void printErrorMsg("<p>Sorry, your browser does not support WebGL.</p>")}threeRenderer.setClearColor(15658734),threeRenderer.setSize(windowWidth,windowHeight),camera.position.x=0,camera.position.y=0,camera.position.z=100,scene=new THREE.Scene,camera.lookAt(scene.position),document.body.appendChild(this.threeRenderer.domElement),renderer=new Renderer;var e=new b2Vec2(0,0);world=new b2World(e),demo=new window.BubbleDemo,document.addEventListener("keypress",function(e){void 0!==demo.KeyPress&&demo.KeyPress()}),document.addEventListener("mousedown",function(e){var t=getMouseCoords(e);0===e.button&&void 0!==demo.MouseDown&&demo.MouseDown(t)}),document.addEventListener("mouseup",function(e){void 0!==demo.MouseUp&&demo.MouseUp(getMouseCoords(e))}),render()}var render=function(){renderer.currentVertex=0,void 0!==demo.Step&&demo.Step(),Step(),renderer.draw(),threeRenderer.render(scene,camera),requestAnimationFrame(render)},Step=function(){world.Step(timeStep,velocityIterations,positionIterations)};function getMouseCoords(e){var t=new THREE.Vector3;t.x=e.clientX/windowWidth*2-1,t.y=-e.clientY/windowHeight*2+1,t.z=.5,projector.unprojectVector(t,camera);var r=t.sub(camera.position).normalize(),i=-camera.position.z/r.z,n=camera.position.clone().add(r.multiplyScalar(i));return new b2Vec2(n.x,n.y)}class Bubble{constructor(e,t){this.radius=e,this.pos=t,this.broken=!1,this.zombie=!1,this.isScheduledForDestroy=!1,this.particleSize=.05,this.skinThickness=.025,this.jointLimit=1,this.dissipationTime=3e3,this.lifeSpan=12e3;const r=new b2ParticleSystemDef;r.radius=this.particleSize,this.particleSystem=world.CreateParticleSystem(r),this.createContents(),this.createMembrane();const i=this;setTimeout(function(){i.scheduleForDestroy()},this.lifeSpan)}step(){this.zombie||(this.checkBreak(),this.broken&&this.scheduleForDestroy())}checkBreak(){if(this.joints){const e=this;this.joints.forEach(function(t){if(t._eu_broken)return;t.GetJointAngle()>e.jointLimit&&(e.breakJoint(t),t._eu_broken=!0,e.broken=!0)})}}scheduleForDestroy(){if(!this.isScheduledForDestroy){const e=this;setTimeout(function(){e.joints.forEach(function(e){e._eu_broken||world.DestroyJoint(e)}),e.bodies.forEach(function(e){world.DestroyBody(e)}),world.DestroyParticleSystem(e.particleSystem),e.zombie=!0},this.dissipationTime),this.isScheduledForDestroy=!0}}createContents(){const e=new b2CircleShape;e.position.Set(this.pos.x,this.pos.y),e.radius=.9*this.radius;const t=new b2ParticleGroupDef;t.groupFlags=b2_solidParticleGroup,t.shape=e,t.color.Set(255,110,0,255),this.contents=this.particleSystem.CreateParticleGroup(t)}createMembrane(){let e=Math.floor(this.radius*Math.PI*2/(2*this.skinThickness*2.5));const t=new b2BodyDef,r=new b2RevoluteJointDef,i=new b2PolygonShape;i.SetAsBoxXY(2.5*this.skinThickness,1*this.skinThickness);const n=new b2FixtureDef;n.shape=i,n.density=20,n.friction=.2,this.bodies=[];for(let r=0;r<e;r++){const i=r*Math.PI*2/e;t.type=b2_dynamicBody,t.position.Set(this.pos.x+Math.sin(i)*this.radius,this.pos.y+Math.cos(i)*this.radius),t.angle=-i;const o=world.CreateBody(t);o.CreateFixtureFromDef(n),this.bodies.push(o)}this.joints=[];for(let t=0;t<e;t++){const i=this.bodies[t],n=t+1<e?this.bodies[t+1]:this.bodies[0],o=(t+.5)*Math.PI*2/e,a=new b2Vec2(this.pos.x+Math.sin(o)*this.radius,this.pos.y+Math.cos(o)*this.radius),s=r.InitializeAndCreate(i,n,a);this.joints.push(s)}}breakJoint(e){world.DestroyJoint(e)}}const bubbles=[];function BubbleDemo(){camera.position.y=3,camera.position.z=6;this.fingersType=0,this.bubbleSpawner=new BubbleSpawner({minX:-6,maxX:6,minY:-1,maxY:7})}BubbleDemo.prototype.Step=function(){this.bubbleSpawner.step(),this.fingers&&this.fingers.step()},BubbleDemo.prototype.MouseDown=function(e){this.fingers=new Fingers(e,this.fingersType)},BubbleDemo.prototype.KeyPress=function(e){0===this.fingersType?this.fingersType=1:this.fingersType=0},BubbleDemo.prototype.MouseUp=function(e){this.fingers&&(this.fingers.destroy(),this.fingers=null)};class BubbleSpawner{constructor(e){this.bubbles=[],this.bounds=e,this.radiusBounds={min:.15,max:.6},this.spawnRate=.03,this.maxPop=10,this.initPop=4;for(let e=0;e<this.initPop;e++)this.spawn()}step(){this.bubbles.forEach(function(e){e.step()}),this.bubbles=this.bubbles.filter(function(e){return!e.zombie}),(this.bubbles.length<1||Math.random()<this.spawnRate&&this.bubbles.length<this.maxPop)&&this.spawn()}spawn(){let e,t=-1;do{e=this.getPosAndRadius(),t++}while(!this.isLegal(e)&&t<100);if(this.isLegal(e)){const t=new Bubble(e.radius,e.pos);this.bubbles.push(t)}}getPosAndRadius(){return{radius:Math.random()*this.radiusBounds.max+this.radiusBounds.min,pos:{x:Math.random()*(this.bounds.maxX-this.bounds.minX-3)+(this.bounds.minX+1.5),y:Math.random()*(this.bounds.maxY-this.bounds.minY-3)+(this.bounds.minY+1.5)}}}isLegal(e){const t=this;let r=!0;return this.bubbles.forEach(function(i){t.hasOverlap(i,e)&&(r=!1)}),r}hasOverlap(e,t){return this.dist(e.pos,t.pos)<e.radius+t.radius}dist(e,t){const r=e.x,i=e.y,n=t.x,o=t.y;return Math.sqrt(Math.pow(r-n,2)+Math.pow(i-o,2))}}class Fingers{constructor(e,t){this.defaultDistance=4,this.length=1,this.zombie=!1,this.pos=e,this.speed=10;const r=this.defaultDistance/2,i=new b2BodyDef;i.type=b2_kinematicBody,i.bullet=!0,i.position.Set(e.x,e.y);const n=new b2PolygonShape;1===t?(n.vertices[0]=new b2Vec2(-r,.2),n.vertices[1]=new b2Vec2(-r-this.length,0),n.vertices[2]=new b2Vec2(-r,-.2)):(n.vertices[0]=new b2Vec2(-r-this.length,.2),n.vertices[1]=new b2Vec2(-r,0),n.vertices[2]=new b2Vec2(-r-this.length,-.2)),this.body0=world.CreateBody(i),this.body0.fixedRotation=!0,this.body0.CreateFixtureFromShape(n,1e4);const o=new b2PolygonShape;1===t?(o.vertices[0]=new b2Vec2(r,.2),o.vertices[1]=new b2Vec2(r+this.length,0),o.vertices[2]=new b2Vec2(r,-.2)):(o.vertices[0]=new b2Vec2(r+this.length,.2),o.vertices[1]=new b2Vec2(r,0),o.vertices[2]=new b2Vec2(r+this.length,-.2)),this.body1=world.CreateBody(i),this.body1.fixedRotation=!0,this.body1.CreateFixtureFromShape(o,1e4),this.body0.SetLinearVelocity(new b2Vec2(this.speed,0)),this.body1.SetLinearVelocity(new b2Vec2(-this.speed,0))}step(){const e=this.body0.GetPosition().x,t=this.body1.GetPosition().x;Math.abs(e-t)>=this.defaultDistance&&(this.body0.SetTransform(new b2Vec2(this.pos.x+this.defaultDistance/2,this.pos.y),0),this.body1.SetTransform(new b2Vec2(this.pos.x-this.defaultDistance/2,this.pos.y),0),this.body0.SetLinearVelocity(new b2Vec2(0,0)),this.body1.SetLinearVelocity(new b2Vec2(0,0)))}destroy(){this.zombie||(world.DestroyBody(this.body0),world.DestroyBody(this.body1),this.zombie=!0)}}